var oee=Object.defineProperty;var lee=(e,t,n)=>t in e?oee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sk=(e,t,n)=>lee(e,typeof t!="symbol"?t+"":t,n);function cee(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hB={exports:{}},Ow={},fB={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Symbol.for("react.element"),uee=Symbol.for("react.portal"),dee=Symbol.for("react.fragment"),hee=Symbol.for("react.strict_mode"),fee=Symbol.for("react.profiler"),mee=Symbol.for("react.provider"),pee=Symbol.for("react.context"),gee=Symbol.for("react.forward_ref"),yee=Symbol.for("react.suspense"),xee=Symbol.for("react.memo"),vee=Symbol.for("react.lazy"),BA=Symbol.iterator;function bee(e){return e===null||typeof e!="object"?null:(e=BA&&e[BA]||e["@@iterator"],typeof e=="function"?e:null)}var mB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pB=Object.assign,gB={};function Nm(e,t,n){this.props=e,this.context=t,this.refs=gB,this.updater=n||mB}Nm.prototype.isReactComponent={};Nm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yB(){}yB.prototype=Nm.prototype;function sP(e,t,n){this.props=e,this.context=t,this.refs=gB,this.updater=n||mB}var aP=sP.prototype=new yB;aP.constructor=sP;pB(aP,Nm.prototype);aP.isPureReactComponent=!0;var qA=Array.isArray,xB=Object.prototype.hasOwnProperty,oP={current:null},vB={key:!0,ref:!0,__self:!0,__source:!0};function bB(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)xB.call(t,r)&&!vB.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ly,type:e,key:s,ref:a,props:i,_owner:oP.current}}function _ee(e,t){return{$$typeof:Ly,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ly}function wee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var WA=/\/+/g;function ak(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wee(""+e.key):t.toString(36)}function Ob(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ly:case uee:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+ak(a,0):r,qA(i)?(n="",e!=null&&(n=e.replace(WA,"$&/")+"/"),Ob(i,t,n,"",function(u){return u})):i!=null&&(lP(i)&&(i=_ee(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(WA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",qA(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+ak(s,l);a+=Ob(s,t,n,c,i)}else if(c=bee(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+ak(s,l++),a+=Ob(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gx(e,t,n){if(e==null)return e;var r=[],i=0;return Ob(e,r,"","",function(s){return t.call(n,s,i++)}),r}function jee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gs={current:null},Pb={transition:null},kee={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:Pb,ReactCurrentOwner:oP};function _B(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:Gx,forEach:function(e,t,n){Gx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gx(e,function(){t++}),t},toArray:function(e){return Gx(e,function(t){return t})||[]},only:function(e){if(!lP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ln.Component=Nm;ln.Fragment=dee;ln.Profiler=fee;ln.PureComponent=sP;ln.StrictMode=hee;ln.Suspense=yee;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kee;ln.act=_B;ln.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pB({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=oP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xB.call(t,c)&&!vB.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ly,type:e.type,key:i,ref:s,props:r,_owner:a}};ln.createContext=function(e){return e={$$typeof:pee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mee,_context:e},e.Consumer=e};ln.createElement=bB;ln.createFactory=function(e){var t=bB.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:gee,render:e}};ln.isValidElement=lP;ln.lazy=function(e){return{$$typeof:vee,_payload:{_status:-1,_result:e},_init:jee}};ln.memo=function(e,t){return{$$typeof:xee,type:e,compare:t===void 0?null:t}};ln.startTransition=function(e){var t=Pb.transition;Pb.transition={};try{e()}finally{Pb.transition=t}};ln.unstable_act=_B;ln.useCallback=function(e,t){return gs.current.useCallback(e,t)};ln.useContext=function(e){return gs.current.useContext(e)};ln.useDebugValue=function(){};ln.useDeferredValue=function(e){return gs.current.useDeferredValue(e)};ln.useEffect=function(e,t){return gs.current.useEffect(e,t)};ln.useId=function(){return gs.current.useId()};ln.useImperativeHandle=function(e,t,n){return gs.current.useImperativeHandle(e,t,n)};ln.useInsertionEffect=function(e,t){return gs.current.useInsertionEffect(e,t)};ln.useLayoutEffect=function(e,t){return gs.current.useLayoutEffect(e,t)};ln.useMemo=function(e,t){return gs.current.useMemo(e,t)};ln.useReducer=function(e,t,n){return gs.current.useReducer(e,t,n)};ln.useRef=function(e){return gs.current.useRef(e)};ln.useState=function(e){return gs.current.useState(e)};ln.useSyncExternalStore=function(e,t,n){return gs.current.useSyncExternalStore(e,t,n)};ln.useTransition=function(){return gs.current.useTransition()};ln.version="18.3.1";fB.exports=ln;var f=fB.exports;const lt=kl(f),Pw=cee({__proto__:null,default:lt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var See=f,Nee=Symbol.for("react.element"),Cee=Symbol.for("react.fragment"),Oee=Object.prototype.hasOwnProperty,Pee=See.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eee={key:!0,ref:!0,__self:!0,__source:!0};function wB(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Oee.call(t,r)&&!Eee.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Nee,type:e,key:s,ref:a,props:i,_owner:Pee.current}}Ow.Fragment=Cee;Ow.jsx=wB;Ow.jsxs=wB;hB.exports=Ow;var o=hB.exports,ON={},jB={exports:{}},ya={},kB={exports:{}},SB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,T){var q=z.length;z.push(T);e:for(;0<q;){var Y=q-1>>>1,ee=z[Y];if(0<i(ee,T))z[Y]=T,z[q]=ee,q=Y;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var T=z[0],q=z.pop();if(q!==T){z[0]=q;e:for(var Y=0,ee=z.length,pe=ee>>>1;Y<pe;){var se=2*(Y+1)-1,he=z[se],Pe=se+1,J=z[Pe];if(0>i(he,q))Pe<ee&&0>i(J,he)?(z[Y]=J,z[Pe]=q,Y=Pe):(z[Y]=he,z[se]=q,Y=se);else if(Pe<ee&&0>i(J,q))z[Y]=J,z[Pe]=q,Y=Pe;else break e}}return T}function i(z,T){var q=z.sortIndex-T.sortIndex;return q!==0?q:z.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=z)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function j(z){if(y=!1,b(z),!g)if(n(c)!==null)g=!0,L(_);else{var T=n(u);T!==null&&W(j,T.startTime-z)}}function _(z,T){g=!1,y&&(y=!1,v(O),O=-1),p=!0;var q=m;try{for(b(T),h=n(c);h!==null&&(!(h.expirationTime>T)||z&&!A());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var ee=Y(h.expirationTime<=T);T=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),b(T)}else r(c);h=n(c)}if(h!==null)var pe=!0;else{var se=n(u);se!==null&&W(j,se.startTime-T),pe=!1}return pe}finally{h=null,m=q,p=!1}}var k=!1,C=null,O=-1,M=5,P=-1;function A(){return!(e.unstable_now()-P<M)}function R(){if(C!==null){var z=e.unstable_now();P=z;var T=!0;try{T=C(!0,z)}finally{T?F():(k=!1,C=null)}}else k=!1}var F;if(typeof w=="function")F=function(){w(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=R,F=function(){K.postMessage(null)}}else F=function(){x(R,0)};function L(z){C=z,k||(k=!0,F())}function W(z,T){O=x(function(){z(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(_))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var q=m;m=T;try{return z()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=m;m=z;try{return T()}finally{m=q}},e.unstable_scheduleCallback=function(z,T,q){var Y=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=q+ee,z={id:d++,callback:T,priorityLevel:z,startTime:q,expirationTime:ee,sortIndex:-1},q>Y?(z.sortIndex=q,t(u,z),n(c)===null&&z===n(u)&&(y?(v(O),O=-1):y=!0,W(j,q-Y))):(z.sortIndex=ee,t(c,z),g||p||(g=!0,L(_))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var T=m;return function(){var q=m;m=T;try{return z.apply(this,arguments)}finally{m=q}}}})(SB);kB.exports=SB;var Mee=kB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tee=f,da=Mee;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NB=new Set,jg={};function gh(e,t){Hf(e,t),Hf(e+"Capture",t)}function Hf(e,t){for(jg[e]=t,e=0;e<t.length;e++)NB.add(t[e])}var hc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PN=Object.prototype.hasOwnProperty,Aee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UA={},VA={};function zee(e){return PN.call(VA,e)?!0:PN.call(UA,e)?!1:Aee.test(e)?VA[e]=!0:(UA[e]=!0,!1)}function Dee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ree(e,t,n,r){if(t===null||typeof t>"u"||Dee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ys(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ei[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ei[t]=new ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ei[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ei[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ei[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ei[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ei[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ei[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ei[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var cP=/[\-:]([a-z])/g;function uP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cP,uP);Ei[t]=new ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cP,uP);Ei[t]=new ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cP,uP);Ei[t]=new ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ei[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ei[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function dP(e,t,n,r){var i=Ei.hasOwnProperty(t)?Ei[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ree(t,n,i,r)&&(n=null),r||i===null?zee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ec=Tee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qx=Symbol.for("react.element"),of=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),hP=Symbol.for("react.strict_mode"),EN=Symbol.for("react.profiler"),CB=Symbol.for("react.provider"),OB=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),MN=Symbol.for("react.suspense"),TN=Symbol.for("react.suspense_list"),mP=Symbol.for("react.memo"),ru=Symbol.for("react.lazy"),PB=Symbol.for("react.offscreen"),HA=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=HA&&e[HA]||e["@@iterator"],typeof e=="function"?e:null)}var dr=Object.assign,ok;function $p(e){if(ok===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ok=t&&t[1]||""}return`
`+ok+e}var lk=!1;function ck(e,t){if(!e||lk)return"";lk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{lk=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$p(e):""}function Iee(e){switch(e.tag){case 5:return $p(e.type);case 16:return $p("Lazy");case 13:return $p("Suspense");case 19:return $p("SuspenseList");case 0:case 2:case 15:return e=ck(e.type,!1),e;case 11:return e=ck(e.type.render,!1),e;case 1:return e=ck(e.type,!0),e;default:return""}}function AN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lf:return"Fragment";case of:return"Portal";case EN:return"Profiler";case hP:return"StrictMode";case MN:return"Suspense";case TN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OB:return(e.displayName||"Context")+".Consumer";case CB:return(e._context.displayName||"Context")+".Provider";case fP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mP:return t=e.displayName||null,t!==null?t:AN(e.type)||"Memo";case ru:t=e._payload,e=e._init;try{return AN(e(t))}catch{}}return null}function Lee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AN(t);case 8:return t===hP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function EB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $ee(e){var t=EB(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xx(e){e._valueTracker||(e._valueTracker=$ee(e))}function MB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=EB(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function g_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zN(e,t){var n=t.checked;return dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function KA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TB(e,t){t=t.checked,t!=null&&dP(e,"checked",t,!1)}function DN(e,t){TB(e,t);var n=Mu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RN(e,t.type,n):t.hasOwnProperty("defaultValue")&&RN(e,t.type,Mu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function YA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function RN(e,t,n){(t!=="number"||g_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fp=Array.isArray;function Nf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function IN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(Fp(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mu(n)}}function AB(e,t){var n=Mu(t.value),r=Mu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function QA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zx,DB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zx=Zx||document.createElement("div"),Zx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fee=["Webkit","ms","Moz","O"];Object.keys(eg).forEach(function(e){Fee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eg[t]=eg[e]})});function RB(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eg.hasOwnProperty(e)&&eg[e]?(""+t).trim():t+"px"}function IB(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RB(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Bee=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $N(e,t){if(t){if(Bee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function FN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BN=null;function pP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qN=null,Cf=null,Of=null;function XA(e){if(e=By(e)){if(typeof qN!="function")throw Error(He(280));var t=e.stateNode;t&&(t=zw(t),qN(e.stateNode,e.type,t))}}function LB(e){Cf?Of?Of.push(e):Of=[e]:Cf=e}function $B(){if(Cf){var e=Cf,t=Of;if(Of=Cf=null,XA(e),t)for(e=0;e<t.length;e++)XA(t[e])}}function FB(e,t){return e(t)}function BB(){}var uk=!1;function qB(e,t,n){if(uk)return e(t,n);uk=!0;try{return FB(e,t,n)}finally{uk=!1,(Cf!==null||Of!==null)&&(BB(),$B())}}function Sg(e,t){var n=e.stateNode;if(n===null)return null;var r=zw(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var WN=!1;if(hc)try{var rp={};Object.defineProperty(rp,"passive",{get:function(){WN=!0}}),window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,rp)}catch{WN=!1}function qee(e,t,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var tg=!1,y_=null,x_=!1,UN=null,Wee={onError:function(e){tg=!0,y_=e}};function Uee(e,t,n,r,i,s,a,l,c){tg=!1,y_=null,qee.apply(Wee,arguments)}function Vee(e,t,n,r,i,s,a,l,c){if(Uee.apply(this,arguments),tg){if(tg){var u=y_;tg=!1,y_=null}else throw Error(He(198));x_||(x_=!0,UN=u)}}function yh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZA(e){if(yh(e)!==e)throw Error(He(188))}function Hee(e){var t=e.alternate;if(!t){if(t=yh(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ZA(i),e;if(s===r)return ZA(i),t;s=s.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function UB(e){return e=Hee(e),e!==null?VB(e):null}function VB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VB(e);if(t!==null)return t;e=e.sibling}return null}var HB=da.unstable_scheduleCallback,JA=da.unstable_cancelCallback,Kee=da.unstable_shouldYield,Yee=da.unstable_requestPaint,Nr=da.unstable_now,Gee=da.unstable_getCurrentPriorityLevel,gP=da.unstable_ImmediatePriority,KB=da.unstable_UserBlockingPriority,v_=da.unstable_NormalPriority,Qee=da.unstable_LowPriority,YB=da.unstable_IdlePriority,Ew=null,dl=null;function Xee(e){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(Ew,e,void 0,(e.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:ete,Zee=Math.log,Jee=Math.LN2;function ete(e){return e>>>=0,e===0?32:31-(Zee(e)/Jee|0)|0}var Jx=64,ev=4194304;function Bp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function b_(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Bp(l):(s&=a,s!==0&&(r=Bp(s)))}else a=n&~i,a!==0?r=Bp(a):s!==0&&(r=Bp(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jo(t),i=1<<n,r|=e[n],t&=~i;return r}function tte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-jo(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=tte(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function VN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GB(){var e=Jx;return Jx<<=1,!(Jx&4194240)&&(Jx=64),e}function dk(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $y(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jo(t),e[t]=n}function rte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jo(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function yP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var On=0;function QB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XB,xP,ZB,JB,e5,HN=!1,tv=[],vu=null,bu=null,_u=null,Ng=new Map,Cg=new Map,cu=[],ite="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ez(e,t){switch(e){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":Ng.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cg.delete(t.pointerId)}}function ip(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=By(t),t!==null&&xP(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ste(e,t,n,r,i){switch(t){case"focusin":return vu=ip(vu,e,t,n,r,i),!0;case"dragenter":return bu=ip(bu,e,t,n,r,i),!0;case"mouseover":return _u=ip(_u,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ng.set(s,ip(Ng.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cg.set(s,ip(Cg.get(s)||null,e,t,n,r,i)),!0}return!1}function t5(e){var t=jd(e.target);if(t!==null){var n=yh(t);if(n!==null){if(t=n.tag,t===13){if(t=WB(n),t!==null){e.blockedOn=t,e5(e.priority,function(){ZB(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=KN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);BN=r,n.target.dispatchEvent(r),BN=null}else return t=By(n),t!==null&&xP(t),e.blockedOn=n,!1;t.shift()}return!0}function tz(e,t,n){Eb(e)&&n.delete(t)}function ate(){HN=!1,vu!==null&&Eb(vu)&&(vu=null),bu!==null&&Eb(bu)&&(bu=null),_u!==null&&Eb(_u)&&(_u=null),Ng.forEach(tz),Cg.forEach(tz)}function sp(e,t){e.blockedOn===t&&(e.blockedOn=null,HN||(HN=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,ate)))}function Og(e){function t(i){return sp(i,e)}if(0<tv.length){sp(tv[0],e);for(var n=1;n<tv.length;n++){var r=tv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vu!==null&&sp(vu,e),bu!==null&&sp(bu,e),_u!==null&&sp(_u,e),Ng.forEach(t),Cg.forEach(t),n=0;n<cu.length;n++)r=cu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cu.length&&(n=cu[0],n.blockedOn===null);)t5(n),n.blockedOn===null&&cu.shift()}var Pf=Ec.ReactCurrentBatchConfig,__=!0;function ote(e,t,n,r){var i=On,s=Pf.transition;Pf.transition=null;try{On=1,vP(e,t,n,r)}finally{On=i,Pf.transition=s}}function lte(e,t,n,r){var i=On,s=Pf.transition;Pf.transition=null;try{On=4,vP(e,t,n,r)}finally{On=i,Pf.transition=s}}function vP(e,t,n,r){if(__){var i=KN(e,t,n,r);if(i===null)_k(e,t,r,w_,n),ez(e,r);else if(ste(i,e,t,n,r))r.stopPropagation();else if(ez(e,r),t&4&&-1<ite.indexOf(e)){for(;i!==null;){var s=By(i);if(s!==null&&XB(s),s=KN(e,t,n,r),s===null&&_k(e,t,r,w_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _k(e,t,r,null,n)}}var w_=null;function KN(e,t,n,r){if(w_=null,e=pP(r),e=jd(e),e!==null)if(t=yh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WB(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w_=e,null}function n5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gee()){case gP:return 1;case KB:return 4;case v_:case Qee:return 16;case YB:return 536870912;default:return 16}default:return 16}}var fu=null,bP=null,Mb=null;function r5(){if(Mb)return Mb;var e,t=bP,n=t.length,r,i="value"in fu?fu.value:fu.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Mb=i.slice(e,1<r?1-r:void 0)}function Tb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nv(){return!0}function nz(){return!1}function xa(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nv:nz,this.isPropagationStopped=nz,this}return dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nv)},persist:function(){},isPersistent:nv}),t}var Cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_P=xa(Cm),Fy=dr({},Cm,{view:0,detail:0}),cte=xa(Fy),hk,fk,ap,Mw=dr({},Fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ap&&(ap&&e.type==="mousemove"?(hk=e.screenX-ap.screenX,fk=e.screenY-ap.screenY):fk=hk=0,ap=e),hk)},movementY:function(e){return"movementY"in e?e.movementY:fk}}),rz=xa(Mw),ute=dr({},Mw,{dataTransfer:0}),dte=xa(ute),hte=dr({},Fy,{relatedTarget:0}),mk=xa(hte),fte=dr({},Cm,{animationName:0,elapsedTime:0,pseudoElement:0}),mte=xa(fte),pte=dr({},Cm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gte=xa(pte),yte=dr({},Cm,{data:0}),iz=xa(yte),xte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _te(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bte[e])?!!t[e]:!1}function wP(){return _te}var wte=dr({},Fy,{key:function(e){if(e.key){var t=xte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wP,charCode:function(e){return e.type==="keypress"?Tb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jte=xa(wte),kte=dr({},Mw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sz=xa(kte),Ste=dr({},Fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wP}),Nte=xa(Ste),Cte=dr({},Cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ote=xa(Cte),Pte=dr({},Mw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ete=xa(Pte),Mte=[9,13,27,32],jP=hc&&"CompositionEvent"in window,ng=null;hc&&"documentMode"in document&&(ng=document.documentMode);var Tte=hc&&"TextEvent"in window&&!ng,i5=hc&&(!jP||ng&&8<ng&&11>=ng),az=" ",oz=!1;function s5(e,t){switch(e){case"keyup":return Mte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cf=!1;function Ate(e,t){switch(e){case"compositionend":return a5(t);case"keypress":return t.which!==32?null:(oz=!0,az);case"textInput":return e=t.data,e===az&&oz?null:e;default:return null}}function zte(e,t){if(cf)return e==="compositionend"||!jP&&s5(e,t)?(e=r5(),Mb=bP=fu=null,cf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i5&&t.locale!=="ko"?null:t.data;default:return null}}var Dte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dte[e.type]:t==="textarea"}function o5(e,t,n,r){LB(r),t=j_(t,"onChange"),0<t.length&&(n=new _P("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rg=null,Pg=null;function Rte(e){x5(e,0)}function Tw(e){var t=hf(e);if(MB(t))return e}function Ite(e,t){if(e==="change")return t}var l5=!1;if(hc){var pk;if(hc){var gk="oninput"in document;if(!gk){var cz=document.createElement("div");cz.setAttribute("oninput","return;"),gk=typeof cz.oninput=="function"}pk=gk}else pk=!1;l5=pk&&(!document.documentMode||9<document.documentMode)}function uz(){rg&&(rg.detachEvent("onpropertychange",c5),Pg=rg=null)}function c5(e){if(e.propertyName==="value"&&Tw(Pg)){var t=[];o5(t,Pg,e,pP(e)),qB(Rte,t)}}function Lte(e,t,n){e==="focusin"?(uz(),rg=t,Pg=n,rg.attachEvent("onpropertychange",c5)):e==="focusout"&&uz()}function $te(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tw(Pg)}function Fte(e,t){if(e==="click")return Tw(t)}function Bte(e,t){if(e==="input"||e==="change")return Tw(t)}function qte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var No=typeof Object.is=="function"?Object.is:qte;function Eg(e,t){if(No(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!PN.call(t,i)||!No(e[i],t[i]))return!1}return!0}function dz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hz(e,t){var n=dz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dz(n)}}function u5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d5(){for(var e=window,t=g_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=g_(e.document)}return t}function kP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wte(e){var t=d5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u5(n.ownerDocument.documentElement,n)){if(r!==null&&kP(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=hz(n,s);var a=hz(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ute=hc&&"documentMode"in document&&11>=document.documentMode,uf=null,YN=null,ig=null,GN=!1;function fz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;GN||uf==null||uf!==g_(r)||(r=uf,"selectionStart"in r&&kP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ig&&Eg(ig,r)||(ig=r,r=j_(YN,"onSelect"),0<r.length&&(t=new _P("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=uf)))}function rv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var df={animationend:rv("Animation","AnimationEnd"),animationiteration:rv("Animation","AnimationIteration"),animationstart:rv("Animation","AnimationStart"),transitionend:rv("Transition","TransitionEnd")},yk={},h5={};hc&&(h5=document.createElement("div").style,"AnimationEvent"in window||(delete df.animationend.animation,delete df.animationiteration.animation,delete df.animationstart.animation),"TransitionEvent"in window||delete df.transitionend.transition);function Aw(e){if(yk[e])return yk[e];if(!df[e])return e;var t=df[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h5)return yk[e]=t[n];return e}var f5=Aw("animationend"),m5=Aw("animationiteration"),p5=Aw("animationstart"),g5=Aw("transitionend"),y5=new Map,mz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vu(e,t){y5.set(e,t),gh(t,[e])}for(var xk=0;xk<mz.length;xk++){var vk=mz[xk],Vte=vk.toLowerCase(),Hte=vk[0].toUpperCase()+vk.slice(1);Vu(Vte,"on"+Hte)}Vu(f5,"onAnimationEnd");Vu(m5,"onAnimationIteration");Vu(p5,"onAnimationStart");Vu("dblclick","onDoubleClick");Vu("focusin","onFocus");Vu("focusout","onBlur");Vu(g5,"onTransitionEnd");Hf("onMouseEnter",["mouseout","mouseover"]);Hf("onMouseLeave",["mouseout","mouseover"]);Hf("onPointerEnter",["pointerout","pointerover"]);Hf("onPointerLeave",["pointerout","pointerover"]);gh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gh("onBeforeInput",["compositionend","keypress","textInput","paste"]);gh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kte=new Set("cancel close invalid load scroll toggle".split(" ").concat(qp));function pz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vee(r,t,void 0,e),e.currentTarget=null}function x5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;pz(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;pz(i,l,u),s=c}}}if(x_)throw e=UN,x_=!1,UN=null,e}function Vn(e,t){var n=t[eC];n===void 0&&(n=t[eC]=new Set);var r=e+"__bubble";n.has(r)||(v5(t,e,2,!1),n.add(r))}function bk(e,t,n){var r=0;t&&(r|=4),v5(n,e,r,t)}var iv="_reactListening"+Math.random().toString(36).slice(2);function Mg(e){if(!e[iv]){e[iv]=!0,NB.forEach(function(n){n!=="selectionchange"&&(Kte.has(n)||bk(n,!1,e),bk(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iv]||(t[iv]=!0,bk("selectionchange",!1,t))}}function v5(e,t,n,r){switch(n5(t)){case 1:var i=ote;break;case 4:i=lte;break;default:i=vP}n=i.bind(null,t,n,e),i=void 0,!WN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _k(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=jd(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}qB(function(){var u=s,d=pP(n),h=[];e:{var m=y5.get(e);if(m!==void 0){var p=_P,g=e;switch(e){case"keypress":if(Tb(n)===0)break e;case"keydown":case"keyup":p=jte;break;case"focusin":g="focus",p=mk;break;case"focusout":g="blur",p=mk;break;case"beforeblur":case"afterblur":p=mk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nte;break;case f5:case m5:case p5:p=mte;break;case g5:p=Ote;break;case"scroll":p=cte;break;case"wheel":p=Ete;break;case"copy":case"cut":case"paste":p=gte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sz}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=Sg(w,v),j!=null&&y.push(Tg(w,j,b)))),x)break;w=w.return}0<y.length&&(m=new p(m,g,null,n,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==BN&&(g=n.relatedTarget||n.fromElement)&&(jd(g)||g[fc]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?jd(g):null,g!==null&&(x=yh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=rz,j="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=sz,j="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?m:hf(p),b=g==null?m:hf(g),m=new y(j,w+"leave",p,n,d),m.target=x,m.relatedTarget=b,j=null,jd(d)===u&&(y=new y(v,w+"enter",g,n,d),y.target=b,y.relatedTarget=x,j=y),x=j,p&&g)t:{for(y=p,v=g,w=0,b=y;b;b=Ah(b))w++;for(b=0,j=v;j;j=Ah(j))b++;for(;0<w-b;)y=Ah(y),w--;for(;0<b-w;)v=Ah(v),b--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ah(y),v=Ah(v)}y=null}else y=null;p!==null&&gz(h,m,p,y,!1),g!==null&&x!==null&&gz(h,x,g,y,!0)}}e:{if(m=u?hf(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=Ite;else if(lz(m))if(l5)_=Bte;else{_=$te;var k=Lte}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=Fte);if(_&&(_=_(e,u))){o5(h,_,n,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&RN(m,"number",m.value)}switch(k=u?hf(u):window,e){case"focusin":(lz(k)||k.contentEditable==="true")&&(uf=k,YN=u,ig=null);break;case"focusout":ig=YN=uf=null;break;case"mousedown":GN=!0;break;case"contextmenu":case"mouseup":case"dragend":GN=!1,fz(h,n,d);break;case"selectionchange":if(Ute)break;case"keydown":case"keyup":fz(h,n,d)}var C;if(jP)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else cf?s5(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(i5&&n.locale!=="ko"&&(cf||O!=="onCompositionStart"?O==="onCompositionEnd"&&cf&&(C=r5()):(fu=d,bP="value"in fu?fu.value:fu.textContent,cf=!0)),k=j_(u,O),0<k.length&&(O=new iz(O,e,null,n,d),h.push({event:O,listeners:k}),C?O.data=C:(C=a5(n),C!==null&&(O.data=C)))),(C=Tte?Ate(e,n):zte(e,n))&&(u=j_(u,"onBeforeInput"),0<u.length&&(d=new iz("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}x5(h,t)})}function Tg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function j_(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sg(e,n),s!=null&&r.unshift(Tg(e,s,i)),s=Sg(e,t),s!=null&&r.push(Tg(e,s,i))),e=e.return}return r}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gz(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Sg(n,s),c!=null&&a.unshift(Tg(n,c,l))):i||(c=Sg(n,s),c!=null&&a.push(Tg(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Yte=/\r\n?/g,Gte=/\u0000|\uFFFD/g;function yz(e){return(typeof e=="string"?e:""+e).replace(Yte,`
`).replace(Gte,"")}function sv(e,t,n){if(t=yz(t),yz(e)!==t&&n)throw Error(He(425))}function k_(){}var QN=null,XN=null;function ZN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var JN=typeof setTimeout=="function"?setTimeout:void 0,Qte=typeof clearTimeout=="function"?clearTimeout:void 0,xz=typeof Promise=="function"?Promise:void 0,Xte=typeof queueMicrotask=="function"?queueMicrotask:typeof xz<"u"?function(e){return xz.resolve(null).then(e).catch(Zte)}:JN;function Zte(e){setTimeout(function(){throw e})}function wk(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Og(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Og(t)}function wu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Om=Math.random().toString(36).slice(2),Jo="__reactFiber$"+Om,Ag="__reactProps$"+Om,fc="__reactContainer$"+Om,eC="__reactEvents$"+Om,Jte="__reactListeners$"+Om,ene="__reactHandles$"+Om;function jd(e){var t=e[Jo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fc]||n[Jo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vz(e);e!==null;){if(n=e[Jo])return n;e=vz(e)}return t}e=n,n=e.parentNode}return null}function By(e){return e=e[Jo]||e[fc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function zw(e){return e[Ag]||null}var tC=[],ff=-1;function Hu(e){return{current:e}}function Yn(e){0>ff||(e.current=tC[ff],tC[ff]=null,ff--)}function Wn(e,t){ff++,tC[ff]=e.current,e.current=t}var Tu={},Hi=Hu(Tu),Is=Hu(!1),Yd=Tu;function Kf(e,t){var n=e.type.contextTypes;if(!n)return Tu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ls(e){return e=e.childContextTypes,e!=null}function S_(){Yn(Is),Yn(Hi)}function bz(e,t,n){if(Hi.current!==Tu)throw Error(He(168));Wn(Hi,t),Wn(Is,n)}function b5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(He(108,Lee(e)||"Unknown",i));return dr({},n,r)}function N_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tu,Yd=Hi.current,Wn(Hi,e),Wn(Is,Is.current),!0}function _z(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=b5(e,t,Yd),r.__reactInternalMemoizedMergedChildContext=e,Yn(Is),Yn(Hi),Wn(Hi,e)):Yn(Is),Wn(Is,n)}var Kl=null,Dw=!1,jk=!1;function _5(e){Kl===null?Kl=[e]:Kl.push(e)}function tne(e){Dw=!0,_5(e)}function Ku(){if(!jk&&Kl!==null){jk=!0;var e=0,t=On;try{var n=Kl;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kl=null,Dw=!1}catch(i){throw Kl!==null&&(Kl=Kl.slice(e+1)),HB(gP,Ku),i}finally{On=t,jk=!1}}return null}var mf=[],pf=0,C_=null,O_=0,Ea=[],Ma=0,Gd=null,ec=1,tc="";function dd(e,t){mf[pf++]=O_,mf[pf++]=C_,C_=e,O_=t}function w5(e,t,n){Ea[Ma++]=ec,Ea[Ma++]=tc,Ea[Ma++]=Gd,Gd=e;var r=ec;e=tc;var i=32-jo(r)-1;r&=~(1<<i),n+=1;var s=32-jo(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ec=1<<32-jo(t)+i|n<<i|r,tc=s+e}else ec=1<<s|n<<i|r,tc=e}function SP(e){e.return!==null&&(dd(e,1),w5(e,1,0))}function NP(e){for(;e===C_;)C_=mf[--pf],mf[pf]=null,O_=mf[--pf],mf[pf]=null;for(;e===Gd;)Gd=Ea[--Ma],Ea[Ma]=null,tc=Ea[--Ma],Ea[Ma]=null,ec=Ea[--Ma],Ea[Ma]=null}var la=null,sa=null,tr=!1,mo=null;function j5(e,t){var n=Ta(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,la=e,sa=wu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,la=e,sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gd!==null?{id:ec,overflow:tc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ta(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,la=e,sa=null,!0):!1;default:return!1}}function nC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rC(e){if(tr){var t=sa;if(t){var n=t;if(!wz(e,t)){if(nC(e))throw Error(He(418));t=wu(n.nextSibling);var r=la;t&&wz(e,t)?j5(r,n):(e.flags=e.flags&-4097|2,tr=!1,la=e)}}else{if(nC(e))throw Error(He(418));e.flags=e.flags&-4097|2,tr=!1,la=e}}}function jz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;la=e}function av(e){if(e!==la)return!1;if(!tr)return jz(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ZN(e.type,e.memoizedProps)),t&&(t=sa)){if(nC(e))throw k5(),Error(He(418));for(;t;)j5(e,t),t=wu(t.nextSibling)}if(jz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sa=wu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sa=null}}else sa=la?wu(e.stateNode.nextSibling):null;return!0}function k5(){for(var e=sa;e;)e=wu(e.nextSibling)}function Yf(){sa=la=null,tr=!1}function CP(e){mo===null?mo=[e]:mo.push(e)}var nne=Ec.ReactCurrentBatchConfig;function op(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function ov(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kz(e){var t=e._init;return t(e._payload)}function S5(e){function t(v,w){if(e){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Nu(v,w),v.index=0,v.sibling=null,v}function s(v,w,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,b,j){return w===null||w.tag!==6?(w=Ek(b,v.mode,j),w.return=v,w):(w=i(w,b),w.return=v,w)}function c(v,w,b,j){var _=b.type;return _===lf?d(v,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&kz(_)===w.type)?(j=i(w,b.props),j.ref=op(v,w,b),j.return=v,j):(j=$b(b.type,b.key,b.props,null,v.mode,j),j.ref=op(v,w,b),j.return=v,j)}function u(v,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Mk(b,v.mode,j),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function d(v,w,b,j,_){return w===null||w.tag!==7?(w=Ld(b,v.mode,j,_),w.return=v,w):(w=i(w,b),w.return=v,w)}function h(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ek(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qx:return b=$b(w.type,w.key,w.props,null,v.mode,b),b.ref=op(v,null,w),b.return=v,b;case of:return w=Mk(w,v.mode,b),w.return=v,w;case ru:var j=w._init;return h(v,j(w._payload),b)}if(Fp(w)||np(w))return w=Ld(w,v.mode,b,null),w.return=v,w;ov(v,w)}return null}function m(v,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(v,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qx:return b.key===_?c(v,w,b,j):null;case of:return b.key===_?u(v,w,b,j):null;case ru:return _=b._init,m(v,w,_(b._payload),j)}if(Fp(b)||np(b))return _!==null?null:d(v,w,b,j,null);ov(v,b)}return null}function p(v,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(w,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qx:return v=v.get(j.key===null?b:j.key)||null,c(w,v,j,_);case of:return v=v.get(j.key===null?b:j.key)||null,u(w,v,j,_);case ru:var k=j._init;return p(v,w,b,k(j._payload),_)}if(Fp(j)||np(j))return v=v.get(b)||null,d(w,v,j,_,null);ov(w,j)}return null}function g(v,w,b,j){for(var _=null,k=null,C=w,O=w=0,M=null;C!==null&&O<b.length;O++){C.index>O?(M=C,C=null):M=C.sibling;var P=m(v,C,b[O],j);if(P===null){C===null&&(C=M);break}e&&C&&P.alternate===null&&t(v,C),w=s(P,w,O),k===null?_=P:k.sibling=P,k=P,C=M}if(O===b.length)return n(v,C),tr&&dd(v,O),_;if(C===null){for(;O<b.length;O++)C=h(v,b[O],j),C!==null&&(w=s(C,w,O),k===null?_=C:k.sibling=C,k=C);return tr&&dd(v,O),_}for(C=r(v,C);O<b.length;O++)M=p(C,v,O,b[O],j),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?O:M.key),w=s(M,w,O),k===null?_=M:k.sibling=M,k=M);return e&&C.forEach(function(A){return t(v,A)}),tr&&dd(v,O),_}function y(v,w,b,j){var _=np(b);if(typeof _!="function")throw Error(He(150));if(b=_.call(b),b==null)throw Error(He(151));for(var k=_=null,C=w,O=w=0,M=null,P=b.next();C!==null&&!P.done;O++,P=b.next()){C.index>O?(M=C,C=null):M=C.sibling;var A=m(v,C,P.value,j);if(A===null){C===null&&(C=M);break}e&&C&&A.alternate===null&&t(v,C),w=s(A,w,O),k===null?_=A:k.sibling=A,k=A,C=M}if(P.done)return n(v,C),tr&&dd(v,O),_;if(C===null){for(;!P.done;O++,P=b.next())P=h(v,P.value,j),P!==null&&(w=s(P,w,O),k===null?_=P:k.sibling=P,k=P);return tr&&dd(v,O),_}for(C=r(v,C);!P.done;O++,P=b.next())P=p(C,v,O,P.value,j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?O:P.key),w=s(P,w,O),k===null?_=P:k.sibling=P,k=P);return e&&C.forEach(function(R){return t(v,R)}),tr&&dd(v,O),_}function x(v,w,b,j){if(typeof b=="object"&&b!==null&&b.type===lf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qx:e:{for(var _=b.key,k=w;k!==null;){if(k.key===_){if(_=b.type,_===lf){if(k.tag===7){n(v,k.sibling),w=i(k,b.props.children),w.return=v,v=w;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&kz(_)===k.type){n(v,k.sibling),w=i(k,b.props),w.ref=op(v,k,b),w.return=v,v=w;break e}n(v,k);break}else t(v,k);k=k.sibling}b.type===lf?(w=Ld(b.props.children,v.mode,j,b.key),w.return=v,v=w):(j=$b(b.type,b.key,b.props,null,v.mode,j),j.ref=op(v,w,b),j.return=v,v=j)}return a(v);case of:e:{for(k=b.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=Mk(b,v.mode,j),w.return=v,v=w}return a(v);case ru:return k=b._init,x(v,w,k(b._payload),j)}if(Fp(b))return g(v,w,b,j);if(np(b))return y(v,w,b,j);ov(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,b),w.return=v,v=w):(n(v,w),w=Ek(b,v.mode,j),w.return=v,v=w),a(v)):n(v,w)}return x}var Gf=S5(!0),N5=S5(!1),P_=Hu(null),E_=null,gf=null,OP=null;function PP(){OP=gf=E_=null}function EP(e){var t=P_.current;Yn(P_),e._currentValue=t}function iC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ef(e,t){E_=e,OP=gf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ms=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(OP!==e)if(e={context:e,memoizedValue:t,next:null},gf===null){if(E_===null)throw Error(He(308));gf=e,E_.dependencies={lanes:0,firstContext:e}}else gf=gf.next=e;return t}var kd=null;function MP(e){kd===null?kd=[e]:kd.push(e)}function C5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,MP(t)):(n.next=i.next,i.next=n),t.interleaved=n,mc(e,r)}function mc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var iu=!1;function TP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ju(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mc(e,n)}return i=r.interleaved,i===null?(t.next=t,MP(r)):(t.next=i.next,i.next=t),r.interleaved=t,mc(e,n)}function Ab(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yP(e,n)}}function Sz(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function M_(e,t,n,r){var i=e.updateQueue;iu=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=dr({},h,m);break e;case 2:iu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Xd|=a,e.lanes=a,e.memoizedState=h}}function Nz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var qy={},hl=Hu(qy),zg=Hu(qy),Dg=Hu(qy);function Sd(e){if(e===qy)throw Error(He(174));return e}function AP(e,t){switch(Wn(Dg,t),Wn(zg,e),Wn(hl,qy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:LN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=LN(t,e)}Yn(hl),Wn(hl,t)}function Qf(){Yn(hl),Yn(zg),Yn(Dg)}function P5(e){Sd(Dg.current);var t=Sd(hl.current),n=LN(t,e.type);t!==n&&(Wn(zg,e),Wn(hl,n))}function zP(e){zg.current===e&&(Yn(hl),Yn(zg))}var or=Hu(0);function T_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kk=[];function DP(){for(var e=0;e<kk.length;e++)kk[e]._workInProgressVersionPrimary=null;kk.length=0}var zb=Ec.ReactCurrentDispatcher,Sk=Ec.ReactCurrentBatchConfig,Qd=0,cr=null,Fr=null,oi=null,A_=!1,sg=!1,Rg=0,rne=0;function zi(){throw Error(He(321))}function RP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!No(e[n],t[n]))return!1;return!0}function IP(e,t,n,r,i,s){if(Qd=s,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zb.current=e===null||e.memoizedState===null?one:lne,e=n(r,i),sg){s=0;do{if(sg=!1,Rg=0,25<=s)throw Error(He(301));s+=1,oi=Fr=null,t.updateQueue=null,zb.current=cne,e=n(r,i)}while(sg)}if(zb.current=z_,t=Fr!==null&&Fr.next!==null,Qd=0,oi=Fr=cr=null,A_=!1,t)throw Error(He(300));return e}function LP(){var e=Rg!==0;return Rg=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?cr.memoizedState=oi=e:oi=oi.next=e,oi}function Wa(){if(Fr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var t=oi===null?cr.memoizedState:oi.next;if(t!==null)oi=t,Fr=e;else{if(e===null)throw Error(He(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},oi===null?cr.memoizedState=oi=e:oi=oi.next=e}return oi}function Ig(e,t){return typeof t=="function"?t(e):t}function Nk(e){var t=Wa(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=Fr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Qd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,cr.lanes|=d,Xd|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,No(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,cr.lanes|=s,Xd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ck(e){var t=Wa(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);No(s,t.memoizedState)||(Ms=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function E5(){}function M5(e,t){var n=cr,r=Wa(),i=t(),s=!No(r.memoizedState,i);if(s&&(r.memoizedState=i,Ms=!0),r=r.queue,$P(z5.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||oi!==null&&oi.memoizedState.tag&1){if(n.flags|=2048,Lg(9,A5.bind(null,n,r,i,t),void 0,null),hi===null)throw Error(He(349));Qd&30||T5(n,t,i)}return i}function T5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function A5(e,t,n,r){t.value=n,t.getSnapshot=r,D5(t)&&R5(e)}function z5(e,t,n){return n(function(){D5(t)&&R5(e)})}function D5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!No(e,n)}catch{return!0}}function R5(e){var t=mc(e,1);t!==null&&ko(t,e,1,-1)}function Cz(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:e},t.queue=e,e=e.dispatch=ane.bind(null,cr,e),[t.memoizedState,e]}function Lg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I5(){return Wa().memoizedState}function Db(e,t,n,r){var i=Xo();cr.flags|=e,i.memoizedState=Lg(1|t,n,void 0,r===void 0?null:r)}function Rw(e,t,n,r){var i=Wa();r=r===void 0?null:r;var s=void 0;if(Fr!==null){var a=Fr.memoizedState;if(s=a.destroy,r!==null&&RP(r,a.deps)){i.memoizedState=Lg(t,n,s,r);return}}cr.flags|=e,i.memoizedState=Lg(1|t,n,s,r)}function Oz(e,t){return Db(8390656,8,e,t)}function $P(e,t){return Rw(2048,8,e,t)}function L5(e,t){return Rw(4,2,e,t)}function $5(e,t){return Rw(4,4,e,t)}function F5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B5(e,t,n){return n=n!=null?n.concat([e]):null,Rw(4,4,F5.bind(null,t,e),n)}function FP(){}function q5(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function W5(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U5(e,t,n){return Qd&21?(No(n,t)||(n=GB(),cr.lanes|=n,Xd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ms=!0),e.memoizedState=n)}function ine(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Sk.transition;Sk.transition={};try{e(!1),t()}finally{On=n,Sk.transition=r}}function V5(){return Wa().memoizedState}function sne(e,t,n){var r=Su(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H5(e))K5(t,n);else if(n=C5(e,t,n,r),n!==null){var i=as();ko(n,e,r,i),Y5(n,t,r)}}function ane(e,t,n){var r=Su(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H5(e))K5(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,No(l,a)){var c=t.interleaved;c===null?(i.next=i,MP(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=C5(e,t,i,r),n!==null&&(i=as(),ko(n,e,r,i),Y5(n,t,r))}}function H5(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function K5(e,t){sg=A_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yP(e,n)}}var z_={readContext:qa,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},one={readContext:qa,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:Oz,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Db(4194308,4,F5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Db(4194308,4,e,t)},useInsertionEffect:function(e,t){return Db(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sne.bind(null,cr,e),[r.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:Cz,useDebugValue:FP,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=Cz(!1),t=e[0];return e=ine.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cr,i=Xo();if(tr){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),hi===null)throw Error(He(349));Qd&30||T5(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Oz(z5.bind(null,r,s,e),[e]),r.flags|=2048,Lg(9,A5.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xo(),t=hi.identifierPrefix;if(tr){var n=tc,r=ec;n=(r&~(1<<32-jo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lne={readContext:qa,useCallback:q5,useContext:qa,useEffect:$P,useImperativeHandle:B5,useInsertionEffect:L5,useLayoutEffect:$5,useMemo:W5,useReducer:Nk,useRef:I5,useState:function(){return Nk(Ig)},useDebugValue:FP,useDeferredValue:function(e){var t=Wa();return U5(t,Fr.memoizedState,e)},useTransition:function(){var e=Nk(Ig)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:E5,useSyncExternalStore:M5,useId:V5,unstable_isNewReconciler:!1},cne={readContext:qa,useCallback:q5,useContext:qa,useEffect:$P,useImperativeHandle:B5,useInsertionEffect:L5,useLayoutEffect:$5,useMemo:W5,useReducer:Ck,useRef:I5,useState:function(){return Ck(Ig)},useDebugValue:FP,useDeferredValue:function(e){var t=Wa();return Fr===null?t.memoizedState=e:U5(t,Fr.memoizedState,e)},useTransition:function(){var e=Ck(Ig)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:E5,useSyncExternalStore:M5,useId:V5,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){t=dr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iw={isMounted:function(e){return(e=e._reactInternals)?yh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=as(),i=Su(e),s=lc(r,i);s.payload=t,n!=null&&(s.callback=n),t=ju(e,s,i),t!==null&&(ko(t,e,i,r),Ab(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=as(),i=Su(e),s=lc(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ju(e,s,i),t!==null&&(ko(t,e,i,r),Ab(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=as(),r=Su(e),i=lc(n,r);i.tag=2,t!=null&&(i.callback=t),t=ju(e,i,r),t!==null&&(ko(t,e,r,n),Ab(t,e,r))}};function Pz(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Eg(n,r)||!Eg(i,s):!0}function G5(e,t,n){var r=!1,i=Tu,s=t.contextType;return typeof s=="object"&&s!==null?s=qa(s):(i=Ls(t)?Yd:Hi.current,r=t.contextTypes,s=(r=r!=null)?Kf(e,i):Tu),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ez(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Iw.enqueueReplaceState(t,t.state,null)}function aC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},TP(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qa(s):(s=Ls(t)?Yd:Hi.current,i.context=Kf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sC(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Iw.enqueueReplaceState(i,i.state,null),M_(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xf(e,t){try{var n="",r=t;do n+=Iee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ok(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var une=typeof WeakMap=="function"?WeakMap:Map;function Q5(e,t,n){n=lc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){R_||(R_=!0,yC=r),oC(e,t)},n}function X5(e,t,n){n=lc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oC(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oC(e,t),typeof r!="function"&&(ku===null?ku=new Set([this]):ku.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mz(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new une;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kne.bind(null,e,t,n),t.then(e,e))}function Tz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Az(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lc(-1,1),t.tag=2,ju(n,t,1))),n.lanes|=1),e)}var dne=Ec.ReactCurrentOwner,Ms=!1;function es(e,t,n,r){t.child=e===null?N5(t,null,n,r):Gf(t,e.child,n,r)}function zz(e,t,n,r,i){n=n.render;var s=t.ref;return Ef(t,i),r=IP(e,t,n,r,s,i),n=LP(),e!==null&&!Ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pc(e,t,i)):(tr&&n&&SP(t),t.flags|=1,es(e,t,r,i),t.child)}function Dz(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!YP(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Z5(e,t,s,r,i)):(e=$b(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eg,n(a,r)&&e.ref===t.ref)return pc(e,t,i)}return t.flags|=1,e=Nu(s,r),e.ref=t.ref,e.return=t,t.child=e}function Z5(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Eg(s,r)&&e.ref===t.ref)if(Ms=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ms=!0);else return t.lanes=e.lanes,pc(e,t,i)}return lC(e,t,n,r,i)}function J5(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(xf,Js),Js|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(xf,Js),Js|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wn(xf,Js),Js|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Wn(xf,Js),Js|=r;return es(e,t,i,n),t.child}function eq(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lC(e,t,n,r,i){var s=Ls(n)?Yd:Hi.current;return s=Kf(t,s),Ef(t,i),n=IP(e,t,n,r,s,i),r=LP(),e!==null&&!Ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pc(e,t,i)):(tr&&r&&SP(t),t.flags|=1,es(e,t,n,i),t.child)}function Rz(e,t,n,r,i){if(Ls(n)){var s=!0;N_(t)}else s=!1;if(Ef(t,i),t.stateNode===null)Rb(e,t),G5(t,n,r),aC(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qa(u):(u=Ls(n)?Yd:Hi.current,u=Kf(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ez(t,a,r,u),iu=!1;var m=t.memoizedState;a.state=m,M_(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Is.current||iu?(typeof d=="function"&&(sC(t,n,d,r),c=t.memoizedState),(l=iu||Pz(t,n,l,r,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,O5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ho(t.type,l),a.props=u,h=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qa(c):(c=Ls(n)?Yd:Hi.current,c=Kf(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Ez(t,a,r,c),iu=!1,m=t.memoizedState,a.state=m,M_(t,r,a,i);var g=t.memoizedState;l!==h||m!==g||Is.current||iu?(typeof p=="function"&&(sC(t,n,p,r),g=t.memoizedState),(u=iu||Pz(t,n,u,r,m,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return cC(e,t,n,r,s,i)}function cC(e,t,n,r,i,s){eq(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&_z(t,n,!1),pc(e,t,s);r=t.stateNode,dne.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gf(t,e.child,null,s),t.child=Gf(t,null,l,s)):es(e,t,l,s),t.memoizedState=r.state,i&&_z(t,n,!0),t.child}function tq(e){var t=e.stateNode;t.pendingContext?bz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bz(e,t.context,!1),AP(e,t.containerInfo)}function Iz(e,t,n,r,i){return Yf(),CP(i),t.flags|=256,es(e,t,n,r),t.child}var uC={dehydrated:null,treeContext:null,retryLane:0};function dC(e){return{baseLanes:e,cachePool:null,transitions:null}}function nq(e,t,n){var r=t.pendingProps,i=or.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wn(or,i&1),e===null)return rC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fw(a,r,0,null),e=Ld(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=dC(n),t.memoizedState=uC,e):BP(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hne(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Nu(l,s):(s=Ld(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?dC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=uC,r}return s=e.child,e=s.sibling,r=Nu(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function BP(e,t){return t=Fw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lv(e,t,n,r){return r!==null&&CP(r),Gf(t,e.child,null,n),e=BP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hne(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Ok(Error(He(422))),lv(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fw({mode:"visible",children:r.children},i,0,null),s=Ld(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Gf(t,e.child,null,a),t.child.memoizedState=dC(a),t.memoizedState=uC,s);if(!(t.mode&1))return lv(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(He(419)),r=Ok(s,r,void 0),lv(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ms||l){if(r=hi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mc(e,i),ko(r,e,i,-1))}return KP(),r=Ok(Error(He(421))),lv(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Sne.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sa=wu(i.nextSibling),la=t,tr=!0,mo=null,e!==null&&(Ea[Ma++]=ec,Ea[Ma++]=tc,Ea[Ma++]=Gd,ec=e.id,tc=e.overflow,Gd=t),t=BP(t,r.children),t.flags|=4096,t)}function Lz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),iC(e.return,t,n)}function Pk(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rq(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(es(e,t,r.children,n),r=or.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lz(e,n,t);else if(e.tag===19)Lz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(or,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&T_(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pk(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&T_(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pk(t,!0,n,null,s);break;case"together":Pk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=Nu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fne(e,t,n){switch(t.tag){case 3:tq(t),Yf();break;case 5:P5(t);break;case 1:Ls(t.type)&&N_(t);break;case 4:AP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wn(P_,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(or,or.current&1),t.flags|=128,null):n&t.child.childLanes?nq(e,t,n):(Wn(or,or.current&1),e=pc(e,t,n),e!==null?e.sibling:null);Wn(or,or.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rq(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(or,or.current),r)break;return null;case 22:case 23:return t.lanes=0,J5(e,t,n)}return pc(e,t,n)}var iq,hC,sq,aq;iq=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hC=function(){};sq=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sd(hl.current);var s=null;switch(n){case"input":i=zN(e,i),r=zN(e,r),s=[];break;case"select":i=dr({},i,{value:void 0}),r=dr({},r,{value:void 0}),s=[];break;case"textarea":i=IN(e,i),r=IN(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=k_)}$N(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};aq=function(e,t,n,r){n!==r&&(t.flags|=4)};function lp(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Di(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mne(e,t,n){var r=t.pendingProps;switch(NP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(t),null;case 1:return Ls(t.type)&&S_(),Di(t),null;case 3:return r=t.stateNode,Qf(),Yn(Is),Yn(Hi),DP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(av(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo!==null&&(bC(mo),mo=null))),hC(e,t),Di(t),null;case 5:zP(t);var i=Sd(Dg.current);if(n=t.type,e!==null&&t.stateNode!=null)sq(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(He(166));return Di(t),null}if(e=Sd(hl.current),av(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jo]=t,r[Ag]=s,e=(t.mode&1)!==0,n){case"dialog":Vn("cancel",r),Vn("close",r);break;case"iframe":case"object":case"embed":Vn("load",r);break;case"video":case"audio":for(i=0;i<qp.length;i++)Vn(qp[i],r);break;case"source":Vn("error",r);break;case"img":case"image":case"link":Vn("error",r),Vn("load",r);break;case"details":Vn("toggle",r);break;case"input":KA(r,s),Vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vn("invalid",r);break;case"textarea":GA(r,s),Vn("invalid",r)}$N(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&sv(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&sv(r.textContent,l,e),i=["children",""+l]):jg.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Vn("scroll",r)}switch(n){case"input":Xx(r),YA(r,s,!0);break;case"textarea":Xx(r),QA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=k_)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zB(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Jo]=t,e[Ag]=r,iq(e,t,!1,!1),t.stateNode=e;e:{switch(a=FN(n,r),n){case"dialog":Vn("cancel",e),Vn("close",e),i=r;break;case"iframe":case"object":case"embed":Vn("load",e),i=r;break;case"video":case"audio":for(i=0;i<qp.length;i++)Vn(qp[i],e);i=r;break;case"source":Vn("error",e),i=r;break;case"img":case"image":case"link":Vn("error",e),Vn("load",e),i=r;break;case"details":Vn("toggle",e),i=r;break;case"input":KA(e,r),i=zN(e,r),Vn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dr({},r,{value:void 0}),Vn("invalid",e);break;case"textarea":GA(e,r),i=IN(e,r),Vn("invalid",e);break;default:i=r}$N(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?IB(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DB(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kg(e,c):typeof c=="number"&&kg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Vn("scroll",e):c!=null&&dP(e,s,c,a))}switch(n){case"input":Xx(e),YA(e,r,!1);break;case"textarea":Xx(e),QA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mu(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Nf(e,!!r.multiple,s,!1):r.defaultValue!=null&&Nf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=k_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Di(t),null;case 6:if(e&&t.stateNode!=null)aq(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));if(n=Sd(Dg.current),Sd(hl.current),av(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jo]=t,(s=r.nodeValue!==n)&&(e=la,e!==null))switch(e.tag){case 3:sv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jo]=t,t.stateNode=r}return Di(t),null;case 13:if(Yn(or),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&sa!==null&&t.mode&1&&!(t.flags&128))k5(),Yf(),t.flags|=98560,s=!1;else if(s=av(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Jo]=t}else Yf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Di(t),s=!1}else mo!==null&&(bC(mo),mo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Wr===0&&(Wr=3):KP())),t.updateQueue!==null&&(t.flags|=4),Di(t),null);case 4:return Qf(),hC(e,t),e===null&&Mg(t.stateNode.containerInfo),Di(t),null;case 10:return EP(t.type._context),Di(t),null;case 17:return Ls(t.type)&&S_(),Di(t),null;case 19:if(Yn(or),s=t.memoizedState,s===null)return Di(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)lp(s,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=T_(e),a!==null){for(t.flags|=128,lp(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(or,or.current&1|2),t.child}e=e.sibling}s.tail!==null&&Nr()>Zf&&(t.flags|=128,r=!0,lp(s,!1),t.lanes=4194304)}else{if(!r)if(e=T_(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!tr)return Di(t),null}else 2*Nr()-s.renderingStartTime>Zf&&n!==1073741824&&(t.flags|=128,r=!0,lp(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Nr(),t.sibling=null,n=or.current,Wn(or,r?n&1|2:n&1),t):(Di(t),null);case 22:case 23:return HP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Js&1073741824&&(Di(t),t.subtreeFlags&6&&(t.flags|=8192)):Di(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function pne(e,t){switch(NP(t),t.tag){case 1:return Ls(t.type)&&S_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qf(),Yn(Is),Yn(Hi),DP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zP(t),null;case 13:if(Yn(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));Yf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yn(or),null;case 4:return Qf(),null;case 10:return EP(t.type._context),null;case 22:case 23:return HP(),null;case 24:return null;default:return null}}var cv=!1,Wi=!1,gne=typeof WeakSet=="function"?WeakSet:Set,kt=null;function yf(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pr(e,t,r)}else n.current=null}function fC(e,t,n){try{n()}catch(r){pr(e,t,r)}}var $z=!1;function yne(e,t){if(QN=__,e=d5(),kP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===i&&(l=a),m===s&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(XN={focusedElem:e,selectionRange:n},__=!1,kt=t;kt!==null;)if(t=kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kt=e;else for(;kt!==null;){t=kt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ho(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(j){pr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,kt=e;break}kt=t.return}return g=$z,$z=!1,g}function ag(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&fC(t,n,s)}i=i.next}while(i!==r)}}function Lw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oq(e){var t=e.alternate;t!==null&&(e.alternate=null,oq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jo],delete t[Ag],delete t[eC],delete t[Jte],delete t[ene])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lq(e){return e.tag===5||e.tag===3||e.tag===4}function Fz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=k_));else if(r!==4&&(e=e.child,e!==null))for(pC(e,t,n),e=e.sibling;e!==null;)pC(e,t,n),e=e.sibling}function gC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gC(e,t,n),e=e.sibling;e!==null;)gC(e,t,n),e=e.sibling}var bi=null,fo=!1;function Kc(e,t,n){for(n=n.child;n!==null;)cq(e,t,n),n=n.sibling}function cq(e,t,n){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(Ew,n)}catch{}switch(n.tag){case 5:Wi||yf(n,t);case 6:var r=bi,i=fo;bi=null,Kc(e,t,n),bi=r,fo=i,bi!==null&&(fo?(e=bi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bi.removeChild(n.stateNode));break;case 18:bi!==null&&(fo?(e=bi,n=n.stateNode,e.nodeType===8?wk(e.parentNode,n):e.nodeType===1&&wk(e,n),Og(e)):wk(bi,n.stateNode));break;case 4:r=bi,i=fo,bi=n.stateNode.containerInfo,fo=!0,Kc(e,t,n),bi=r,fo=i;break;case 0:case 11:case 14:case 15:if(!Wi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fC(n,t,a),i=i.next}while(i!==r)}Kc(e,t,n);break;case 1:if(!Wi&&(yf(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pr(n,t,l)}Kc(e,t,n);break;case 21:Kc(e,t,n);break;case 22:n.mode&1?(Wi=(r=Wi)||n.memoizedState!==null,Kc(e,t,n),Wi=r):Kc(e,t,n);break;default:Kc(e,t,n)}}function Bz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gne),t.forEach(function(r){var i=Nne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:bi=l.stateNode,fo=!1;break e;case 3:bi=l.stateNode.containerInfo,fo=!0;break e;case 4:bi=l.stateNode.containerInfo,fo=!0;break e}l=l.return}if(bi===null)throw Error(He(160));cq(s,a,i),bi=null,fo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){pr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uq(t,e),t=t.sibling}function uq(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lo(t,e),qo(e),r&4){try{ag(3,e,e.return),Lw(3,e)}catch(y){pr(e,e.return,y)}try{ag(5,e,e.return)}catch(y){pr(e,e.return,y)}}break;case 1:lo(t,e),qo(e),r&512&&n!==null&&yf(n,n.return);break;case 5:if(lo(t,e),qo(e),r&512&&n!==null&&yf(n,n.return),e.flags&32){var i=e.stateNode;try{kg(i,"")}catch(y){pr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&TB(i,s),FN(l,a);var u=FN(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?IB(i,h):d==="dangerouslySetInnerHTML"?DB(i,h):d==="children"?kg(i,h):dP(i,d,h,u)}switch(l){case"input":DN(i,s);break;case"textarea":AB(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Nf(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?Nf(i,!!s.multiple,s.defaultValue,!0):Nf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ag]=s}catch(y){pr(e,e.return,y)}}break;case 6:if(lo(t,e),qo(e),r&4){if(e.stateNode===null)throw Error(He(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){pr(e,e.return,y)}}break;case 3:if(lo(t,e),qo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Og(t.containerInfo)}catch(y){pr(e,e.return,y)}break;case 4:lo(t,e),qo(e);break;case 13:lo(t,e),qo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UP=Nr())),r&4&&Bz(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Wi=(u=Wi)||d,lo(t,e),Wi=u):lo(t,e),qo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(kt=e,d=e.child;d!==null;){for(h=kt=d;kt!==null;){switch(m=kt,p=m.child,m.tag){case 0:case 11:case 14:case 15:ag(4,m,m.return);break;case 1:yf(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){pr(r,n,y)}}break;case 5:yf(m,m.return);break;case 22:if(m.memoizedState!==null){Wz(h);continue}}p!==null?(p.return=m,kt=p):Wz(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RB("display",a))}catch(y){pr(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){pr(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lo(t,e),qo(e),r&4&&Bz(e);break;case 21:break;default:lo(t,e),qo(e)}}function qo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lq(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kg(i,""),r.flags&=-33);var s=Fz(e);gC(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Fz(e);pC(e,l,a);break;default:throw Error(He(161))}}catch(c){pr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xne(e,t,n){kt=e,dq(e)}function dq(e,t,n){for(var r=(e.mode&1)!==0;kt!==null;){var i=kt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||cv;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Wi;l=cv;var u=Wi;if(cv=a,(Wi=c)&&!u)for(kt=i;kt!==null;)a=kt,c=a.child,a.tag===22&&a.memoizedState!==null?Uz(i):c!==null?(c.return=a,kt=c):Uz(i);for(;s!==null;)kt=s,dq(s),s=s.sibling;kt=i,cv=l,Wi=u}qz(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,kt=s):qz(e)}}function qz(e){for(;kt!==null;){var t=kt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wi||Lw(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Nz(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nz(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Og(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Wi||t.flags&512&&mC(t)}catch(m){pr(t,t.return,m)}}if(t===e){kt=null;break}if(n=t.sibling,n!==null){n.return=t.return,kt=n;break}kt=t.return}}function Wz(e){for(;kt!==null;){var t=kt;if(t===e){kt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,kt=n;break}kt=t.return}}function Uz(e){for(;kt!==null;){var t=kt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lw(4,t)}catch(c){pr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){pr(t,i,c)}}var s=t.return;try{mC(t)}catch(c){pr(t,s,c)}break;case 5:var a=t.return;try{mC(t)}catch(c){pr(t,a,c)}}}catch(c){pr(t,t.return,c)}if(t===e){kt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,kt=l;break}kt=t.return}}var vne=Math.ceil,D_=Ec.ReactCurrentDispatcher,qP=Ec.ReactCurrentOwner,La=Ec.ReactCurrentBatchConfig,xn=0,hi=null,Ar=null,Ci=0,Js=0,xf=Hu(0),Wr=0,$g=null,Xd=0,$w=0,WP=0,og=null,Cs=null,UP=0,Zf=1/0,Hl=null,R_=!1,yC=null,ku=null,uv=!1,mu=null,I_=0,lg=0,xC=null,Ib=-1,Lb=0;function as(){return xn&6?Nr():Ib!==-1?Ib:Ib=Nr()}function Su(e){return e.mode&1?xn&2&&Ci!==0?Ci&-Ci:nne.transition!==null?(Lb===0&&(Lb=GB()),Lb):(e=On,e!==0||(e=window.event,e=e===void 0?16:n5(e.type)),e):1}function ko(e,t,n,r){if(50<lg)throw lg=0,xC=null,Error(He(185));$y(e,n,r),(!(xn&2)||e!==hi)&&(e===hi&&(!(xn&2)&&($w|=n),Wr===4&&uu(e,Ci)),$s(e,r),n===1&&xn===0&&!(t.mode&1)&&(Zf=Nr()+500,Dw&&Ku()))}function $s(e,t){var n=e.callbackNode;nte(e,t);var r=b_(e,e===hi?Ci:0);if(r===0)n!==null&&JA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&JA(n),t===1)e.tag===0?tne(Vz.bind(null,e)):_5(Vz.bind(null,e)),Xte(function(){!(xn&6)&&Ku()}),n=null;else{switch(QB(r)){case 1:n=gP;break;case 4:n=KB;break;case 16:n=v_;break;case 536870912:n=YB;break;default:n=v_}n=vq(n,hq.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hq(e,t){if(Ib=-1,Lb=0,xn&6)throw Error(He(327));var n=e.callbackNode;if(Mf()&&e.callbackNode!==n)return null;var r=b_(e,e===hi?Ci:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=L_(e,r);else{t=r;var i=xn;xn|=2;var s=mq();(hi!==e||Ci!==t)&&(Hl=null,Zf=Nr()+500,Id(e,t));do try{wne();break}catch(l){fq(e,l)}while(!0);PP(),D_.current=s,xn=i,Ar!==null?t=0:(hi=null,Ci=0,t=Wr)}if(t!==0){if(t===2&&(i=VN(e),i!==0&&(r=i,t=vC(e,i))),t===1)throw n=$g,Id(e,0),uu(e,r),$s(e,Nr()),n;if(t===6)uu(e,r);else{if(i=e.current.alternate,!(r&30)&&!bne(i)&&(t=L_(e,r),t===2&&(s=VN(e),s!==0&&(r=s,t=vC(e,s))),t===1))throw n=$g,Id(e,0),uu(e,r),$s(e,Nr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(He(345));case 2:hd(e,Cs,Hl);break;case 3:if(uu(e,r),(r&130023424)===r&&(t=UP+500-Nr(),10<t)){if(b_(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){as(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=JN(hd.bind(null,e,Cs,Hl),t);break}hd(e,Cs,Hl);break;case 4:if(uu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-jo(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vne(r/1960))-r,10<r){e.timeoutHandle=JN(hd.bind(null,e,Cs,Hl),r);break}hd(e,Cs,Hl);break;case 5:hd(e,Cs,Hl);break;default:throw Error(He(329))}}}return $s(e,Nr()),e.callbackNode===n?hq.bind(null,e):null}function vC(e,t){var n=og;return e.current.memoizedState.isDehydrated&&(Id(e,t).flags|=256),e=L_(e,t),e!==2&&(t=Cs,Cs=n,t!==null&&bC(t)),e}function bC(e){Cs===null?Cs=e:Cs.push.apply(Cs,e)}function bne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!No(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function uu(e,t){for(t&=~WP,t&=~$w,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jo(t),r=1<<n;e[n]=-1,t&=~r}}function Vz(e){if(xn&6)throw Error(He(327));Mf();var t=b_(e,0);if(!(t&1))return $s(e,Nr()),null;var n=L_(e,t);if(e.tag!==0&&n===2){var r=VN(e);r!==0&&(t=r,n=vC(e,r))}if(n===1)throw n=$g,Id(e,0),uu(e,t),$s(e,Nr()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hd(e,Cs,Hl),$s(e,Nr()),null}function VP(e,t){var n=xn;xn|=1;try{return e(t)}finally{xn=n,xn===0&&(Zf=Nr()+500,Dw&&Ku())}}function Zd(e){mu!==null&&mu.tag===0&&!(xn&6)&&Mf();var t=xn;xn|=1;var n=La.transition,r=On;try{if(La.transition=null,On=1,e)return e()}finally{On=r,La.transition=n,xn=t,!(xn&6)&&Ku()}}function HP(){Js=xf.current,Yn(xf)}function Id(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qte(n)),Ar!==null)for(n=Ar.return;n!==null;){var r=n;switch(NP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S_();break;case 3:Qf(),Yn(Is),Yn(Hi),DP();break;case 5:zP(r);break;case 4:Qf();break;case 13:Yn(or);break;case 19:Yn(or);break;case 10:EP(r.type._context);break;case 22:case 23:HP()}n=n.return}if(hi=e,Ar=e=Nu(e.current,null),Ci=Js=t,Wr=0,$g=null,WP=$w=Xd=0,Cs=og=null,kd!==null){for(t=0;t<kd.length;t++)if(n=kd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}kd=null}return e}function fq(e,t){do{var n=Ar;try{if(PP(),zb.current=z_,A_){for(var r=cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}A_=!1}if(Qd=0,oi=Fr=cr=null,sg=!1,Rg=0,qP.current=null,n===null||n.return===null){Wr=1,$g=t,Ar=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ci,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Tz(a);if(p!==null){p.flags&=-257,Az(p,a,l,s,t),p.mode&1&&Mz(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){Mz(s,u,t),KP();break e}c=Error(He(426))}}else if(tr&&l.mode&1){var x=Tz(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Az(x,a,l,s,t),CP(Xf(c,l));break e}}s=c=Xf(c,l),Wr!==4&&(Wr=2),og===null?og=[s]:og.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Q5(s,c,t);Sz(s,v);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ku===null||!ku.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=X5(s,l,t);Sz(s,j);break e}}s=s.return}while(s!==null)}gq(n)}catch(_){t=_,Ar===n&&n!==null&&(Ar=n=n.return);continue}break}while(!0)}function mq(){var e=D_.current;return D_.current=z_,e===null?z_:e}function KP(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),hi===null||!(Xd&268435455)&&!($w&268435455)||uu(hi,Ci)}function L_(e,t){var n=xn;xn|=2;var r=mq();(hi!==e||Ci!==t)&&(Hl=null,Id(e,t));do try{_ne();break}catch(i){fq(e,i)}while(!0);if(PP(),xn=n,D_.current=r,Ar!==null)throw Error(He(261));return hi=null,Ci=0,Wr}function _ne(){for(;Ar!==null;)pq(Ar)}function wne(){for(;Ar!==null&&!Kee();)pq(Ar)}function pq(e){var t=xq(e.alternate,e,Js);e.memoizedProps=e.pendingProps,t===null?gq(e):Ar=t,qP.current=null}function gq(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pne(n,t),n!==null){n.flags&=32767,Ar=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Ar=null;return}}else if(n=mne(n,t,Js),n!==null){Ar=n;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Wr===0&&(Wr=5)}function hd(e,t,n){var r=On,i=La.transition;try{La.transition=null,On=1,jne(e,t,n,r)}finally{La.transition=i,On=r}return null}function jne(e,t,n,r){do Mf();while(mu!==null);if(xn&6)throw Error(He(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(rte(e,s),e===hi&&(Ar=hi=null,Ci=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uv||(uv=!0,vq(v_,function(){return Mf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=La.transition,La.transition=null;var a=On;On=1;var l=xn;xn|=4,qP.current=null,yne(e,n),uq(n,e),Wte(XN),__=!!QN,XN=QN=null,e.current=n,xne(n),Yee(),xn=l,On=a,La.transition=s}else e.current=n;if(uv&&(uv=!1,mu=e,I_=i),s=e.pendingLanes,s===0&&(ku=null),Xee(n.stateNode),$s(e,Nr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(R_)throw R_=!1,e=yC,yC=null,e;return I_&1&&e.tag!==0&&Mf(),s=e.pendingLanes,s&1?e===xC?lg++:(lg=0,xC=e):lg=0,Ku(),null}function Mf(){if(mu!==null){var e=QB(I_),t=La.transition,n=On;try{if(La.transition=null,On=16>e?16:e,mu===null)var r=!1;else{if(e=mu,mu=null,I_=0,xn&6)throw Error(He(331));var i=xn;for(xn|=4,kt=e.current;kt!==null;){var s=kt,a=s.child;if(kt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(kt=u;kt!==null;){var d=kt;switch(d.tag){case 0:case 11:case 15:ag(8,d,s)}var h=d.child;if(h!==null)h.return=d,kt=h;else for(;kt!==null;){d=kt;var m=d.sibling,p=d.return;if(oq(d),d===u){kt=null;break}if(m!==null){m.return=p,kt=m;break}kt=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}kt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,kt=a;else e:for(;kt!==null;){if(s=kt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ag(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,kt=v;break e}kt=s.return}}var w=e.current;for(kt=w;kt!==null;){a=kt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,kt=b;else e:for(a=w;kt!==null;){if(l=kt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lw(9,l)}}catch(_){pr(l,l.return,_)}if(l===a){kt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,kt=j;break e}kt=l.return}}if(xn=i,Ku(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(Ew,e)}catch{}r=!0}return r}finally{On=n,La.transition=t}}return!1}function Hz(e,t,n){t=Xf(n,t),t=Q5(e,t,1),e=ju(e,t,1),t=as(),e!==null&&($y(e,1,t),$s(e,t))}function pr(e,t,n){if(e.tag===3)Hz(e,e,n);else for(;t!==null;){if(t.tag===3){Hz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ku===null||!ku.has(r))){e=Xf(n,e),e=X5(t,e,1),t=ju(t,e,1),e=as(),t!==null&&($y(t,1,e),$s(t,e));break}}t=t.return}}function kne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&n,hi===e&&(Ci&n)===n&&(Wr===4||Wr===3&&(Ci&130023424)===Ci&&500>Nr()-UP?Id(e,0):WP|=n),$s(e,t)}function yq(e,t){t===0&&(e.mode&1?(t=ev,ev<<=1,!(ev&130023424)&&(ev=4194304)):t=1);var n=as();e=mc(e,t),e!==null&&($y(e,t,n),$s(e,n))}function Sne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yq(e,n)}function Nne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(t),yq(e,n)}var xq;xq=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Is.current)Ms=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ms=!1,fne(e,t,n);Ms=!!(e.flags&131072)}else Ms=!1,tr&&t.flags&1048576&&w5(t,O_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rb(e,t),e=t.pendingProps;var i=Kf(t,Hi.current);Ef(t,n),i=IP(null,t,r,e,i,n);var s=LP();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(r)?(s=!0,N_(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TP(t),i.updater=Iw,t.stateNode=i,i._reactInternals=t,aC(t,r,e,n),t=cC(null,t,r,!0,s,n)):(t.tag=0,tr&&s&&SP(t),es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=One(r),e=ho(r,e),i){case 0:t=lC(null,t,r,e,n);break e;case 1:t=Rz(null,t,r,e,n);break e;case 11:t=zz(null,t,r,e,n);break e;case 14:t=Dz(null,t,r,ho(r.type,e),n);break e}throw Error(He(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),lC(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),Rz(e,t,r,i,n);case 3:e:{if(tq(t),e===null)throw Error(He(387));r=t.pendingProps,s=t.memoizedState,i=s.element,O5(e,t),M_(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Xf(Error(He(423)),t),t=Iz(e,t,r,n,i);break e}else if(r!==i){i=Xf(Error(He(424)),t),t=Iz(e,t,r,n,i);break e}else for(sa=wu(t.stateNode.containerInfo.firstChild),la=t,tr=!0,mo=null,n=N5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yf(),r===i){t=pc(e,t,n);break e}es(e,t,r,n)}t=t.child}return t;case 5:return P5(t),e===null&&rC(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,ZN(r,i)?a=null:s!==null&&ZN(r,s)&&(t.flags|=32),eq(e,t),es(e,t,a,n),t.child;case 6:return e===null&&rC(t),null;case 13:return nq(e,t,n);case 4:return AP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gf(t,null,r,n):es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),zz(e,t,r,i,n);case 7:return es(e,t,t.pendingProps,n),t.child;case 8:return es(e,t,t.pendingProps.children,n),t.child;case 12:return es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Wn(P_,r._currentValue),r._currentValue=a,s!==null)if(No(s.value,a)){if(s.children===i.children&&!Is.current){t=pc(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=lc(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),iC(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(He(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),iC(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ef(t,n),i=qa(i),r=r(i),t.flags|=1,es(e,t,r,n),t.child;case 14:return r=t.type,i=ho(r,t.pendingProps),i=ho(r.type,i),Dz(e,t,r,i,n);case 15:return Z5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),Rb(e,t),t.tag=1,Ls(r)?(e=!0,N_(t)):e=!1,Ef(t,n),G5(t,r,i),aC(t,r,i,n),cC(null,t,r,!0,e,n);case 19:return rq(e,t,n);case 22:return J5(e,t,n)}throw Error(He(156,t.tag))};function vq(e,t){return HB(e,t)}function Cne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(e,t,n,r){return new Cne(e,t,n,r)}function YP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function One(e){if(typeof e=="function")return YP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fP)return 11;if(e===mP)return 14}return 2}function Nu(e,t){var n=e.alternate;return n===null?(n=Ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $b(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")YP(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case lf:return Ld(n.children,i,s,t);case hP:a=8,i|=8;break;case EN:return e=Ta(12,n,t,i|2),e.elementType=EN,e.lanes=s,e;case MN:return e=Ta(13,n,t,i),e.elementType=MN,e.lanes=s,e;case TN:return e=Ta(19,n,t,i),e.elementType=TN,e.lanes=s,e;case PB:return Fw(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CB:a=10;break e;case OB:a=9;break e;case fP:a=11;break e;case mP:a=14;break e;case ru:a=16,r=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Ta(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ld(e,t,n,r){return e=Ta(7,e,r,t),e.lanes=n,e}function Fw(e,t,n,r){return e=Ta(22,e,r,t),e.elementType=PB,e.lanes=n,e.stateNode={isHidden:!1},e}function Ek(e,t,n){return e=Ta(6,e,null,t),e.lanes=n,e}function Mk(e,t,n){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pne(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dk(0),this.expirationTimes=dk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GP(e,t,n,r,i,s,a,l,c){return e=new Pne(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ta(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TP(s),e}function Ene(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:of,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bq(e){if(!e)return Tu;e=e._reactInternals;e:{if(yh(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(Ls(n))return b5(e,n,t)}return t}function _q(e,t,n,r,i,s,a,l,c){return e=GP(n,r,!0,e,i,s,a,l,c),e.context=bq(null),n=e.current,r=as(),i=Su(n),s=lc(r,i),s.callback=t??null,ju(n,s,i),e.current.lanes=i,$y(e,i,r),$s(e,r),e}function Bw(e,t,n,r){var i=t.current,s=as(),a=Su(i);return n=bq(n),t.context===null?t.context=n:t.pendingContext=n,t=lc(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ju(i,t,a),e!==null&&(ko(e,i,a,s),Ab(e,i,a)),a}function $_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function QP(e,t){Kz(e,t),(e=e.alternate)&&Kz(e,t)}function Mne(){return null}var wq=typeof reportError=="function"?reportError:function(e){console.error(e)};function XP(e){this._internalRoot=e}qw.prototype.render=XP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));Bw(e,t,null,null)};qw.prototype.unmount=XP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(function(){Bw(null,e,null,null)}),t[fc]=null}};function qw(e){this._internalRoot=e}qw.prototype.unstable_scheduleHydration=function(e){if(e){var t=JB();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cu.length&&t!==0&&t<cu[n].priority;n++);cu.splice(n,0,e),n===0&&t5(e)}};function ZP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ww(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yz(){}function Tne(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$_(a);s.call(u)}}var a=_q(t,r,e,0,null,!1,!1,"",Yz);return e._reactRootContainer=a,e[fc]=a.current,Mg(e.nodeType===8?e.parentNode:e),Zd(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=$_(c);l.call(u)}}var c=GP(e,0,!1,null,null,!1,!1,"",Yz);return e._reactRootContainer=c,e[fc]=c.current,Mg(e.nodeType===8?e.parentNode:e),Zd(function(){Bw(t,c,n,r)}),c}function Uw(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=$_(a);l.call(c)}}Bw(t,a,e,i)}else a=Tne(n,t,e,i,r);return $_(a)}XB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bp(t.pendingLanes);n!==0&&(yP(t,n|1),$s(t,Nr()),!(xn&6)&&(Zf=Nr()+500,Ku()))}break;case 13:Zd(function(){var r=mc(e,1);if(r!==null){var i=as();ko(r,e,1,i)}}),QP(e,1)}};xP=function(e){if(e.tag===13){var t=mc(e,134217728);if(t!==null){var n=as();ko(t,e,134217728,n)}QP(e,134217728)}};ZB=function(e){if(e.tag===13){var t=Su(e),n=mc(e,t);if(n!==null){var r=as();ko(n,e,t,r)}QP(e,t)}};JB=function(){return On};e5=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};qN=function(e,t,n){switch(t){case"input":if(DN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zw(r);if(!i)throw Error(He(90));MB(r),DN(r,i)}}}break;case"textarea":AB(e,n);break;case"select":t=n.value,t!=null&&Nf(e,!!n.multiple,t,!1)}};FB=VP;BB=Zd;var Ane={usingClientEntryPoint:!1,Events:[By,hf,zw,LB,$B,VP]},cp={findFiberByHostInstance:jd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zne={bundleType:cp.bundleType,version:cp.version,rendererPackageName:cp.rendererPackageName,rendererConfig:cp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=UB(e),e===null?null:e.stateNode},findFiberByHostInstance:cp.findFiberByHostInstance||Mne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dv.isDisabled&&dv.supportsFiber)try{Ew=dv.inject(zne),dl=dv}catch{}}ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ane;ya.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZP(t))throw Error(He(200));return Ene(e,t,null,n)};ya.createRoot=function(e,t){if(!ZP(e))throw Error(He(299));var n=!1,r="",i=wq;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=GP(e,1,!1,null,null,n,!1,r,i),e[fc]=t.current,Mg(e.nodeType===8?e.parentNode:e),new XP(t)};ya.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=UB(t),e=e===null?null:e.stateNode,e};ya.flushSync=function(e){return Zd(e)};ya.hydrate=function(e,t,n){if(!Ww(t))throw Error(He(200));return Uw(null,e,t,!0,n)};ya.hydrateRoot=function(e,t,n){if(!ZP(e))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=wq;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=_q(t,null,e,1,n??null,i,!1,s,a),e[fc]=t.current,Mg(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qw(t)};ya.render=function(e,t,n){if(!Ww(t))throw Error(He(200));return Uw(null,e,t,!1,n)};ya.unmountComponentAtNode=function(e){if(!Ww(e))throw Error(He(40));return e._reactRootContainer?(Zd(function(){Uw(null,null,e,!1,function(){e._reactRootContainer=null,e[fc]=null})}),!0):!1};ya.unstable_batchedUpdates=VP;ya.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ww(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return Uw(e,t,n,!1,r)};ya.version="18.3.1-next-f1338f8080-20240426";function jq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jq)}catch(e){console.error(e)}}jq(),jB.exports=ya;var Mc=jB.exports;const Dne=kl(Mc);var Gz=Mc;ON.createRoot=Gz.createRoot,ON.hydrateRoot=Gz.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qz="popstate";function Rne(e={}){function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return _C("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fg(i)}return Lne(t,n,null,e)}function ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ine(){return Math.random().toString(36).substring(2,10)}function Xz(e,t){return{usr:e.state,key:e.key,idx:t}}function _C(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pm(t):t,state:n,key:t&&t.key||r||Ine()}}function Fg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Lne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:v})}function m(x,v){l="PUSH";let w=_C(y.location,x,v);u=d()+1;let b=Xz(w,u),j=y.createHref(w);try{a.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}s&&c&&c({action:l,location:y.location,delta:1})}function p(x,v){l="REPLACE";let w=_C(y.location,x,v);u=d();let b=Xz(w,u),j=y.createHref(w);a.replaceState(b,"",j),s&&c&&c({action:l,location:y.location,delta:0})}function g(x){return $ne(x)}let y={get action(){return l},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Qz,h),c=x,()=>{i.removeEventListener(Qz,h),c=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(x){return a.go(x)}};return y}function $ne(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ir(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kq(e,t,n="/"){return Fne(e,t,n,!1)}function Fne(e,t,n,r){let i=typeof t=="string"?Pm(t):t,s=gc(i.pathname||"/",n);if(s==null)return null;let a=Sq(e);Bne(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Zne(s);l=Qne(a[c],u,r)}return l}function Sq(e,t=[],n=[],r="",i=!1){let s=(a,l,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;ir(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=cc([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(ir(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Sq(a.children,t,m,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:Yne(h,a.index),routesMeta:m})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let u of Nq(a.path))s(a,l,!0,u)}),t}function Nq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Nq(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qne=/^:[\w-]+$/,Wne=3,Une=2,Vne=1,Hne=10,Kne=-2,Zz=e=>e==="*";function Yne(e,t){let n=e.split("/"),r=n.length;return n.some(Zz)&&(r+=Kne),t&&(r+=Une),n.filter(i=>!Zz(i)).reduce((i,s)=>i+(qne.test(s)?Wne:s===""?Vne:Hne),r)}function Gne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Qne(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=F_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=F_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:cc([s,h.pathname]),pathnameBase:rre(cc([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=cc([s,h.pathnameBase]))}return a}function F_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let g=l[m]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Xne(e,t=!1,n=!0){Ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Zne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ua(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Jne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ere=e=>Jne.test(e);function tre(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pm(e):e,s;if(n)if(ere(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Ua(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=Jz(n.substring(1),"/"):s=Jz(n,t)}else s=t;return{pathname:s,search:ire(r),hash:sre(i)}}function Jz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tk(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JP(e){let t=nre(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function eE(e,t,n,r=!1){let i;typeof e=="string"?i=Pm(e):(i={...e},ir(!i.pathname||!i.pathname.includes("?"),Tk("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),Tk("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),Tk("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=tre(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var cc=e=>e.join("/").replace(/\/\/+/g,"/"),rre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ire=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function are(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ore(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cq=["POST","PUT","PATCH","DELETE"];new Set(Cq);var lre=["GET",...Cq];new Set(lre);var Em=f.createContext(null);Em.displayName="DataRouter";var Vw=f.createContext(null);Vw.displayName="DataRouterState";f.createContext(!1);var Oq=f.createContext({isTransitioning:!1});Oq.displayName="ViewTransition";var cre=f.createContext(new Map);cre.displayName="Fetchers";var ure=f.createContext(null);ure.displayName="Await";var Za=f.createContext(null);Za.displayName="Navigation";var Wy=f.createContext(null);Wy.displayName="Location";var Ao=f.createContext({outlet:null,matches:[],isDataRoute:!1});Ao.displayName="Route";var tE=f.createContext(null);tE.displayName="RouteError";function dre(e,{relative:t}={}){ir(Mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=f.useContext(Za),{hash:i,pathname:s,search:a}=Uy(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:cc([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Mm(){return f.useContext(Wy)!=null}function Ja(){return ir(Mm(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(Wy).location}var Pq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eq(e){f.useContext(Za).static||f.useLayoutEffect(e)}function xh(){let{isDataRoute:e}=f.useContext(Ao);return e?Nre():hre()}function hre(){ir(Mm(),"useNavigate() may be used only in the context of a <Router> component.");let e=f.useContext(Em),{basename:t,navigator:n}=f.useContext(Za),{matches:r}=f.useContext(Ao),{pathname:i}=Ja(),s=JSON.stringify(JP(r)),a=f.useRef(!1);return Eq(()=>{a.current=!0}),f.useCallback((c,u={})=>{if(Ua(a.current,Pq),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=eE(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}var fre=f.createContext(null);function mre(e){let t=f.useContext(Ao).outlet;return f.useMemo(()=>t&&f.createElement(fre.Provider,{value:e},t),[t,e])}function Uy(e,{relative:t}={}){let{matches:n}=f.useContext(Ao),{pathname:r}=Ja(),i=JSON.stringify(JP(n));return f.useMemo(()=>eE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function pre(e,t){return Mq(e,t)}function Mq(e,t,n,r,i){var w;ir(Mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=f.useContext(Za),{matches:a}=f.useContext(Ao),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let b=h&&h.path||"";Tq(u,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let m=Ja(),p;if(t){let b=typeof t=="string"?Pm(t):t;ir(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=m;let g=p.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=kq(e,{pathname:y});Ua(h||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ua(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=bre(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:cc([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:cc([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,n,r,i);return t&&v?f.createElement(Wy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function gre(){let e=Sre(),t=are(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:s},"ErrorBoundary")," or"," ",f.createElement("code",{style:s},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,a)}var yre=f.createElement(gre,null),xre=class extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?f.createElement(Ao.Provider,{value:this.props.routeContext},f.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vre({routeContext:e,match:t,children:n}){let r=f.useContext(Em);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),f.createElement(Ao.Provider,{value:e},n)}function bre(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ir(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:p}=n,g=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=n&&r?(d,h)=>{var m,p;r(d,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:ore(n.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,m)=>{let p,g=!1,y=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||yre,l&&(c<0&&m===0?(Tq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===m&&(g=!0,x=h.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,m+1)),w=()=>{let b;return p?b=y:g?b=x:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,f.createElement(vre,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(xre,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):w()},null)}function nE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _re(e){let t=f.useContext(Em);return ir(t,nE(e)),t}function wre(e){let t=f.useContext(Vw);return ir(t,nE(e)),t}function jre(e){let t=f.useContext(Ao);return ir(t,nE(e)),t}function rE(e){let t=jre(e),n=t.matches[t.matches.length-1];return ir(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kre(){return rE("useRouteId")}function Sre(){var r;let e=f.useContext(tE),t=wre("useRouteError"),n=rE("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Nre(){let{router:e}=_re("useNavigate"),t=rE("useNavigate"),n=f.useRef(!1);return Eq(()=>{n.current=!0}),f.useCallback(async(i,s={})=>{Ua(n.current,Pq),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var eD={};function Tq(e,t,n){!t&&!eD[e]&&(eD[e]=!0,Ua(!1,n))}f.memo(Cre);function Cre({routes:e,future:t,state:n,unstable_onError:r}){return Mq(e,void 0,n,r,t)}function wC({to:e,replace:t,state:n,relative:r}){ir(Mm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=f.useContext(Za);Ua(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=f.useContext(Ao),{pathname:a}=Ja(),l=xh(),c=eE(e,JP(s),a,r==="path"),u=JSON.stringify(c);return f.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function Ore(e){return mre(e.context)}function fr(e){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pre({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){ir(!Mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[l,i,s,a]);typeof n=="string"&&(n=Pm(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,g=f.useMemo(()=>{let y=gc(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:p},navigationType:r}},[l,u,d,h,m,p,r]);return Ua(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:f.createElement(Za.Provider,{value:c},f.createElement(Wy.Provider,{children:t,value:g}))}function Ere({children:e,location:t}){return pre(jC(e),t)}function jC(e,t=[]){let n=[];return f.Children.forEach(e,(r,i)=>{if(!f.isValidElement(r))return;let s=[...t,i];if(r.type===f.Fragment){n.push.apply(n,jC(r.props.children,s));return}ir(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jC(r.props.children,s)),n.push(a)}),n}var Fb="get",Bb="application/x-www-form-urlencoded";function Hw(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Mre(e){return Hw(e)&&e.tagName.toLowerCase()==="button"}function Tre(e){return Hw(e)&&e.tagName.toLowerCase()==="form"}function Are(e){return Hw(e)&&e.tagName.toLowerCase()==="input"}function zre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dre(e,t){return e.button===0&&(!t||t==="_self")&&!zre(e)}var hv=null;function Rre(){if(hv===null)try{new FormData(document.createElement("form"),0),hv=!1}catch{hv=!0}return hv}var Ire=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ak(e){return e!=null&&!Ire.has(e)?(Ua(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bb}"`),null):e}function Lre(e,t){let n,r,i,s,a;if(Tre(e)){let l=e.getAttribute("action");r=l?gc(l,t):null,n=e.getAttribute("method")||Fb,i=Ak(e.getAttribute("enctype"))||Bb,s=new FormData(e)}else if(Mre(e)||Are(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?gc(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Fb,i=Ak(e.getAttribute("formenctype"))||Ak(l.getAttribute("enctype"))||Bb,s=new FormData(l,e),!Rre()){let{name:u,type:d,value:h}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,h)}}else{if(Hw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fb,r=null,i=Bb,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $re(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&gc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Fre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bre(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qre(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await Fre(s,n);return a.links?a.links():[]}return[]}));return Hre(r.flat(1).filter(Bre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tD(e,t,n,r,i,s){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Wre(e,t,{includeHydrateFallback:n}={}){return Ure(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Ure(e){return[...new Set(e)]}function Vre(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Hre(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Vre(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Aq(){let e=f.useContext(Em);return iE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kre(){let e=f.useContext(Vw);return iE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sE=f.createContext(void 0);sE.displayName="FrameworkContext";function zq(){let e=f.useContext(sE);return iE(e,"You must render this element inside a <HydratedRouter> element"),e}function Yre(e,t){let n=f.useContext(sE),[r,i]=f.useState(!1),[s,a]=f.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=f.useRef(null);f.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let y=v=>{v.forEach(w=>{a(w.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return m.current&&x.observe(m.current),()=>{x.disconnect()}}},[e]),f.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:up(l,p),onBlur:up(c,g),onMouseEnter:up(u,p),onMouseLeave:up(d,g),onTouchStart:up(h,p)}]:[!1,m,{}]}function up(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Gre({page:e,...t}){let{router:n}=Aq(),r=f.useMemo(()=>kq(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?f.createElement(Xre,{page:e,matches:r,...t}):null}function Qre(e){let{manifest:t,routeModules:n}=zq(),[r,i]=f.useState([]);return f.useEffect(()=>{let s=!1;return qre(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function Xre({page:e,matches:t,...n}){let r=Ja(),{manifest:i,routeModules:s}=zq(),{basename:a}=Aq(),{loaderData:l,matches:c}=Kre(),u=f.useMemo(()=>tD(e,t,c,i,r,"data"),[e,t,c,i,r]),d=f.useMemo(()=>tD(e,t,c,i,r,"assets"),[e,t,c,i,r]),h=f.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,y=!1;if(t.forEach(v=>{var b;let w=i.routes[v.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in l&&((b=s[v.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(v.route.id))}),g.size===0)return[];let x=$re(e,a,"data");return y&&g.size>0&&x.searchParams.set("_routes",t.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[a,l,r,i,u,t,e,s]),m=f.useMemo(()=>Wre(d,i),[d,i]),p=Qre(d);return f.createElement(f.Fragment,null,h.map(g=>f.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),m.map(g=>f.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:y})=>f.createElement("link",{key:g,nonce:n.nonce,...y})))}function Zre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Dq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dq&&(window.__reactRouterVersion="7.10.1")}catch{}function Jre({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=f.useRef();i.current==null&&(i.current=Rne({window:r,v5Compat:!0}));let s=i.current,[a,l]=f.useState({action:s.action,location:s.location}),c=f.useCallback(u=>{n===!1?l(u):f.startTransition(()=>l(u))},[n]);return f.useLayoutEffect(()=>s.listen(c),[s,c]),f.createElement(Pre,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n===!0})}var Rq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B_=f.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...m},p){let{basename:g,unstable_useTransitions:y}=f.useContext(Za),x=typeof u=="string"&&Rq.test(u),v,w=!1;if(typeof u=="string"&&x&&(v=u,Dq))try{let P=new URL(window.location.href),A=u.startsWith("//")?new URL(P.protocol+u):new URL(u),R=gc(A.pathname,g);A.origin===P.origin&&R!=null?u=R+A.search+A.hash:w=!0}catch{Ua(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=dre(u,{relative:i}),[j,_,k]=Yre(r,m),C=rie(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:y});function O(P){t&&t(P),P.defaultPrevented||C(P)}let M=f.createElement("a",{...m,...k,href:v||b,onClick:w||s?t:O,ref:Zre(p,_),target:c,"data-discover":!x&&n==="render"?"true":void 0});return j&&!x?f.createElement(f.Fragment,null,M,f.createElement(Gre,{page:b})):M});B_.displayName="Link";var eie=f.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:c,...u},d){let h=Uy(a,{relative:u.relative}),m=Ja(),p=f.useContext(Vw),{navigator:g,basename:y}=f.useContext(Za),x=p!=null&&lie(h)&&l===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&y&&(b=gc(b,y)||b);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=w===v||!i&&w.startsWith(v)&&w.charAt(j)==="/",k=b!=null&&(b===v||!i&&b.startsWith(v)&&b.charAt(v.length)==="/"),C={isActive:_,isPending:k,isTransitioning:x},O=_?t:void 0,M;typeof r=="function"?M=r(C):M=[r,_?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(C):s;return f.createElement(B_,{...u,"aria-current":O,className:M,ref:d,style:P,to:a,viewTransition:l},typeof c=="function"?c(C):c)});eie.displayName="NavLink";var tie=f.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Fb,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},p)=>{let{unstable_useTransitions:g}=f.useContext(Za),y=aie(),x=oie(l,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Rq.test(l),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let _=j.nativeEvent.submitter,k=(_==null?void 0:_.getAttribute("formmethod"))||a,C=()=>y(_||j.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});g&&n!==!1?f.startTransition(()=>C()):C()};return f.createElement("form",{ref:p,method:v,action:x,onSubmit:r?c:b,...m,"data-discover":!w&&e==="render"?"true":void 0})});tie.displayName="Form";function nie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iq(e){let t=f.useContext(Em);return ir(t,nie(e)),t}function rie(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:l}={}){let c=xh(),u=Ja(),d=Uy(e,{relative:s});return f.useCallback(h=>{if(Dre(h,t)){h.preventDefault();let m=n!==void 0?n:Fg(u)===Fg(d),p=()=>c(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a});l?f.startTransition(()=>p()):p()}},[u,c,d,n,r,t,e,i,s,a,l])}var iie=0,sie=()=>`__${String(++iie)}__`;function aie(){let{router:e}=Iq("useSubmit"),{basename:t}=f.useContext(Za),n=kre(),r=e.fetch,i=e.navigate;return f.useCallback(async(s,a={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=Lre(s,t);if(a.navigate===!1){let m=a.fetcherKey||sie();await r(m,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function oie(e,{relative:t}={}){let{basename:n}=f.useContext(Za),r=f.useContext(Ao);ir(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Uy(e||".",{relative:t})},a=Ja();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:cc([n,s.pathname])),Fg(s)}function lie(e,{relative:t}={}){let n=f.useContext(Oq);ir(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Iq("useViewTransitionState"),i=Uy(e,{relative:t});if(!n.isTransitioning)return!1;let s=gc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=gc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return F_(i.pathname,a)!=null||F_(i.pathname,s)!=null}function Lq(e,t){return function(){return e.apply(t,arguments)}}const{toString:cie}=Object.prototype,{getPrototypeOf:aE}=Object,{iterator:Kw,toStringTag:$q}=Symbol,Yw=(e=>t=>{const n=cie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zo=e=>(e=e.toLowerCase(),t=>Yw(t)===e),Gw=e=>t=>typeof t===e,{isArray:Tm}=Array,Jf=Gw("undefined");function Vy(e){return e!==null&&!Jf(e)&&e.constructor!==null&&!Jf(e.constructor)&&Fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fq=zo("ArrayBuffer");function uie(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Fq(e.buffer),t}const die=Gw("string"),Fs=Gw("function"),Bq=Gw("number"),Hy=e=>e!==null&&typeof e=="object",hie=e=>e===!0||e===!1,qb=e=>{if(Yw(e)!=="object")return!1;const t=aE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($q in e)&&!(Kw in e)},fie=e=>{if(!Hy(e)||Vy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},mie=zo("Date"),pie=zo("File"),gie=zo("Blob"),yie=zo("FileList"),xie=e=>Hy(e)&&Fs(e.pipe),vie=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fs(e.append)&&((t=Yw(e))==="formdata"||t==="object"&&Fs(e.toString)&&e.toString()==="[object FormData]"))},bie=zo("URLSearchParams"),[_ie,wie,jie,kie]=["ReadableStream","Request","Response","Headers"].map(zo),Sie=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ky(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Tm(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Vy(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(r=0;r<a;r++)l=s[r],t.call(null,e[l],l,e)}}function qq(e,t){if(Vy(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wq=e=>!Jf(e)&&e!==Nd;function kC(){const{caseless:e,skipUndefined:t}=Wq(this)&&this||{},n={},r=(i,s)=>{const a=e&&qq(n,s)||s;qb(n[a])&&qb(i)?n[a]=kC(n[a],i):qb(i)?n[a]=kC({},i):Tm(i)?n[a]=i.slice():(!t||!Jf(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ky(arguments[i],r);return n}const Nie=(e,t,n,{allOwnKeys:r}={})=>(Ky(t,(i,s)=>{n&&Fs(i)?e[s]=Lq(i,n):e[s]=i},{allOwnKeys:r}),e),Cie=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Oie=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pie=(e,t,n,r)=>{let i,s,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&aE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Eie=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Mie=e=>{if(!e)return null;if(Tm(e))return e;let t=e.length;if(!Bq(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Tie=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&aE(Uint8Array)),Aie=(e,t)=>{const r=(e&&e[Kw]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},zie=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Die=zo("HTMLFormElement"),Rie=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Iie=zo("RegExp"),Uq=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ky(n,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},Lie=e=>{Uq(e,(t,n)=>{if(Fs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$ie=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Tm(e)?r(e):r(String(e).split(t)),n},Fie=()=>{},Bie=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function qie(e){return!!(e&&Fs(e.append)&&e[$q]==="FormData"&&e[Kw])}const Wie=e=>{const t=new Array(10),n=(r,i)=>{if(Hy(r)){if(t.indexOf(r)>=0)return;if(Vy(r))return r;if(!("toJSON"in r)){t[i]=r;const s=Tm(r)?[]:{};return Ky(r,(a,l)=>{const c=n(a,i+1);!Jf(c)&&(s[l]=c)}),t[i]=void 0,s}}return r};return n(e,0)},Uie=zo("AsyncFunction"),Vie=e=>e&&(Hy(e)||Fs(e))&&Fs(e.then)&&Fs(e.catch),Vq=((e,t)=>e?setImmediate:t?((n,r)=>(Nd.addEventListener("message",({source:i,data:s})=>{i===Nd&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Nd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fs(Nd.postMessage)),Hie=typeof queueMicrotask<"u"?queueMicrotask.bind(Nd):typeof process<"u"&&process.nextTick||Vq,Kie=e=>e!=null&&Fs(e[Kw]),_e={isArray:Tm,isArrayBuffer:Fq,isBuffer:Vy,isFormData:vie,isArrayBufferView:uie,isString:die,isNumber:Bq,isBoolean:hie,isObject:Hy,isPlainObject:qb,isEmptyObject:fie,isReadableStream:_ie,isRequest:wie,isResponse:jie,isHeaders:kie,isUndefined:Jf,isDate:mie,isFile:pie,isBlob:gie,isRegExp:Iie,isFunction:Fs,isStream:xie,isURLSearchParams:bie,isTypedArray:Tie,isFileList:yie,forEach:Ky,merge:kC,extend:Nie,trim:Sie,stripBOM:Cie,inherits:Oie,toFlatObject:Pie,kindOf:Yw,kindOfTest:zo,endsWith:Eie,toArray:Mie,forEachEntry:Aie,matchAll:zie,isHTMLForm:Die,hasOwnProperty:nD,hasOwnProp:nD,reduceDescriptors:Uq,freezeMethods:Lie,toObjectSet:$ie,toCamelCase:Rie,noop:Fie,toFiniteNumber:Bie,findKey:qq,global:Nd,isContextDefined:Wq,isSpecCompliantForm:qie,toJSONObject:Wie,isAsyncFn:Uie,isThenable:Vie,setImmediate:Vq,asap:Hie,isIterable:Kie};function Xt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(Xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const Hq=Xt.prototype,Kq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kq[e]={value:e}});Object.defineProperties(Xt,Kq);Object.defineProperty(Hq,"isAxiosError",{value:!0});Xt.from=(e,t,n,r,i,s)=>{const a=Object.create(Hq);_e.toFlatObject(e,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Xt.call(a,l,c,n,r,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const Yie=null;function SC(e){return _e.isPlainObject(e)||_e.isArray(e)}function Yq(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function rD(e,t,n){return e?e.concat(t).map(function(i,s){return i=Yq(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Gie(e){return _e.isArray(e)&&!e.some(SC)}const Qie=_e.toFlatObject(_e,{},null,function(t){return/^is[A-Z]/.test(t)});function Qw(e,t,n){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!_e.isUndefined(x[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(_e.isDate(g))return g.toISOString();if(_e.isBoolean(g))return g.toString();if(!c&&_e.isBlob(g))throw new Xt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(g)||_e.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,x){let v=g;if(g&&!x&&typeof g=="object"){if(_e.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(_e.isArray(g)&&Gie(g)||(_e.isFileList(g)||_e.endsWith(y,"[]"))&&(v=_e.toArray(g)))return y=Yq(y),v.forEach(function(b,j){!(_e.isUndefined(b)||b===null)&&t.append(a===!0?rD([y],j,s):a===null?y:y+"[]",u(b))}),!1}return SC(g)?!0:(t.append(rD(x,y,s),u(g)),!1)}const h=[],m=Object.assign(Qie,{defaultVisitor:d,convertValue:u,isVisitable:SC});function p(g,y){if(!_e.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),_e.forEach(g,function(v,w){(!(_e.isUndefined(v)||v===null)&&i.call(t,v,_e.isString(w)?w.trim():w,y,m))===!0&&p(v,y?y.concat(w):[w])}),h.pop()}}if(!_e.isObject(e))throw new TypeError("data must be an object");return p(e),t}function iD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function oE(e,t){this._pairs=[],e&&Qw(e,this,t)}const Gq=oE.prototype;Gq.append=function(t,n){this._pairs.push([t,n])};Gq.toString=function(t){const n=t?function(r){return t.call(this,r,iD)}:iD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Xie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qq(e,t,n){if(!t)return e;const r=n&&n.encode||Xie;_e.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=_e.isURLSearchParams(t)?t.toString():new oE(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class sD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Xq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zie=typeof URLSearchParams<"u"?URLSearchParams:oE,Jie=typeof FormData<"u"?FormData:null,ese=typeof Blob<"u"?Blob:null,tse={isBrowser:!0,classes:{URLSearchParams:Zie,FormData:Jie,Blob:ese},protocols:["http","https","file","blob","url","data"]},lE=typeof window<"u"&&typeof document<"u",NC=typeof navigator=="object"&&navigator||void 0,nse=lE&&(!NC||["ReactNative","NativeScript","NS"].indexOf(NC.product)<0),rse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ise=lE&&window.location.href||"http://localhost",sse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lE,hasStandardBrowserEnv:nse,hasStandardBrowserWebWorkerEnv:rse,navigator:NC,origin:ise},Symbol.toStringTag,{value:"Module"})),Vi={...sse,...tse};function ase(e,t){return Qw(e,new Vi.classes.URLSearchParams,{visitor:function(n,r,i,s){return Vi.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function ose(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lse(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Zq(e){function t(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=n.length;return a=!a&&_e.isArray(i)?i.length:a,c?(_e.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!_e.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],s)&&_e.isArray(i[a])&&(i[a]=lse(i[a])),!l)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const n={};return _e.forEachEntry(e,(r,i)=>{t(ose(r),i,n,0)}),n}return null}function cse(e,t,n){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Yy={transitional:Xq,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=_e.isObject(t);if(s&&_e.isHTMLForm(t)&&(t=new FormData(t)),_e.isFormData(t))return i?JSON.stringify(Zq(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t)||_e.isReadableStream(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ase(t,this.formSerializer).toString();if((l=_e.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),cse(t)):t}],transformResponse:[function(t){const n=this.transitional||Yy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(t)||_e.isReadableStream(t))return t;if(t&&_e.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Xt.from(l,Xt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vi.classes.FormData,Blob:Vi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{Yy.headers[e]={}});const use=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dse=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&use[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},aD=Symbol("internals");function dp(e){return e&&String(e).trim().toLowerCase()}function Wb(e){return e===!1||e==null?e:_e.isArray(e)?e.map(Wb):String(e)}function hse(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const fse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zk(e,t,n,r,i){if(_e.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!_e.isString(t)){if(_e.isString(r))return t.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(t)}}function mse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pse(e,t){const n=_e.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,a){return this[r].call(this,t,i,s,a)},configurable:!0})})}let Bs=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,c,u){const d=dp(c);if(!d)throw new Error("header name must be a non-empty string");const h=_e.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Wb(l))}const a=(l,c)=>_e.forEach(l,(u,d)=>s(u,d,c));if(_e.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(_e.isString(t)&&(t=t.trim())&&!fse(t))a(dse(t),n);else if(_e.isObject(t)&&_e.isIterable(t)){let l={},c,u;for(const d of t){if(!_e.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?_e.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=dp(t),t){const r=_e.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return hse(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dp(t),t){const r=_e.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||zk(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(a){if(a=dp(a),a){const l=_e.findKey(r,a);l&&(!n||zk(r,r[l],l,n))&&(delete r[l],i=!0)}}return _e.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||zk(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return _e.forEach(this,(i,s)=>{const a=_e.findKey(r,s);if(a){n[a]=Wb(i),delete n[s];return}const l=t?mse(s):String(s).trim();l!==s&&delete n[s],n[l]=Wb(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[aD]=this[aD]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=dp(a);r[l]||(pse(i,a),r[l]=!0)}return _e.isArray(t)?t.forEach(s):s(t),this}};Bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Bs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});_e.freezeMethods(Bs);function Dk(e,t){const n=this||Yy,r=t||n,i=Bs.from(r.headers);let s=r.data;return _e.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Jq(e){return!!(e&&e.__CANCEL__)}function Am(e,t,n){Xt.call(this,e??"canceled",Xt.ERR_CANCELED,t,n),this.name="CanceledError"}_e.inherits(Am,Xt,{__CANCEL__:!0});function e6(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Xt("Request failed with status code "+n.status,[Xt.ERR_BAD_REQUEST,Xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gse(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yse(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[s];a||(a=u),n[i]=c,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-a<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function xse(e,t){let n=0,r=1e3/t,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-h)))},()=>i&&a(i)]}const q_=(e,t,n=3)=>{let r=0;const i=yse(50,250);return xse(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,u=i(c),d=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},oD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lD=e=>(...t)=>_e.asap(()=>e(...t)),vse=Vi.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vi.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vi.origin),Vi.navigator&&/(msie|trident)/i.test(Vi.navigator.userAgent)):()=>!0,bse=Vi.hasStandardBrowserEnv?{write(e,t,n,r,i,s,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];_e.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),_e.isString(r)&&l.push(`path=${r}`),_e.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),_e.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _se(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wse(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function t6(e,t,n){let r=!_se(t);return e&&(r||n==!1)?wse(e,t):t}const cD=e=>e instanceof Bs?{...e}:e;function Jd(e,t){t=t||{};const n={};function r(u,d,h,m){return _e.isPlainObject(u)&&_e.isPlainObject(d)?_e.merge.call({caseless:m},u,d):_e.isPlainObject(d)?_e.merge({},d):_e.isArray(d)?d.slice():d}function i(u,d,h,m){if(_e.isUndefined(d)){if(!_e.isUndefined(u))return r(void 0,u,h,m)}else return r(u,d,h,m)}function s(u,d){if(!_e.isUndefined(d))return r(void 0,d)}function a(u,d){if(_e.isUndefined(d)){if(!_e.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>i(cD(u),cD(d),h,!0)};return _e.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,m=h(e[d],t[d],d);_e.isUndefined(m)&&h!==l||(n[d]=m)}),n}const n6=e=>{const t=Jd({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Bs.from(a),t.url=Qq(t6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_e.isFormData(n)){if(Vi.hasStandardBrowserEnv||Vi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(_e.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Vi.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(t)),r||r!==!1&&vse(t.url))){const c=i&&s&&bse.read(s);c&&a.set(i,c)}return t},jse=typeof XMLHttpRequest<"u",kse=jse&&function(e){return new Promise(function(n,r){const i=n6(e);let s=i.data;const a=Bs.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,m,p,g;function y(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function v(){if(!x)return;const b=Bs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};e6(function(C){n(C),y()},function(C){r(C),y()},_),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(r(new Xt("Request aborted",Xt.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const _=j&&j.message?j.message:"Network Error",k=new Xt(_,Xt.ERR_NETWORK,e,x);k.event=j||null,r(k),x=null},x.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||Xq;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new Xt(j,_.clarifyTimeoutError?Xt.ETIMEDOUT:Xt.ECONNABORTED,e,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&_e.forEach(a.toJSON(),function(j,_){x.setRequestHeader(_,j)}),_e.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),u&&([m,g]=q_(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([h,p]=q_(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=b=>{x&&(r(!b||b.type?new Am(null,e,x):b),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=gse(i.url);if(w&&Vi.protocols.indexOf(w)===-1){r(new Xt("Unsupported protocol "+w+":",Xt.ERR_BAD_REQUEST,e));return}x.send(s||null)})},Sse=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Xt?d:new Am(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,s(new Xt(`timeout ${t} of ms exceeded`,Xt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>_e.asap(l),c}},Nse=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Cse=async function*(e,t){for await(const n of Ose(e))yield*Nse(n,t)},Ose=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},uD=(e,t,n,r)=>{const i=Cse(e,t);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let m=s+=h;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},dD=64*1024,{isFunction:fv}=_e,Pse=(({Request:e,Response:t})=>({Request:e,Response:t}))(_e.global),{ReadableStream:hD,TextEncoder:fD}=_e.global,mD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ese=e=>{e=_e.merge.call({skipUndefined:!0},Pse,e);const{fetch:t,Request:n,Response:r}=e,i=t?fv(t):typeof fetch=="function",s=fv(n),a=fv(r);if(!i)return!1;const l=i&&fv(hD),c=i&&(typeof fD=="function"?(g=>y=>g.encode(y))(new fD):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=s&&l&&mD(()=>{let g=!1;const y=new n(Vi.origin,{body:new hD,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=a&&l&&mD(()=>_e.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(y,x)=>{let v=y&&y[g];if(v)return v.call(y);throw new Xt(`Response type '${g}' is not supported`,Xt.ERR_NOT_SUPPORT,x)})});const m=async g=>{if(g==null)return 0;if(_e.isBlob(g))return g.size;if(_e.isSpecCompliantForm(g))return(await new n(Vi.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(g)||_e.isArrayBuffer(g))return g.byteLength;if(_e.isURLSearchParams(g)&&(g=g+""),_e.isString(g))return(await c(g)).byteLength},p=async(g,y)=>{const x=_e.toFiniteNumber(g.getContentLength());return x??m(y)};return async g=>{let{url:y,method:x,data:v,signal:w,cancelToken:b,timeout:j,onDownloadProgress:_,onUploadProgress:k,responseType:C,headers:O,withCredentials:M="same-origin",fetchOptions:P}=n6(g),A=t||fetch;C=C?(C+"").toLowerCase():"text";let R=Sse([w,b&&b.toAbortSignal()],j),F=null;const V=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let K;try{if(k&&u&&x!=="get"&&x!=="head"&&(K=await p(O,v))!==0){let Y=new n(y,{method:"POST",body:v,duplex:"half"}),ee;if(_e.isFormData(v)&&(ee=Y.headers.get("content-type"))&&O.setContentType(ee),Y.body){const[pe,se]=oD(K,q_(lD(k)));v=uD(Y.body,dD,pe,se)}}_e.isString(M)||(M=M?"include":"omit");const L=s&&"credentials"in n.prototype,W={...P,signal:R,method:x.toUpperCase(),headers:O.normalize().toJSON(),body:v,duplex:"half",credentials:L?M:void 0};F=s&&new n(y,W);let z=await(s?A(F,P):A(y,W));const T=d&&(C==="stream"||C==="response");if(d&&(_||T&&V)){const Y={};["status","statusText","headers"].forEach(he=>{Y[he]=z[he]});const ee=_e.toFiniteNumber(z.headers.get("content-length")),[pe,se]=_&&oD(ee,q_(lD(_),!0))||[];z=new r(uD(z.body,dD,pe,()=>{se&&se(),V&&V()}),Y)}C=C||"text";let q=await h[_e.findKey(h,C)||"text"](z,g);return!T&&V&&V(),await new Promise((Y,ee)=>{e6(Y,ee,{data:q,headers:Bs.from(z.headers),status:z.status,statusText:z.statusText,config:g,request:F})})}catch(L){throw V&&V(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Xt("Network Error",Xt.ERR_NETWORK,g,F),{cause:L.cause||L}):Xt.from(L,L&&L.code,g,F)}}},Mse=new Map,r6=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a=s.length,l=a,c,u,d=Mse;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Ese(t)),d=u;return u};r6();const cE={http:Yie,xhr:kse,fetch:{get:r6}};_e.forEach(cE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pD=e=>`- ${e}`,Tse=e=>_e.isFunction(e)||e===null||e===!1;function Ase(e,t){e=_e.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){r=e[a];let l;if(i=r,!Tse(r)&&(i=cE[(l=String(r)).toLowerCase()],i===void 0))throw new Xt(`Unknown adapter '${l}'`);if(i&&(_e.isFunction(i)||(i=i.get(t))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(pD).join(`
`):" "+pD(a[0]):"as no adapter specified";throw new Xt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const i6={getAdapter:Ase,adapters:cE};function Rk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Am(null,e)}function gD(e){return Rk(e),e.headers=Bs.from(e.headers),e.data=Dk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),i6.getAdapter(e.adapter||Yy.adapter,e)(e).then(function(r){return Rk(e),r.data=Dk.call(e,e.transformResponse,r),r.headers=Bs.from(r.headers),r},function(r){return Jq(r)||(Rk(e),r&&r.response&&(r.response.data=Dk.call(e,e.transformResponse,r.response),r.response.headers=Bs.from(r.response.headers))),Promise.reject(r)})}const s6="1.13.2",Xw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const yD={};Xw.transitional=function(t,n,r){function i(s,a){return"[Axios v"+s6+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(t===!1)throw new Xt(i(a," has been removed"+(n?" in "+n:"")),Xt.ERR_DEPRECATED);return n&&!yD[a]&&(yD[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,l):!0}};Xw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function zse(e,t,n){if(typeof e!="object")throw new Xt("options must be an object",Xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const l=e[s],c=l===void 0||a(l,s,e);if(c!==!0)throw new Xt("option "+s+" must be "+c,Xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xt("Unknown option "+s,Xt.ERR_BAD_OPTION)}}const Ub={assertOptions:zse,validators:Xw},Wo=Ub.validators;let $d=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sD,response:new sD}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Jd(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ub.assertOptions(r,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:Ub.assertOptions(i,{encode:Wo.function,serialize:Wo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ub.assertOptions(n,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Bs.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,m;if(!c){const g=[gD.bind(this),void 0];for(g.unshift(...l),g.push(...u),m=g.length,d=Promise.resolve(n);h<m;)d=d.then(g[h++],g[h++]);return d}m=l.length;let p=n;for(;h<m;){const g=l[h++],y=l[h++];try{p=g(p)}catch(x){y.call(this,x);break}}try{d=gD.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Jd(this.defaults,t);const n=t6(t.baseURL,t.url,t.allowAbsoluteUrls);return Qq(n,t.params,t.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(t){$d.prototype[t]=function(n,r){return this.request(Jd(r||{},{method:t,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,l){return this.request(Jd(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}$d.prototype[t]=n(),$d.prototype[t+"Form"]=n(!0)});let Dse=class a6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,l){r.reason||(r.reason=new Am(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new a6(function(i){t=i}),cancel:t}}};function Rse(e){return function(n){return e.apply(null,n)}}function Ise(e){return _e.isObject(e)&&e.isAxiosError===!0}const CC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(CC).forEach(([e,t])=>{CC[t]=e});function o6(e){const t=new $d(e),n=Lq($d.prototype.request,t);return _e.extend(n,$d.prototype,t,{allOwnKeys:!0}),_e.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return o6(Jd(e,i))},n}const vr=o6(Yy);vr.Axios=$d;vr.CanceledError=Am;vr.CancelToken=Dse;vr.isCancel=Jq;vr.VERSION=s6;vr.toFormData=Qw;vr.AxiosError=Xt;vr.Cancel=vr.CanceledError;vr.all=function(t){return Promise.all(t)};vr.spread=Rse;vr.isAxiosError=Ise;vr.mergeConfig=Jd;vr.AxiosHeaders=Bs;vr.formToJSON=e=>Zq(_e.isHTMLForm(e)?new FormData(e):e);vr.getAdapter=i6.getAdapter;vr.HttpStatusCode=CC;vr.default=vr;const{Axios:$8e,AxiosError:F8e,CanceledError:B8e,isCancel:q8e,CancelToken:W8e,VERSION:U8e,all:V8e,Cancel:H8e,isAxiosError:K8e,spread:Y8e,toFormData:G8e,AxiosHeaders:Q8e,HttpStatusCode:X8e,formToJSON:Z8e,getAdapter:J8e,mergeConfig:eWe}=vr,Bg=e=>e?String(e).trim().replace(/^\/+|\/+$/g,""):"",uE="xboard_admin_token",Lse="token",dE="xboard_admin_ignore_legacy_token",Vb=e=>{const t=String(e??"").trim();return t||null},$se=e=>/^[0-9a-f]{32}$/i.test(e),Fse=e=>/^Bearer\s+\S+/i.test(e),Bse=e=>{const t=e.trim();return t&&(Fse(t)?t:`Bearer ${t}`)},l6=()=>{const e=Vb(localStorage.getItem(uE));if(e)return e;if(Vb(localStorage.getItem(dE)))return null;const n=Vb(localStorage.getItem(Lse));return!n||$se(n)?null:n},hE=()=>!!l6(),qse=e=>{const t=Vb(e);t&&(localStorage.setItem(uE,t),localStorage.removeItem(dE))},c6=()=>{localStorage.removeItem(uE),localStorage.setItem(dE,"1")},u6=e=>{const t=String(e??"").trim();return t?/^https?:\/\//i.test(t)?t.replace(/\/+$/g,""):t==="/"?window.location.origin:t.startsWith("/")?`${window.location.origin}${t}`.replace(/\/+$/g,""):`${window.location.origin}/${t}`.replace(/\/+$/g,""):""},Wse=()=>{const e=Bg(void 0);if(e)return`/${e}`;const t=window.location.pathname.split("/").filter(Boolean),n=t[0]||"",r=t[1]||"";return/^[a-zA-Z0-9_-]{3,64}$/.test(n)&&!(n==="login"||n==="dashboard")?r==="xadmin"?`/${n}/xadmin`:`/${n}`:""};var dB;const Use=u6((dB=window==null?void 0:window.settings)==null?void 0:dB.base_url),Vse=u6("https://sp.huhu.icu"),Gy=Use||Vse||window.location.origin,d6=()=>Gy,Zw=vr.create({baseURL:`${Gy}/api/v1`,headers:{"Content-Type":"application/json"}});let cg=Bg(void 0)||Bg(localStorage.getItem("adminPath"))||"admin";const De=vr.create({baseURL:`${Gy}/api/v2/${cg}`,headers:{"Content-Type":"application/json"}}),Hse=()=>Bg(localStorage.getItem("adminPath"))||cg||"admin",Ik=e=>{cg=Bg(e)||"admin",localStorage.setItem("adminPath",cg),De.defaults.baseURL=`${Gy}/api/v2/${cg}`},h6=e=>{const t=l6();return t&&(e.headers=e.headers||{},e.headers.Authorization=Bse(t)),e};Zw.interceptors.request.use(h6);De.interceptors.request.use(e=>{const t=Hse();return e.baseURL=`${Gy}/api/v2/${t}`,h6(e)});const f6=e=>{var n;const t=(n=e==null?void 0:e.response)==null?void 0:n.status;return(t===401||t===403)&&(c6(),localStorage.removeItem("adminEmail"),window.location.href=`${Wse()}/login`),Promise.reject(e)};Zw.interceptors.response.use(e=>e,f6);De.interceptors.response.use(e=>e,f6);function xD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function br(...e){return t=>{let n=!1;const r=e.map(i=>{const s=xD(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xD(e[i],null)}}}}function en(...e){return f.useCallback(br(...e),e)}var Kse=Symbol.for("react.lazy"),W_=Pw[" use ".trim().toString()];function Yse(e){return typeof e=="object"&&e!==null&&"then"in e}function m6(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Kse&&"_payload"in e&&Yse(e._payload)}function p6(e){const t=Qse(e),n=f.forwardRef((r,i)=>{let{children:s,...a}=r;m6(s)&&typeof W_=="function"&&(s=W_(s._payload));const l=f.Children.toArray(s),c=l.find(Zse);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Gse=p6("Slot");function Qse(e){const t=f.forwardRef((n,r)=>{let{children:i,...s}=n;if(m6(i)&&typeof W_=="function"&&(i=W_(i._payload)),f.isValidElement(i)){const a=eae(i),l=Jse(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xse=Symbol("radix.slottable");function Zse(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xse}function Jse(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function eae(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=g6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=g6(e))&&(r&&(r+=" "),r+=t);return r}const vD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bD=Sn,y6=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const m=vD(d)||vD(h);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...s,...l}[y]):{...s,...l}[y]===x})?[...u,h,m]:u},[]);return bD(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},tae=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},nae=(e,t)=>({classGroupId:e,validator:t}),x6=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),U_="-",_D=[],rae="arbitrary..",iae=e=>{const t=aae(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return sae(a);const l=a.split(U_),c=l[0]===""&&l.length>1?1:0;return v6(l,c,t)},getConflictingClassGroupIds:(a,l)=>{if(l){const c=r[a],u=n[a];return c?u?tae(u,c):c:u||_D}return n[a]||_D}}},v6=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const u=v6(e,t+1,s);if(u)return u}const a=n.validators;if(a===null)return;const l=t===0?e.join(U_):e.slice(t).join(U_),c=a.length;for(let u=0;u<c;u++){const d=a[u];if(d.validator(l))return d.classGroupId}},sae=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?rae+r:void 0})(),aae=e=>{const{theme:t,classGroups:n}=e;return oae(n,t)},oae=(e,t)=>{const n=x6();for(const r in e){const i=e[r];fE(i,n,r,t)}return n},fE=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const a=e[s];lae(a,t,n,r)}},lae=(e,t,n,r)=>{if(typeof e=="string"){cae(e,t,n);return}if(typeof e=="function"){uae(e,t,n,r);return}dae(e,t,n,r)},cae=(e,t,n)=>{const r=e===""?t:b6(t,e);r.classGroupId=n},uae=(e,t,n,r)=>{if(hae(e)){fE(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(nae(n,e))},dae=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[l,c]=i[a];fE(c,b6(t,l),n,r)}},b6=(e,t)=>{let n=e;const r=t.split(U_),i=r.length;for(let s=0;s<i;s++){const a=r[s];let l=n.nextPart.get(a);l||(l=x6(),n.nextPart.set(a,l)),n=l}return n},hae=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,fae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},OC="!",wD=":",mae=[],jD=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),pae=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,l=0,c=0,u;const d=i.length;for(let y=0;y<d;y++){const x=i[y];if(a===0&&l===0){if(x===wD){s.push(i.slice(c,y)),c=y+1;continue}if(x==="/"){u=y;continue}}x==="["?a++:x==="]"?a--:x==="("?l++:x===")"&&l--}const h=s.length===0?i:i.slice(c);let m=h,p=!1;h.endsWith(OC)?(m=h.slice(0,-1),p=!0):h.startsWith(OC)&&(m=h.slice(1),p=!0);const g=u&&u>c?u-c:void 0;return jD(s,p,m,g)};if(t){const i=t+wD,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):jD(mae,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},gae=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],l=a[0]==="[",c=t.has(a);l||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},yae=e=>({cache:fae(e.cacheSize),parseClassName:pae(e),sortModifiers:gae(e),...iae(e)}),xae=/\s+/,vae=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],l=e.trim().split(xae);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:m,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let x=!!y,v=r(x?g.substring(0,y):g);if(!v){if(!x){c=d+(c.length>0?" "+c:c);continue}if(v=r(g),!v){c=d+(c.length>0?" "+c:c);continue}x=!1}const w=m.length===0?"":m.length===1?m[0]:s(m).join(":"),b=p?w+OC:w,j=b+v;if(a.indexOf(j)>-1)continue;a.push(j);const _=i(v,x);for(let k=0;k<_.length;++k){const C=_[k];a.push(b+C)}c=d+(c.length>0?" "+c:c)}return c},bae=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=_6(n))&&(i&&(i+=" "),i+=r);return i},_6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_6(e[r]))&&(n&&(n+=" "),n+=t);return n},_ae=(e,...t)=>{let n,r,i,s;const a=c=>{const u=t.reduce((d,h)=>h(d),e());return n=yae(u),r=n.cache.get,i=n.cache.set,s=l,l(c)},l=c=>{const u=r(c);if(u)return u;const d=vae(c,n);return i(c,d),d};return s=a,(...c)=>s(bae(...c))},wae=[],$r=e=>{const t=n=>n[e]||wae;return t.isThemeGetter=!0,t},w6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,j6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jae=/^\d+\/\d+$/,kae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Cae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zh=e=>jae.test(e),nn=e=>!!e&&!Number.isNaN(Number(e)),Yc=e=>!!e&&Number.isInteger(Number(e)),Lk=e=>e.endsWith("%")&&nn(e.slice(0,-1)),Fl=e=>kae.test(e),Pae=()=>!0,Eae=e=>Sae.test(e)&&!Nae.test(e),k6=()=>!1,Mae=e=>Cae.test(e),Tae=e=>Oae.test(e),Aae=e=>!Ct(e)&&!Ot(e),zae=e=>zm(e,C6,k6),Ct=e=>w6.test(e),sd=e=>zm(e,O6,Eae),$k=e=>zm(e,$ae,nn),kD=e=>zm(e,S6,k6),Dae=e=>zm(e,N6,Tae),mv=e=>zm(e,P6,Mae),Ot=e=>j6.test(e),hp=e=>Dm(e,O6),Rae=e=>Dm(e,Fae),SD=e=>Dm(e,S6),Iae=e=>Dm(e,C6),Lae=e=>Dm(e,N6),pv=e=>Dm(e,P6,!0),zm=(e,t,n)=>{const r=w6.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Dm=(e,t,n=!1)=>{const r=j6.exec(e);return r?r[1]?t(r[1]):n:!1},S6=e=>e==="position"||e==="percentage",N6=e=>e==="image"||e==="url",C6=e=>e==="length"||e==="size"||e==="bg-size",O6=e=>e==="length",$ae=e=>e==="number",Fae=e=>e==="family-name",P6=e=>e==="shadow",Bae=()=>{const e=$r("color"),t=$r("font"),n=$r("text"),r=$r("font-weight"),i=$r("tracking"),s=$r("leading"),a=$r("breakpoint"),l=$r("container"),c=$r("spacing"),u=$r("radius"),d=$r("shadow"),h=$r("inset-shadow"),m=$r("text-shadow"),p=$r("drop-shadow"),g=$r("blur"),y=$r("perspective"),x=$r("aspect"),v=$r("ease"),w=$r("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...j(),Ot,Ct],k=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],O=()=>[Ot,Ct,c],M=()=>[zh,"full","auto",...O()],P=()=>[Yc,"none","subgrid",Ot,Ct],A=()=>["auto",{span:["full",Yc,Ot,Ct]},Yc,Ot,Ct],R=()=>[Yc,"auto",Ot,Ct],F=()=>["auto","min","max","fr",Ot,Ct],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],W=()=>[zh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],z=()=>[e,Ot,Ct],T=()=>[...j(),SD,kD,{position:[Ot,Ct]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",Iae,zae,{size:[Ot,Ct]}],ee=()=>[Lk,hp,sd],pe=()=>["","none","full",u,Ot,Ct],se=()=>["",nn,hp,sd],he=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[nn,Lk,SD,kD],Re=()=>["","none",g,Ot,Ct],ie=()=>["none",nn,Ot,Ct],Ee=()=>["none",nn,Ot,Ct],Te=()=>[nn,Ot,Ct],fe=()=>[zh,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fl],breakpoint:[Fl],color:[Pae],container:[Fl],"drop-shadow":[Fl],ease:["in","out","in-out"],font:[Aae],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fl],shadow:[Fl],spacing:["px",nn],text:[Fl],"text-shadow":[Fl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zh,Ct,Ot,x]}],container:["container"],columns:[{columns:[nn,Ct,Ot,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Yc,"auto",Ot,Ct]}],basis:[{basis:[zh,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nn,zh,"auto","initial","none",Ct]}],grow:[{grow:["",nn,Ot,Ct]}],shrink:[{shrink:["",nn,Ot,Ct]}],order:[{order:[Yc,"first","last","none",Ot,Ct]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,hp,sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ot,$k]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lk,Ct]}],"font-family":[{font:[Rae,Ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ot,Ct]}],"line-clamp":[{"line-clamp":[nn,"none",Ot,$k]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Ot,Ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ot,Ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[nn,"from-font","auto",Ot,sd]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[nn,"auto",Ot,Ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot,Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot,Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yc,Ot,Ct],radial:["",Ot,Ct],conic:[Yc,Ot,Ct]},Lae,Dae]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nn,Ot,Ct]}],"outline-w":[{outline:["",nn,hp,sd]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",d,pv,mv]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,pv,mv]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[nn,sd]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",m,pv,mv]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[nn,Ot,Ct]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nn]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ot,Ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[nn]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ot,Ct]}],filter:[{filter:["","none",Ot,Ct]}],blur:[{blur:Re()}],brightness:[{brightness:[nn,Ot,Ct]}],contrast:[{contrast:[nn,Ot,Ct]}],"drop-shadow":[{"drop-shadow":["","none",p,pv,mv]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",nn,Ot,Ct]}],"hue-rotate":[{"hue-rotate":[nn,Ot,Ct]}],invert:[{invert:["",nn,Ot,Ct]}],saturate:[{saturate:[nn,Ot,Ct]}],sepia:[{sepia:["",nn,Ot,Ct]}],"backdrop-filter":[{"backdrop-filter":["","none",Ot,Ct]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[nn,Ot,Ct]}],"backdrop-contrast":[{"backdrop-contrast":[nn,Ot,Ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nn,Ot,Ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nn,Ot,Ct]}],"backdrop-invert":[{"backdrop-invert":["",nn,Ot,Ct]}],"backdrop-opacity":[{"backdrop-opacity":[nn,Ot,Ct]}],"backdrop-saturate":[{"backdrop-saturate":[nn,Ot,Ct]}],"backdrop-sepia":[{"backdrop-sepia":["",nn,Ot,Ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ot,Ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nn,"initial",Ot,Ct]}],ease:[{ease:["linear","initial",v,Ot,Ct]}],delay:[{delay:[nn,Ot,Ct]}],animate:[{animate:["none",w,Ot,Ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ot,Ct]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[Ot,Ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot,Ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot,Ct]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[nn,hp,sd,$k]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},qae=_ae(Bae);function te(...e){return qae(Sn(e))}const Hb=y6("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-card shadow-sm hover:bg-accent/60 hover:text-foreground",secondary:"bg-muted text-foreground hover:bg-muted/80",ghost:"hover:bg-muted/60 hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Gse:"button";return o.jsx(a,{className:te(Hb({variant:t,size:n,className:e})),ref:s,...i})});B.displayName="Button";const It=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("rounded-lg border border-border/80 bg-card text-card-foreground shadow-[0_8px_24px_rgba(15,23,42,0.06)]",e),...t}));It.displayName="Card";const Jn=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Jn.displayName="CardHeader";const er=f.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));er.displayName="CardTitle";const ha=f.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:te("text-sm text-muted-foreground",e),...t}));ha.displayName="CardDescription";const Lt=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const Wae=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",e),...t}));Wae.displayName="CardFooter";const G=f.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));G.displayName="Input";var Uae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vae=Uae.reduce((e,t)=>{const n=p6(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Hae="Label",E6=f.forwardRef((e,t)=>o.jsx(Vae.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));E6.displayName=Hae;var M6=E6;const Kae=y6("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=f.forwardRef(({className:e,...t},n)=>o.jsx(M6,{ref:n,className:te(Kae(),e),...t}));Z.displayName=M6.displayName;const Kt=e=>typeof e=="string",fp=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},ND=e=>e==null?"":""+e,Yae=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Gae=/###/g,CD=e=>e&&e.indexOf("###")>-1?e.replace(Gae,"."):e,OD=e=>!e||Kt(e),ug=(e,t,n)=>{const r=Kt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(OD(e))return{};const s=CD(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return OD(e)?{}:{obj:e,k:CD(r[i])}},PD=(e,t,n)=>{const{obj:r,k:i}=ug(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],a=t.slice(0,t.length-1),l=ug(e,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=ug(e,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},Qae=(e,t,n,r)=>{const{obj:i,k:s}=ug(e,t,Object);i[s]=i[s]||[],i[s].push(n)},V_=(e,t)=>{const{obj:n,k:r}=ug(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Xae=(e,t,n)=>{const r=V_(e,n);return r!==void 0?r:V_(t,n)},T6=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Kt(e[r])||e[r]instanceof String||Kt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):T6(e[r],t[r],n):e[r]=t[r]);return e},Dh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Zae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Jae=e=>Kt(e)?e.replace(/[&<>"'\/]/g,t=>Zae[t]):e;class eoe{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const toe=[" ",",","?","!",";"],noe=new eoe(20),roe=(e,t,n)=>{t=t||"",n=n||"";const r=toe.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=noe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(e);if(!s){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(s=!0)}return s},PC=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=n),l+=r[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},qg=e=>e==null?void 0:e.replace("_","-"),ioe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class H_{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||ioe,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(Kt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new H_(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new H_(this.logger,t)}}var sl=new H_;let Jw=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[t,...n])})}};class ED extends Jw{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){var u,d;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):Kt(r)&&s?l.push(...r.split(s)):l.push(r)));const c=V_(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!a||!Kt(r)?c:PC((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],r,s)}addResource(t,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(l=t.split("."),i=n,n=l[1]),this.addNamespaces(n),PD(this.data,l,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const s in r)(Kt(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s,a={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=V_(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?T6(c,r,s):c={...c,...r},PD(this.data,l,c),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var A6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{var a;t=((a=this.processors[s])==null?void 0:a.process(t,n,r,i))??t}),t}};const z6=Symbol("i18next/PATH_KEY");function soe(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===z6?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function EC(e,t){const{[z6]:n}=e(soe());return n.join((t==null?void 0:t.keySeparator)??".")}const MD={},Fk=e=>!Kt(e)&&typeof e!="boolean"&&typeof e!="number";class K_ extends Jw{constructor(t,n={}){super(),Yae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=sl.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);if((i==null?void 0:i.res)===void 0)return!1;const s=Fk(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!roe(t,r,i);if(a&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Kt(s)?[s]:s};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:Kt(s)?[s]:s}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=EC(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const p=this.resolve(t,i);let g=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||l,x=(p==null?void 0:p.exactUsedKey)||l,v=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,j=i.count!==void 0&&!Kt(i.count),_=K_.hasDefaultValue(i),k=j?this.pluralResolver.getSuffix(h,i.count,i):"",C=i.ordinal&&j?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",O=j&&!i.ordinal&&i.count===0,M=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${C}`]||i.defaultValue;let P=g;b&&!g&&_&&(P=M);const A=Fk(P),R=Object.prototype.toString.apply(P);if(b&&P&&A&&v.indexOf(R)<0&&!(Kt(w)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,P,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(p.res=F,p.usedParams=this.getUsedParamsDetails(i),p):F}if(a){const F=Array.isArray(P),V=F?[]:{},K=F?x:y;for(const L in P)if(Object.prototype.hasOwnProperty.call(P,L)){const W=`${K}${a}${L}`;_&&!g?V[L]=this.translate(W,{...i,defaultValue:Fk(M)?M[L]:void 0,joinArrays:!1,ns:c}):V[L]=this.translate(W,{...i,joinArrays:!1,ns:c}),V[L]===W&&(V[L]=P[L])}g=V}}else if(b&&Kt(w)&&Array.isArray(g))g=g.join(w),g&&(g=this.extendTranslation(g,t,i,r));else{let F=!1,V=!1;!this.isValidLookup(g)&&_&&(F=!0,g=M),this.isValidLookup(g)||(V=!0,g=l);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:g,W=_&&M!==g&&this.options.updateMissing;if(V||F||W){if(this.logger.log(W?"updateKey":"missingKey",h,u,l,W?M:g),a){const Y=this.resolve(l,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const T=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&T&&T[0])for(let Y=0;Y<T.length;Y++)z.push(T[Y]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(i.lng||this.language):z.push(i.lng||this.language);const q=(Y,ee,pe)=>{var he;const se=_&&pe!==g?pe:L;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,ee,se,W,i):(he=this.backendConnector)!=null&&he.saveMissing&&this.backendConnector.saveMissing(Y,u,ee,se,W,i),this.emit("missingKey",Y,u,ee,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?z.forEach(Y=>{const ee=this.pluralResolver.getSuffixes(Y,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(pe=>{q([Y],l+pe,i[`defaultValue${pe}`]||M)})}):q(z,l,M))}g=this.extendTranslation(g,t,i,p,r),V&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(V||F)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,F?g:void 0,i))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(t,n,r,i,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Kt(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=r.replace&&!Kt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,r.lng||this.language||i.usedLng,r),d){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Kt(a)?[a]:a;return t!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(t=A6.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,s,a,l;return Kt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Kt(n.count),p=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Kt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var v,w;this.isValidLookup(r)||(l=x,!MD[`${y[0]}-${x}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(MD[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{var k;if(this.isValidLookup(r))return;a=b;const j=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,b,x,n);else{let C;m&&(C=this.pluralResolver.getSuffix(b,n.count,n));const O=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&C.indexOf(M)===0&&j.push(d+C.replace(M,this.options.pluralSeparator)),j.push(d+C),p&&j.push(d+O)),g){const P=`${d}${this.options.contextSeparator||"_"}${n.context}`;j.push(P),m&&(n.ordinal&&C.indexOf(M)===0&&j.push(P+C.replace(M,this.options.pluralSeparator)),j.push(P+C),p&&j.push(P+O))}}let _;for(;_=j.pop();)this.isValidLookup(r)||(s=_,r=this.getResource(b,x,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Kt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class TD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sl.create("languageUtils")}getScriptPartFromCode(t){if(t=qg(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=qg(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Kt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Kt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Kt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Kt(t)&&s(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const AD={zero:0,one:1,two:2,few:3,many:4,other:5},zD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class aoe{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=sl.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=qg(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zD;if(!t.match(/-|_/))return zD;const c=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(c,n)}return this.pluralRulesCache[s]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>AD[i]-AD[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const DD=(e,t,n,r=".",i=!0)=>{let s=Xae(e,t,n);return!s&&i&&Kt(n)&&(s=PC(e,n,r),s===void 0&&(s=PC(t,n,r))),s},Bk=e=>e.replace(/\$/g,"$$$$");class RD{constructor(t={}){var n;this.logger=sl.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:v,alwaysFormat:w}=t.interpolation;this.escape=n!==void 0?n:Jae,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Dh(s):a||"{{",this.suffix=l?Dh(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?Dh(m):p||Dh("$t("),this.nestingSuffix=g?Dh(g):y||Dh(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=v||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var p;let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=DD(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...n,interpolationkey:g}):w}const y=g.split(this.formatSeparator),x=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(DD(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Bk(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Bk(this.escape(g)):Bk(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const y=s[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const v=d(t,s,i);a=Kt(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!Kt(a)&&!this.useRawValueToEscape&&(a=ND(a));const x=g.safeValue(a);if(t=t.replace(s[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,s,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,a);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];a={...r},a=a.replace&&!Kt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(l.call(this,i[1].trim(),a),a),s&&i[0]===t&&!Kt(s))return s;Kt(s)||(s=ND(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const ooe=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},ID=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let l=t[a];return l||(l=e(qg(r),i),t[a]=l),l(n)}},loe=e=>(t,n,r)=>e(qg(n),r)(t);class coe{constructor(t={}){this.logger=sl.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?ID:loe;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=ID(n)}format(t,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=ooe(c);if(this.formats[u]){let m=l;try{const p=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;m=this.formats[u](l,g,{...d,...i,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const uoe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class doe extends Jw{constructor(t,n,r,i={}){var s,a;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=sl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(t,n,r,i){const s={},a={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,d=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Qae(c.loaded,[s],a),uoe(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,i=0,s=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,a)},s);return}a(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Kt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Kt(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(t,a,l)})}saveMissing(t,n,r,i,s,a={},l=()=>{}){var c,u,d,h,m;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const p={...a,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,r,i,p):y=g(t,n,r,i),y&&typeof y.then=="function"?y.then(x=>l(null,x)).catch(l):l(null,y)}catch(y){l(y)}else g(t,n,r,i,l,p)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const LD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Kt(e[1])&&(t.defaultValue=e[1]),Kt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),$D=e=>{var t,n;return Kt(e.ns)&&(e.ns=[e.ns]),Kt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Kt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},gv=()=>{},hoe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class dg extends Jw{constructor(t={},n){if(super(),this.options=$D(t),this.services={},this.logger=sl,this.modules={external:[]},hoe(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Kt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=LD();this.options={...r,...this.options,...$D(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?sl.init(i(this.modules.logger),this.options):sl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=coe;const d=new TD(this.options);this.store=new ED(this.options.resources,this.options);const h=this.services;h.logger=sl,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new aoe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=i(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new RD(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new doe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new K_(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=gv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=fp(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=gv){var s,a;let r=n;const i=Kt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const i=fp();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=gv),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&A6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=fp();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},a=l=>{var d,h;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Kt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Kt(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,m=>{s(m,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){const i=(s,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(l)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(h=>(typeof h=="function"&&(h=EC(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof s=="function"&&(s=EC(s,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Kt(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}loadNamespaces(t,n){const r=fp();return this.options.ns?(Kt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=fp();Kt(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new TD(LD());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new dg(t,n);return r.createInstance=dg.createInstance,r}cloneInstance(t={},n=gv){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new dg(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});s.store=new ED(l,i),s.services.resourceStore=s.store}return t.interpolation&&(s.services.interpolator=new RD(i)),s.translator=new K_(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xs=dg.createInstance();xs.createInstance;xs.dir;xs.init;xs.loadResources;xs.reloadResources;xs.use;xs.changeLanguage;xs.getFixedT;xs.t;xs.exists;xs.setDefaultNamespace;xs.hasLoadedNamespace;xs.loadNamespaces;xs.loadLanguages;const foe=(e,t,n,r)=>{var s,a,l,c;const i=[n,{code:t,...r||{}}];if((a=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&a.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);eh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},FD={},D6=(e,t,n,r)=>{eh(n)&&FD[n]||(eh(n)&&(FD[n]=new Date),foe(e,t,n,r))},R6=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},MC=(e,t,n)=>{e.loadNamespaces(t,R6(e,n))},BD=(e,t,n,r)=>{if(eh(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return MC(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,R6(e,r))},moe=(e,t,n={})=>!t.languages||!t.languages.length?(D6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),eh=e=>typeof e=="string",poe=e=>typeof e=="object"&&e!==null,goe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yoe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},xoe=e=>yoe[e],voe=e=>e.replace(goe,xoe);let TC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:voe,transDefaultProps:void 0};const boe=(e={})=>{TC={...TC,...e}},_oe=()=>TC;let I6;const woe=e=>{I6=e},joe=()=>I6,koe={type:"3rdParty",init(e){boe(e.options.react),woe(e)}},Soe=f.createContext();class Noe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var L6={exports:{}},$6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=f;function Coe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ooe=typeof Object.is=="function"?Object.is:Coe,Poe=em.useState,Eoe=em.useEffect,Moe=em.useLayoutEffect,Toe=em.useDebugValue;function Aoe(e,t){var n=t(),r=Poe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Moe(function(){i.value=n,i.getSnapshot=t,qk(i)&&s({inst:i})},[e,n,t]),Eoe(function(){return qk(i)&&s({inst:i}),e(function(){qk(i)&&s({inst:i})})},[e]),Toe(n),n}function qk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ooe(e,n)}catch{return!0}}function zoe(e,t){return t()}var Doe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zoe:Aoe;$6.useSyncExternalStore=em.useSyncExternalStore!==void 0?em.useSyncExternalStore:Doe;L6.exports=$6;var F6=L6.exports;const Roe=(e,t)=>eh(t)?t:poe(t)&&eh(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Ioe={t:Roe,ready:!1},Loe=()=>()=>{},Ut=(e,t={})=>{var M,P,A;const{i18n:n}=t,{i18n:r,defaultNS:i}=f.useContext(Soe)||{},s=n||r||joe();s&&!s.reportNamespaces&&(s.reportNamespaces=new Noe),s||D6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=f.useMemo(()=>{var R;return{..._oe(),...(R=s==null?void 0:s.options)==null?void 0:R.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=a,u=i||((M=s==null?void 0:s.options)==null?void 0:M.defaultNS),d=eh(u)?[u]:u||["translation"],h=f.useMemo(()=>d,d);(A=(P=s==null?void 0:s.reportNamespaces)==null?void 0:P.addUsedNamespaces)==null||A.call(P,h);const m=f.useRef(0),p=f.useCallback(R=>{if(!s)return Loe;const{bindI18n:F,bindI18nStore:V}=a,K=()=>{m.current+=1,R()};return F&&s.on(F,K),V&&s.store.on(V,K),()=>{F&&F.split(" ").forEach(L=>s.off(L,K)),V&&V.split(" ").forEach(L=>s.store.off(L,K))}},[s,a]),g=f.useRef(),y=f.useCallback(()=>{if(!s)return Ioe;const R=!!(s.isInitialized||s.initializedStoreOnce)&&h.every(z=>moe(z,s,a)),F=t.lng||s.language,V=m.current,K=g.current;if(K&&K.ready===R&&K.lng===F&&K.keyPrefix===c&&K.revision===V)return K;const W={t:s.getFixedT(F,a.nsMode==="fallback"?h:h[0],c),ready:R,lng:F,keyPrefix:c,revision:V};return g.current=W,W},[s,h,c,a,t.lng]),[x,v]=f.useState(0),{t:w,ready:b}=F6.useSyncExternalStore(p,y,y);f.useEffect(()=>{if(s&&!b&&!l){const R=()=>v(F=>F+1);t.lng?BD(s,t.lng,h,R):MC(s,h,R)}},[s,t.lng,h,b,l,x]);const j=s||{},_=f.useRef(null),k=f.useRef(),C=R=>{const F=Object.getOwnPropertyDescriptors(R);F.__original&&delete F.__original;const V=Object.create(Object.getPrototypeOf(R),F);if(!Object.prototype.hasOwnProperty.call(V,"__original"))try{Object.defineProperty(V,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return V},O=f.useMemo(()=>{const R=j,F=R==null?void 0:R.language;let V=R;R&&(_.current&&_.current.__original===R?k.current!==F?(V=C(R),_.current=V,k.current=F):V=_.current:(V=C(R),_.current=V,k.current=F));const K=[w,V,b];return K.t=w,K.i18n=V,K.ready=b,K},[w,j,b,j.resolvedLanguage,j.language,j.languages]);if(s&&l&&!b)throw new Promise(R=>{const F=()=>R();t.lng?BD(s,t.lng,h,F):MC(s,h,F)});return O};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Foe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),qD=e=>{const t=Foe(e);return t.charAt(0).toUpperCase()+t.slice(1)},B6=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Boe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>f.createElement("svg",{ref:c,...qoe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:B6("lucide",i),...!s&&!Boe(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>f.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=f.forwardRef(({className:r,...i},s)=>f.createElement(Woe,{ref:s,iconNode:t,className:B6(`lucide-${$oe(qD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=qD(e),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Y_=Ue("activity",Uoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vh=Ue("arrow-down",Voe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Koe=Ue("arrow-left",Hoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ns=Ue("arrow-up-down",Yoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],WD=Ue("arrow-up-right",Goe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],bh=Ue("arrow-up",Qoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],Zoe=Ue("badge-percent",Xoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],q6=Ue("bell",Joe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],W6=Ue("bold",ele);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nle=Ue("book-open",tle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],ile=Ue("calendar-clock",rle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],U6=Ue("calendar",sle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ole=Ue("chart-column",ale);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mE=Ue("check",lle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tc=Ue("chevron-down",cle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ej=Ue("chevron-left",ule);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rm=Ue("chevron-right",dle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pE=Ue("chevron-up",hle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],Qy=Ue("chevrons-down",fle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],tj=Ue("chevrons-left",mle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],nj=Ue("chevrons-right",ple);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],Xy=Ue("chevrons-up",gle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tf=Ue("circle-check",yle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]],vle=Ue("circle-off",xle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fd=Ue("circle-x",ble);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wle=Ue("circle",_le);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Wk=Ue("clipboard-list",jle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AC=Ue("clock",kle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Nle=Ue("code",Sle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ci=Ue("copy",Cle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],V6=Ue("credit-card",Ole);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UD=Ue("dollar-sign",Ple);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mle=Ue("download",Ele);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],H6=Ue("ellipsis",Tle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zC=Ue("eye",Ale);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],G_=Ue("file-down",zle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wg=Ue("file-text",Dle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ile=Ue("folder-plus",Rle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],$le=Ue("gauge",Lle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ble=Ue("gift",Fle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Wle=Ue("globe",qle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Zy=Ue("grip-vertical",Ule);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Hle=Ue("heading-2",Vle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K6=Ue("image",Kle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kb=Ue("info",Yle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Y6=Ue("italic",Gle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],VD=Ue("key-round",Qle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zle=Ue("layout-dashboard",Xle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],G6=Ue("link-2",Jle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tce=Ue("link",ece);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],rce=Ue("list-checks",nce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Q6=Ue("list-ordered",ice);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],X6=Ue("list",sce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Uk=Ue("loader-circle",ace);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lce=Ue("log-out",oce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Z6=Ue("mail",cce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dce=Ue("menu",uce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],HD=Ue("message-square",hce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mce=Ue("moon",fce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yv=Ue("octagon-x",pce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],yce=Ue("palette",gce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ur=Ue("pencil",xce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qs=Ue("plus",vce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],_ce=Ue("puzzle",bce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],jce=Ue("quote",wce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M13 16H8",key:"wsln4y"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M4 3a1 1 0 0 1 1-1 1.3 1.3 0 0 1 .7.2l.933.6a1.3 1.3 0 0 0 1.4 0l.934-.6a1.3 1.3 0 0 1 1.4 0l.933.6a1.3 1.3 0 0 0 1.4 0l.933-.6a1.3 1.3 0 0 1 1.4 0l.934.6a1.3 1.3 0 0 0 1.4 0l.933-.6A1.3 1.3 0 0 1 19 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1 1.3 1.3 0 0 1-.7-.2l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.934.6a1.3 1.3 0 0 1-1.4 0l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-1.4 0l-.934-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-.7.2 1 1 0 0 1-1-1z",key:"ycz6yz"}]],KD=Ue("receipt-text",kce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],J6=Ue("redo",Sce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gn=Ue("refresh-cw",Nce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hg=Ue("rotate-ccw",Cce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Pce=Ue("route",Oce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],va=Ue("save",Ece);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oi=Ue("search",Mce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gE=Ue("send",Tce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],zce=Ue("server-cog",Ace);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],rj=Ue("server",Dce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e8=Ue("settings",Rce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=Ue("shield-question-mark",Ice);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],t8=Ue("shield",Lce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],YD=Ue("shield-x",$ce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bce=Ue("shopping-cart",Fce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],n8=Ue("sliders-horizontal",qce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],r8=Ue("smartphone",Wce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vce=Ue("sun",Uce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],GD=Ue("terminal",Hce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Q_=Ue("ticket",Kce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Gce=Ue("timer",Yce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tn=Ue("trash-2",Qce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vv=Ue("triangle-alert",Xce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],i8=Ue("undo",Zce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ug=Ue("upload",Jce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tue=Ue("user-cog",eue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DC=Ue("user-plus",nue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tm=Ue("users",rue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ij=Ue("wallet",iue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bd=Ue("x",sue),s8="admin-theme",aue=()=>{var t;if(typeof window>"u")return"light";const e=localStorage.getItem(s8);return e==="light"||e==="dark"?e:(t=window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches?"dark":"light"};function a8(){const{t:e}=Ut(),[t,n]=f.useState(()=>aue());f.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem(s8,t)},[t]);const r=f.useMemo(()=>e(t==="dark"?"common.light":"common.dark"),[t,e]);return o.jsx(B,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>n(i=>i==="dark"?"light":"dark"),"aria-label":r,children:t==="dark"?o.jsx(Vce,{className:"h-4 w-4"}):o.jsx(mce,{className:"h-4 w-4"})})}function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function oue(e,t){const n=f.createContext(t),r=s=>{const{children:a,...l}=s,c=f.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ba(e,t=[]){let n=[];function r(s,a){const l=f.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:m,children:p,...g}=h,y=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=f.useMemo(()=>g,Object.values(g));return o.jsx(y.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(h,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=f.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,lue(i,...t)]}function lue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var fi=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},cue=Pw[" useInsertionEffect ".trim().toString()]||fi;function yl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=uue({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=f.useCallback(d=>{var h;if(l){const m=due(d)?d(e):d;m!==e&&((h=a.current)==null||h.call(a,m))}else s(d)},[l,e,s,a]);return[c,u]}function uue({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),i=f.useRef(n),s=f.useRef(t);return cue(()=>{s.current=t},[t]),f.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function due(e){return typeof e=="function"}function hue(e){const t=fue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(pue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function fue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=yue(i),l=gue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mue=Symbol("radix.slottable");function pue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mue}function gue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function yue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vue=xue.reduce((e,t)=>{const n=hue(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function QD(e){const t=bue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(wue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function bue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=kue(i),l=jue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _ue=Symbol("radix.slottable");function wue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_ue}function jue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function kue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yE(e){const t=e+"CollectionProvider",[n,r]=ba(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:x,children:v}=y,w=lt.useRef(null),b=lt.useRef(new Map).current;return o.jsx(i,{scope:x,itemMap:b,collectionRef:w,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=QD(l),u=lt.forwardRef((y,x)=>{const{scope:v,children:w}=y,b=s(l,v),j=en(x,b.collectionRef);return o.jsx(c,{ref:j,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=QD(d),p=lt.forwardRef((y,x)=>{const{scope:v,children:w,...b}=y,j=lt.useRef(null),_=en(x,j),k=s(d,v);return lt.useEffect(()=>(k.itemMap.set(j,{ref:j,...b}),()=>void k.itemMap.delete(j))),o.jsx(m,{[h]:"",ref:_,children:w})});p.displayName=d;function g(y){const x=s(e+"CollectionConsumer",y);return lt.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,C)=>b.indexOf(k.ref.current)-b.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var Sue=f.createContext(void 0);function Jy(e){const t=f.useContext(Sue);return e||t||"ltr"}function Nue(e){const t=Cue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Pue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Cue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Mue(i),l=Eue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oue=Symbol("radix.slottable");function Pue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oue}function Eue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Mue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],o8=Tue.reduce((e,t)=>{const n=Nue(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Aue(e,t){e&&Mc.flushSync(()=>e.dispatchEvent(t))}function Si(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function zue(e,t=globalThis==null?void 0:globalThis.document){const n=Si(e);f.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Due="DismissableLayer",RC="dismissableLayer.update",Rue="dismissableLayer.pointerDownOutside",Iue="dismissableLayer.focusOutside",XD,l8=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ex=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=f.useContext(l8),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),g=en(t,C=>h(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(x),w=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=v,_=Fue(C=>{const O=C.target,M=[...u.branches].some(P=>P.contains(O));!j||M||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),k=Bue(C=>{const O=C.target;[...u.branches].some(P=>P.contains(O))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return zue(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XD=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=XD)}},[d,m,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZD())},[d,u]),f.useEffect(()=>{const C=()=>p({});return document.addEventListener(RC,C),()=>document.removeEventListener(RC,C)},[]),o.jsx(o8.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,_.onPointerDownCapture)})});ex.displayName=Due;var Lue="DismissableLayerBranch",$ue=f.forwardRef((e,t)=>{const n=f.useContext(l8),r=f.useRef(null),i=en(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(o8.div,{...e,ref:i})});$ue.displayName=Lue;function Fue(e,t=globalThis==null?void 0:globalThis.document){const n=Si(e),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){c8(Rue,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Bue(e,t=globalThis==null?void 0:globalThis.document){const n=Si(e),r=f.useRef(!1);return f.useEffect(()=>{const i=s=>{s.target&&!r.current&&c8(Iue,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZD(){const e=new CustomEvent(RC);document.dispatchEvent(e)}function c8(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Aue(i,s):i.dispatchEvent(s)}var Vk=0;function sj(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JD()),document.body.insertAdjacentElement("beforeend",e[1]??JD()),Vk++,()=>{Vk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vk--}},[])}function JD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function que(e){const t=Wue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Vue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Wue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Kue(i),l=Hue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Uue=Symbol("radix.slottable");function Vue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Uue}function Hue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Kue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gue=Yue.reduce((e,t)=>{const n=que(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Hk="focusScope.autoFocusOnMount",Kk="focusScope.autoFocusOnUnmount",eR={bubbles:!1,cancelable:!0},Que="FocusScope",tx=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=f.useState(null),u=Si(i),d=Si(s),h=f.useRef(null),m=en(t,y=>c(y)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:nu(h.current,{select:!0})},x=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||nu(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&nu(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,p.paused]),f.useEffect(()=>{if(l){nR.add(p);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(Hk,eR);l.addEventListener(Hk,u),l.dispatchEvent(v),v.defaultPrevented||(Xue(nde(u8(l)),{select:!0}),document.activeElement===y&&nu(l))}return()=>{l.removeEventListener(Hk,u),setTimeout(()=>{const v=new CustomEvent(Kk,eR);l.addEventListener(Kk,d),l.dispatchEvent(v),v.defaultPrevented||nu(y??document.body,{select:!0}),l.removeEventListener(Kk,d),nR.remove(p)},0)}}},[l,u,d,p]);const g=f.useCallback(y=>{if(!n&&!r||p.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(x&&v){const w=y.currentTarget,[b,j]=Zue(w);b&&j?!y.shiftKey&&v===j?(y.preventDefault(),n&&nu(b,{select:!0})):y.shiftKey&&v===b&&(y.preventDefault(),n&&nu(j,{select:!0})):v===w&&y.preventDefault()}},[n,r,p.paused]);return o.jsx(Gue.div,{tabIndex:-1,...a,ref:m,onKeyDown:g})});tx.displayName=Que;function Xue(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(nu(r,{select:t}),document.activeElement!==n)return}function Zue(e){const t=u8(e),n=tR(t,e),r=tR(t.reverse(),e);return[n,r]}function u8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tR(e,t){for(const n of e)if(!Jue(n,{upTo:t}))return n}function Jue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ede(e){return e instanceof HTMLInputElement&&"select"in e}function nu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ede(e)&&t&&e.select()}}var nR=tde();function tde(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rR(e,t),e.unshift(t)},remove(t){var n;e=rR(e,t),(n=e[0])==null||n.resume()}}}function rR(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function nde(e){return e.filter(t=>t.tagName!=="A")}var rde=Pw[" useId ".trim().toString()]||(()=>{}),ide=0;function $a(e){const[t,n]=f.useState(rde());return fi(()=>{n(r=>r??String(ide++))},[e]),t?`radix-${t}`:""}const sde=["top","right","bottom","left"],Au=Math.min,ra=Math.max,X_=Math.round,bv=Math.floor,fl=e=>({x:e,y:e}),ade={left:"right",right:"left",bottom:"top",top:"bottom"},ode={start:"end",end:"start"};function IC(e,t,n){return ra(e,Au(t,n))}function yc(e,t){return typeof e=="function"?e(t):e}function xc(e){return e.split("-")[0]}function Im(e){return e.split("-")[1]}function xE(e){return e==="x"?"y":"x"}function vE(e){return e==="y"?"height":"width"}const lde=new Set(["top","bottom"]);function al(e){return lde.has(xc(e))?"y":"x"}function bE(e){return xE(al(e))}function cde(e,t,n){n===void 0&&(n=!1);const r=Im(e),i=bE(e),s=vE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Z_(a)),[a,Z_(a)]}function ude(e){const t=Z_(e);return[LC(e),t,LC(t)]}function LC(e){return e.replace(/start|end/g,t=>ode[t])}const iR=["left","right"],sR=["right","left"],dde=["top","bottom"],hde=["bottom","top"];function fde(e,t,n){switch(e){case"top":case"bottom":return n?t?sR:iR:t?iR:sR;case"left":case"right":return t?dde:hde;default:return[]}}function mde(e,t,n,r){const i=Im(e);let s=fde(xc(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(LC)))),s}function Z_(e){return e.replace(/left|right|bottom|top/g,t=>ade[t])}function pde(e){return{top:0,right:0,bottom:0,left:0,...e}}function d8(e){return typeof e!="number"?pde(e):{top:e,right:e,bottom:e,left:e}}function J_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function aR(e,t,n){let{reference:r,floating:i}=e;const s=al(t),a=bE(t),l=vE(a),c=xc(t),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Im(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const gde=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=aR(u,r,c),m=r,p={},g=0;for(let y=0;y<l.length;y++){const{name:x,fn:v}=l[y],{x:w,y:b,data:j,reset:_}=await v({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,h=b??h,p={...p,[x]:{...p[x],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:h}=aR(u,m,c)),y=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:p}};async function Vg(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=yc(t,e),g=d8(p),x=l[m?h==="floating"?"reference":"floating":h],v=J_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},_=J_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(v.top-_.top+g.top)/j.y,bottom:(_.bottom-v.bottom+g.bottom)/j.y,left:(v.left-_.left+g.left)/j.x,right:(_.right-v.right+g.right)/j.x}}const yde=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=yc(e,t)||{};if(u==null)return{};const h=d8(d),m={x:n,y:r},p=bE(i),g=vE(p),y=await a.getDimensions(u),x=p==="y",v=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[p]-m[p]-s.floating[g],_=m[p]-s.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=k?k[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[b]||s.floating[g]);const O=j/2-_/2,M=C/2-y[g]/2-1,P=Au(h[v],M),A=Au(h[w],M),R=P,F=C-y[g]-A,V=C/2-y[g]/2+O,K=IC(R,V,F),L=!c.arrow&&Im(i)!=null&&V!==K&&s.reference[g]/2-(V<R?P:A)-y[g]/2<0,W=L?V<R?V-R:V-F:0;return{[p]:m[p]+W,data:{[p]:K,centerOffset:V-K-W,...L&&{alignmentOffset:W}},reset:L}}}),xde=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=yc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=xc(i),w=al(l),b=xc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(b||!y?[Z_(l)]:ude(l)),k=g!=="none";!m&&k&&_.push(...mde(l,y,g,j));const C=[l,..._],O=await Vg(t,x),M=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&M.push(O[v]),h){const V=cde(i,a,j);M.push(O[V[0]],O[V[1]])}if(P=[...P,{placement:i,overflows:M}],!M.every(V=>V<=0)){var A,R;const V=(((A=s.flip)==null?void 0:A.index)||0)+1,K=C[V];if(K&&(!(h==="alignment"?w!==al(K):!1)||P.every(z=>al(z.placement)===w?z.overflows[0]>0:!0)))return{data:{index:V,overflows:P},reset:{placement:K}};let L=(R=P.filter(W=>W.overflows[0]<=0).sort((W,z)=>W.overflows[1]-z.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(p){case"bestFit":{var F;const W=(F=P.filter(z=>{if(k){const T=al(z.placement);return T===w||T==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(T=>T>0).reduce((T,q)=>T+q,0)]).sort((z,T)=>z[1]-T[1])[0])==null?void 0:F[0];W&&(L=W);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function oR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lR(e){return sde.some(t=>e[t]>=0)}const vde=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=yc(e,t);switch(r){case"referenceHidden":{const s=await Vg(t,{...i,elementContext:"reference"}),a=oR(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lR(a)}}}case"escaped":{const s=await Vg(t,{...i,altBoundary:!0}),a=oR(s,n.floating);return{data:{escapedOffsets:a,escaped:lR(a)}}}default:return{}}}}},h8=new Set(["left","top"]);async function bde(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=xc(n),l=Im(n),c=al(n)==="y",u=h8.has(a)?-1:1,d=s&&c?-1:1,h=yc(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const _de=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await bde(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},wde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...c}=yc(e,t),u={x:n,y:r},d=await Vg(t,c),h=al(xc(i)),m=xE(h);let p=u[m],g=u[h];if(s){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=p+d[x],b=p-d[v];p=IC(w,p,b)}if(a){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=g+d[x],b=g-d[v];g=IC(w,g,b)}const y=l.fn({...t,[m]:p,[h]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[h]:a}}}}}},jde=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yc(e,t),d={x:n,y:r},h=al(i),m=xE(h);let p=d[m],g=d[h];const y=yc(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=m==="y"?"height":"width",j=s.reference[m]-s.floating[b]+x.mainAxis,_=s.reference[m]+s.reference[b]-x.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var v,w;const b=m==="y"?"width":"height",j=h8.has(xc(i)),_=s.reference[h]-s.floating[b]+(j&&((v=a.offset)==null?void 0:v[h])||0)+(j?0:x.crossAxis),k=s.reference[h]+s.reference[b]+(j?0:((w=a.offset)==null?void 0:w[h])||0)-(j?x.crossAxis:0);g<_?g=_:g>k&&(g=k)}return{[m]:p,[h]:g}}}},kde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=yc(e,t),d=await Vg(t,u),h=xc(i),m=Im(i),p=al(i)==="y",{width:g,height:y}=s.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,x=m==="end"?"top":"bottom");const w=y-d.top-d.bottom,b=g-d.left-d.right,j=Au(y-d[x],w),_=Au(g-d[v],b),k=!t.middlewareData.shift;let C=j,O=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=w),k&&!m){const P=ra(d.left,0),A=ra(d.right,0),R=ra(d.top,0),F=ra(d.bottom,0);p?O=g-2*(P!==0||A!==0?P+A:ra(d.left,d.right)):C=y-2*(R!==0||F!==0?R+F:ra(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:C});const M=await a.getDimensions(l.floating);return g!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function aj(){return typeof window<"u"}function Lm(e){return f8(e)?(e.nodeName||"").toLowerCase():"#document"}function ca(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sl(e){var t;return(t=(f8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f8(e){return aj()?e instanceof Node||e instanceof ca(e).Node:!1}function Co(e){return aj()?e instanceof Element||e instanceof ca(e).Element:!1}function xl(e){return aj()?e instanceof HTMLElement||e instanceof ca(e).HTMLElement:!1}function cR(e){return!aj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ca(e).ShadowRoot}const Sde=new Set(["inline","contents"]);function nx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Sde.has(i)}const Nde=new Set(["table","td","th"]);function Cde(e){return Nde.has(Lm(e))}const Ode=[":popover-open",":modal"];function oj(e){return Ode.some(t=>{try{return e.matches(t)}catch{return!1}})}const Pde=["transform","translate","scale","rotate","perspective"],Ede=["transform","translate","scale","rotate","perspective","filter"],Mde=["paint","layout","strict","content"];function _E(e){const t=wE(),n=Co(e)?Oo(e):e;return Pde.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ede.some(r=>(n.willChange||"").includes(r))||Mde.some(r=>(n.contain||"").includes(r))}function Tde(e){let t=zu(e);for(;xl(t)&&!nm(t);){if(_E(t))return t;if(oj(t))return null;t=zu(t)}return null}function wE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ade=new Set(["html","body","#document"]);function nm(e){return Ade.has(Lm(e))}function Oo(e){return ca(e).getComputedStyle(e)}function lj(e){return Co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zu(e){if(Lm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cR(e)&&e.host||Sl(e);return cR(t)?t.host:t}function m8(e){const t=zu(e);return nm(t)?e.ownerDocument?e.ownerDocument.body:e.body:xl(t)&&nx(t)?t:m8(t)}function Hg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=m8(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=ca(i);if(s){const l=$C(a);return t.concat(a,a.visualViewport||[],nx(i)?i:[],l&&n?Hg(l):[])}return t.concat(i,Hg(i,[],n))}function $C(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p8(e){const t=Oo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xl(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=X_(n)!==s||X_(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function jE(e){return Co(e)?e:e.contextElement}function Af(e){const t=jE(e);if(!xl(t))return fl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=p8(t);let a=(s?X_(n.width):n.width)/r,l=(s?X_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const zde=fl(0);function g8(e){const t=ca(e);return!wE()||!t.visualViewport?zde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dde(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ca(e)?!1:t}function th(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=jE(e);let a=fl(1);t&&(r?Co(r)&&(a=Af(r)):a=Af(e));const l=Dde(s,n,r)?g8(s):fl(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const m=ca(s),p=r&&Co(r)?ca(r):r;let g=m,y=$C(g);for(;y&&r&&p!==g;){const x=Af(y),v=y.getBoundingClientRect(),w=Oo(y),b=v.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,j=v.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=j,g=ca(y),y=$C(g)}}return J_({width:d,height:h,x:c,y:u})}function cj(e,t){const n=lj(e).scrollLeft;return t?t.left+n:th(Sl(e)).left+n}function y8(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-cj(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Rde(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Sl(r),l=t?oj(t.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=fl(1);const d=fl(0),h=xl(r);if((h||!h&&!s)&&((Lm(r)!=="body"||nx(a))&&(c=lj(r)),xl(r))){const p=th(r);u=Af(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!h&&!s?y8(a,c):fl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Ide(e){return Array.from(e.getClientRects())}function Lde(e){const t=Sl(e),n=lj(e),r=e.ownerDocument.body,i=ra(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ra(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+cj(e);const l=-n.scrollTop;return Oo(r).direction==="rtl"&&(a+=ra(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const uR=25;function $de(e,t){const n=ca(e),r=Sl(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=wE();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=cj(r);if(u<=0){const d=r.ownerDocument,h=d.body,m=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-p);g<=uR&&(s-=g)}else u<=uR&&(s+=u);return{width:s,height:a,x:l,y:c}}const Fde=new Set(["absolute","fixed"]);function Bde(e,t){const n=th(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=xl(e)?Af(e):fl(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function dR(e,t,n){let r;if(t==="viewport")r=$de(e,n);else if(t==="document")r=Lde(Sl(e));else if(Co(t))r=Bde(t,n);else{const i=g8(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return J_(r)}function x8(e,t){const n=zu(e);return n===t||!Co(n)||nm(n)?!1:Oo(n).position==="fixed"||x8(n,t)}function qde(e,t){const n=t.get(e);if(n)return n;let r=Hg(e,[],!1).filter(l=>Co(l)&&Lm(l)!=="body"),i=null;const s=Oo(e).position==="fixed";let a=s?zu(e):e;for(;Co(a)&&!nm(a);){const l=Oo(a),c=_E(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Fde.has(i.position)||nx(a)&&!c&&x8(e,a))?r=r.filter(d=>d!==a):i=l,a=zu(a)}return t.set(e,r),r}function Wde(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?oj(t)?[]:qde(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=dR(t,d,i);return u.top=ra(h.top,u.top),u.right=Au(h.right,u.right),u.bottom=Au(h.bottom,u.bottom),u.left=ra(h.left,u.left),u},dR(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ude(e){const{width:t,height:n}=p8(e);return{width:t,height:n}}function Vde(e,t,n){const r=xl(t),i=Sl(t),s=n==="fixed",a=th(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=fl(0);function u(){c.x=cj(i)}if(r||!r&&!s)if((Lm(t)!=="body"||nx(i))&&(l=lj(t)),r){const p=th(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?y8(i,l):fl(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Yk(e){return Oo(e).position==="static"}function hR(e,t){if(!xl(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Sl(e)===n&&(n=n.ownerDocument.body),n}function v8(e,t){const n=ca(e);if(oj(e))return n;if(!xl(e)){let i=zu(e);for(;i&&!nm(i);){if(Co(i)&&!Yk(i))return i;i=zu(i)}return n}let r=hR(e,t);for(;r&&Cde(r)&&Yk(r);)r=hR(r,t);return r&&nm(r)&&Yk(r)&&!_E(r)?n:r||Tde(e)||n}const Hde=async function(e){const t=this.getOffsetParent||v8,n=this.getDimensions,r=await n(e.floating);return{reference:Vde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Kde(e){return Oo(e).direction==="rtl"}const Yde={convertOffsetParentRelativeRectToViewportRelativeRect:Rde,getDocumentElement:Sl,getClippingRect:Wde,getOffsetParent:v8,getElementRects:Hde,getClientRects:Ide,getDimensions:Ude,getScale:Af,isElement:Co,isRTL:Kde};function b8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gde(e,t){let n=null,r;const i=Sl(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const g=bv(h),y=bv(i.clientWidth-(d+m)),x=bv(i.clientHeight-(h+p)),v=bv(d),b={rootMargin:-g+"px "+-y+"px "+-x+"px "+-v+"px",threshold:ra(0,Au(1,c))||1};let j=!0;function _(k){const C=k[0].intersectionRatio;if(C!==c){if(!j)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!b8(u,e.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),s}function Qde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=jE(e),d=i||s?[...u?Hg(u):[],...Hg(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=u&&l?Gde(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,y=c?th(e):null;c&&x();function x(){const v=th(e);y&&!b8(y,v)&&n(),y=v,g=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const Xde=_de,Zde=wde,Jde=xde,ehe=kde,the=vde,fR=yde,nhe=jde,rhe=(e,t,n)=>{const r=new Map,i={platform:Yde,...n},s={...i.platform,_c:r};return gde(e,t,{...i,platform:s})};var ihe=typeof document<"u",she=function(){},Yb=ihe?f.useLayoutEffect:she;function e0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!e0(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!e0(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function _8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mR(e,t){const n=_8(e);return Math.round(t*n)/n}function Gk(e){const t=f.useRef(e);return Yb(()=>{t.current=e}),t}function ahe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(r);e0(m,r)||p(r);const[g,y]=f.useState(null),[x,v]=f.useState(null),w=f.useCallback(z=>{z!==k.current&&(k.current=z,y(z))},[]),b=f.useCallback(z=>{z!==C.current&&(C.current=z,v(z))},[]),j=s||g,_=a||x,k=f.useRef(null),C=f.useRef(null),O=f.useRef(d),M=c!=null,P=Gk(c),A=Gk(i),R=Gk(u),F=f.useCallback(()=>{if(!k.current||!C.current)return;const z={placement:t,strategy:n,middleware:m};A.current&&(z.platform=A.current),rhe(k.current,C.current,z).then(T=>{const q={...T,isPositioned:R.current!==!1};V.current&&!e0(O.current,q)&&(O.current=q,Mc.flushSync(()=>{h(q)}))})},[m,t,n,A,R]);Yb(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const V=f.useRef(!1);Yb(()=>(V.current=!0,()=>{V.current=!1}),[]),Yb(()=>{if(j&&(k.current=j),_&&(C.current=_),j&&_){if(P.current)return P.current(j,_,F);F()}},[j,_,F,P,M]);const K=f.useMemo(()=>({reference:k,floating:C,setReference:w,setFloating:b}),[w,b]),L=f.useMemo(()=>({reference:j,floating:_}),[j,_]),W=f.useMemo(()=>{const z={position:n,left:0,top:0};if(!L.floating)return z;const T=mR(L.floating,d.x),q=mR(L.floating,d.y);return l?{...z,transform:"translate("+T+"px, "+q+"px)",..._8(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:q}},[n,l,L.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:F,refs:K,elements:L,floatingStyles:W}),[d,F,K,L,W])}const ohe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fR({element:r.current,padding:i}).fn(n):{}:r?fR({element:r,padding:i}).fn(n):{}}}},lhe=(e,t)=>({...Xde(e),options:[e,t]}),che=(e,t)=>({...Zde(e),options:[e,t]}),uhe=(e,t)=>({...nhe(e),options:[e,t]}),dhe=(e,t)=>({...Jde(e),options:[e,t]}),hhe=(e,t)=>({...ehe(e),options:[e,t]}),fhe=(e,t)=>({...the(e),options:[e,t]}),mhe=(e,t)=>({...ohe(e),options:[e,t]});function phe(e){const t=ghe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(xhe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function ghe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=bhe(i),l=vhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yhe=Symbol("radix.slottable");function xhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yhe}function vhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function bhe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _he=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],whe=_he.reduce((e,t)=>{const n=phe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),jhe="Arrow",w8=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return o.jsx(whe.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});w8.displayName=jhe;var khe=w8;function She(e){const t=Nhe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Ohe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Nhe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Ehe(i),l=Phe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Che=Symbol("radix.slottable");function Ohe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Che}function Phe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Ehe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Mhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j8=Mhe.reduce((e,t)=>{const n=She(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kE(e){const[t,n]=f.useState(void 0);return fi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var SE="Popper",[k8,$m]=ba(SE),[The,S8]=k8(SE),N8=e=>{const{__scopePopper:t,children:n}=e,[r,i]=f.useState(null);return o.jsx(The,{scope:t,anchor:r,onAnchorChange:i,children:n})};N8.displayName=SE;var C8="PopperAnchor",O8=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=S8(C8,n),a=f.useRef(null),l=en(t,a),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(j8.div,{...i,ref:l})});O8.displayName=C8;var NE="PopperContent",[Ahe,zhe]=k8(NE),P8=f.forwardRef((e,t)=>{var J,Re,ie,Ee,Te,fe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,x=S8(NE,n),[v,w]=f.useState(null),b=en(t,X=>w(X)),[j,_]=f.useState(null),k=kE(j),C=(k==null?void 0:k.width)??0,O=(k==null?void 0:k.height)??0,M=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,F={padding:P,boundary:A.filter(Rhe),altBoundary:R},{refs:V,floatingStyles:K,placement:L,isPositioned:W,middlewareData:z}=ahe({strategy:"fixed",placement:M,whileElementsMounted:(...X)=>Qde(...X,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[lhe({mainAxis:i+O,alignmentAxis:a}),c&&che({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uhe():void 0,...F}),c&&dhe({...F}),hhe({...F,apply:({elements:X,rects:ke,availableWidth:Q,availableHeight:Se})=>{const{width:re,height:Ne}=ke.reference,Oe=X.floating.style;Oe.setProperty("--radix-popper-available-width",`${Q}px`),Oe.setProperty("--radix-popper-available-height",`${Se}px`),Oe.setProperty("--radix-popper-anchor-width",`${re}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),j&&mhe({element:j,padding:l}),Ihe({arrowWidth:C,arrowHeight:O}),m&&fhe({strategy:"referenceHidden",...F})]}),[T,q]=T8(L),Y=Si(g);fi(()=>{W&&(Y==null||Y())},[W,Y]);const ee=(J=z.arrow)==null?void 0:J.x,pe=(Re=z.arrow)==null?void 0:Re.y,se=((ie=z.arrow)==null?void 0:ie.centerOffset)!==0,[he,Pe]=f.useState();return fi(()=>{v&&Pe(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:W?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ee=z.transformOrigin)==null?void 0:Ee.x,(Te=z.transformOrigin)==null?void 0:Te.y].join(" "),...((fe=z.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Ahe,{scope:n,placedSide:T,onArrowChange:_,arrowX:ee,arrowY:pe,shouldHideArrow:se,children:o.jsx(j8.div,{"data-side":T,"data-align":q,...y,ref:b,style:{...y.style,animation:W?void 0:"none"}})})})});P8.displayName=NE;var E8="PopperArrow",Dhe={top:"bottom",right:"left",bottom:"top",left:"right"},M8=f.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=zhe(E8,r),a=Dhe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(khe,{...i,ref:n,style:{...i.style,display:"block"}})})});M8.displayName=E8;function Rhe(e){return e!==null}var Ihe=e=>({name:"transformOrigin",options:e,fn(t){var x,v,w;const{placement:n,rects:r,middlewareData:i}=t,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=T8(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=a?h:`${m}px`,y=`${-c}px`):u==="top"?(g=a?h:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=a?h:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,y=a?h:`${p}px`),{data:{x:g,y}}}});function T8(e){const[t,n="center"]=e.split("-");return[t,n]}var CE=N8,uj=O8,OE=P8,PE=M8;function Lhe(e){const t=$he(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Bhe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function $he(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Whe(i),l=qhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fhe=Symbol("radix.slottable");function Bhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fhe}function qhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Whe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vhe=Uhe.reduce((e,t)=>{const n=Lhe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Hhe="Portal",rx=f.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,s]=f.useState(!1);fi(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Dne.createPortal(o.jsx(Vhe.div,{...r,ref:t}),a):null});rx.displayName=Hhe;function Khe(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Mi=e=>{const{present:t,children:n}=e,r=Yhe(t),i=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=en(r.ref,Ghe(i));return typeof n=="function"||r.isPresent?f.cloneElement(i,{ref:s}):null};Mi.displayName="Presence";function Yhe(e){const[t,n]=f.useState(),r=f.useRef(null),i=f.useRef(e),s=f.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Khe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=_v(r.current);s.current=l==="mounted"?u:"none"},[l]),fi(()=>{const u=r.current,d=i.current;if(d!==e){const m=s.current,p=_v(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),fi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const y=_v(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=p=>{p.target===t&&(s.current=_v(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _v(e){return(e==null?void 0:e.animationName)||"none"}function Ghe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function A8(e){const t=Qhe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Zhe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Qhe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=efe(i),l=Jhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xhe=Symbol("radix.slottable");function Zhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xhe}function Jhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function efe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ix=tfe.reduce((e,t)=>{const n=A8(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nfe(e,t){e&&Mc.flushSync(()=>e.dispatchEvent(t))}function rfe(e){const t=ife(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(afe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function ife(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=lfe(i),l=ofe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sfe=Symbol("radix.slottable");function afe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sfe}function ofe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function lfe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z8=cfe.reduce((e,t)=>{const n=rfe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Qk="rovingFocusGroup.onEntryFocus",ufe={bubbles:!1,cancelable:!0},sx="RovingFocusGroup",[FC,D8,dfe]=yE(sx),[hfe,dj]=ba(sx,[dfe]),[ffe,mfe]=hfe(sx),R8=f.forwardRef((e,t)=>o.jsx(FC.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(FC.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pfe,{...e,ref:t})})}));R8.displayName=sx;var pfe=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=en(t,m),g=Jy(s),[y,x]=yl({prop:a,defaultProp:l??null,onChange:c,caller:sx}),[v,w]=f.useState(!1),b=Si(u),j=D8(n),_=f.useRef(!1),[k,C]=f.useState(0);return f.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(Qk,b),()=>O.removeEventListener(Qk,b)},[b]),o.jsx(ffe,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:f.useCallback(O=>x(O),[x]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(O=>O+1),[]),onFocusableItemRemove:f.useCallback(()=>C(O=>O-1),[]),children:o.jsx(z8.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{_.current=!0}),onFocus:dt(e.onFocus,O=>{const M=!_.current;if(O.target===O.currentTarget&&M&&!v){const P=new CustomEvent(Qk,ufe);if(O.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=j().filter(L=>L.focusable),R=A.find(L=>L.active),F=A.find(L=>L.id===y),K=[R,F,...A].filter(Boolean).map(L=>L.ref.current);$8(K,d)}}_.current=!1}),onBlur:dt(e.onBlur,()=>w(!1))})})}),I8="RovingFocusGroupItem",L8=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=$a(),u=s||c,d=mfe(I8,n),h=d.currentTabStopId===u,m=D8(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),o.jsx(FC.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(z8.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=xfe(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const j=b.indexOf(x.currentTarget);b=d.loop?vfe(b,j+1):b.slice(j+1)}setTimeout(()=>$8(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});L8.displayName=I8;var gfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xfe(e,t,n){const r=yfe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gfe[r]}function $8(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function vfe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var F8=R8,B8=L8,bfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rh=new WeakMap,wv=new WeakMap,jv={},Xk=0,q8=function(e){return e&&(e.host||q8(e.parentNode))},_fe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=q8(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wfe=function(e,t,n,r){var i=_fe(t,Array.isArray(e)?e:[e]);jv[n]||(jv[n]=new WeakMap);var s=jv[n],a=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",y=(Rh.get(m)||0)+1,x=(s.get(m)||0)+1;Rh.set(m,y),s.set(m,x),a.push(m),y===1&&g&&wv.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),Xk++,function(){a.forEach(function(h){var m=Rh.get(h)-1,p=s.get(h)-1;Rh.set(h,m),s.set(h,p),m||(wv.has(h)||h.removeAttribute(r),wv.delete(h)),p||h.removeAttribute(n)}),Xk--,Xk||(Rh=new WeakMap,Rh=new WeakMap,wv=new WeakMap,jv={})}},hj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=bfe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),wfe(r,i,n,"aria-hidden")):function(){return null}},el=function(){return el=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},el.apply(this,arguments)};function W8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jfe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Gb="right-scroll-bar-position",Qb="width-before-scroll-bar",kfe="with-scroll-bars-hidden",Sfe="--removed-body-scroll-bar-size";function Zk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nfe(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Cfe=typeof window<"u"?f.useLayoutEffect:f.useEffect,pR=new WeakMap;function Ofe(e,t){var n=Nfe(null,function(r){return e.forEach(function(i){return Zk(i,r)})});return Cfe(function(){var r=pR.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(l){s.has(l)||Zk(l,null)}),s.forEach(function(l){i.has(l)||Zk(l,a)})}pR.set(n,e)},[e]),n}function Pfe(e){return e}function Efe(e,t){t===void 0&&(t=Pfe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function Mfe(e){e===void 0&&(e={});var t=Efe(null);return t.options=el({async:!0,ssr:!1},e),t}var U8=function(e){var t=e.sideCar,n=W8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,el({},n))};U8.isSideCarExport=!0;function Tfe(e,t){return e.useMedium(t),U8}var V8=Mfe(),Jk=function(){},fj=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Jk,onWheelCapture:Jk,onTouchMoveCapture:Jk}),i=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,y=e.inert,x=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,b=e.gapMode,j=W8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,k=Ofe([n,t]),C=el(el({},j),i);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:V8,removeScrollBar:u,shards:h,noRelative:p,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:b}),a?f.cloneElement(f.Children.only(l),el(el({},C),{ref:k})):f.createElement(w,el({},C,{className:c,ref:k}),l))});fj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fj.classNames={fullWidth:Qb,zeroRight:Gb};var Afe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Afe();return t&&e.setAttribute("nonce",t),e}function Dfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Rfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ife=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zfe())&&(Dfe(t,n),Rfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Lfe=function(){var e=Ife();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},H8=function(){var e=Lfe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$fe={left:0,top:0,right:0,gap:0},eS=function(e){return parseInt(e||"",10)||0},Ffe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[eS(n),eS(r),eS(i)]},Bfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $fe;var t=Ffe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},qfe=H8(),zf="data-scroll-locked",Wfe=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(zf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Gb," .").concat(Gb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qb," .").concat(Qb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zf,`] {
    `).concat(Sfe,": ").concat(l,`px;
  }
`)},gR=function(){var e=parseInt(document.body.getAttribute(zf)||"0",10);return isFinite(e)?e:0},Ufe=function(){f.useEffect(function(){return document.body.setAttribute(zf,(gR()+1).toString()),function(){var e=gR()-1;e<=0?document.body.removeAttribute(zf):document.body.setAttribute(zf,e.toString())}},[])},Vfe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Ufe();var s=f.useMemo(function(){return Bfe(i)},[i]);return f.createElement(qfe,{styles:Wfe(s,!t,i,n?"":"!important")})},BC=!1;if(typeof window<"u")try{var kv=Object.defineProperty({},"passive",{get:function(){return BC=!0,!0}});window.addEventListener("test",kv,kv),window.removeEventListener("test",kv,kv)}catch{BC=!1}var Ih=BC?{passive:!1}:!1,Hfe=function(e){return e.tagName==="TEXTAREA"},K8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Hfe(e)&&n[t]==="visible")},Kfe=function(e){return K8(e,"overflowY")},Yfe=function(e){return K8(e,"overflowX")},yR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Y8(e,r);if(i){var s=G8(e,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gfe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Qfe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Y8=function(e,t){return e==="v"?Kfe(t):Yfe(t)},G8=function(e,t){return e==="v"?Gfe(t):Qfe(t)},Xfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Zfe=function(e,t,n,r,i){var s=Xfe(e,window.getComputedStyle(t).direction),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var p=G8(e,l),g=p[0],y=p[1],x=p[2],v=y-x-s*g;(g||v)&&Y8(e,l)&&(h+=v,m+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Sv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xR=function(e){return[e.deltaX,e.deltaY]},vR=function(e){return e&&"current"in e?e.current:e},Jfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tme=0,Lh=[];function nme(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(tme++)[0],s=f.useState(H8)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jfe([e.lockRef.current],(e.shards||[]).map(vR),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=Sv(y),w=n.current,b="deltaX"in y?y.deltaX:w[0]-v[0],j="deltaY"in y?y.deltaY:w[1]-v[1],_,k=y.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in y&&C==="h"&&k.type==="range")return!1;var O=window.getSelection(),M=O&&O.anchorNode,P=M?M===k||M.contains(k):!1;if(P)return!1;var A=yR(C,k);if(!A)return!0;if(A?_=C:(_=C==="v"?"h":"v",A=yR(C,k)),!A)return!1;if(!r.current&&"changedTouches"in y&&(b||j)&&(r.current=_),!_)return!0;var R=r.current||_;return Zfe(R,x,y,R==="h"?b:j)},[]),c=f.useCallback(function(y){var x=y;if(!(!Lh.length||Lh[Lh.length-1]!==s)){var v="deltaY"in x?xR(x):Sv(x),w=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Jfe(_.delta,v)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(vR).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=b.length>0?l(x,b[0]):!a.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=f.useCallback(function(y,x,v,w){var b={name:y,delta:x,target:v,should:w,shadowParent:rme(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=f.useCallback(function(y){n.current=Sv(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,xR(y),y.target,l(y,e.lockRef.current))},[]),m=f.useCallback(function(y){u(y.type,Sv(y),y.target,l(y,e.lockRef.current))},[]);f.useEffect(function(){return Lh.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ih),document.addEventListener("touchmove",c,Ih),document.addEventListener("touchstart",d,Ih),function(){Lh=Lh.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Ih),document.removeEventListener("touchmove",c,Ih),document.removeEventListener("touchstart",d,Ih)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(s,{styles:eme(i)}):null,p?f.createElement(Vfe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ime=Tfe(V8,nme);var ax=f.forwardRef(function(e,t){return f.createElement(fj,el({},e,{ref:t,sideCar:ime}))});ax.classNames=fj.classNames;var qC=["Enter"," "],sme=["ArrowDown","PageUp","Home"],Q8=["ArrowUp","PageDown","End"],ame=[...sme,...Q8],ome={ltr:[...qC,"ArrowRight"],rtl:[...qC,"ArrowLeft"]},lme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ox="Menu",[Kg,cme,ume]=yE(ox),[_h,X8]=ba(ox,[ume,$m,dj]),mj=$m(),Z8=dj(),[dme,wh]=_h(ox),[hme,lx]=_h(ox),J8=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,l=mj(t),[c,u]=f.useState(null),d=f.useRef(!1),h=Si(s),m=Jy(i);return f.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(CE,{...l,children:o.jsx(dme,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(hme,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};J8.displayName=ox;var fme="MenuAnchor",EE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=mj(n);return o.jsx(uj,{...i,...r,ref:t})});EE.displayName=fme;var ME="MenuPortal",[mme,eW]=_h(ME,{forceMount:void 0}),tW=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=wh(ME,t);return o.jsx(mme,{scope:t,forceMount:n,children:o.jsx(Mi,{present:n||s.open,children:o.jsx(rx,{asChild:!0,container:i,children:r})})})};tW.displayName=ME;var Fa="MenuContent",[pme,TE]=_h(Fa),nW=f.forwardRef((e,t)=>{const n=eW(Fa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=wh(Fa,e.__scopeMenu),a=lx(Fa,e.__scopeMenu);return o.jsx(Kg.Provider,{scope:e.__scopeMenu,children:o.jsx(Mi,{present:r||s.open,children:o.jsx(Kg.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(gme,{...i,ref:t}):o.jsx(yme,{...i,ref:t})})})})}),gme=f.forwardRef((e,t)=>{const n=wh(Fa,e.__scopeMenu),r=f.useRef(null),i=en(t,r);return f.useEffect(()=>{const s=r.current;if(s)return hj(s)},[]),o.jsx(AE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),yme=f.forwardRef((e,t)=>{const n=wh(Fa,e.__scopeMenu);return o.jsx(AE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xme=A8("MenuContent.ScrollLock"),AE=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...y}=e,x=wh(Fa,n),v=lx(Fa,n),w=mj(n),b=Z8(n),j=cme(n),[_,k]=f.useState(null),C=f.useRef(null),O=en(t,C,x.onContentChange),M=f.useRef(0),P=f.useRef(""),A=f.useRef(0),R=f.useRef(null),F=f.useRef("right"),V=f.useRef(0),K=g?ax:f.Fragment,L=g?{as:xme,allowPinchZoom:!0}:void 0,W=T=>{var J,Re;const q=P.current+T,Y=j().filter(ie=>!ie.disabled),ee=document.activeElement,pe=(J=Y.find(ie=>ie.ref.current===ee))==null?void 0:J.textValue,se=Y.map(ie=>ie.textValue),he=Eme(se,q,pe),Pe=(Re=Y.find(ie=>ie.textValue===he))==null?void 0:Re.ref.current;(function ie(Ee){P.current=Ee,window.clearTimeout(M.current),Ee!==""&&(M.current=window.setTimeout(()=>ie(""),1e3))})(q),Pe&&setTimeout(()=>Pe.focus())};f.useEffect(()=>()=>window.clearTimeout(M.current),[]),sj();const z=f.useCallback(T=>{var Y,ee;return F.current===((Y=R.current)==null?void 0:Y.side)&&Tme(T,(ee=R.current)==null?void 0:ee.area)},[]);return o.jsx(pme,{scope:n,searchRef:P,onItemEnter:f.useCallback(T=>{z(T)&&T.preventDefault()},[z]),onItemLeave:f.useCallback(T=>{var q;z(T)||((q=C.current)==null||q.focus(),k(null))},[z]),onTriggerLeave:f.useCallback(T=>{z(T)&&T.preventDefault()},[z]),pointerGraceTimerRef:A,onPointerGraceIntentChange:f.useCallback(T=>{R.current=T},[]),children:o.jsx(K,{...L,children:o.jsx(tx,{asChild:!0,trapped:i,onMountAutoFocus:dt(s,T=>{var q;T.preventDefault(),(q=C.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ex,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:o.jsx(F8,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:dt(c,T=>{v.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(OE,{role:"menu","aria-orientation":"vertical","data-state":xW(x.open),"data-radix-menu-content":"",dir:v.dir,...w,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:dt(y.onKeyDown,T=>{const Y=T.target.closest("[data-radix-menu-content]")===T.currentTarget,ee=T.ctrlKey||T.altKey||T.metaKey,pe=T.key.length===1;Y&&(T.key==="Tab"&&T.preventDefault(),!ee&&pe&&W(T.key));const se=C.current;if(T.target!==se||!ame.includes(T.key))return;T.preventDefault();const Pe=j().filter(J=>!J.disabled).map(J=>J.ref.current);Q8.includes(T.key)&&Pe.reverse(),Ome(Pe)}),onBlur:dt(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(M.current),P.current="")}),onPointerMove:dt(e.onPointerMove,Yg(T=>{const q=T.target,Y=V.current!==T.clientX;if(T.currentTarget.contains(q)&&Y){const ee=T.clientX>V.current?"right":"left";F.current=ee,V.current=T.clientX}}))})})})})})})});nW.displayName=Fa;var vme="MenuGroup",zE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ix.div,{role:"group",...r,ref:t})});zE.displayName=vme;var bme="MenuLabel",rW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ix.div,{...r,ref:t})});rW.displayName=bme;var t0="MenuItem",bR="menu.itemSelect",pj=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=f.useRef(null),a=lx(t0,e.__scopeMenu),l=TE(t0,e.__scopeMenu),c=en(t,s),u=f.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const m=new CustomEvent(bR,{bubbles:!0,cancelable:!0});h.addEventListener(bR,p=>r==null?void 0:r(p),{once:!0}),nfe(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(iW,{...i,ref:c,disabled:n,onClick:dt(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:dt(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:dt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||qC.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});pj.displayName=t0;var iW=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=TE(t0,n),l=Z8(n),c=f.useRef(null),u=en(t,c),[d,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),o.jsx(Kg.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:o.jsx(B8,{asChild:!0,...l,focusable:!r,children:o.jsx(ix.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:dt(e.onPointerMove,Yg(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,Yg(g=>a.onItemLeave(g))),onFocus:dt(e.onFocus,()=>h(!0)),onBlur:dt(e.onBlur,()=>h(!1))})})})}),_me="MenuCheckboxItem",sW=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(uW,{scope:e.__scopeMenu,checked:n,children:o.jsx(pj,{role:"menuitemcheckbox","aria-checked":n0(n)?"mixed":n,...i,ref:t,"data-state":RE(n),onSelect:dt(i.onSelect,()=>r==null?void 0:r(n0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sW.displayName=_me;var aW="MenuRadioGroup",[wme,jme]=_h(aW,{value:void 0,onValueChange:()=>{}}),oW=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Si(r);return o.jsx(wme,{scope:e.__scopeMenu,value:n,onValueChange:s,children:o.jsx(zE,{...i,ref:t})})});oW.displayName=aW;var lW="MenuRadioItem",cW=f.forwardRef((e,t)=>{const{value:n,...r}=e,i=jme(lW,e.__scopeMenu),s=n===i.value;return o.jsx(uW,{scope:e.__scopeMenu,checked:s,children:o.jsx(pj,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":RE(s),onSelect:dt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});cW.displayName=lW;var DE="MenuItemIndicator",[uW,kme]=_h(DE,{checked:!1}),dW=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=kme(DE,n);return o.jsx(Mi,{present:r||n0(s.checked)||s.checked===!0,children:o.jsx(ix.span,{...i,ref:t,"data-state":RE(s.checked)})})});dW.displayName=DE;var Sme="MenuSeparator",hW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ix.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});hW.displayName=Sme;var Nme="MenuArrow",fW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=mj(n);return o.jsx(PE,{...i,...r,ref:t})});fW.displayName=Nme;var Cme="MenuSub",[nWe,mW]=_h(Cme),Wp="MenuSubTrigger",pW=f.forwardRef((e,t)=>{const n=wh(Wp,e.__scopeMenu),r=lx(Wp,e.__scopeMenu),i=mW(Wp,e.__scopeMenu),s=TE(Wp,e.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(EE,{asChild:!0,...u,children:o.jsx(iW,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":xW(n.open),...e,ref:br(t,i.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,Yg(h=>{s.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:dt(e.onPointerLeave,Yg(h=>{var p,g;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,x=y==="right",v=x?-5:5,w=m[x?"left":"right"],b=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:w,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,h=>{var p;const m=s.searchRef.current!=="";e.disabled||m&&h.key===" "||ome[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});pW.displayName=Wp;var gW="MenuSubContent",yW=f.forwardRef((e,t)=>{const n=eW(Fa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=wh(Fa,e.__scopeMenu),a=lx(Fa,e.__scopeMenu),l=mW(gW,e.__scopeMenu),c=f.useRef(null),u=en(t,c);return o.jsx(Kg.Provider,{scope:e.__scopeMenu,children:o.jsx(Mi,{present:r||s.open,children:o.jsx(Kg.Slot,{scope:e.__scopeMenu,children:o.jsx(AE,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:dt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:dt(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=lme[a.dir].includes(d.key);h&&m&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});yW.displayName=gW;function xW(e){return e?"open":"closed"}function n0(e){return e==="indeterminate"}function RE(e){return n0(e)?"indeterminate":e?"checked":"unchecked"}function Ome(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Pme(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Eme(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Pme(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Mme(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,h=c.x,m=c.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function Tme(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Mme(n,t)}function Yg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ame=J8,zme=EE,Dme=tW,Rme=nW,Ime=zE,Lme=rW,$me=pj,Fme=sW,Bme=oW,qme=cW,Wme=dW,Ume=hW,Vme=fW,Hme=pW,Kme=yW,gj="DropdownMenu",[Yme]=ba(gj,[X8]),vs=X8(),[Gme,vW]=Yme(gj),bW=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=vs(t),u=f.useRef(null),[d,h]=yl({prop:i,defaultProp:s??!1,onChange:a,caller:gj});return o.jsx(Gme,{scope:t,triggerId:$a(),triggerRef:u,contentId:$a(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(Ame,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};bW.displayName=gj;var _W="DropdownMenuTrigger",wW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=vW(_W,n),a=vs(n);return o.jsx(zme,{asChild:!0,...a,children:o.jsx(vue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:br(t,s.triggerRef),onPointerDown:dt(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:dt(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wW.displayName=_W;var Qme="DropdownMenuPortal",jW=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vs(t);return o.jsx(Dme,{...r,...n})};jW.displayName=Qme;var kW="DropdownMenuContent",SW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vW(kW,n),s=vs(n),a=f.useRef(!1);return o.jsx(Rme,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SW.displayName=kW;var Xme="DropdownMenuGroup",Zme=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Ime,{...i,...r,ref:t})});Zme.displayName=Xme;var Jme="DropdownMenuLabel",NW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Lme,{...i,...r,ref:t})});NW.displayName=Jme;var epe="DropdownMenuItem",CW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx($me,{...i,...r,ref:t})});CW.displayName=epe;var tpe="DropdownMenuCheckboxItem",OW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Fme,{...i,...r,ref:t})});OW.displayName=tpe;var npe="DropdownMenuRadioGroup",rpe=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Bme,{...i,...r,ref:t})});rpe.displayName=npe;var ipe="DropdownMenuRadioItem",PW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(qme,{...i,...r,ref:t})});PW.displayName=ipe;var spe="DropdownMenuItemIndicator",EW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Wme,{...i,...r,ref:t})});EW.displayName=spe;var ape="DropdownMenuSeparator",MW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Ume,{...i,...r,ref:t})});MW.displayName=ape;var ope="DropdownMenuArrow",lpe=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Vme,{...i,...r,ref:t})});lpe.displayName=ope;var cpe="DropdownMenuSubTrigger",TW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Hme,{...i,...r,ref:t})});TW.displayName=cpe;var upe="DropdownMenuSubContent",AW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vs(n);return o.jsx(Kme,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AW.displayName=upe;var dpe=bW,hpe=wW,fpe=jW,zW=SW,DW=NW,RW=CW,IW=OW,LW=PW,$W=EW,FW=MW,BW=TW,qW=AW;const Va=dpe,Ha=hpe,mpe=f.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs(BW,{ref:i,className:te("flex cursor-default select-none items-center rounded-md px-3 py-2 text-sm outline-none focus:bg-muted/60 data-[state=open]:bg-muted/60",t&&"pl-8",e),...r,children:[n,o.jsx(Rm,{className:"ml-auto h-4 w-4"})]}));mpe.displayName=BW.displayName;const ppe=f.forwardRef(({className:e,...t},n)=>o.jsx(qW,{ref:n,className:te("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ppe.displayName=qW.displayName;const fa=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(fpe,{children:o.jsx(zW,{ref:r,sideOffset:t,className:te("z-50 min-w-[10rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));fa.displayName=zW.displayName;const an=f.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(RW,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-md px-3 py-2 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));an.displayName=RW.displayName;const IE=f.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(IW,{ref:i,className:te("relative flex cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx($W,{children:o.jsx(mE,{className:"h-4 w-4"})})}),t]}));IE.displayName=IW.displayName;const gpe=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(LW,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx($W,{children:o.jsx(wle,{className:"h-2 w-2 fill-current"})})}),t]}));gpe.displayName=LW.displayName;const Gg=f.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(DW,{ref:r,className:te("px-3 py-2 text-xs font-semibold uppercase text-muted-foreground",t&&"pl-8",e),...n}));Gg.displayName=DW.displayName;const ns=f.forwardRef(({className:e,...t},n)=>o.jsx(FW,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));ns.displayName=FW.displayName;const Qg=({className:e,...t})=>o.jsx("span",{className:te("ml-auto text-xs tracking-widest opacity-60",e),...t});Qg.displayName="DropdownMenuShortcut";function WW(){var s;const{i18n:e,t}=Ut(),n=(s=e.language)!=null&&s.startsWith("zh")?"zh":"en",r={en:{label:"English",short:"EN",flag:""},zh:{label:"",short:"CN",flag:""}},i=r[n];return o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"h-9 px-2.5 gap-2",children:[o.jsx("span",{className:"text-base leading-none","aria-hidden":"true",children:i.flag}),o.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:i.label}),o.jsx("span",{className:"text-xs font-semibold text-muted-foreground sm:hidden",children:i.short}),o.jsx(Tc,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"sr-only",children:t("common.language")})]})}),o.jsxs(fa,{align:"end",className:"w-36",children:[o.jsxs(an,{onClick:()=>e.changeLanguage("en"),children:[o.jsx("span",{className:"mr-2","aria-hidden":"true",children:r.en.flag}),r.en.label]}),o.jsxs(an,{onClick:()=>e.changeLanguage("zh"),children:[o.jsx("span",{className:"mr-2","aria-hidden":"true",children:r.zh.flag}),r.zh.label]})]})]})}function _R(){const[e,t]=f.useState(""),[n,r]=f.useState(""),[i,s]=f.useState(""),[a,l]=f.useState(!1),[c,u]=f.useState(""),d=xh(),{t:h}=Ut(),m=f.useMemo(()=>{var x;const g=(x=window==null?void 0:window.settings)==null?void 0:x.title,y=localStorage.getItem("app_name");return String(g||y||"Xboard").trim()||"Xboard"},[]);f.useEffect(()=>{var v;const g=new URLSearchParams(window.location.search).get("admin_path");if(g){s(g),Ik(g);return}const y=String(((v=window==null?void 0:window.settings)==null?void 0:v.secure_path)||"").trim().replace(/^\/+|\/+$/g,"");if(y){s(y),Ik(y);return}const x=localStorage.getItem("adminPath");s(x||"admin")},[]);const p=async g=>{var y,x;g.preventDefault(),l(!0),u("");try{i&&Ik(i);const v=await Zw.post("/passport/auth/login",{email:e,password:n}),{auth_data:w,is_admin:b}=v.data.data;if(w){if(!b){u(h("common.access_denied"));return}qse(w),localStorage.setItem("adminEmail",e.trim()),d("/dashboard")}else u(h("common.login_failed"))}catch(v){console.error(v),u(((x=(y=v.response)==null?void 0:y.data)==null?void 0:x.message)||h("common.login_failed"))}finally{l(!1)}};return o.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-950 dark:to-slate-900"}),o.jsx("div",{className:"pointer-events-none absolute -top-24 right-10 h-64 w-64 rounded-full bg-sky-200/40 blur-3xl dark:bg-sky-900/20"}),o.jsx("div",{className:"pointer-events-none absolute -bottom-24 left-8 h-72 w-72 rounded-full bg-emerald-200/40 blur-3xl dark:bg-emerald-900/20"}),o.jsxs("div",{className:"relative flex min-h-screen items-center justify-center px-4 py-10",children:[o.jsxs("div",{className:"absolute right-6 top-6 flex items-center gap-2",children:[o.jsx(a8,{}),o.jsx(WW,{})]}),o.jsxs(It,{className:"w-full max-w-md",children:[o.jsxs(Jn,{className:"space-y-2",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground",children:[o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-primary/10 text-sm font-semibold text-primary",children:m.slice(0,1).toUpperCase()}),m]}),o.jsx(er,{className:"text-2xl",children:h("common.admin_login")}),o.jsx(ha,{children:h("common.enter_credentials")})]}),o.jsx(Lt,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"email",children:h("common.email")}),o.jsx(G,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"password",children:h("common.password")}),o.jsx(G,{id:"password",type:"password",value:n,onChange:g=>r(g.target.value),required:!0})]}),c&&o.jsx("div",{className:"rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:c}),o.jsx(B,{type:"submit",className:"w-full",disabled:a,children:h(a?"common.logging_in":"common.login")})]})})]})]})]})}function ype(e){const t=xpe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(bpe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function xpe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=wpe(i),l=_pe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vpe=Symbol("radix.slottable");function bpe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vpe}function _pe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function wpe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LE=jpe.reduce((e,t)=>{const n=ype(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),yj="Collapsible",[kpe]=ba(yj),[Spe,$E]=kpe(yj),UW=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...l}=e,[c,u]=yl({prop:r,defaultProp:i??!1,onChange:a,caller:yj});return o.jsx(Spe,{scope:n,disabled:s,contentId:$a(),open:c,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),children:o.jsx(LE.div,{"data-state":BE(c),"data-disabled":s?"":void 0,...l,ref:t})})});UW.displayName=yj;var VW="CollapsibleTrigger",HW=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=$E(VW,n);return o.jsx(LE.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":BE(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:dt(e.onClick,i.onOpenToggle)})});HW.displayName=VW;var FE="CollapsibleContent",KW=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$E(FE,e.__scopeCollapsible);return o.jsx(Mi,{present:n||i.open,children:({present:s})=>o.jsx(Npe,{...r,ref:t,present:s})})});KW.displayName=FE;var Npe=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=$E(FE,n),[l,c]=f.useState(r),u=f.useRef(null),d=en(t,u),h=f.useRef(0),m=h.current,p=f.useRef(0),g=p.current,y=a.open||l,x=f.useRef(y),v=f.useRef(void 0);return f.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),fi(()=>{const w=u.current;if(w){v.current=v.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();h.current=b.height,p.current=b.width,x.current||(w.style.transitionDuration=v.current.transitionDuration,w.style.animationName=v.current.animationName),c(r)}},[a.open,r]),o.jsx(LE.div,{"data-state":BE(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&i})});function BE(e){return e?"open":"closed"}var Cpe=UW;const Ope=Cpe,Ppe=HW,Epe=KW;function YW(e){const t=Mpe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Ape);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Mpe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Dpe(i),l=zpe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tpe=Symbol("radix.slottable");function Ape(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tpe}function zpe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Dpe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cx=Rpe.reduce((e,t)=>{const n=YW(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),xj="Dialog",[GW]=ba(xj),[Ipe,Do]=GW(xj),QW=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,d]=yl({prop:r,defaultProp:i??!1,onChange:s,caller:xj});return o.jsx(Ipe,{scope:t,triggerRef:l,contentRef:c,contentId:$a(),titleId:$a(),descriptionId:$a(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};QW.displayName=xj;var XW="DialogTrigger",Lpe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Do(XW,n),s=en(t,i.triggerRef);return o.jsx(cx.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":UE(i.open),...r,ref:s,onClick:dt(e.onClick,i.onOpenToggle)})});Lpe.displayName=XW;var qE="DialogPortal",[$pe,ZW]=GW(qE,{forceMount:void 0}),JW=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Do(qE,t);return o.jsx($pe,{scope:t,forceMount:n,children:f.Children.map(r,a=>o.jsx(Mi,{present:n||s.open,children:o.jsx(rx,{asChild:!0,container:i,children:a})}))})};JW.displayName=qE;var r0="DialogOverlay",eU=f.forwardRef((e,t)=>{const n=ZW(r0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Do(r0,e.__scopeDialog);return s.modal?o.jsx(Mi,{present:r||s.open,children:o.jsx(Bpe,{...i,ref:t})}):null});eU.displayName=r0;var Fpe=YW("DialogOverlay.RemoveScroll"),Bpe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Do(r0,n);return o.jsx(ax,{as:Fpe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(cx.div,{"data-state":UE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),nh="DialogContent",tU=f.forwardRef((e,t)=>{const n=ZW(nh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Do(nh,e.__scopeDialog);return o.jsx(Mi,{present:r||s.open,children:s.modal?o.jsx(qpe,{...i,ref:t}):o.jsx(Wpe,{...i,ref:t})})});tU.displayName=nh;var qpe=f.forwardRef((e,t)=>{const n=Do(nh,e.__scopeDialog),r=f.useRef(null),i=en(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return hj(s)},[]),o.jsx(nU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault())})}),Wpe=f.forwardRef((e,t)=>{const n=Do(nh,e.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return o.jsx(nU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nU=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Do(nh,n),c=f.useRef(null),u=en(t,c);return sj(),o.jsxs(o.Fragment,{children:[o.jsx(tx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ex,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":UE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Upe,{titleId:l.titleId}),o.jsx(Hpe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),WE="DialogTitle",rU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Do(WE,n);return o.jsx(cx.h2,{id:i.titleId,...r,ref:t})});rU.displayName=WE;var iU="DialogDescription",sU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Do(iU,n);return o.jsx(cx.p,{id:i.descriptionId,...r,ref:t})});sU.displayName=iU;var aU="DialogClose",oU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Do(aU,n);return o.jsx(cx.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});oU.displayName=aU;function UE(e){return e?"open":"closed"}var lU="DialogTitleWarning",[rWe,cU]=oue(lU,{contentName:nh,titleName:WE,docsSlug:"dialog"}),Upe=({titleId:e})=>{const t=cU(lU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Vpe="DialogDescriptionWarning",Hpe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cU(Vpe).contentName}}.`;return f.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Kpe=QW,Ype=JW,uU=eU,dU=tU,hU=rU,fU=sU,Gpe=oU;const un=Kpe,Qpe=Ype,mU=f.forwardRef(({className:e,...t},n)=>o.jsx(uU,{ref:n,className:te("fixed inset-0 z-50 bg-slate-900/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mU.displayName=uU.displayName;const on=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Qpe,{children:[o.jsx(mU,{}),o.jsxs(dU,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-border/80 bg-background p-6 shadow-[0_24px_64px_rgba(15,23,42,0.18)] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e),...n,children:[t,o.jsx(Gpe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:o.jsx(Bd,{className:"h-4 w-4"})})]})]}));on.displayName=dU.displayName;const dn=({className:e,...t})=>o.jsx("div",{className:te("flex flex-col space-y-1 text-left",e),...t});dn.displayName="DialogHeader";const yr=({className:e,...t})=>o.jsx("div",{className:te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t});yr.displayName="DialogFooter";const hn=f.forwardRef(({className:e,...t},n)=>o.jsx(hU,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));hn.displayName=hU.displayName;const pU=f.forwardRef(({className:e,...t},n)=>o.jsx(fU,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));pU.displayName=fU.displayName;function Xpe(e){const t=Zpe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(ege);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Zpe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=nge(i),l=tge(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jpe=Symbol("radix.slottable");function ege(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jpe}function tge(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function nge(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ux=rge.reduce((e,t)=>{const n=Xpe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function WC(e,[t,n]){return Math.min(n,Math.max(t,e))}function ige(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var VE="ScrollArea",[gU]=ba(VE),[sge,eo]=gU(VE),yU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(null),[y,x]=f.useState(null),[v,w]=f.useState(0),[b,j]=f.useState(0),[_,k]=f.useState(!1),[C,O]=f.useState(!1),M=en(t,A=>c(A)),P=Jy(i);return o.jsx(sge,{scope:n,type:r,dir:P,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:j,children:o.jsx(ux.div,{dir:P,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});yU.displayName=VE;var xU="ScrollAreaViewport",vU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,a=eo(xU,n),l=f.useRef(null),c=en(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(ux.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});vU.displayName=xU;var Nl="ScrollAreaScrollbar",HE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=eo(Nl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return f.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx(age,{...r,ref:t,forceMount:n}):i.type==="scroll"?o.jsx(oge,{...r,ref:t,forceMount:n}):i.type==="auto"?o.jsx(bU,{...r,ref:t,forceMount:n}):i.type==="always"?o.jsx(KE,{...r,ref:t}):null});HE.displayName=Nl;var age=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=eo(Nl,e.__scopeScrollArea),[s,a]=f.useState(!1);return f.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(Mi,{present:n||s,children:o.jsx(bU,{"data-state":s?"visible":"hidden",...r,ref:t})})}),oge=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=eo(Nl,e.__scopeScrollArea),s=e.orientation==="horizontal",a=bj(()=>c("SCROLL_END"),100),[l,c]=ige("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),f.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),o.jsx(Mi,{present:n||l!=="hidden",children:o.jsx(KE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bU=f.forwardRef((e,t)=>{const n=eo(Nl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,a]=f.useState(!1),l=e.orientation==="horizontal",c=bj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return rm(n.viewport,c),rm(n.content,c),o.jsx(Mi,{present:r||s,children:o.jsx(KE,{"data-state":s?"visible":"hidden",...i,ref:t})})}),KE=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=eo(Nl,e.__scopeScrollArea),s=f.useRef(null),a=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=SU(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,p){return fge(m,a.current,l,p)}return n==="horizontal"?o.jsx(lge,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=wR(m,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?o.jsx(cge,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=wR(m,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),lge=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=eo(Nl,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=en(t,c,s.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(wU,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),CU(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:s0(a.paddingLeft),paddingEnd:s0(a.paddingRight)}})}})}),cge=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=eo(Nl,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=en(t,c,s.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(wU,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),CU(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:s0(a.paddingTop),paddingEnd:s0(a.paddingBottom)}})}})}),[uge,_U]=gU(Nl),wU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=eo(Nl,n),[g,y]=f.useState(null),x=en(t,M=>y(M)),v=f.useRef(null),w=f.useRef(""),b=p.viewport,j=r.content-r.viewport,_=Si(d),k=Si(c),C=bj(h,10);function O(M){if(v.current){const P=M.clientX-v.current.left,A=M.clientY-v.current.top;u({x:P,y:A})}}return f.useEffect(()=>{const M=P=>{const A=P.target;(g==null?void 0:g.contains(A))&&_(P,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[b,g,j,_]),f.useEffect(k,[r,k]),rm(g,C),rm(p.content,C),o.jsx(uge,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:Si(s),onThumbPointerUp:Si(a),onThumbPositionChange:k,onThumbPointerDown:Si(l),children:o.jsx(ux.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:dt(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(M))}),onPointerMove:dt(e.onPointerMove,O),onPointerUp:dt(e.onPointerUp,M=>{const P=M.target;P.hasPointerCapture(M.pointerId)&&P.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),i0="ScrollAreaThumb",jU=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_U(i0,e.__scopeScrollArea);return o.jsx(Mi,{present:n||i.hasThumb,children:o.jsx(dge,{ref:t,...r})})}),dge=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=eo(i0,n),a=_U(i0,n),{onThumbPositionChange:l}=a,c=en(t,h=>a.onThumbChange(h)),u=f.useRef(void 0),d=bj(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=s.viewport;if(h){const m=()=>{if(d(),!u.current){const p=mge(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[s.viewport,d,l]),o.jsx(ux.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,y=h.clientY-p.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});jU.displayName=i0;var YE="ScrollAreaCorner",kU=f.forwardRef((e,t)=>{const n=eo(YE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(hge,{...e,ref:t}):null});kU.displayName=YE;var hge=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=eo(YE,n),[s,a]=f.useState(0),[l,c]=f.useState(0),u=!!(s&&l);return rm(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),rm(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?o.jsx(ux.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function s0(e){return e?parseInt(e,10):0}function SU(e,t){const n=e/t;return isNaN(n)?0:n}function vj(e){const t=SU(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function fge(e,t,n,r="ltr"){const i=vj(n),s=i/2,a=t||s,l=i-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return NU([c,u],h)(e)}function wR(e,t,n="ltr"){const r=vj(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=WC(e,c);return NU([0,a],[0,l])(u)}function NU(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function CU(e,t){return e>0&&e<t}var mge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function bj(e,t){const n=Si(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function rm(e,t){const n=Si(t);fi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var OU=yU,pge=vU,gge=kU;const ds=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(OU,{ref:r,className:te("relative overflow-hidden",e),...n,children:[o.jsx(pge,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(PU,{}),o.jsx(gge,{})]}));ds.displayName=OU.displayName;const PU=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(HE,{ref:r,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(jU,{className:"relative flex-1 rounded-full bg-border"})}));PU.displayName=HE.displayName;function yge({open:e,onOpenChange:t,items:n,onSelect:r}){const{t:i}=Ut(),[s,a]=f.useState("");f.useEffect(()=>{e||a("")},[e]);const l=f.useMemo(()=>{const c=s.trim().toLowerCase();return c?n.filter(u=>`${u.title} ${u.group??""}`.toLowerCase().includes(c)):n},[n,s]);return o.jsx(un,{open:e,onOpenChange:t,children:o.jsxs(on,{className:"max-w-3xl p-0 overflow-hidden",children:[o.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(G,{value:s,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&l[0]&&r(l[0])},autoFocus:!0,placeholder:i("common.search_placeholder"),className:"border-none bg-transparent shadow-none focus-visible:ring-0 focus-visible:ring-offset-0"}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5",children:"Ctrl"}),o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5",children:"K"})]})]})}),o.jsx(ds,{className:"max-h-[360px]",children:o.jsxs("div",{className:"p-3",children:[o.jsx("div",{className:"px-2 text-xs font-semibold text-muted-foreground",children:i("common.command_group")}),o.jsx("div",{className:"mt-2 space-y-1",children:l.length===0?o.jsx("div",{className:"px-3 py-6 text-sm text-muted-foreground",children:i("common.command_empty")}):l.map(c=>{const u=c.icon;return o.jsxs("button",{type:"button",onClick:()=>r(c),className:te("flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors","hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30"),children:[u?o.jsx(u,{className:"h-4 w-4 text-muted-foreground"}):null,o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"truncate font-medium text-foreground",children:c.title}),c.group?o.jsx("div",{className:"truncate text-xs text-muted-foreground",children:c.group}):null]})]},c.path)})})]})})]})})}const _j=(e,t)=>e<<t|e>>>32-t,zr=(e,t)=>{const n=e&2147483648,r=t&2147483648,i=e&1073741824,s=t&1073741824,a=(e&1073741823)+(t&1073741823);return i&s?a^2147483648^n^r:i|s?a&1073741824?a^3221225472^n^r:a^1073741824^n^r:a^n^r},xge=(e,t,n)=>e&t|~e&n,vge=(e,t,n)=>e&n|t&~n,bge=(e,t,n)=>e^t^n,_ge=(e,t,n)=>t^(e|~n),Ri=(e,t,n,r,i,s,a)=>zr(_j(zr(zr(e,xge(t,n,r)),zr(i,a)),s),t),Ii=(e,t,n,r,i,s,a)=>zr(_j(zr(zr(e,vge(t,n,r)),zr(i,a)),s),t),Li=(e,t,n,r,i,s,a)=>zr(_j(zr(zr(e,bge(t,n,r)),zr(i,a)),s),t),$i=(e,t,n,r,i,s,a)=>zr(_j(zr(zr(e,_ge(t,n,r)),zr(i,a)),s),t),wge=e=>{const t=e.length,n=((t+8>>>6)+1)*16,r=new Array(n).fill(0);for(let a=0;a<t;a++){const l=a>>>2,c=a%4*8;r[l]|=e.charCodeAt(a)<<c}const i=t>>>2,s=t%4*8;return r[i]|=128<<s,r[n-2]=t<<3,r[n-1]=t>>>29,r},Nv=e=>{let t="";for(let n=0;n<=3;n++){const i=`0${(e>>>n*8&255).toString(16)}`.slice(-2);t+=i}return t},jge=e=>{const n=wge(e);let r=1732584193,i=4023233417,s=2562383102,a=271733878;for(let l=0;l<n.length;l+=16){const c=r,u=i,d=s,h=a;r=Ri(r,i,s,a,n[l+0],7,3614090360),a=Ri(a,r,i,s,n[l+1],12,3905402710),s=Ri(s,a,r,i,n[l+2],17,606105819),i=Ri(i,s,a,r,n[l+3],22,3250441966),r=Ri(r,i,s,a,n[l+4],7,4118548399),a=Ri(a,r,i,s,n[l+5],12,1200080426),s=Ri(s,a,r,i,n[l+6],17,2821735955),i=Ri(i,s,a,r,n[l+7],22,4249261313),r=Ri(r,i,s,a,n[l+8],7,1770035416),a=Ri(a,r,i,s,n[l+9],12,2336552879),s=Ri(s,a,r,i,n[l+10],17,4294925233),i=Ri(i,s,a,r,n[l+11],22,2304563134),r=Ri(r,i,s,a,n[l+12],7,1804603682),a=Ri(a,r,i,s,n[l+13],12,4254626195),s=Ri(s,a,r,i,n[l+14],17,2792965006),i=Ri(i,s,a,r,n[l+15],22,1236535329),r=Ii(r,i,s,a,n[l+1],5,4129170786),a=Ii(a,r,i,s,n[l+6],9,3225465664),s=Ii(s,a,r,i,n[l+11],14,643717713),i=Ii(i,s,a,r,n[l+0],20,3921069994),r=Ii(r,i,s,a,n[l+5],5,3593408605),a=Ii(a,r,i,s,n[l+10],9,38016083),s=Ii(s,a,r,i,n[l+15],14,3634488961),i=Ii(i,s,a,r,n[l+4],20,3889429448),r=Ii(r,i,s,a,n[l+9],5,568446438),a=Ii(a,r,i,s,n[l+14],9,3275163606),s=Ii(s,a,r,i,n[l+3],14,4107603335),i=Ii(i,s,a,r,n[l+8],20,1163531501),r=Ii(r,i,s,a,n[l+13],5,2850285829),a=Ii(a,r,i,s,n[l+2],9,4243563512),s=Ii(s,a,r,i,n[l+7],14,1735328473),i=Ii(i,s,a,r,n[l+12],20,2368359562),r=Li(r,i,s,a,n[l+5],4,4294588738),a=Li(a,r,i,s,n[l+8],11,2272392833),s=Li(s,a,r,i,n[l+11],16,1839030562),i=Li(i,s,a,r,n[l+14],23,4259657740),r=Li(r,i,s,a,n[l+1],4,2763975236),a=Li(a,r,i,s,n[l+4],11,1272893353),s=Li(s,a,r,i,n[l+7],16,4139469664),i=Li(i,s,a,r,n[l+10],23,3200236656),r=Li(r,i,s,a,n[l+13],4,681279174),a=Li(a,r,i,s,n[l+0],11,3936430074),s=Li(s,a,r,i,n[l+3],16,3572445317),i=Li(i,s,a,r,n[l+6],23,76029189),r=Li(r,i,s,a,n[l+9],4,3654602809),a=Li(a,r,i,s,n[l+12],11,3873151461),s=Li(s,a,r,i,n[l+15],16,530742520),i=Li(i,s,a,r,n[l+2],23,3299628645),r=$i(r,i,s,a,n[l+0],6,4096336452),a=$i(a,r,i,s,n[l+7],10,1126891415),s=$i(s,a,r,i,n[l+14],15,2878612391),i=$i(i,s,a,r,n[l+5],21,4237533241),r=$i(r,i,s,a,n[l+12],6,1700485571),a=$i(a,r,i,s,n[l+3],10,2399980690),s=$i(s,a,r,i,n[l+10],15,4293915773),i=$i(i,s,a,r,n[l+1],21,2240044497),r=$i(r,i,s,a,n[l+8],6,1873313359),a=$i(a,r,i,s,n[l+15],10,4264355552),s=$i(s,a,r,i,n[l+6],15,2734768916),i=$i(i,s,a,r,n[l+13],21,1309151649),r=$i(r,i,s,a,n[l+4],6,4149444226),a=$i(a,r,i,s,n[l+11],10,3174756917),s=$i(s,a,r,i,n[l+2],15,718787259),i=$i(i,s,a,r,n[l+9],21,3951481745),r=zr(r,c),i=zr(i,u),s=zr(s,d),a=zr(a,h)}return(Nv(r)+Nv(i)+Nv(s)+Nv(a)).toLowerCase()},Gn={fetch:e=>De.get("/config/fetch",{params:e?{key:e}:{}}),save:e=>De.post("/config/save",e),getEmailTemplates:()=>De.get("/config/getEmailTemplate"),getThemeTemplates:()=>De.get("/config/getThemeTemplate"),testSendMail:()=>De.post("/config/testSendMail"),setTelegramWebhook:e=>De.post("/config/setTelegramWebhook",{telegram_bot_token:e})},bo={getStats:()=>De.get("/stat/getStats"),getOverride:()=>De.get("/stat/getOverride"),getIncomeRecords:e=>De.get("/stat/getOrder",{params:e}),getTrafficRank:(e,t,n)=>De.get("/stat/getTrafficRank",{params:{type:e,start_time:t,end_time:n}}),getQueueStats:()=>De.get("/system/getQueueStats"),getSystemStatus:()=>De.get("/system/getSystemStatus"),getSystemLog:e=>De.get("/system/getSystemLog",{params:e}),getLogClearStats:e=>{const t={...e??{}};return t.level==="all"&&delete t.level,De.get("/system/getLogClearStats",{params:t})},getHorizonFailedJobs:e=>De.get("/system/getHorizonFailedJobs",{params:e}),clearSystemLog:e=>{const t={...e??{}};return t.level==="all"&&delete t.level,De.post("/system/clearSystemLog",t)}},tS=[{titleKey:"menu.dashboard",path:"/dashboard",icon:Zle,descriptionKey:"dashboard.subtitle"},{titleKey:"menu.system_management",icon:e8,submenu:[{titleKey:"menu.system_config",path:"/dashboard/system/config",icon:n8,descriptionKey:"system.description"},{titleKey:"menu.plugin_management",path:"/dashboard/system/plugin",icon:_ce,descriptionKey:"plugin.description"},{titleKey:"menu.theme_config",path:"/dashboard/system/theme",icon:yce,descriptionKey:"theme.description"},{titleKey:"menu.notice_management",path:"/dashboard/system/notice",icon:q6,descriptionKey:"notice.description"},{titleKey:"menu.payment_config",path:"/dashboard/system/payment",icon:ij,descriptionKey:"payment.description"},{titleKey:"menu.knowledge_base",path:"/dashboard/system/knowledge",icon:nle,descriptionKey:"knowledge.description"}]},{titleKey:"menu.node_management",icon:zce,submenu:[{titleKey:"menu.node_list",path:"/dashboard/server/list",icon:rj,descriptionKey:"server.description"},{titleKey:"menu.permission_groups",path:"/dashboard/server/group",icon:t8,descriptionKey:"group.description"},{titleKey:"menu.route_management",path:"/dashboard/server/route",icon:Pce,descriptionKey:"route.description"}]},{titleKey:"menu.subscription",icon:V6,submenu:[{titleKey:"menu.plan_management",path:"/dashboard/subscription/plan",icon:Wg,descriptionKey:"plan.description"},{titleKey:"menu.order_management",path:"/dashboard/subscription/order",icon:Bce,descriptionKey:"order.description"},{titleKey:"menu.coupon_management",path:"/dashboard/subscription/coupon",icon:Q_,descriptionKey:"coupon.description"},{titleKey:"menu.gift_card_management",path:"/dashboard/subscription/giftcard",icon:Ble,descriptionKey:"giftcard.description"}]},{titleKey:"menu.user_management",icon:tue,submenu:[{titleKey:"menu.user_list",path:"/dashboard/user/list",icon:tm,descriptionKey:"user.description"},{titleKey:"menu.ticket_management",path:"/dashboard/user/ticket",icon:Q_,descriptionKey:"ticket.description"}]}],jR="xboard_admin_sidebar_collapsed";function kge(){const[e,t]=f.useState(!0),[n,r]=f.useState(()=>{try{return localStorage.getItem(jR)==="1"}catch{return!1}}),[i,s]=f.useState(!1),[a,l]=f.useState(!1),[c,u]=f.useState({tickets:0,commissions:0}),[d,h]=f.useState(()=>localStorage.getItem("app_name")||"Xboard"),m=Ja(),p=xh(),{t:g}=Ut(),y=f.useCallback(()=>{r(P=>{const A=!P;try{localStorage.setItem(jR,A?"1":"0")}catch{}return A})},[]);f.useEffect(()=>{let P=!1;const A=async()=>{try{const V=(await Gn.fetch("site")).data.data.site||{},K=String(V.app_name||"").trim();if(P)return;h(K||"Xboard"),K&&localStorage.setItem("app_name",K)}catch{}},R=()=>{const F=String(localStorage.getItem("app_name")||"").trim();h(F||"Xboard")};return A(),window.addEventListener("xboard:site_name_changed",R),()=>{P=!0,window.removeEventListener("xboard:site_name_changed",R)}},[]);const x=f.useMemo(()=>{const P=F=>F.replace(/\/+$/g,"")||"/",A=P(m.pathname),R=F=>{for(const V of F){if(V.path&&P(V.path)===A)return{titleKey:V.titleKey,descriptionKey:V.descriptionKey};if(V.submenu){const K=R(V.submenu);if(K)return K}}return null};return R(tS)||null},[m.pathname]),v=x?g(x.titleKey):"",w=x!=null&&x.descriptionKey?g(x.descriptionKey,{defaultValue:""}):"",b=f.useMemo(()=>{const P=[];return tS.forEach(A=>{if(A.submenu&&A.submenu.length){const R=g(A.titleKey);A.submenu.forEach(F=>{F.path&&P.push({title:g(F.titleKey),path:F.path,group:R,icon:F.icon})});return}A.path&&P.push({title:g(A.titleKey),path:A.path,group:g(A.titleKey),icon:A.icon})}),P},[g]),j=f.useCallback(async()=>{try{const A=(await bo.getOverride()).data.data||{},R=Number(A.ticketPendingTotal??A.ticket_pending_total??0),F=Number(A.commissionPendingTotal??A.commission_pending_total??0);u({tickets:Number.isFinite(R)&&R>0?R:0,commissions:Number.isFinite(F)&&F>0?F:0})}catch{}},[]);f.useEffect(()=>{j();const P=window.setInterval(j,6e4);return()=>window.clearInterval(P)},[j]);const _=c.tickets>0||c.commissions>0,[k,C]=f.useState(["menu.system_management","menu.node_management","menu.subscription","menu.user_management"]),O=()=>{c6(),localStorage.removeItem("adminEmail"),p("/login")},M=P=>{C(A=>A.includes(P)?A.filter(R=>R!==P):[...A,P])};return f.useEffect(()=>{const P=A=>{var F;if(!(A.ctrlKey||A.metaKey)||A.key.toLowerCase()!=="k")return;const R=A.target;if(R){const V=(F=R.tagName)==null?void 0:F.toLowerCase();if(V==="input"||V==="textarea"||R.isContentEditable)return}A.preventDefault(),s(!0)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]),o.jsxs("div",{className:"flex h-screen bg-background",children:[o.jsxs("aside",{className:te("fixed inset-y-0 left-0 z-50 w-60 border-r border-border/80 bg-card shadow-sm transform transition-[transform,width] duration-200 ease-in-out md:translate-x-0 md:static md:inset-0 flex flex-col",e?"translate-x-0":"-translate-x-full",n&&"md:w-[72px]"),children:[o.jsxs("div",{className:te("grid h-16 grid-cols-[1fr_auto_1fr] items-center border-b border-border/70 px-5 flex-shrink-0",n&&"md:px-2"),children:[o.jsx("div",{}),o.jsxs("span",{className:"justify-self-center text-xl font-semibold text-foreground",children:[o.jsx("span",{className:te(n&&"md:hidden"),children:d}),n?o.jsx("span",{className:"hidden md:inline",children:(d||"X").trim().slice(0,1)||"X"}):null]}),o.jsx("div",{className:"justify-self-end",children:o.jsx(B,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!1),children:o.jsx(Bd,{className:"h-5 w-5"})})})]}),o.jsx("nav",{className:te("flex-1 px-3 py-4 space-y-1 overflow-y-auto",n&&"md:px-2"),children:tS.map(P=>{const A=P.icon,R=g(P.titleKey);if(P.submenu){const V=k.includes(P.titleKey),K=P.submenu.some(L=>L.path===m.pathname);return o.jsxs("div",{className:"space-y-1",children:[n?o.jsx("div",{className:"hidden md:block",children:o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsx(B,{variant:"ghost",size:"icon",className:te("w-full",K&&"bg-muted/40 text-foreground"),title:R,"aria-label":R,children:A&&o.jsx(A,{className:"h-5 w-5"})})}),o.jsxs(fa,{side:"right",align:"start",className:"min-w-[220px]",children:[o.jsx(Gg,{children:R}),o.jsx(ns,{}),P.submenu.map(L=>{const W=L.icon,z=m.pathname===L.path,T=g(L.titleKey);return o.jsxs(an,{onClick:()=>{p(L.path),t(!1)},className:te(z&&"bg-primary/10 text-primary"),children:[W&&o.jsx(W,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"truncate",children:T})]},L.path)})]})]})}):null,o.jsxs(Ope,{open:V,onOpenChange:()=>M(P.titleKey),className:te("space-y-1",n&&"md:hidden"),children:[o.jsx(Ppe,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:te("w-full justify-between font-normal text-sm hover:bg-muted/60",K&&"bg-muted/40 text-foreground font-medium"),children:[o.jsxs("div",{className:"flex items-center",children:[A&&o.jsx(A,{className:"w-5 h-5 mr-3"}),R]}),V?o.jsx(Tc,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Rm,{className:"h-4 w-4 text-muted-foreground"})]})}),o.jsx(Epe,{className:"space-y-1 pl-4",children:P.submenu.map(L=>{const W=L.icon,z=m.pathname===L.path;return o.jsxs(B_,{to:L.path,onClick:()=>t(!1),className:te("flex items-center px-3 py-2 text-sm rounded-md transition-colors",z?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/60 hover:text-foreground"),children:[W&&o.jsx(W,{className:"w-4 h-4 mr-3"}),g(L.titleKey)]},L.path)})})]})]},P.titleKey)}const F=m.pathname===P.path;return o.jsxs(B_,{to:P.path,onClick:()=>t(!1),className:te("flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors",n&&"md:px-2 md:justify-center",F?"bg-primary/10 text-primary font-semibold":"text-foreground/80 hover:bg-muted/60 hover:text-foreground"),title:R,children:[A&&o.jsx(A,{className:te("w-5 h-5 mr-3",n&&"md:mr-0")}),o.jsx("span",{className:te(n&&"md:hidden"),children:R})]},P.path)})}),o.jsx("div",{className:"p-2 border-t border-border/70 flex-shrink-0 hidden md:block",children:o.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"w-full",onClick:y,title:g(n?"common.expand_sidebar":"common.collapse_sidebar"),"aria-label":g(n?"common.expand_sidebar":"common.collapse_sidebar"),children:n?o.jsx(nj,{className:"h-4 w-4"}):o.jsx(tj,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between h-16 px-6 bg-card/90 backdrop-blur border-b border-border/70 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(B,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!0),children:o.jsx(dce,{className:"h-5 w-5"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-base md:text-lg font-semibold text-foreground truncate",children:v}),w?o.jsx("div",{className:"text-xs md:text-sm text-muted-foreground truncate",children:w}):null]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>s(!0),className:"hidden md:flex h-9 w-[240px] lg:w-[280px] items-center gap-2 rounded-md border border-input bg-card px-3 text-sm text-muted-foreground shadow-sm hover:bg-muted/40",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx("span",{className:"flex-1 text-left truncate",children:g("common.search_placeholder")}),o.jsxs("span",{className:"hidden lg:flex items-center gap-1",children:[o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5 text-xs",children:"Ctrl"}),o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5 text-xs",children:"K"})]})]}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-9 w-9 md:hidden",onClick:()=>s(!0),"aria-label":g("common.search"),children:o.jsx(Oi,{className:"h-4 w-4"})}),o.jsxs(Va,{open:a,onOpenChange:P=>{l(P),P&&j()},children:[o.jsx(Ha,{asChild:!0,children:o.jsxs(B,{variant:"ghost",size:"icon",className:"relative h-9 w-9","aria-label":g("common.notice"),children:[o.jsx(q6,{className:"h-4 w-4"}),_?o.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-red-500 ring-2 ring-card"}):null]})}),o.jsxs(fa,{align:"end",className:"w-64",children:[o.jsx(Gg,{children:g("common.notice")}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>p("/dashboard/user/ticket"),children:[o.jsx(Q_,{className:"mr-2 h-4 w-4"}),g("dashboard.pending_tickets"),o.jsx(Qg,{children:c.tickets})]}),o.jsxs(an,{onClick:()=>p("/dashboard/subscription/order?is_commission=1&commission_status=0"),children:[o.jsx(ij,{className:"mr-2 h-4 w-4"}),g("dashboard.pending_commissions"),o.jsx(Qg,{children:c.commissions})]})]})]}),o.jsx(a8,{}),o.jsx(WW,{}),o.jsx(Sge,{onLogout:O,onSettings:()=>p("/dashboard/system/config")})]})]}),o.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-background",children:o.jsx(Ore,{})})]}),o.jsx(yge,{open:i,onOpenChange:s,items:b,onSelect:P=>{s(!1),p(P.path)}})]})}function Sge({onLogout:e,onSettings:t}){const{t:n}=Ut(),[r,i]=f.useState(()=>(localStorage.getItem("adminEmail")||"").trim());f.useEffect(()=>{if(r||!hE())return;let c=!1;return(async()=>{var d,h;try{const m=await Zw.get("/user/info"),p=String(((h=(d=m.data)==null?void 0:d.data)==null?void 0:h.email)||"").trim();if(c||!p)return;localStorage.setItem("adminEmail",p),i(p)}catch{}})(),()=>{c=!0}},[r]);const s=r.trim().toLowerCase(),a=s?`https://www.gravatar.com/avatar/${jge(s)}?d=identicon&s=96`:"",l=(s||"A").slice(0,1).toUpperCase();return o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full ring-1 ring-border/70",children:a?o.jsx("img",{src:a,alt:r||"admin",className:"h-8 w-8 rounded-full object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium text-muted-foreground",children:l})})}),o.jsxs(fa,{align:"end",className:"w-56",children:[o.jsxs(Gg,{className:"space-y-1 px-3 py-2 text-left normal-case",children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:r||"admin"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:n("common.admin")})]}),o.jsx(ns,{}),o.jsxs(an,{onClick:t,children:[o.jsx(e8,{className:"w-4 h-4 mr-2"}),n("common.settings"),o.jsx(Qg,{children:"Ctrl ,"})]}),o.jsx(ns,{}),o.jsxs(an,{onClick:e,children:[o.jsx(lce,{className:"w-4 h-4 mr-2"}),n("common.logout"),o.jsx(Qg,{children:"Ctrl Q"})]})]})]})}const Nge=(()=>{var n,r;const e=(r=(n=import.meta)==null?void 0:n.env)==null?void 0:r.VITE_MONEY_DIVISOR,t=Number(e);return Number.isFinite(t)&&t>0?t:100})();function ef(e){const t=Number(e??0);return Number.isFinite(t)?t/Nge:0}function fd(e,t=2){const n=Number(e);return Number.isFinite(n)?n.toFixed(t):0 .toFixed(t)}function kR(e,t="$"){return`${t}${fd(ef(e),2)}`}const Cge=e=>{const t=Math.abs(e);return Number.isInteger(t)?t.toFixed(0):t.toFixed(1)},Gc=({title:e,value:t,icon:n,trend:r,trendLabel:i,subValue:s,iconColor:a})=>{const l=Number.isFinite(r),c=l||s,u=(r??0)>=0;return o.jsx(It,{className:"relative",children:o.jsx(Lt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e}),o.jsx("div",{className:"text-2xl font-semibold text-foreground tabular-nums",children:t}),c?o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[l&&o.jsxs("span",{className:te("flex items-center gap-1 font-medium",u?"text-green-600":"text-red-500"),children:[i?o.jsx("span",{className:"text-muted-foreground",children:i}):null,u?o.jsx(bh,{className:"h-3 w-3"}):o.jsx(vh,{className:"h-3 w-3"}),Cge(r??0),"%"]}),l&&s?o.jsx("span",{className:"text-muted-foreground",children:""}):null,s?o.jsx("span",{children:s}):null]}):null]}),o.jsx(n,{className:te("h-4 w-4 text-muted-foreground",a)})]})})})};function SR(e,t=2){if(!+e)return"0 B";const n=1024,r=t<0?0:t,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,s)).toFixed(r))} ${i[s]}`}function Oge(){const{t:e}=Ut(),t=e("common.currency_symbol"),[n,r]=f.useState(null);return f.useEffect(()=>{(async()=>{try{const s=await bo.getStats();r(s.data.data)}catch(s){console.error("Failed to fetch dashboard stats",s)}})()},[]),n?o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Gc,{title:e("dashboard.today_income"),value:kR(n.todayIncome,t),icon:UD,trend:n.dayIncomeGrowth,trendLabel:e("dashboard.vs_yesterday"),iconColor:"text-emerald-500"}),o.jsx(Gc,{title:e("dashboard.month_income"),value:kR(n.currentMonthIncome,t),icon:UD,trend:n.monthIncomeGrowth,trendLabel:e("dashboard.vs_last_month"),iconColor:"text-blue-500"}),o.jsx(Gc,{title:e("dashboard.pending_tickets"),value:n.ticketPendingTotal,icon:Q_,iconColor:"text-orange-500"}),o.jsx(Gc,{title:e("dashboard.pending_commissions"),value:n.commissionPendingTotal,icon:ij,iconColor:"text-purple-500"}),o.jsx(Gc,{title:e("dashboard.new_users"),value:n.currentMonthNewUsers,icon:tm,trend:n.userGrowth,trendLabel:e("dashboard.vs_last_month"),iconColor:"text-cyan-500"}),o.jsx(Gc,{title:e("dashboard.total_users"),value:n.totalUsers,icon:tm,subValue:e("dashboard.online_users",{count:n.onlineUsers??n.activeUsers})}),o.jsx(Gc,{title:e("dashboard.month_upload"),value:SR(n.monthTraffic.upload),icon:Ug,iconColor:"text-indigo-500"}),o.jsx(Gc,{title:e("dashboard.month_download"),value:SR(n.monthTraffic.download),icon:Mle,iconColor:"text-pink-500"})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 p-4 text-center",children:"Loading..."})}var Pge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GE(e){if(typeof e!="string")return!1;var t=Pge;return t.includes(e)}var Ege=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mge=new Set(Ege);function EU(e){return typeof e!="string"?!1:Mge.has(e)}function MU(e){return typeof e=="string"&&e.startsWith("data-")}function Ka(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(EU(n)||MU(n))&&(t[n]=e[n]);return t}function dx(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ka(t)}return typeof e=="object"&&!Array.isArray(e)?Ka(e):null}function hs(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(EU(n)||MU(n)||GE(n))&&(t[n]=e[n]);return t}function Tge(e){return e==null?null:f.isValidElement(e)?hs(e.props):typeof e=="object"&&!Array.isArray(e)?hs(e):null}var Age=["children","width","height","viewBox","className","style","title","desc"];function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UC.apply(null,arguments)}function zge(e,t){if(e==null)return{};var n,r,i=Dge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TU=f.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=zge(e,Age),h=s||{width:r,height:i,x:0,y:0},m=Sn("recharts-surface",a);return f.createElement("svg",UC({},hs(d),{className:m,width:r,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),f.createElement("title",null,c),f.createElement("desc",null,u),n)}),Rge=["children","className"];function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VC.apply(null,arguments)}function Ige(e,t){if(e==null)return{};var n,r,i=Lge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fs=f.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Ige(e,Rge),s=Sn("recharts-layer",r);return f.createElement("g",VC({className:s},hs(i),{ref:t}),n)}),$ge=f.createContext(null);function Bn(e){return function(){return e}}const AU=Math.cos,a0=Math.sin,Ro=Math.sqrt,o0=Math.PI,wj=2*o0,HC=Math.PI,KC=2*HC,md=1e-6,Fge=KC-md;function zU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zU;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zU:Bge(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-t,u=i-n,d=a-t,h=l-n,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>md)if(!(Math.abs(h*c-u*d)>md)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,g=i-l,y=c*c+u*u,x=p*p+g*g,v=Math.sqrt(y),w=Math.sqrt(m),b=s*Math.tan((HC-Math.acos((y+m-x)/(2*v*w)))/2),j=b/w,_=b/v;Math.abs(j-1)>md&&this._append`L${t+j*d},${n+j*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,h=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>md||Math.abs(this._y1-d)>md)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%KC+KC),m>Fge?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:m>md&&this._append`A${r},${r},0,${+(m>=HC)},${h},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qge(t)}function XE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DU(e){this._context=e}DU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jj(e){return new DU(e)}function RU(e){return e[0]}function IU(e){return e[1]}function LU(e,t){var n=Bn(!0),r=null,i=jj,s=null,a=QE(l);e=typeof e=="function"?e:e===void 0?RU:Bn(e),t=typeof t=="function"?t:t===void 0?IU:Bn(t);function l(c){var u,d=(c=XE(c)).length,h,m=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(h,u,c),+t(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Bn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Cv(e,t,n){var r=null,i=Bn(!0),s=null,a=jj,l=null,c=QE(u);e=typeof e=="function"?e:e===void 0?RU:Bn(+e),t=typeof t=="function"?t:Bn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?IU:Bn(+n);function u(h){var m,p,g,y=(h=XE(h)).length,x,v=!1,w,b=new Array(y),j=new Array(y);for(s==null&&(l=a(w=c())),m=0;m<=y;++m){if(!(m<y&&i(x=h[m],m,h))===v)if(v=!v)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=p;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(b[m]=+e(x,m,h),j[m]=+t(x,m,h),l.point(r?+r(x,m,h):b[m],n?+n(x,m,h):j[m]))}if(w)return l=null,w+""||null}function d(){return LU().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Bn(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Bn(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Bn(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Bn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Bn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(l=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=l=null:l=a(s=h),u):s},u}class $U{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Wge(e){return new $U(e,!0)}function Uge(e){return new $U(e,!1)}const ZE={draw(e,t){const n=Ro(t/o0);e.moveTo(n,0),e.arc(0,0,n,0,wj)}},Vge={draw(e,t){const n=Ro(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},FU=Ro(1/3),Hge=FU*2,Kge={draw(e,t){const n=Ro(t/Hge),r=n*FU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Yge={draw(e,t){const n=Ro(t),r=-n/2;e.rect(r,r,n,n)}},Gge=.8908130915292852,BU=a0(o0/10)/a0(7*o0/10),Qge=a0(wj/10)*BU,Xge=-AU(wj/10)*BU,Zge={draw(e,t){const n=Ro(t*Gge),r=Qge*n,i=Xge*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=wj*s/5,l=AU(a),c=a0(a);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},nS=Ro(3),Jge={draw(e,t){const n=-Ro(t/(nS*3));e.moveTo(0,n*2),e.lineTo(-nS*n,-n),e.lineTo(nS*n,-n),e.closePath()}},Sa=-.5,Na=Ro(3)/2,YC=1/Ro(12),eye=(YC/2+1)*3,tye={draw(e,t){const n=Ro(t/eye),r=n/2,i=n*YC,s=r,a=n*YC+n,l=-s,c=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Sa*r-Na*i,Na*r+Sa*i),e.lineTo(Sa*s-Na*a,Na*s+Sa*a),e.lineTo(Sa*l-Na*c,Na*l+Sa*c),e.lineTo(Sa*r+Na*i,Sa*i-Na*r),e.lineTo(Sa*s+Na*a,Sa*a-Na*s),e.lineTo(Sa*l+Na*c,Sa*c-Na*l),e.closePath()}};function nye(e,t){let n=null,r=QE(i);e=typeof e=="function"?e:Bn(e||ZE),t=typeof t=="function"?t:Bn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Bn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Bn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function l0(){}function c0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qU(e){this._context=e}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rye(e){return new qU(e)}function WU(e){this._context=e}WU.prototype={areaStart:l0,areaEnd:l0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iye(e){return new WU(e)}function UU(e){this._context=e}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:c0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sye(e){return new UU(e)}function VU(e){this._context=e}VU.prototype={areaStart:l0,areaEnd:l0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aye(e){return new VU(e)}function NR(e){return e<0?-1:1}function CR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(NR(s)+NR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function OR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rS(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,i+l*t,s-l,a-l*n,s,a)}function u0(e){this._context=e}u0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rS(this,this._t0,OR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rS(this,OR(this,n=CR(this,e,t)),n);break;default:rS(this,this._t0,n=CR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HU(e){this._context=new KU(e)}(HU.prototype=Object.create(u0.prototype)).point=function(e,t){u0.prototype.point.call(this,t,e)};function KU(e){this._context=e}KU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function oye(e){return new u0(e)}function lye(e){return new HU(e)}function YU(e){this._context=e}YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=PR(e),i=PR(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PR(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function cye(e){return new YU(e)}function kj(e,t){this._context=e,this._t=t}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function uye(e){return new kj(e,.5)}function dye(e){return new kj(e,0)}function hye(e){return new kj(e,1)}function rh(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,l=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function GC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function fye(e,t){return e[t]}function mye(e){const t=[];return t.key=e,t}function pye(){var e=Bn([]),t=GC,n=rh,r=fye;function i(s){var a=Array.from(e.apply(this,arguments),mye),l,c=a.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(h,a[l].key,u,s)]).data=h;for(l=0,d=XE(t(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Bn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?GC:typeof s=="function"?s:Bn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??rh,i):n},i}function gye(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}rh(e,t)}}function yye(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=e[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}rh(e,t)}}function xye(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],h=d[r][1]||0,m=d[r-1][1]||0,p=(h-m)/2,g=0;g<l;++g){var y=e[t[g]],x=y[r][1]||0,v=y[r-1][1]||0;p+=x-v}c+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,rh(e,t)}}var Sj={},GU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(GU);var JE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(JE);var Nj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Nj);var Cj={},QU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(QU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU,n=Nj;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const h=i[l];u?h==="\\"&&l+1<a?(l++,c+=i[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(c),c=""):c+=h:h==="["?(d=!0,c&&(s.push(c),c="")):h==="."?c&&(s.push(c),c=""):c+=h,l++}return c&&s.push(c),s}e.toPath=r})(Cj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GU,n=JE,r=Nj,i=Cj;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=s})(Sj);var vye=Sj.get;const im=kl(vye);var bye=4;function pu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bye,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+pu(l)+s:i+s},"")}var Ts=e=>e===0?0:e>0?1:-1,Ya=e=>typeof e=="number"&&e!=+e,vc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,bt=e=>(typeof e=="number"||e instanceof Number)&&!Ya(e),vl=e=>bt(e)||typeof e=="string",_ye=0,Xg=e=>{var t=++_ye;return"".concat(e||"").concat(t)},Po=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(t)&&typeof t!="string")return r;var s;if(vc(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return Ya(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},XU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function lr(e,t,n){return bt(e)&&bt(t)?pu(e+n*(t-e)):t}function ZU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):im(r,t))===n)}var ur=e=>e===null||typeof e>"u",hx=e=>ur(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wye(e){return e!=null}function fx(){}var jye=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QC.apply(null,arguments)}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){kye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kye(e,t,n){return(t=Sye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sye(e){var t=Nye(e,"string");return typeof t=="symbol"?t:t+""}function Nye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cye(e,t){if(e==null)return{};var n,r,i=Oye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JU={symbolCircle:ZE,symbolCross:Vge,symbolDiamond:Kge,symbolSquare:Yge,symbolStar:Zge,symbolTriangle:Jge,symbolWye:tye},Pye=Math.PI/180,Eye=e=>{var t="symbol".concat(hx(e));return JU[t]||ZE},Mye=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Pye;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tye=(e,t)=>{JU["symbol".concat(hx(e))]=t},e9=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Cye(e,jye),s=MR(MR({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var l=()=>{var m=Eye(a),p=nye().type(m).size(Mye(n,r,a)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=s,h=hs(s);return bt(u)&&bt(d)&&bt(n)?f.createElement("path",QC({},h,{className:Sn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};e9.registerSymbol=Tye;var t9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,eM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(f.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{GE(i)&&(r[i]=s=>n[i](n,s))}),r},Aye=(e,t,n)=>r=>(e(t,n,r),null),tM=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];GE(i)&&typeof s=="function"&&(r||(r={}),r[i]=Aye(s,t,n))}),r};function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){Dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dye(e,t,n){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rye(e){var t=Iye(e,"string");return typeof t=="symbol"?t:t+""}function Iye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(e,t){var n=zye({},e),r=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var n9={},r9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(r9);var nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(nM);var i9={},Oj={},s9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(s9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s9;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Oj);var a9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(a9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oj,n=a9;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(i9);var o9={},l9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sj;function n(r){return function(i){return t.get(i,r)}}e.property=n})(l9);var c9={},rM={},u9={},iM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(iM);var sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(sM);var aM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(aM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM,n=sM,r=aM;function i(d,h,m){return typeof m!="function"?i(d,h,()=>{}):s(d,h,function p(g,y,x,v,w,b){const j=m(g,y,x,v,w,b);return j!==void 0?!!j:s(g,y,p,b)},new Map)}function s(d,h,m,p){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,m,p);case"function":return Object.keys(h).length>0?s(d,{...h},m,p):r.eq(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,m,p){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,p);if(h instanceof Map)return l(d,h,m,p);if(h instanceof Set)return u(d,h,m,p);const g=Object.keys(h);if(d==null||n.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let y=0;y<g.length;y++){const x=g[y];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!m(d[x],h[x],x,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function l(d,h,m,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const x=d.get(g);if(m(x,y,g,d,h,p)===!1)return!1}return!0}function c(d,h,m,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const x=h[y];let v=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const b=d[w];let j=!1;if(m(b,x,y,d,h,p)&&(j=!0),j){g.add(w),v=!0;break}}if(!v)return!1}return!0}function u(d,h,m,p){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=u})(u9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(rM);var d9={},oM={},h9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(h9);var lM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(lM);var cM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",O="[object BigInt64Array]",M="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=M,e.float64ArrayTag=P,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(cM);var f9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(f9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9,n=lM,r=cM,i=sM,s=f9;function a(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,m,p=new Map,g=void 0){const y=g==null?void 0:g(d,h,m,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,m,p,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[v,w]of d)x.set(v,l(w,v,m,p,g));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const v of d)x.add(l(v,void 0,m,p,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,m,p,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,m,p,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,m,p,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,m,p,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof String){const x=new String(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,m,p,g),x}return d}function c(d,h,m=d,p,g){const y=[...Object.keys(h),...t.getSymbols(h)];for(let x=0;x<y.length;x++){const v=y[x],w=Object.getOwnPropertyDescriptor(d,v);(w==null||w.writable)&&(d[v]=l(h[v],v,m,p,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(d9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM,n=d9;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(c9);var m9={},p9={},g9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM,n=cM;function r(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(g9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g9;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(p9);var y9={},uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uM);var x9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(x9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE,n=uM,r=x9,i=Cj;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=s})(y9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM,n=Nj,r=p9,i=Sj,s=y9;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(m9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM,n=l9,r=c9,i=m9;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(o9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9,n=nM,r=i9,i=o9;function s(a,l=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(n9);var Lye=n9.uniqBy;const AR=kl(Lye);function $ye(e,t,n){return t===!0?AR(e,n):typeof t=="function"?AR(e,t):e}var v9={exports:{}},b9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=f,Fye=F6;function Bye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qye=typeof Object.is=="function"?Object.is:Bye,Wye=Fye.useSyncExternalStore,Uye=Pj.useRef,Vye=Pj.useEffect,Hye=Pj.useMemo,Kye=Pj.useDebugValue;b9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Uye(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Hye(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,qye(d,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=Wye(e,s[0],s[1]);return Vye(function(){a.hasValue=!0,a.value=l},[l]),Kye(l),l};v9.exports=b9;var Yye=v9.exports,dM=f.createContext(null),Gye=e=>e,Or=()=>{var e=f.useContext(dM);return e?e.store.dispatch:Gye},Xb=()=>{},Qye=()=>Xb,Xye=(e,t)=>e===t;function Rt(e){var t=f.useContext(dM);return Yye.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Qye,t?t.store.getState:Xb,t?t.store.getState:Xb,t?e:Xb,Xye)}function Zye(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Jye(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function exe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var zR=e=>Array.isArray(e)?e:[e];function txe(e){const t=Array.isArray(e[0])?e[0]:e;return exe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nxe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var rxe=class{constructor(e){this.value=e}deref(){return this.value}},ixe=typeof WeakRef<"u"?WeakRef:rxe,sxe=0,DR=1;function Ov(){return{s:sxe,v:void 0,o:null,p:null}}function _9(e,t={}){let n=Ov();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var h;let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(g);x===void 0?(l=Ov(),y.set(g,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(g);x===void 0?(l=Ov(),y.set(g,l)):l=x}}const u=l;let d;if(l.s===DR)d=l.v;else if(d=e.apply(null,arguments),s++,r){const m=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;m!=null&&r(m,d)&&(d=m,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new ixe(d):d}return u.s=DR,u.v=d,d}return a.clearCache=()=>{n=Ov(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function axe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Zye(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:p=_9,argsMemoizeOptions:g=[]}=d,y=zR(m),x=zR(g),v=txe(i),w=h(function(){return s++,u.apply(null,arguments)},...y),b=p(function(){a++;const _=nxe(v,arguments);return l=w.apply(null,_),l},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var we=axe(_9),oxe=Object.assign((e,t=we)=>{Jye(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>oxe}),w9={},j9={},k9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),l=t(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=n})(k9);var S9={},hM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(hM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(S9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9,n=S9,r=Cj;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,g)=>{let y=p;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,h=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:h.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<h.length;y++){const x=t.compareValues(p.criteria[y],g.criteria[y],l[y]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=i})(j9);var N9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(n,0),i}e.flatten=t})(N9);var fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM,n=Oj,r=iM,i=aM;function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j9,n=N9,r=fM;function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(w9);var lxe=w9.sortBy;const Ej=kl(lxe);var C9=e=>e.legend.settings,cxe=e=>e.legend.size,uxe=e=>e.legend.payload;we([uxe,C9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ej(r,n):r});var Pv=1;function dxe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=f.useState({height:0,left:0,top:0,width:0}),r=f.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Pv||Math.abs(a.left-t.left)>Pv||Math.abs(a.top-t.top)>Pv||Math.abs(a.width-t.width)>Pv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function vi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hxe=typeof Symbol=="function"&&Symbol.observable||"@@observable",RR=hxe,iS=()=>Math.random().toString(36).substring(7).split("").join("."),fxe={INIT:`@@redux/INIT${iS()}`,REPLACE:`@@redux/REPLACE${iS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iS()}`},d0=fxe;function mM(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function O9(e,t,n){if(typeof e!="function")throw new Error(vi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vi(1));return n(O9)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((x,v)=>{a.set(v,x)}))}function d(){if(c)throw new Error(vi(3));return i}function h(x){if(typeof x!="function")throw new Error(vi(4));if(c)throw new Error(vi(5));let v=!0;u();const w=l++;return a.set(w,x),function(){if(v){if(c)throw new Error(vi(6));v=!1,u(),a.delete(w),s=null}}}function m(x){if(!mM(x))throw new Error(vi(7));if(typeof x.type>"u")throw new Error(vi(8));if(typeof x.type!="string")throw new Error(vi(17));if(c)throw new Error(vi(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=a).forEach(w=>{w()}),x}function p(x){if(typeof x!="function")throw new Error(vi(10));r=x,m({type:d0.REPLACE})}function g(){const x=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(vi(11));function w(){const j=v;j.next&&j.next(d())}return w(),{unsubscribe:x(w)}},[RR](){return this}}}return m({type:d0.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:p,[RR]:g}}function mxe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:d0.INIT})>"u")throw new Error(vi(12));if(typeof n(void 0,{type:d0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vi(13))})}function P9(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{mxe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],p=a[h],g=m(p,l);if(typeof g>"u")throw l&&l.type,new Error(vi(14));u[h]=g,c=c||g!==p}return c=c||r.length!==Object.keys(a).length,c?u:a}}function h0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function pxe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(vi(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=h0(...l)(i.dispatch),{...i,dispatch:s}}}function E9(e){return mM(e)&&"type"in e&&typeof e.type=="string"}var M9=Symbol.for("immer-nothing"),IR=Symbol.for("immer-draftable"),ms=Symbol.for("immer-state");function po(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var aa=Object,sm=aa.getPrototypeOf,f0="constructor",Mj="prototype",XC="configurable",m0="enumerable",Zb="writable",Zg="value",bc=e=>!!e&&!!e[ms];function Eo(e){var t;return e?T9(e)||Tj(e)||!!e[IR]||!!((t=e[f0])!=null&&t[IR])||Aj(e)||zj(e):!1}var gxe=aa[Mj][f0].toString(),LR=new WeakMap;function T9(e){if(!e||!pM(e))return!1;const t=sm(e);if(t===null||t===aa[Mj])return!0;const n=aa.hasOwnProperty.call(t,f0)&&t[f0];if(n===Object)return!0;if(!tf(n))return!1;let r=LR.get(n);return r===void 0&&(r=Function.toString.call(n),LR.set(n,r)),r===gxe}function mx(e,t,n=!0){px(e)===0?(n?Reflect.ownKeys(e):aa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function px(e){const t=e[ms];return t?t.type_:Tj(e)?1:Aj(e)?2:zj(e)?3:0}var $R=(e,t,n=px(e))=>n===2?e.has(t):aa[Mj].hasOwnProperty.call(e,t),ZC=(e,t,n=px(e))=>n===2?e.get(t):e[t],p0=(e,t,n,r=px(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function yxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Tj=Array.isArray,Aj=e=>e instanceof Map,zj=e=>e instanceof Set,pM=e=>typeof e=="object",tf=e=>typeof e=="function",sS=e=>typeof e=="boolean",Yl=e=>e.copy_||e.base_,gM=e=>e.modified_?e.copy_:e.base_;function JC(e,t){if(Aj(e))return new Map(e);if(zj(e))return new Set(e);if(Tj(e))return Array[Mj].slice.call(e);const n=T9(e);if(t===!0||t==="class_only"&&!n){const r=aa.getOwnPropertyDescriptors(e);delete r[ms];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Zb]===!1&&(l[Zb]=!0,l[XC]=!0),(l.get||l.set)&&(r[a]={[XC]:!0,[Zb]:!0,[m0]:l[m0],[Zg]:e[a]})}return aa.create(sm(e),r)}else{const r=sm(e);if(r!==null&&n)return{...e};const i=aa.create(r);return aa.assign(i,e)}}function yM(e,t=!1){return Dj(e)||bc(e)||!Eo(e)||(px(e)>1&&aa.defineProperties(e,{set:Ev,add:Ev,clear:Ev,delete:Ev}),aa.freeze(e),t&&mx(e,(n,r)=>{yM(r,!0)},!1)),e}function xxe(){po(2)}var Ev={[Zg]:xxe};function Dj(e){return e===null||!pM(e)?!0:aa.isFrozen(e)}var g0="MapSet",eO="Patches",A9={};function am(e){const t=A9[e];return t||po(0,e),t}var vxe=e=>!!A9[e],Jg,z9=()=>Jg,bxe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vxe(g0)?am(g0):void 0});function FR(e,t){t&&(e.patchPlugin_=am(eO),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tO(e){nO(e),e.drafts_.forEach(_xe),e.drafts_=null}function nO(e){e===Jg&&(Jg=e.parent_)}var BR=e=>Jg=bxe(Jg,e);function _xe(e){const t=e[ms];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ms].modified_&&(tO(t),po(4)),Eo(e)&&(e=WR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ms].base_,e,t)}else e=WR(t,n);return wxe(t,e,!0),tO(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==M9?e:void 0}function WR(e,t){if(Dj(t))return t;const n=t[ms];if(!n)return xM(t,e.handledSet_,e);if(!Rj(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);I9(n,e)}return n.copy_}function wxe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yM(t,n)}function D9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Rj=(e,t)=>e.scope_===t,jxe=[];function R9(e,t,n,r){const i=Yl(e),s=e.type_;if(r!==void 0&&ZC(i,r,s)===t){p0(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;mx(i,(c,u)=>{if(bc(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const a=e.draftLocations_.get(t)??jxe;for(const l of a)p0(i,l,n,s)}function kxe(e,t,n){e.callbacks_.push(function(i){var l;const s=t;if(!s||!Rj(s,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(s);const a=gM(s);R9(e,s.draft_??s,a,n),I9(s,i)})}function I9(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}D9(e)}}function Sxe(e,t,n){const{scope_:r}=e;if(bc(n)){const i=n[ms];Rj(i,r)&&i.callbacks_.push(function(){Jb(e);const a=gM(i);R9(e,n,a,t)})}else Eo(n)&&e.callbacks_.push(function(){const s=Yl(e);ZC(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&xM(ZC(e.copy_,t,e.type_),r.handledSet_,r)})}function xM(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||bc(e)||t.has(e)||!Eo(e)||Dj(e)||(t.add(e),mx(e,(r,i)=>{if(bc(i)){const s=i[ms];if(Rj(s,n)){const a=gM(s);p0(e,r,a,e.type_),D9(s)}}else Eo(i)&&xM(i,t,n)})),e}function Nxe(e,t){const n=Tj(e),r={type_:n?1:0,scope_:t?t.scope_:z9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=vM;n&&(i=[r],s=ey);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var vM={get(e,t){if(t===ms)return e;const n=Yl(e);if(!$R(n,t,e.type_))return Cxe(e,n,t);const r=n[t];if(e.finalized_||!Eo(r))return r;if(r===aS(e.base_,t)){Jb(e);const i=e.type_===1?+t:t,s=iO(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in Yl(e)},ownKeys(e){return Reflect.ownKeys(Yl(e))},set(e,t,n){const r=L9(Yl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=aS(Yl(e),t),s=i==null?void 0:i[ms];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(yxe(n,i)&&(n!==void 0||$R(e.base_,t,e.type_)))return!0;Jb(e),rO(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Sxe(e,t,n)),!0},deleteProperty(e,t){return Jb(e),aS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),rO(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zb]:!0,[XC]:e.type_!==1||t!=="length",[m0]:r[m0],[Zg]:n[t]}},defineProperty(){po(11)},getPrototypeOf(e){return sm(e.base_)},setPrototypeOf(){po(12)}},ey={};mx(vM,(e,t)=>{ey[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});ey.deleteProperty=function(e,t){return ey.set.call(this,e,t,void 0)};ey.set=function(e,t,n){return vM.set.call(this,e[0],t,n,e[0])};function aS(e,t){const n=e[ms];return(n?Yl(n):e)[t]}function Cxe(e,t,n){var i;const r=L9(t,n);return r?Zg in r?r[Zg]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function L9(e,t){if(!(t in e))return;let n=sm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sm(n)}}function rO(e){e.modified_||(e.modified_=!0,e.parent_&&rO(e.parent_))}function Jb(e){e.copy_||(e.assigned_=new Map,e.copy_=JC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Oxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(tf(n)&&!tf(r)){const a=r;r=n;const l=this;return function(u=a,...d){return l.produce(u,h=>r.call(this,h,...d))}}tf(r)||po(6),i!==void 0&&!tf(i)&&po(7);let s;if(Eo(n)){const a=BR(this),l=iO(a,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?tO(a):nO(a)}return FR(a,i),qR(s,a)}else if(!n||!pM(n)){if(s=r(n),s===void 0&&(s=n),s===M9&&(s=void 0),this.autoFreeze_&&yM(s,!0),i){const a=[],l=[];am(eO).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else po(1,n)},this.produceWithPatches=(n,r)=>{if(tf(n))return(l,...c)=>this.produceWithPatches(l,u=>n(u,...c));let i,s;return[this.produce(n,r,(l,c)=>{i=l,s=c}),i,s]},sS(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sS(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sS(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Eo(t)||po(8),bc(t)&&(t=So(t));const n=BR(this),r=iO(n,t,void 0);return r[ms].isManual_=!0,nO(n),r}finishDraft(t,n){const r=t&&t[ms];(!r||!r.isManual_)&&po(9);const{scope_:i}=r;return FR(i,n),qR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=am(eO).applyPatches_;return bc(t)?i(t,n):this.produce(t,s=>i(s,n))}};function iO(e,t,n,r){const[i,s]=Aj(t)?am(g0).proxyMap_(t,n):zj(t)?am(g0).proxySet_(t,n):Nxe(t,n);return((n==null?void 0:n.scope_)??z9()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?kxe(n,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),i}function So(e){return bc(e)||po(10,e),$9(e)}function $9(e){if(!Eo(e)||Dj(e))return e;const t=e[ms];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=JC(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=JC(e,!0);return mx(n,(i,s)=>{p0(n,i,$9(s))},r),t&&(t.finalized_=!1),n}var Pxe=new Oxe,F9=Pxe.produce;function B9(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Exe=B9(),Mxe=B9,Txe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?h0:h0.apply(null,arguments)};function Ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ua(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>E9(r)&&r.type===e,n}var q9=class Up extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Up.prototype)}static get[Symbol.species](){return Up}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Up(...t[0].concat(this)):new Up(...t.concat(this))}};function UR(e){return Eo(e)?F9(e,()=>{}):e}function Mv(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Axe(e){return typeof e=="boolean"}var zxe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new q9;return n&&(Axe(n)?a.push(Exe):a.push(Mxe(n.extraArgument))),a},W9="RTK_autoBatch",Zn=()=>e=>({payload:e,meta:{[W9]:!0}}),VR=e=>t=>{setTimeout(t,e)},U9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VR(10):e.type==="callback"?e.queueNotification:VR(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[W9]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},Dxe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new q9(e);return r&&i.push(U9(typeof r=="object"?r:void 0)),i};function Rxe(e){const t=zxe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(mM(n))l=P9(n);else throw new Error(ua(1));let c;typeof r=="function"?c=r(t):c=t();let u=h0;i&&(u=Txe({trace:!1,...typeof i=="object"&&i}));const d=pxe(...c),h=Dxe(d);let m=typeof a=="function"?a(h):h();const p=u(...m);return O9(l,s,p)}function V9(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ua(28));if(l in t)throw new Error(ua(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Ixe(e){return typeof e=="function"}function Lxe(e,t){let[n,r,i]=V9(t),s;if(Ixe(e))s=()=>UR(e());else{const l=UR(e);s=()=>l}function a(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(bc(d)){const p=h(d,c);return p===void 0?d:p}else{if(Eo(d))return F9(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return a.getInitialState=s,a}var $xe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fxe=(e=21)=>{let t="",n=e;for(;n--;)t+=$xe[Math.random()*64|0];return t},Bxe=Symbol.for("rtk-slice-createasyncthunk");function qxe(e,t){return`${e}/${t}`}function Wxe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Bxe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ua(11));const l=(typeof i.reducers=="function"?i.reducers(Vxe()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(ua(12));if(k in u.sliceCaseReducersByType)throw new Error(ua(13));return u.sliceCaseReducersByType[k]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],k={reducerName:j,type:qxe(s,j),createNotation:typeof i.reducers=="function"};Kxe(_)?Gxe(k,_,d,t):Hxe(k,_,d)});function h(){const[j={},_=[],k=void 0]=typeof i.extraReducers=="function"?V9(i.extraReducers):[i.extraReducers],C={...j,...u.sliceCaseReducersByType};return Lxe(i.initialState,O=>{for(let M in C)O.addCase(M,C[M]);for(let M of u.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of _)O.addMatcher(M.matcher,M.reducer);k&&O.addDefaultCase(k)})}const m=j=>j,p=new Map,g=new WeakMap;let y;function x(j,_){return y||(y=h()),y(j,_)}function v(){return y||(y=h()),y.getInitialState()}function w(j,_=!1){function k(O){let M=O[j];return typeof M>"u"&&_&&(M=Mv(g,k,v)),M}function C(O=m){const M=Mv(p,_,()=>new WeakMap);return Mv(M,O,()=>{const P={};for(const[A,R]of Object.entries(i.selectors??{}))P[A]=Uxe(R,O,()=>Mv(g,O,v),_);return P})}return{reducerPath:j,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const b={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...w(a),injectInto(j,{reducerPath:_,...k}={}){const C=_??a;return j.inject({reducerPath:C,reducer:x},k),{...b,...w(C,!0)}}};return b}}function Uxe(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var Ws=Wxe();function Vxe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Hxe({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Yxe(r))throw new Error(ua(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Ga(e,a):Ga(e))}function Kxe(e){return e._reducerDefinitionType==="asyncThunk"}function Yxe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gxe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ua(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=n,h=i(e,s,d);r.exposeAction(t,h),a&&r.addCase(h.fulfilled,a),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Tv,pending:l||Tv,rejected:c||Tv,settled:u||Tv})}function Tv(){}var Qxe="task",H9="listener",K9="completed",bM="cancelled",Xxe=`task-${bM}`,Zxe=`task-${K9}`,sO=`${H9}-${bM}`,Jxe=`${H9}-${K9}`,Ij=class{constructor(e){sk(this,"name","TaskAbortError");sk(this,"message");this.code=e,this.message=`${Qxe} ${bM} (reason: ${e})`}},_M=(e,t)=>{if(typeof e!="function")throw new TypeError(ua(32))},y0=()=>{},Y9=(e,t=y0)=>(e.catch(t),e),G9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qd=e=>{if(e.aborted)throw new Ij(e.reason)};function Q9(e,t){let n=y0;return new Promise((r,i)=>{const s=()=>i(new Ij(e.reason));if(e.aborted){s();return}n=G9(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=y0})}var eve=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ij?"cancelled":"rejected",error:n}}finally{t==null||t()}},x0=e=>t=>Y9(Q9(e,t).then(n=>(qd(e),n))),X9=e=>{const t=x0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Df}=Object,HR={},Lj="listenerMiddleware",tve=(e,t)=>{const n=r=>G9(e,()=>r.abort(e.reason));return(r,i)=>{_M(r);const s=new AbortController;n(s);const a=eve(async()=>{qd(e),qd(s.signal);const l=await r({pause:x0(s.signal),delay:X9(s.signal),signal:s.signal});return qd(s.signal),l},()=>s.abort(Zxe));return i!=null&&i.autoJoin&&t.push(a.catch(y0)),{result:x0(e)(a),cancel(){s.abort(Xxe)}}}},nve=(e,t)=>{const n=async(r,i)=>{qd(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Q9(t,Promise.race(l));return qd(t),c}finally{s()}};return(r,i)=>Y9(n(r,i))},Z9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ua(21));return _M(s),{predicate:i,type:t,effect:s}},J9=Df(e=>{const{type:t,predicate:n,effect:r}=Z9(e);return{id:Fxe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>J9}),KR=(e,t)=>{const{type:n,effect:r,predicate:i}=Z9(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},aO=e=>{e.pending.forEach(t=>{t.abort(sO)})},rve=(e,t)=>()=>{for(const n of t.keys())aO(n);e.clear()},YR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},e7=Df(Ga(`${Lj}/add`),{withTypes:()=>e7}),ive=Ga(`${Lj}/removeAll`),t7=Df(Ga(`${Lj}/remove`),{withTypes:()=>t7}),sve=(...e)=>{console.error(`${Lj}/error`,...e)},gx=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:s,onError:a=sve}=e;_M(a);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&aO(p)}),c=p=>{const g=KR(t,p)??J9(p);return l(g)};Df(c,{withTypes:()=>c});const u=p=>{const g=KR(t,p);return g&&(g.unsubscribe(),p.cancelActive&&aO(g)),!!g};Df(u,{withTypes:()=>u});const d=async(p,g,y,x)=>{const v=new AbortController,w=nve(c,v.signal),b=[];try{p.pending.add(v),r(p),await Promise.resolve(p.effect(g,Df({},y,{getOriginalState:x,condition:(j,_)=>w(j,_).then(Boolean),take:w,delay:X9(v.signal),pause:x0(v.signal),extra:s,signal:v.signal,fork:tve(v.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((j,_,k)=>{j!==v&&(j.abort(sO),k.delete(j))})},cancel:()=>{v.abort(sO),p.pending.delete(v)},throwIfCancelled:()=>{qd(v.signal)}})))}catch(j){j instanceof Ij||YR(a,j,{raisedBy:"effect"})}finally{await Promise.all(b),v.abort(Jxe),i(p),p.pending.delete(v)}},h=rve(t,n);return{middleware:p=>g=>y=>{if(!E9(y))return g(y);if(e7.match(y))return c(y.payload);if(ive.match(y)){h();return}if(t7.match(y))return u(y.payload);let x=p.getState();const v=()=>{if(x===HR)throw new Error(ua(23));return x};let w;try{if(w=g(y),t.size>0){const b=p.getState(),j=Array.from(t.values());for(const _ of j){let k=!1;try{k=_.predicate(y,b,x)}catch(C){k=!1,YR(a,C,{raisedBy:"predicate"})}k&&d(_,y,p,v)}}}finally{x=HR}return w},startListening:c,stopListening:u,clearListeners:h}};function ua(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ave={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},n7=Ws({name:"chartLayout",initialState:ave,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ove,setLayout:lve,setChartSize:cve,setScale:uve}=n7.actions,dve=n7.reducer;function r7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rn(e){return Number.isFinite(e)}function bl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){hve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hve(e,t,n){return(t=fve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fve(e){var t=mve(e,"string");return typeof t=="symbol"?t:t+""}function mve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dr(e,t,n){return ur(e)||ur(t)?n:vl(t)?im(e,t,n):typeof t=="function"?t(e):n}var pve=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&bt(e[s]))return vf(vf({},e),{},{[s]:e[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&bt(e[a]))return vf(vf({},e),{},{[a]:e[a]+(i||0)})}return e},Ac=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",i7=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(n),a},s7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:p}=e;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?Ts(s[0]-s[1])*2*y:y,h||m){var x=(h||m||[]).map((v,w)=>{var b=r?r.indexOf(v):v;return{coordinate:a(b)+y,value:v,offset:y,index:w}});return x.filter(v=>!Ya(v.coordinate))}return c&&u?u.map((v,w)=>({coordinate:a(v)+y,value:v,index:w,offset:y})):a.ticks&&d!=null?a.ticks(d).map((v,w)=>({coordinate:a(v)+y,value:v,offset:y,index:w})):a.domain().map((v,w)=>({coordinate:a(v)+y,value:r?r[v]:v,index:w,offset:y}))},QR=1e-4,gve=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-QR,s=Math.max(r[0],r[1])+QR,a=e(t[0]),l=e(t[n-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[n-1]])}},yve=(e,t)=>{if(!t||t.length!==2||!bt(t[0])||!bt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!bt(e[0])||e[0]<n)&&(i[0]=n),(!bt(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},xve=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=e[l],u=c==null?void 0:c[i];if(u!=null){var d=u[1],h=u[0],m=Ya(d)?h:d;m>=0?(u[0]=s,u[1]=s+m,s=d):(u[0]=a,u[1]=a+m,a=d)}}}},vve=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=e[a],c=l==null?void 0:l[i];if(c!=null){var u=Ya(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},bve={sign:xve,expand:gye,none:rh,silhouette:yye,wiggle:xye,positive:vve},_ve=(e,t,n)=>{var r,i=(r=bve[n])!==null&&r!==void 0?r:rh,s=pye().keys(t).value((l,c)=>Number(Dr(l,c,0))).order(GC).offset(i),a=s(e);return a.forEach((l,c)=>{l.forEach((u,d)=>{var h=Dr(e[d],t[c],0);Array.isArray(h)&&h.length===2&&bt(h[0])&&bt(h[1])&&(u[0]=h[0],u[1]=h[1])})}),a};function a7(e){return e==null?void 0:String(e)}function XR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ur(i[t.dataKey])){var l=ZU(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Dr(i,ur(a)?t.dataKey:a);return ur(c)?null:t.scale(c)}var ZR=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var l=Dr(s,t.dataKey,t.scale.domain()[a]);return ur(l)?null:t.scale(l)-i/2+r},wve=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jve=e=>{var t=e.flat(2).filter(bt);return[Math.min(...t),Math.max(...t)]},kve=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Sve=(e,t,n)=>{if(e!=null)return kve(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,u)=>{var d=r7(u,t,n),h=jve(d);return!Rn(h[0])||!Rn(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},JR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,om=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ej(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function tI(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return vf(vf({},t),{},{dataKey:n,payload:r,value:i,name:s})}function $j(e,t){if(e)return String(e);if(typeof t=="string")return t}var Nve=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Cve=(e,t)=>t==="centric"?e.angle:e.radius,zc=e=>e.layout.width,Dc=e=>e.layout.height,Ove=e=>e.layout.scale,o7=e=>e.layout.margin,Fj=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bj=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pve="data-recharts-item-index",Eve="data-recharts-item-id",yx=60;function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return(t=Tve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tve(e){var t=Ave(e,"string");return typeof t=="symbol"?t:t+""}function Ave(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zve=e=>e.brush.height;function Dve(e){var t=Bj(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yx;return n+i}return n},0)}function Rve(e){var t=Bj(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yx;return n+i}return n},0)}function Ive(e){var t=Fj(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Lve(e){var t=Fj(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var mi=we([zc,Dc,o7,zve,Dve,Rve,Ive,Lve,C9,cxe],(e,t,n,r,i,s,a,l,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},h={top:(n.top||0)+a,bottom:(n.bottom||0)+l},m=Av(Av({},h),d),p=m.bottom;m.bottom+=r,m=pve(m,c,u);var g=e-m.left-m.right,y=t-m.top-m.bottom;return Av(Av({brushBottom:p},m),{},{width:Math.max(g,0),height:Math.max(y,0)})}),$ve=we(mi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),wM=we(zc,Dc,(e,t)=>({x:0,y:0,width:e,height:t})),Fve=f.createContext(null),Yi=()=>f.useContext(Fve)!=null,qj=e=>e.brush,Wj=we([qj,mi,o7],(e,t,n)=>({height:e.height,x:bt(e.x)?e.x:t.left,y:bt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:bt(e.width)?e.width:t.width})),l7={},c7={},u7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},h=()=>{u&&d(),y()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},r)},g=()=>{m!==null&&(clearTimeout(m),m=null)},y=()=>{g(),a=void 0,l=null},x=()=>{d()},v=function(...w){if(i!=null&&i.aborted)return;a=this,l=w;const b=m==null;p(),c&&b&&d()};return v.schedule=p,v.cancel=y,v.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(u7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...y){d=r.apply(this,y),h=null},i,{edges:u}),p=function(...y){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=r.apply(this,y),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,y),d)},g=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=g,p}e.debounce=n})(c7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c7;function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:l})}e.throttle=n})(l7);var Bve=l7.throttle;const qve=kl(Bve);var v0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},d7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=vc(r)?e:Number(r),c=vc(i)?t:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},Wve={width:0,height:0,overflow:"visible"},Uve={width:0,overflowX:"visible"},Vve={height:0,overflowY:"visible"},Hve={},Kve=e=>{var{width:t,height:n}=e,r=vc(t),i=vc(n);return r&&i?Wve:r?Uve:i?Vve:Hve};function Yve(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(null,arguments)}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){Gve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gve(e,t,n){return(t=Qve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qve(e){var t=Xve(e,"string");return typeof t=="symbol"?t:t+""}function Xve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7=f.createContext({width:-1,height:-1});function Zve(e){return bl(e.width)&&bl(e.height)}function f7(e){var{children:t,width:n,height:r}=e,i=f.useMemo(()=>({width:n,height:r}),[n,r]);return Zve(i)?f.createElement(h7.Provider,{value:i},t):null}var jM=()=>f.useContext(h7),Jve=f.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:m,onResize:p,style:g={}}=e,y=f.useRef(null),x=f.useRef();x.current=p,f.useImperativeHandle(t,()=>y.current);var[v,w]=f.useState({containerWidth:r.width,containerHeight:r.height}),b=f.useCallback((O,M)=>{w(P=>{var A=Math.round(O),R=Math.round(M);return P.containerWidth===A&&P.containerHeight===R?P:{containerWidth:A,containerHeight:R}})},[]);f.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return fx;var O=R=>{var F,{width:V,height:K}=R[0].contentRect;b(V,K),(F=x.current)===null||F===void 0||F.call(x,V,K)};d>0&&(O=qve(O,d,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),{width:P,height:A}=y.current.getBoundingClientRect();return b(P,A),M.observe(y.current),()=>{M.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:_}=v;v0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:C}=d7(j,_,{width:i,height:s,aspect:n,maxHeight:c});return v0(k!=null&&k>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,i,s,a,l,n),f.createElement("div",{id:h?"".concat(h):void 0,className:Sn("recharts-responsive-container",m),style:iI(iI({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},f.createElement("div",{style:Kve({width:i,height:s})},f.createElement(f7,{width:k,height:C},u)))}),ebe=f.forwardRef((e,t)=>{var n=jM();if(bl(n.width)&&bl(n.height))return e.children;var{width:r,height:i}=Yve({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=d7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return bt(s)&&bt(a)?f.createElement(f7,{width:s,height:a},e.children):f.createElement(Jve,oO({},e,{width:r,height:i,ref:t}))});function m7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Uj=()=>{var e,t=Yi(),n=Rt($ve),r=Rt(Wj),i=(e=Rt(qj))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},tbe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p7=()=>{var e;return(e=Rt(mi))!==null&&e!==void 0?e:tbe},g7=()=>Rt(zc),y7=()=>Rt(Dc),jn=e=>e.layout.layoutType,jh=()=>Rt(jn),nbe=()=>{var e=jh();if(e==="horizontal"||e==="vertical")return e},rbe=()=>{var e=jh();return e!==void 0},Vj=e=>{var t=Or(),n=Yi(),{width:r,height:i}=e,s=jM(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),f.useEffect(()=>{!n&&bl(a)&&bl(l)&&t(cve({width:a,height:l}))},[t,n,a,l]),null},x7=Symbol.for("immer-nothing"),sI=Symbol.for("immer-draftable"),ma=Symbol.for("immer-state");function go(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ty=Object.getPrototypeOf;function lm(e){return!!e&&!!e[ma]}function ih(e){var t;return e?v7(e)||Array.isArray(e)||!!e[sI]||!!((t=e.constructor)!=null&&t[sI])||xx(e)||Kj(e):!1}var ibe=Object.prototype.constructor.toString(),aI=new WeakMap;function v7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=aI.get(n);return r===void 0&&(r=Function.toString.call(n),aI.set(n,r)),r===ibe}function b0(e,t,n=!0){Hj(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Hj(e){const t=e[ma];return t?t.type_:Array.isArray(e)?1:xx(e)?2:Kj(e)?3:0}function lO(e,t){return Hj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b7(e,t,n){const r=Hj(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function sbe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xx(e){return e instanceof Map}function Kj(e){return e instanceof Set}function pd(e){return e.copy_||e.base_}function cO(e,t){if(xx(e))return new Map(e);if(Kj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=v7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ma];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(ty(e),r)}else{const r=ty(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kM(e,t=!1){return Yj(e)||lm(e)||!ih(e)||(Hj(e)>1&&Object.defineProperties(e,{set:zv,add:zv,clear:zv,delete:zv}),Object.freeze(e),t&&Object.values(e).forEach(n=>kM(n,!0))),e}function abe(){go(2)}var zv={value:abe};function Yj(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var obe={};function sh(e){const t=obe[e];return t||go(0,e),t}var ny;function _7(){return ny}function lbe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oI(e,t){t&&(sh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uO(e){dO(e),e.drafts_.forEach(cbe),e.drafts_=null}function dO(e){e===ny&&(ny=e.parent_)}function lI(e){return ny=lbe(ny,e)}function cbe(e){const t=e[ma];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ma].modified_&&(uO(t),go(4)),ih(e)&&(e=_0(t,e),t.parent_||w0(t,e)),t.patches_&&sh("Patches").generateReplacementPatches_(n[ma].base_,e,t.patches_,t.inversePatches_)):e=_0(t,n,[]),uO(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==x7?e:void 0}function _0(e,t,n){if(Yj(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ma];if(!i)return b0(t,(s,a)=>uI(e,i,t,s,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return w0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),b0(a,(c,u)=>uI(e,i,s,c,u,n,l),r),w0(e,s,!1),n&&e.patches_&&sh("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function uI(e,t,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Yj(i);if(!(l&&!a)){if(lm(i)){const c=s&&t&&t.type_!==3&&!lO(t.assigned_,r)?s.concat(r):void 0,u=_0(e,i,c);if(b7(n,r,u),lm(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ih(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;_0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(xx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&w0(e,i)}}}function w0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kM(t,n)}function ube(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=SM;n&&(i=[r],s=ry);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var SM={get(e,t){if(t===ma)return e;const n=pd(e);if(!lO(n,t))return dbe(e,n,t);const r=n[t];return e.finalized_||!ih(r)?r:r===oS(e.base_,t)?(lS(e),e.copy_[t]=fO(r,e)):r},has(e,t){return t in pd(e)},ownKeys(e){return Reflect.ownKeys(pd(e))},set(e,t,n){const r=w7(pd(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=oS(pd(e),t),s=i==null?void 0:i[ma];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(sbe(n,i)&&(n!==void 0||lO(e.base_,t)))return!0;lS(e),hO(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lS(e),hO(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){go(11)},getPrototypeOf(e){return ty(e.base_)},setPrototypeOf(){go(12)}},ry={};b0(SM,(e,t)=>{ry[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ry.deleteProperty=function(e,t){return ry.set.call(this,e,t,void 0)};ry.set=function(e,t,n){return SM.set.call(this,e[0],t,n,e[0])};function oS(e,t){const n=e[ma];return(n?pd(n):e)[t]}function dbe(e,t,n){var i;const r=w7(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function w7(e,t){if(!(t in e))return;let n=ty(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ty(n)}}function hO(e){e.modified_||(e.modified_=!0,e.parent_&&hO(e.parent_))}function lS(e){e.copy_||(e.copy_=cO(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hbe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(c=s,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&go(6),r!==void 0&&typeof r!="function"&&go(7);let i;if(ih(t)){const s=lI(this),a=fO(t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?uO(s):dO(s)}return oI(s,r),cI(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===x7&&(i=void 0),this.autoFreeze_&&kM(i,!0),r){const s=[],a=[];sh("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else go(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ih(e)||go(8),lm(e)&&(e=fbe(e));const t=lI(this),n=fO(e,void 0);return n[ma].isManual_=!0,dO(t),n}finishDraft(e,t){const n=e&&e[ma];(!n||!n.isManual_)&&go(9);const{scope_:r}=n;return oI(r,t),cI(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=sh("Patches").applyPatches_;return lm(e)?r(e,t):this.produce(e,i=>r(i,t))}};function fO(e,t){const n=xx(e)?sh("MapSet").proxyMap_(e,t):Kj(e)?sh("MapSet").proxySet_(e,t):ube(e,t);return(t?t.scope_:_7()).drafts_.push(n),n}function fbe(e){return lm(e)||go(10,e),j7(e)}function j7(e){if(!ih(e)||Yj(e))return e;const t=e[ma];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cO(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cO(e,!0);return b0(n,(i,s)=>{b7(n,i,j7(s))},r),t&&(t.finalized_=!1),n}var mbe=new hbe;mbe.produce;var pbe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k7=Ws({name:"legend",initialState:pbe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=So(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Zn()},removeLegendPayload:{reducer(e,t){var n=So(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Zn()}}}),{setLegendSize:sWe,setLegendSettings:aWe,addLegendPayload:gbe,replaceLegendPayload:ybe,removeLegendPayload:xbe}=k7.actions,vbe=k7.reducer;function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mO.apply(null,arguments)}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){bbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bbe(e,t,n){return(t=_be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _be(e){var t=wbe(e,"string");return typeof t=="symbol"?t:t+""}function wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jbe(e){return Array.isArray(e)&&vl(e[0])&&vl(e[1])?e.join(" ~ "):e}var kbe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=!1}=e,p=()=>{if(s&&s.length){var _={padding:0,margin:0},k=(l?Ej(s,l):s).map((C,O)=>{if(C.type==="none")return null;var M=C.formatter||a||jbe,{value:P,name:A}=C,R=P,F=A;if(M){var V=M(P,A,C,O,s);if(Array.isArray(V))[R,F]=V;else if(V!=null)R=V;else return null}var K=cS({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:K},vl(F)?f.createElement("span",{className:"recharts-tooltip-item-name"},F):null,vl(F)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},R),f.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:_},k)}return null},g=cS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=cS({margin:0},i),x=!ur(d),v=x?d:"",w=Sn("recharts-default-tooltip",c),b=Sn("recharts-tooltip-label",u);x&&h&&s!==void 0&&s!==null&&(v=h(d,s));var j=m?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",mO({className:w,style:g},j),f.createElement("p",{className:b,style:y},f.isValidElement(v)?v:"".concat(v)),p())},mp="recharts-tooltip-wrapper",Sbe={visibility:"hidden"};function Nbe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Sn(mp,{["".concat(mp,"-right")]:bt(n)&&t&&bt(t.x)&&n>=t.x,["".concat(mp,"-left")]:bt(n)&&t&&bt(t.x)&&n<t.x,["".concat(mp,"-bottom")]:bt(r)&&t&&bt(t.y)&&r>=t.y,["".concat(mp,"-top")]:bt(r)&&t&&bt(t.y)&&r<t.y})}function hI(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&bt(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),h=n[r]+i;if(t[r])return a[r]?d:h;var m=c[r];if(m==null)return 0;if(a[r]){var p=d,g=m;return p<g?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var y=h+l,x=m+u;return y>x?Math.max(d,m):Math.max(h,m)}function Cbe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Obe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,h;return a.height>0&&a.width>0&&n?(d=hI({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=hI({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=Cbe({translateX:d,translateY:h,useTranslate3d:l})):u=Sbe,{cssProperties:u,cssClasses:Nbe({translateX:d,translateY:h,coordinate:n})}}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){pO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pO(e,t,n){return(t=Pbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pbe(e){var t=Ebe(e,"string");return typeof t=="symbol"?t:t+""}function Ebe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mbe extends f.PureComponent{constructor(){super(...arguments),pO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pO(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:w,cssProperties:b}=Obe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:m,viewBox:p}),j=v?{}:Dv(Dv({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Dv(Dv({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:_,ref:x},s)}}var S7=()=>{var e;return(e=Rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function gO(){return gO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gO.apply(null,arguments)}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){Tbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tbe(e,t,n){return(t=Abe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Abe(e){var t=zbe(e,"string");return typeof t=="symbol"?t:t+""}function zbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gI={curveBasisClosed:iye,curveBasisOpen:sye,curveBasis:rye,curveBumpX:Wge,curveBumpY:Uge,curveLinearClosed:aye,curveLinear:jj,curveMonotoneX:oye,curveMonotoneY:lye,curveNatural:cye,curveStep:uye,curveStepAfter:hye,curveStepBefore:dye},j0=e=>Rn(e.x)&&Rn(e.y),yI=e=>e.base!=null&&j0(e.base)&&j0(e),pp=e=>e.x,gp=e=>e.y,Dbe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(hx(e));return(n==="curveMonotone"||n==="curveBump")&&t?gI["".concat(n).concat(t==="vertical"?"Y":"X")]:gI[n]||jj},Rbe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=Dbe(t,i),l=s?n.filter(j0):n,c;if(Array.isArray(r)){var u=n.map((p,g)=>pI(pI({},p),{},{base:r[g]}));i==="vertical"?c=Cv().y(gp).x1(pp).x0(p=>p.base.x):c=Cv().x(pp).y1(gp).y0(p=>p.base.y);var d=c.defined(yI).curve(a),h=s?u.filter(yI):u;return d(h)}i==="vertical"&&bt(r)?c=Cv().y(gp).x1(pp).x0(r):bt(r)?c=Cv().x(pp).y1(gp).y0(r):c=LU().x(pp).y(gp);var m=c.defined(j0).curve(a);return m(l)},fg=e=>{var{className:t,points:n,path:r,pathRef:i}=e,s=jh();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?Rbe(a):r;return f.createElement("path",gO({},Ka(e),eM(e),{className:Sn("recharts-curve",t),d:l===null?void 0:l,ref:i}))},Ibe=["x","y","top","left","width","height","className"];function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(null,arguments)}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){$be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $be(e,t,n){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fbe(e){var t=Bbe(e,"string");return typeof t=="symbol"?t:t+""}function Bbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qbe(e,t){if(e==null)return{};var n,r,i=Wbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ube=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),Vbe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=qbe(e,Ibe),u=Lbe({x:t,y:n,top:r,left:i,width:s,height:a},c);return!bt(t)||!bt(n)||!bt(s)||!bt(a)||!bt(r)||!bt(i)?null:f.createElement("path",yO({},hs(u),{className:Sn("recharts-cross",l),d:Ube(t,n,s,a,r,i)}))};function Hbe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Kbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kbe(e,t,n){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qbe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),N7=(e,t,n)=>e.map(r=>"".concat(Qbe(r)," ").concat(t,"ms ").concat(n)).join(","),Xbe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),iy=(e,t)=>Object.keys(t).reduce((n,r)=>bI(bI({},n),{},{[r]:e(r,t[r])}),{});function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){Zbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zbe(e,t,n){return(t=Jbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jbe(e){var t=e_e(e,"string");return typeof t=="symbol"?t:t+""}function e_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k0=(e,t,n)=>e+(t-e)*n,xO=e=>{var{from:t,to:n}=e;return t!==n},C7=(e,t,n)=>{var r=iy((i,s)=>{if(xO(s)){var[a,l]=e(s.from,s.to,s.velocity);return Br(Br({},s),{},{from:a,velocity:l})}return s},t);return n<1?iy((i,s)=>xO(s)&&r[i]!=null?Br(Br({},s),{},{velocity:k0(s.velocity,r[i].velocity,n),from:k0(s.from,r[i].from,n)}):s,t):C7(e,r,n-1)};function t_e(e,t,n,r,i,s){var a,l=r.reduce((m,p)=>Br(Br({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>iy((m,p)=>p.from,l),u=()=>!Object.values(l).filter(xO).length,d=null,h=m=>{a||(a=m);var p=m-a,g=p/n.dt;l=C7(n,l,g),i(Br(Br(Br({},e),t),c())),a=m,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var m;(m=d)===null||m===void 0||m()})}function n_e(e,t,n,r,i,s,a){var l=null,c=i.reduce((h,m)=>{var p=e[m],g=t[m];return p==null||g==null?h:Br(Br({},h),{},{[m]:[p,g]})},{}),u,d=h=>{u||(u=h);var m=(h-u)/r,p=iy((y,x)=>k0(...x,n(m)),c);if(s(Br(Br(Br({},e),t),p)),m<1)l=a.setTimeout(d);else{var g=iy((y,x)=>k0(...x,n(1)),c);s(Br(Br(Br({},e),t),g))}};return()=>(l=a.setTimeout(d),()=>{var h;(h=l)===null||h===void 0||h()})}const r_e=(e,t,n,r,i,s)=>{var a=Xbe(e,t);return n==null?()=>(i(Br(Br({},e),t)),()=>{}):n.isStepper===!0?t_e(e,t,n,a,i,s):n_e(e,t,n,r,a,i,s)};var S0=1e-4,O7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],P7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),wI=(e,t)=>n=>{var r=O7(e,t);return P7(r,n)},i_e=(e,t)=>n=>{var r=O7(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return P7(i,n)},s_e=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},a_e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=s_e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},o_e=(e,t,n,r)=>{var i=wI(e,n),s=wI(t,r),a=i_e(e,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,m=0;m<8;++m){var p=i(h)-d,g=a(h);if(Math.abs(p-d)<S0||g<S0)return s(h);h=l(h-p/g)}return s(h)};return c.isStepper=!1,c},jI=function(){return o_e(...a_e(...arguments))},l_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*n,d=c*r,h=c+(u-d)*i/1e3,m=c*i/1e3+a;return Math.abs(m-l)<S0&&Math.abs(h)<S0?[l,0]:[m,h]};return s.isStepper=!0,s.dt=i,s},c_e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jI(e);case"spring":return l_e();default:if(e.split("(")[0]==="cubic-bezier")return jI(e)}return typeof e=="function"?e:null};function u_e(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class d_e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function h_e(){return u_e(new d_e)}var f_e=f.createContext(h_e);function m_e(e,t){var n=f.useContext(f_e);return f.useMemo(()=>t??n(e),[e,t,n])}var p_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vx={isSsr:p_e()},g_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kI={t:0},uS={t:1};function Gj(e){var t=bs(e,g_e),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=n==="auto"?!vx.isSsr:n,h=m_e(t.animationId,t.animationManager),[m,p]=f.useState(d?kI:uS),g=f.useRef(null);return f.useEffect(()=>{d||p(uS)},[d]),f.useEffect(()=>{if(!d||!r)return fx;var y=r_e(kI,uS,c_e(s),i,p,h.getTimeoutController()),x=()=>{g.current=y()};return h.start([c,a,x,i,l]),()=>{h.stop(),g.current&&g.current(),l()}},[d,r,i,s,a,c,l,h]),u(m.t)}function Qj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=f.useRef(Xg(t)),r=f.useRef(e);return r.current!==e&&(n.current=Xg(t),r.current=e),n.current}var y_e=["radius"],x_e=["radius"],SI,NI,CI,OI,PI,EI,MI,TI,AI,zI;function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){v_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v_e(e,t,n){return(t=b_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_e(e){var t=__e(e,"string");return typeof t=="symbol"?t:t+""}function __e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function II(e,t){if(e==null)return{};var n,r,i=w_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LI=(e,t,n,r,i)=>{var s=pu(n),a=pu(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,u=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,h;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>l?l:i[p];h=mr(SI||(SI=Uo(["M",",",""])),e,t+c*m[0]),m[0]>0&&(h+=mr(NI||(NI=Uo(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),h+=mr(CI||(CI=Uo(["L ",",",""])),e+n-u*m[1],t),m[1]>0&&(h+=mr(OI||(OI=Uo(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+n,t+c*m[1])),h+=mr(PI||(PI=Uo(["L ",",",""])),e+n,t+r-c*m[2]),m[2]>0&&(h+=mr(EI||(EI=Uo(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+n-u*m[2],t+r)),h+=mr(MI||(MI=Uo(["L ",",",""])),e+u*m[3],t+r),m[3]>0&&(h+=mr(TI||(TI=Uo(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+r-c*m[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var y=Math.min(l,i);h=mr(AI||(AI=Uo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*y,y,y,d,e+u*y,t,e+n-u*y,t,y,y,d,e+n,t+c*y,e+n,t+r-c*y,y,y,d,e+n-u*y,t+r,e+u*y,t+r,y,y,d,e,t+r-c*y)}else h=mr(zI||(zI=Uo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return h},$I={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E7=e=>{var t=bs(e,$I),n=f.useRef(null),[r,i]=f.useState(-1);f.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=t,x=f.useRef(l),v=f.useRef(c),w=f.useRef(s),b=f.useRef(a),j=f.useMemo(()=>({x:s,y:a,width:l,height:c,radius:u}),[s,a,l,c,u]),_=Qj(j,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var k=Sn("recharts-rectangle",d);if(!y){var C=hs(t),{radius:O}=C,M=II(C,y_e);return f.createElement("path",N0({},M,{x:pu(s),y:pu(a),width:pu(l),height:pu(c),radius:typeof u=="number"?u:void 0,className:k,d:LI(s,a,l,c,u)}))}var P=x.current,A=v.current,R=w.current,F=b.current,V="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),L=N7(["strokeDasharray"],m,typeof h=="string"?h:$I.animationEasing);return f.createElement(Gj,{animationId:_,key:_,canBegin:r>0,duration:m,easing:h,isActive:y,begin:p},W=>{var z=lr(P,l,W),T=lr(A,c,W),q=lr(R,s,W),Y=lr(F,a,W);n.current&&(x.current=z,v.current=T,w.current=q,b.current=Y);var ee;g?W>0?ee={transition:L,strokeDasharray:K}:ee={strokeDasharray:V}:ee={strokeDasharray:K};var pe=hs(t),{radius:se}=pe,he=II(pe,x_e);return f.createElement("path",N0({},he,{radius:typeof u=="number"?u:void 0,className:k,d:LI(q,Y,z,T,u),ref:n,style:RI(RI({},ee),t.style)}))})};function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){j_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_e(e,t,n){return(t=k_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0=Math.PI/180,N_e=e=>e*180/Math.PI,Ni=(e,t,n,r)=>({x:e+Math.cos(-C0*r)*n,y:t+Math.sin(-C0*r)*n}),C_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},O_e=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},P_e=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=O_e({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:N_e(c),angleInRadian:c}},E_e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},M_e=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},T_e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=P_e({x:n,y:r},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=E_e(t),d=s,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?BI(BI({},t),{},{radius:i,angle:M_e(d,t)}):null};function M7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=Ni(t,n,r,i),l=Ni(t,n,r,s);return{points:[a,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}var qI,WI,UI,VI,HI,KI,YI;function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vO.apply(null,arguments)}function Cd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A_e=(e,t)=>{var n=Ts(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Rv=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+r,d=Math.asin(l/u)/C0,h=c?i:i+s*d,m=Ni(t,n,u,h),p=Ni(t,n,r,h),g=c?i-s*d:i,y=Ni(t,n,u*Math.cos(d*C0),g);return{center:m,circleTangency:p,lineTangency:y,theta:d}},T7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,l=A_e(s,a),c=s+l,u=Ni(t,n,i,s),d=Ni(t,n,i,c),h=mr(qI||(qI=Cd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(r>0){var m=Ni(t,n,r,s),p=Ni(t,n,r,c);h+=mr(WI||(WI=Cd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(l)>180),+(s<=c),m.x,m.y)}else h+=mr(UI||(UI=Cd(["L ",","," Z"])),t,n);return h},z_e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ts(u-c),{circleTangency:h,lineTangency:m,theta:p}=Rv({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:y,theta:x}=Rv({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(v<0)return a?mr(VI||(VI=Cd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):T7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var w=mr(HI||(HI=Cd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(d<0),h.x,h.y,i,i,+(v>180),+(d<0),g.x,g.y,s,s,+(d<0),y.x,y.y);if(r>0){var{circleTangency:b,lineTangency:j,theta:_}=Rv({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:C,theta:O}=Rv({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=l?Math.abs(c-u):Math.abs(c-u)-_-O;if(M<0&&s===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=mr(KI||(KI=Cd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(d<0),k.x,k.y,r,r,+(M>180),+(d>0),b.x,b.y,s,s,+(d<0),j.x,j.y)}else w+=mr(YI||(YI=Cd(["L",",","Z"])),t,n);return w},D_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A7=e=>{var t=bs(e,D_e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(s<i||u===d)return null;var m=Sn("recharts-sector",h),p=s-i,g=Po(a,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=z_e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=T7({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),f.createElement("path",vO({},hs(t),{className:m,d:y}))};function R_e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(t9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=t,c=Ni(r,i,s,l),u=Ni(r,i,a,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return M7(t)}}var z7={},D7={},R7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(R7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(D7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM,n=D7;function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=r})(z7);var I_e=z7.range;const I7=kl(I_e);function Cu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NM(e){let t,n,r;e.length!==2?(t=Cu,n=(l,c)=>Cu(e(l),c),r=(l,c)=>e(l)-c):(t=e===Cu||e===L_e?e:$_e,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:a,right:s}}function $_e(){return 0}function L7(e){return e===null?NaN:+e}function*F_e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const B_e=NM(Cu),bx=B_e.right;NM(L7).center;class GI extends Map{constructor(t,n=U_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(QI(this,t))}has(t){return super.has(QI(this,t))}set(t,n){return super.set(q_e(this,t),n)}delete(t){return super.delete(W_e(this,t))}}function QI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function q_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function W_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function U_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function V_e(e=Cu){if(e===Cu)return $7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function $7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const H_e=Math.sqrt(50),K_e=Math.sqrt(10),Y_e=Math.sqrt(2);function O0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=H_e?10:s>=K_e?5:s>=Y_e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?O0(e,t,n*2):[l,c,u]}function bO(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?O0(t,e,n):O0(e,t,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function _O(e,t,n){return t=+t,e=+e,n=+n,O0(e,t,n)[2]}function wO(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_O(t,e,n):_O(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function XI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function F7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?$7:V_e(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*h/c+m)),g=Math.min(r,Math.floor(t+(c-u)*h/c+m));F7(e,t,p,g,i)}const s=e[t];let a=n,l=r;for(yp(e,n,t),i(e[r],s)>0&&yp(e,n,r);a<l;){for(yp(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[n],s)===0?yp(e,n,l):(++l,yp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function yp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function G_e(e,t,n){if(e=Float64Array.from(F_e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return ZI(e);if(t>=1)return XI(e);var r,i=(r-1)*t,s=Math.floor(i),a=XI(F7(e,s).subarray(0,s+1)),l=ZI(e.subarray(s+1));return a+(l-a)*(i-s)}}function Q_e(e,t,n=L7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function X_e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function to(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jO=Symbol("implicit");function CM(){var e=new GI,t=[],n=[],r=jO;function i(s){let a=e.get(s);if(a===void 0){if(r!==jO)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new GI;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CM(t,n).unknown(r)},to.apply(i,arguments),i}function OM(){var e=CM().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=i<r,g=p?i:r,y=p?r:i;s=(y-g)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(m-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var x=X_e(m).map(function(v){return g+s*v});return n(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return OM(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},to.apply(h(),arguments)}function B7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B7(t())},e}function Z_e(){return B7(OM.apply(null,arguments).paddingInner(1))}function PM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function q7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _x(){}var sy=.7,P0=1/sy,Rf="\\s*([+-]?\\d+)\\s*",ay="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J_e=/^#([0-9a-f]{3,8})$/,e0e=new RegExp(`^rgb\\(${Rf},${Rf},${Rf}\\)$`),t0e=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),n0e=new RegExp(`^rgba\\(${Rf},${Rf},${Rf},${ay}\\)$`),r0e=new RegExp(`^rgba\\(${ml},${ml},${ml},${ay}\\)$`),i0e=new RegExp(`^hsl\\(${ay},${ml},${ml}\\)$`),s0e=new RegExp(`^hsla\\(${ay},${ml},${ml},${ay}\\)$`),JI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PM(_x,oy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e4,formatHex:e4,formatHex8:a0e,formatHsl:o0e,formatRgb:t4,toString:t4});function e4(){return this.rgb().formatHex()}function a0e(){return this.rgb().formatHex8()}function o0e(){return W7(this).formatHsl()}function t4(){return this.rgb().formatRgb()}function oy(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?n4(t):n===3?new As(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Iv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Iv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e0e.exec(e))?new As(t[1],t[2],t[3],1):(t=t0e.exec(e))?new As(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=n0e.exec(e))?Iv(t[1],t[2],t[3],t[4]):(t=r0e.exec(e))?Iv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i0e.exec(e))?s4(t[1],t[2]/100,t[3]/100,1):(t=s0e.exec(e))?s4(t[1],t[2]/100,t[3]/100,t[4]):JI.hasOwnProperty(e)?n4(JI[e]):e==="transparent"?new As(NaN,NaN,NaN,0):null}function n4(e){return new As(e>>16&255,e>>8&255,e&255,1)}function Iv(e,t,n,r){return r<=0&&(e=t=n=NaN),new As(e,t,n,r)}function l0e(e){return e instanceof _x||(e=oy(e)),e?(e=e.rgb(),new As(e.r,e.g,e.b,e.opacity)):new As}function kO(e,t,n,r){return arguments.length===1?l0e(e):new As(e,t,n,r??1)}function As(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}PM(As,kO,q7(_x,{brighter(e){return e=e==null?P0:Math.pow(P0,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sy:Math.pow(sy,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new As(Wd(this.r),Wd(this.g),Wd(this.b),E0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r4,formatHex:r4,formatHex8:c0e,formatRgb:i4,toString:i4}));function r4(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}`}function c0e(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}${Od((isNaN(this.opacity)?1:this.opacity)*255)}`}function i4(){const e=E0(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function E0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Od(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function s4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yo(e,t,n,r)}function W7(e){if(e instanceof yo)return new yo(e.h,e.s,e.l,e.opacity);if(e instanceof _x||(e=oy(e)),!e)return new yo;if(e instanceof yo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-t)/l+2:a=(t-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new yo(a,l,c,e.opacity)}function u0e(e,t,n,r){return arguments.length===1?W7(e):new yo(e,t,n,r??1)}function yo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}PM(yo,u0e,q7(_x,{brighter(e){return e=e==null?P0:Math.pow(P0,e),new yo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sy:Math.pow(sy,e),new yo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new As(dS(e>=240?e-240:e+120,i,r),dS(e,i,r),dS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new yo(a4(this.h),Lv(this.s),Lv(this.l),E0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=E0(this.opacity);return`${e===1?"hsl(":"hsla("}${a4(this.h)}, ${Lv(this.s)*100}%, ${Lv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a4(e){return e=(e||0)%360,e<0?e+360:e}function Lv(e){return Math.max(0,Math.min(1,e||0))}function dS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const EM=e=>()=>e;function d0e(e,t){return function(n){return e+n*t}}function h0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function f0e(e){return(e=+e)==1?U7:function(t,n){return n-t?h0e(t,n,e):EM(isNaN(t)?n:t)}}function U7(e,t){var n=t-e;return n?d0e(e,n):EM(isNaN(e)?t:e)}const o4=function e(t){var n=f0e(t);function r(i,s){var a=n((i=kO(i)).r,(s=kO(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=U7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function m0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function p0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function g0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Fm(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function y0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function M0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function x0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Fm(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var SO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hS=new RegExp(SO.source,"g");function v0e(e){return function(){return e}}function b0e(e){return function(t){return e(t)+""}}function _0e(e,t){var n=SO.lastIndex=hS.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(r=SO.exec(e))&&(i=hS.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:M0(r,i)})),n=hS.lastIndex;return n<t.length&&(s=t.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?b0e(c[0].x):v0e(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Fm(e,t){var n=typeof t,r;return t==null||n==="boolean"?EM(t):(n==="number"?M0:n==="string"?(r=oy(t))?(t=r,o4):_0e:t instanceof oy?o4:t instanceof Date?y0e:p0e(t)?m0e:Array.isArray(t)?g0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?x0e:M0)(e,t)}function MM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function w0e(e,t){t===void 0&&(t=e,e=Fm);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function j0e(e){return function(){return e}}function T0(e){return+e}var l4=[0,1];function ss(e){return e}function NO(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:j0e(isNaN(t)?NaN:.5)}function k0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function S0e(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=NO(i,r),s=n(a,s)):(r=NO(r,i),s=n(s,a)),function(l){return s(r(l))}}function N0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=NO(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(l){var c=bx(e,l,1,r)-1;return s[c](i[c](l))}}function wx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xj(){var e=l4,t=l4,n=Fm,r,i,s,a=ss,l,c,u;function d(){var m=Math.min(e.length,t.length);return a!==ss&&(a=k0e(e[0],e[m-1])),l=m>2?N0e:S0e,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(r),t,n)))(r(a(m)))}return h.invert=function(m){return a(i((u||(u=l(t,e.map(r),M0)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,T0),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=MM,d()},h.clamp=function(m){return arguments.length?(a=m?!0:ss,d()):a!==ss},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,p){return r=m,i=p,d()}}function TM(){return Xj()(ss,ss)}function C0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function A0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cm(e){return e=A0(Math.abs(e)),e?e[1]:NaN}function O0e(e,t){return function(n,r){for(var i=n.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function P0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var E0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ly(e){if(!(t=E0e.exec(e)))throw new Error("invalid format: "+e);var t;return new AM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ly.prototype=AM.prototype;function AM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var V7;function T0e(e,t){var n=A0(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(V7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+A0(e,Math.max(0,t+s-1))[0]}function c4(e,t){var n=A0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:C0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c4(e*100,t),r:c4,s:T0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function d4(e){return e}var h4=Array.prototype.map,f4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A0e(e){var t=e.grouping===void 0||e.thousands===void 0?d4:O0e(h4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?d4:P0e(h4.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ly(h);var m=h.fill,p=h.align,g=h.sign,y=h.symbol,x=h.zero,v=h.width,w=h.comma,b=h.precision,j=h.trim,_=h.type;_==="n"?(w=!0,_="g"):u4[_]||(b===void 0&&(b=12),j=!0,_="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=y==="$"?r:/[%p]/.test(_)?a:"",O=u4[_],M=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var R=k,F=C,V,K,L;if(_==="c")F=O(A)+F,A="";else{A=+A;var W=A<0||1/A<0;if(A=isNaN(A)?c:O(Math.abs(A),b),j&&(A=M0e(A)),W&&+A==0&&g!=="+"&&(W=!1),R=(W?g==="("?g:l:g==="-"||g==="("?"":g)+R,F=(_==="s"?f4[8+V7/3]:"")+F+(W&&g==="("?")":""),M){for(V=-1,K=A.length;++V<K;)if(L=A.charCodeAt(V),48>L||L>57){F=(L===46?i+A.slice(V+1):A.slice(V))+F,A=A.slice(0,V);break}}}w&&!x&&(A=t(A,1/0));var z=R.length+A.length+F.length,T=z<v?new Array(v-z+1).join(m):"";switch(w&&x&&(A=t(T+A,T.length?v-F.length:1/0),T=""),p){case"<":A=R+A+F+T;break;case"=":A=R+T+A+F;break;case"^":A=T.slice(0,z=T.length>>1)+R+A+F+T.slice(z);break;default:A=T+R+A+F;break}return s(A)}return P.toString=function(){return h+""},P}function d(h,m){var p=u((h=ly(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(cm(m)/3)))*3,y=Math.pow(10,-g),x=f4[8+g/3];return function(v){return p(y*v)+x}}return{format:u,formatPrefix:d}}var $v,zM,H7;z0e({thousands:",",grouping:[3],currency:["$",""]});function z0e(e){return $v=A0e(e),zM=$v.format,H7=$v.formatPrefix,$v}function D0e(e){return Math.max(0,-cm(Math.abs(e)))}function R0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cm(t)/3)))*3-cm(Math.abs(e)))}function I0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cm(t)-cm(e))+1}function K7(e,t,n,r){var i=wO(e,t,n),s;switch(r=ly(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=R0e(i,a))&&(r.precision=s),H7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=I0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=D0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return zM(r)}function Yu(e){var t=e.domain;return e.ticks=function(n){var r=t();return bO(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return K7(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=_O(a,l,n),u===c)return r[i]=a,r[s]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Y7(){var e=TM();return e.copy=function(){return wx(e,Y7())},to.apply(e,arguments),Yu(e)}function G7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,T0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return G7(e).unknown(t)},e=arguments.length?Array.from(e,T0):[0,1],Yu(n)}function Q7(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function m4(e){return Math.log(e)}function p4(e){return Math.exp(e)}function L0e(e){return-Math.log(-e)}function $0e(e){return-Math.exp(-e)}function F0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function B0e(e){return e===10?F0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function q0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g4(e){return(t,n)=>-e(-t,n)}function DM(e){const t=e(m4,p4),n=t.domain;let r=10,i,s;function a(){return i=q0e(r),s=B0e(r),n()[0]<0?(i=g4(i),s=g4(s),e(L0e,$0e)):e(m4,p4),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=i(u),p=i(d),g,y;const x=l==null?10:+l;let v=[];if(!(r%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<r;++g)if(y=m<0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;v.push(y)}}else for(;m<=p;++m)for(g=r-1;g>=1;--g)if(y=m>0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;v.push(y)}v.length*2<x&&(v=bO(u,d,x))}else v=bO(m,p,Math.min(p-m,x)).map(s);return h?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ly(c)).precision==null&&(c.trim=!0),c=zM(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(Q7(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function X7(){const e=DM(Xj()).domain([1,10]);return e.copy=()=>wx(e,X7()).base(e.base()),to.apply(e,arguments),e}function y4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function x4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RM(e){var t=1,n=e(y4(t),x4(t));return n.constant=function(r){return arguments.length?e(y4(t=+r),x4(t)):t},Yu(n)}function Z7(){var e=RM(Xj());return e.copy=function(){return wx(e,Z7()).constant(e.constant())},to.apply(e,arguments)}function v4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function W0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U0e(e){return e<0?-e*e:e*e}function IM(e){var t=e(ss,ss),n=1;function r(){return n===1?e(ss,ss):n===.5?e(W0e,U0e):e(v4(n),v4(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Yu(t)}function LM(){var e=IM(Xj());return e.copy=function(){return wx(e,LM()).exponent(e.exponent())},to.apply(e,arguments),e}function V0e(){return LM.apply(null,arguments).exponent(.5)}function b4(e){return Math.sign(e)*e*e}function H0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function J7(){var e=TM(),t=[0,1],n=!1,r;function i(s){var a=H0e(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(b4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,T0)).map(b4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},to.apply(i,arguments),Yu(i)}function eV(){var e=[],t=[],n=[],r;function i(){var a=0,l=Math.max(1,t.length);for(n=new Array(l-1);++a<l;)n[a-1]=Q_e(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:t[bx(n,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cu),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return eV().domain(e).range(t).unknown(r)},to.apply(s,arguments)}function tV(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[bx(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return tV().domain([e,t]).range(i).unknown(s)},to.apply(Yu(a),arguments)}function nV(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[bx(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return nV().domain(e).range(t).unknown(n)},to.apply(i,arguments)}const fS=new Date,mS=new Date;function Yr(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>Yr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(fS.setTime(+s),mS.setTime(+a),e(fS),e(mS),Math.floor(n(fS,mS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const z0=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);z0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):z0);z0.range;const nc=1e3,Aa=nc*60,rc=Aa*60,_c=rc*24,$M=_c*7,_4=_c*30,pS=_c*365,Pd=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCSeconds());Pd.range;const FM=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getMinutes());FM.range;const BM=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCMinutes());BM.range;const qM=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc-e.getMinutes()*Aa)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getHours());qM.range;const WM=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCHours());WM.range;const jx=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/_c,e=>e.getDate()-1);jx.range;const Zj=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_c,e=>e.getUTCDate()-1);Zj.range;const rV=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_c,e=>Math.floor(e/_c));rV.range;function kh(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/$M)}const Jj=kh(0),D0=kh(1),K0e=kh(2),Y0e=kh(3),um=kh(4),G0e=kh(5),Q0e=kh(6);Jj.range;D0.range;K0e.range;Y0e.range;um.range;G0e.range;Q0e.range;function Sh(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$M)}const e1=Sh(0),R0=Sh(1),X0e=Sh(2),Z0e=Sh(3),dm=Sh(4),J0e=Sh(5),ewe=Sh(6);e1.range;R0.range;X0e.range;Z0e.range;dm.range;J0e.range;ewe.range;const UM=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());UM.range;const VM=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());VM.range;const wc=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});wc.range;const jc=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});jc.range;function iV(e,t,n,r,i,s){const a=[[Pd,1,nc],[Pd,5,5*nc],[Pd,15,15*nc],[Pd,30,30*nc],[s,1,Aa],[s,5,5*Aa],[s,15,15*Aa],[s,30,30*Aa],[i,1,rc],[i,3,3*rc],[i,6,6*rc],[i,12,12*rc],[r,1,_c],[r,2,2*_c],[n,1,$M],[t,1,_4],[t,3,3*_4],[e,1,pS]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),g=p?p.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,h){const m=Math.abs(d-u)/h,p=NM(([,,x])=>x).right(a,m);if(p===a.length)return e.every(wO(u/pS,d/pS,h));if(p===0)return z0.every(Math.max(wO(u,d,h),1));const[g,y]=a[m/a[p-1][2]<a[p][2]/m?p-1:p];return g.every(y)}return[l,c]}const[twe,nwe]=iV(jc,VM,e1,rV,WM,BM),[rwe,iwe]=iV(wc,UM,Jj,jx,qM,FM);function gS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function swe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=vp(i),d=bp(i),h=vp(s),m=bp(s),p=vp(a),g=bp(a),y=vp(l),x=bp(l),v=vp(c),w=bp(c),b={a:W,A:z,b:T,B:q,c:null,d:C4,e:C4,f:Owe,g:Lwe,G:Fwe,H:Swe,I:Nwe,j:Cwe,L:sV,m:Pwe,M:Ewe,p:Y,q:ee,Q:E4,s:M4,S:Mwe,u:Twe,U:Awe,V:zwe,w:Dwe,W:Rwe,x:null,X:null,y:Iwe,Y:$we,Z:Bwe,"%":P4},j={a:pe,A:se,b:he,B:Pe,c:null,d:O4,e:O4,f:Vwe,g:tje,G:rje,H:qwe,I:Wwe,j:Uwe,L:oV,m:Hwe,M:Kwe,p:J,q:Re,Q:E4,s:M4,S:Ywe,u:Gwe,U:Qwe,V:Xwe,w:Zwe,W:Jwe,x:null,X:null,y:eje,Y:nje,Z:ije,"%":P4},_={a:P,A,b:R,B:F,c:V,d:S4,e:S4,f:_we,g:k4,G:j4,H:N4,I:N4,j:ywe,L:bwe,m:gwe,M:xwe,p:M,q:pwe,Q:jwe,s:kwe,S:vwe,u:uwe,U:dwe,V:hwe,w:cwe,W:fwe,x:K,X:L,y:k4,Y:j4,Z:mwe,"%":wwe};b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),j.x=k(n,j),j.X=k(r,j),j.c=k(t,j);function k(ie,Ee){return function(Te){var fe=[],X=-1,ke=0,Q=ie.length,Se,re,Ne;for(Te instanceof Date||(Te=new Date(+Te));++X<Q;)ie.charCodeAt(X)===37&&(fe.push(ie.slice(ke,X)),(re=w4[Se=ie.charAt(++X)])!=null?Se=ie.charAt(++X):re=Se==="e"?" ":"0",(Ne=Ee[Se])&&(Se=Ne(Te,re)),fe.push(Se),ke=X+1);return fe.push(ie.slice(ke,X)),fe.join("")}}function C(ie,Ee){return function(Te){var fe=xp(1900,void 0,1),X=O(fe,ie,Te+="",0),ke,Q;if(X!=Te.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(ke=yS(xp(fe.y,0,1)),Q=ke.getUTCDay(),ke=Q>4||Q===0?R0.ceil(ke):R0(ke),ke=Zj.offset(ke,(fe.V-1)*7),fe.y=ke.getUTCFullYear(),fe.m=ke.getUTCMonth(),fe.d=ke.getUTCDate()+(fe.w+6)%7):(ke=gS(xp(fe.y,0,1)),Q=ke.getDay(),ke=Q>4||Q===0?D0.ceil(ke):D0(ke),ke=jx.offset(ke,(fe.V-1)*7),fe.y=ke.getFullYear(),fe.m=ke.getMonth(),fe.d=ke.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Q="Z"in fe?yS(xp(fe.y,0,1)).getUTCDay():gS(xp(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Q+5)%7:fe.w+fe.U*7-(Q+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,yS(fe)):gS(fe)}}function O(ie,Ee,Te,fe){for(var X=0,ke=Ee.length,Q=Te.length,Se,re;X<ke;){if(fe>=Q)return-1;if(Se=Ee.charCodeAt(X++),Se===37){if(Se=Ee.charAt(X++),re=_[Se in w4?Ee.charAt(X++):Se],!re||(fe=re(ie,Te,fe))<0)return-1}else if(Se!=Te.charCodeAt(fe++))return-1}return fe}function M(ie,Ee,Te){var fe=u.exec(Ee.slice(Te));return fe?(ie.p=d.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function P(ie,Ee,Te){var fe=p.exec(Ee.slice(Te));return fe?(ie.w=g.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function A(ie,Ee,Te){var fe=h.exec(Ee.slice(Te));return fe?(ie.w=m.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function R(ie,Ee,Te){var fe=v.exec(Ee.slice(Te));return fe?(ie.m=w.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function F(ie,Ee,Te){var fe=y.exec(Ee.slice(Te));return fe?(ie.m=x.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function V(ie,Ee,Te){return O(ie,t,Ee,Te)}function K(ie,Ee,Te){return O(ie,n,Ee,Te)}function L(ie,Ee,Te){return O(ie,r,Ee,Te)}function W(ie){return a[ie.getDay()]}function z(ie){return s[ie.getDay()]}function T(ie){return c[ie.getMonth()]}function q(ie){return l[ie.getMonth()]}function Y(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function pe(ie){return a[ie.getUTCDay()]}function se(ie){return s[ie.getUTCDay()]}function he(ie){return c[ie.getUTCMonth()]}function Pe(ie){return l[ie.getUTCMonth()]}function J(ie){return i[+(ie.getUTCHours()>=12)]}function Re(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ee=k(ie+="",b);return Ee.toString=function(){return ie},Ee},parse:function(ie){var Ee=C(ie+="",!1);return Ee.toString=function(){return ie},Ee},utcFormat:function(ie){var Ee=k(ie+="",j);return Ee.toString=function(){return ie},Ee},utcParse:function(ie){var Ee=C(ie+="",!0);return Ee.toString=function(){return ie},Ee}}}var w4={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,awe=/^%/,owe=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function lwe(e){return e.replace(owe,"\\$&")}function vp(e){return new RegExp("^(?:"+e.map(lwe).join("|")+")","i")}function bp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cwe(e,t,n){var r=pi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uwe(e,t,n){var r=pi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function j4(e,t,n){var r=pi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function k4(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mwe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pwe(e,t,n){var r=pi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function S4(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ywe(e,t,n){var r=pi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function N4(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vwe(e,t,n){var r=pi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bwe(e,t,n){var r=pi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _we(e,t,n){var r=pi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wwe(e,t,n){var r=awe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function jwe(e,t,n){var r=pi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kwe(e,t,n){var r=pi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function C4(e,t){return wn(e.getDate(),t,2)}function Swe(e,t){return wn(e.getHours(),t,2)}function Nwe(e,t){return wn(e.getHours()%12||12,t,2)}function Cwe(e,t){return wn(1+jx.count(wc(e),e),t,3)}function sV(e,t){return wn(e.getMilliseconds(),t,3)}function Owe(e,t){return sV(e,t)+"000"}function Pwe(e,t){return wn(e.getMonth()+1,t,2)}function Ewe(e,t){return wn(e.getMinutes(),t,2)}function Mwe(e,t){return wn(e.getSeconds(),t,2)}function Twe(e){var t=e.getDay();return t===0?7:t}function Awe(e,t){return wn(Jj.count(wc(e)-1,e),t,2)}function aV(e){var t=e.getDay();return t>=4||t===0?um(e):um.ceil(e)}function zwe(e,t){return e=aV(e),wn(um.count(wc(e),e)+(wc(e).getDay()===4),t,2)}function Dwe(e){return e.getDay()}function Rwe(e,t){return wn(D0.count(wc(e)-1,e),t,2)}function Iwe(e,t){return wn(e.getFullYear()%100,t,2)}function Lwe(e,t){return e=aV(e),wn(e.getFullYear()%100,t,2)}function $we(e,t){return wn(e.getFullYear()%1e4,t,4)}function Fwe(e,t){var n=e.getDay();return e=n>=4||n===0?um(e):um.ceil(e),wn(e.getFullYear()%1e4,t,4)}function Bwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function O4(e,t){return wn(e.getUTCDate(),t,2)}function qwe(e,t){return wn(e.getUTCHours(),t,2)}function Wwe(e,t){return wn(e.getUTCHours()%12||12,t,2)}function Uwe(e,t){return wn(1+Zj.count(jc(e),e),t,3)}function oV(e,t){return wn(e.getUTCMilliseconds(),t,3)}function Vwe(e,t){return oV(e,t)+"000"}function Hwe(e,t){return wn(e.getUTCMonth()+1,t,2)}function Kwe(e,t){return wn(e.getUTCMinutes(),t,2)}function Ywe(e,t){return wn(e.getUTCSeconds(),t,2)}function Gwe(e){var t=e.getUTCDay();return t===0?7:t}function Qwe(e,t){return wn(e1.count(jc(e)-1,e),t,2)}function lV(e){var t=e.getUTCDay();return t>=4||t===0?dm(e):dm.ceil(e)}function Xwe(e,t){return e=lV(e),wn(dm.count(jc(e),e)+(jc(e).getUTCDay()===4),t,2)}function Zwe(e){return e.getUTCDay()}function Jwe(e,t){return wn(R0.count(jc(e)-1,e),t,2)}function eje(e,t){return wn(e.getUTCFullYear()%100,t,2)}function tje(e,t){return e=lV(e),wn(e.getUTCFullYear()%100,t,2)}function nje(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function rje(e,t){var n=e.getUTCDay();return e=n>=4||n===0?dm(e):dm.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function ije(){return"+0000"}function P4(){return"%"}function E4(e){return+e}function M4(e){return Math.floor(+e/1e3)}var $h,cV,uV;sje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sje(e){return $h=swe(e),cV=$h.format,$h.parse,uV=$h.utcFormat,$h.utcParse,$h}function aje(e){return new Date(e)}function oje(e){return e instanceof Date?+e:+new Date(+e)}function HM(e,t,n,r,i,s,a,l,c,u){var d=TM(),h=d.invert,m=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function _(k){return(c(k)<k?p:l(k)<k?g:a(k)<k?y:s(k)<k?x:r(k)<k?i(k)<k?v:w:n(k)<k?b:j)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?m(Array.from(k,oje)):m().map(aje)},d.ticks=function(k){var C=m();return e(C[0],C[C.length-1],k??10)},d.tickFormat=function(k,C){return C==null?_:u(C)},d.nice=function(k){var C=m();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?m(Q7(C,k)):d},d.copy=function(){return wx(d,HM(e,t,n,r,i,s,a,l,c,u))},d}function lje(){return to.apply(HM(rwe,iwe,wc,UM,Jj,jx,qM,FM,Pd,cV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cje(){return to.apply(HM(twe,nwe,jc,VM,e1,Zj,WM,BM,Pd,uV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t1(){var e=0,t=1,n,r,i,s,a=ss,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(m){var p,g;return arguments.length?([p,g]=m,a=h(p,g),u):[a(0),a(1)]}}return u.range=d(Fm),u.rangeRound=d(MM),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function Gu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dV(){var e=Yu(t1()(ss));return e.copy=function(){return Gu(e,dV())},Rc.apply(e,arguments)}function hV(){var e=DM(t1()).domain([1,10]);return e.copy=function(){return Gu(e,hV()).base(e.base())},Rc.apply(e,arguments)}function fV(){var e=RM(t1());return e.copy=function(){return Gu(e,fV()).constant(e.constant())},Rc.apply(e,arguments)}function KM(){var e=IM(t1());return e.copy=function(){return Gu(e,KM()).exponent(e.exponent())},Rc.apply(e,arguments)}function uje(){return KM.apply(null,arguments).exponent(.5)}function mV(){var e=[],t=ss;function n(r){if(r!=null&&!isNaN(r=+r))return t((bx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Cu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>G_e(e,s/r))},n.copy=function(){return mV(t).domain(e)},Rc.apply(n,arguments)}function n1(){var e=0,t=.5,n=1,r=1,i,s,a,l,c,u=ss,d,h=!1,m;function p(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(r*y<r*s?l:c),u(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,n]=y,i=d(e=+e),s=d(t=+t),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[e,t,n]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(x){var v,w,b;return arguments.length?([v,w,b]=x,u=w0e(y,[v,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(Fm),p.rangeRound=g(MM),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return d=y,i=y(e),s=y(t),a=y(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function pV(){var e=Yu(n1()(ss));return e.copy=function(){return Gu(e,pV())},Rc.apply(e,arguments)}function gV(){var e=DM(n1()).domain([.1,1,10]);return e.copy=function(){return Gu(e,gV()).base(e.base())},Rc.apply(e,arguments)}function yV(){var e=RM(n1());return e.copy=function(){return Gu(e,yV()).constant(e.constant())},Rc.apply(e,arguments)}function YM(){var e=IM(n1());return e.copy=function(){return Gu(e,YM()).exponent(e.exponent())},Rc.apply(e,arguments)}function dje(){return YM.apply(null,arguments).exponent(.5)}const Vp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OM,scaleDiverging:pV,scaleDivergingLog:gV,scaleDivergingPow:YM,scaleDivergingSqrt:dje,scaleDivergingSymlog:yV,scaleIdentity:G7,scaleImplicit:jO,scaleLinear:Y7,scaleLog:X7,scaleOrdinal:CM,scalePoint:Z_e,scalePow:LM,scaleQuantile:eV,scaleQuantize:tV,scaleRadial:J7,scaleSequential:dV,scaleSequentialLog:hV,scaleSequentialPow:KM,scaleSequentialQuantile:mV,scaleSequentialSqrt:uje,scaleSequentialSymlog:fV,scaleSqrt:V0e,scaleSymlog:Z7,scaleThreshold:nV,scaleTime:lje,scaleUtc:cje,tickFormat:K7},Symbol.toStringTag,{value:"Module"}));var Ic=e=>e.chartData,xV=we([Ic],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vV=(e,t,n,r)=>r?xV(e):Ic(e),bV=(e,t,n)=>n?xV(e):Ic(e);function Du(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rn(t)&&Rn(n))return!0}return!1}function T4(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _V(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Rn(n))i=n;else if(typeof n=="function")return;if(Rn(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Du(a))return a}}function hje(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Du(r))return T4(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(bt(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&JR.test(i)){var c=JR.exec(i);if(c==null||c[1]==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(bt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&eI.test(s)){var d=eI.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var m=[a,l];if(Du(m))return t==null?m:T4(m,t,n)}}}var Bm=1e9,fje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QM,nr=!0,Qa="[DecimalError] ",Ud=Qa+"Invalid argument: ",GM=Qa+"Exponent out of range: ",qm=Math.floor,gd=Math.pow,mje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,si=1e7,Kn=7,wV=9007199254740991,I0=qm(wV/Kn),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};St.dividedBy=St.div=function(e){return uc(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,n=t.constructor;return An(uc(t,new n(e),0,1),n.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return Rr(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ia))throw Error(Qa+"NaN");if(n.s<1)throw Error(Qa+(n.s?"NaN":"-Infinity"));return n.eq(ia)?new r(0):(nr=!1,t=uc(cy(n,s),cy(e,s),s),nr=!0,An(t,i))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SV(t,e):jV(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Qa+"NaN");return n.s?(nr=!1,t=uc(n,e,0,1).times(e),nr=!0,n.minus(t)):An(new r(n),i)};St.naturalExponential=St.exp=function(){return kV(this)};St.naturalLogarithm=St.ln=function(){return cy(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jV(t,e):SV(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ud+e);if(t=Rr(i)+1,r=i.d.length-1,n=r*Kn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};St.squareRoot=St.sqrt=function(){var e,t,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qa+"NaN")}for(e=Rr(l),nr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ol(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=qm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(uc(l,s,a+2)).times(.5),ol(s.d).slice(0,a)===(t=ol(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(An(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;a+=4}return nr=!0,An(r,n)};St.times=St.mul=function(e){var t,n,r,i,s,a,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=s[i]+p[r]*m[i-r-1]+t,s[i--]=l%si|0,t=l/si|0;s[i]=(s[i]+t)%si|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,nr?An(e,h.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(_l(e,0,Bm),t===void 0?t=r.rounding:_l(t,0,8),An(n,e+Rr(n)+1,t))};St.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ah(r,!0):(_l(e,0,Bm),t===void 0?t=i.rounding:_l(t,0,8),r=An(new i(r),e+1,t),n=ah(r,!0,e+1)),n};St.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?ah(i):(_l(e,0,Bm),t===void 0?t=s.rounding:_l(t,0,8),r=An(new s(i),e+Rr(i)+1,t),n=ah(r.abs(),!1,e+Rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return An(new t(e),Rr(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ia);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qa+"Infinity");return l}if(l.eq(ia))return l;if(r=c.precision,e.eq(ia))return An(l,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=l.s,a){if((n=d<0?-d:d)<=wV){for(i=new c(ia),t=Math.ceil(r/Kn+4),nr=!1;n%2&&(i=i.times(l),z4(i.d,t)),n=qm(n/2),n!==0;)l=l.times(l),z4(l.d,t);return nr=!0,e.s<0?new c(ia).div(i):An(i,r)}}else if(s<0)throw Error(Qa+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,nr=!1,i=e.times(cy(l,r+u)),nr=!0,i=kV(i),i.s=s,i};St.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Rr(i),r=ah(i,n<=s.toExpNeg||n>=s.toExpPos)):(_l(e,1,Bm),t===void 0?t=s.rounding:_l(t,0,8),i=An(new s(i),e,t),n=Rr(i),r=ah(i,e<=n||n<=s.toExpNeg,e)),r};St.toSignificantDigits=St.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(_l(e,1,Bm),t===void 0?t=r.rounding:_l(t,0,8)),An(new r(n),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),n=e.constructor;return ah(e,t<=n.toExpNeg||t>=n.toExpPos)};function jV(e,t){var n,r,i,s,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nr?An(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(h/Kn),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/si|0,c[s]%=si;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,nr?An(t,h):t}function _l(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ud+e)}function ol(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=Kn-r.length,n&&(s+=su(n)),s+=r;a=e[t],r=a+"",n=Kn-r.length,n&&(s+=su(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var uc=function(){function e(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%si|0,a=s/si|0;return a&&r.unshift(a),r}function t(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*si+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,h,m,p,g,y,x,v,w,b,j,_,k,C,O,M=r.constructor,P=r.s==i.s?1:-1,A=r.d,R=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Qa+"Division by zero");for(c=r.e-i.e,C=R.length,_=A.length,p=new M(P),g=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,s==null?w=s=M.precision:a?w=s+(Rr(r)-Rr(i))+1:w=s,w<0)return new M(0);if(w=w/Kn+2|0,u=0,C==1)for(d=0,R=R[0],w++;(u<_||d)&&w--;u++)b=d*si+(A[u]||0),g[u]=b/R|0,d=b%R|0;else{for(d=si/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),C=R.length,_=A.length),j=C,y=A.slice(0,C),x=y.length;x<C;)y[x++]=0;O=R.slice(),O.unshift(0),k=R[0],R[1]>=si/2&&++k;do d=0,l=t(R,y,C,x),l<0?(v=y[0],C!=x&&(v=v*si+(y[1]||0)),d=v/k|0,d>1?(d>=si&&(d=si-1),h=e(R,d),m=h.length,x=y.length,l=t(h,y,m,x),l==1&&(d--,n(h,C<m?O:R,m))):(d==0&&(l=d=1),h=R.slice()),m=h.length,m<x&&h.unshift(0),n(y,h,x),l==-1&&(x=y.length,l=t(R,y,C,x),l<1&&(d++,n(y,C<x?O:R,x))),x=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[x++]=A[j]||0:(y=[A[j]],x=1);while((j++<_||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,An(p,a?s+Rr(p)+1:s)}}();function kV(e,t){var n,r,i,s,a,l,c=0,u=0,d=e.constructor,h=d.precision;if(Rr(e)>16)throw Error(GM+Rr(e));if(!e.s)return new d(ia);for(nr=!1,l=h,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(gd(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(ia),d.precision=l;;){if(i=An(i.times(e),l),n=n.times(++c),a=s.plus(uc(i,n,l)),ol(a.d).slice(0,l)===ol(s.d).slice(0,l)){for(;u--;)s=An(s.times(s),l);return d.precision=h,t==null?(nr=!0,An(s,h)):s}s=a}}function Rr(e){for(var t=e.e*Kn,n=e.d[0];n>=10;n/=10)t++;return t}function xS(e,t,n){if(t>e.LN10.sd())throw nr=!0,n&&(e.precision=n),Error(Qa+"LN10 precision limit exceeded");return An(new e(e.LN10),t)}function su(e){for(var t="";e--;)t+="0";return t}function cy(e,t){var n,r,i,s,a,l,c,u,d,h=1,m=10,p=e,g=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(Qa+(p.s?"NaN":"-Infinity"));if(p.eq(ia))return new y(0);if(t==null?(nr=!1,u=x):u=t,p.eq(10))return t==null&&(nr=!0),xS(y,u);if(u+=m,y.precision=u,n=ol(g),r=n.charAt(0),s=Rr(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=ol(p.d),r=n.charAt(0),h++;s=Rr(p),r>1?(p=new y("0."+n),s++):p=new y(r+"."+n.slice(1))}else return c=xS(y,u+2,x).times(s+""),p=cy(new y(r+"."+n.slice(1)),u-m).plus(c),y.precision=x,t==null?(nr=!0,An(p,x)):p;for(l=a=p=uc(p.minus(ia),p.plus(ia),u),d=An(p.times(p),u),i=3;;){if(a=An(a.times(d),u),c=l.plus(uc(a,new y(i),u)),ol(c.d).slice(0,u)===ol(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(xS(y,u+2,x).times(s+""))),l=uc(l,new y(h),u),y.precision=x,t==null?(nr=!0,An(l,x)):l;l=c,i+=2}}function A4(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=qm(n/Kn),e.d=[],r=(n+1)%Kn,n<0&&(r+=Kn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Kn;r<i;)e.d.push(+t.slice(r,r+=Kn));t=t.slice(r),r=Kn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),nr&&(e.e>I0||e.e<-I0))throw Error(GM+n)}else e.s=0,e.e=0,e.d=[0];return e}function An(e,t,n){var r,i,s,a,l,c,u,d,h=e.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=Kn,i=t,u=h[d=0];else{if(d=Math.ceil((r+1)/Kn),s=h.length,d>=s)return e;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Kn,i=r-Kn+a}if(n!==void 0&&(s=gd(10,a-i-1),l=u/s%10|0,c=t<0||h[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/gd(10,a-i):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(s=Rr(e),h.length=1,t=t-s-1,h[0]=gd(10,(Kn-t%Kn)%Kn),e.e=qm(-t/Kn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=gd(10,Kn-r),h[d]=i>0?(u/gd(10,a-i)%gd(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==si&&(h[0]=1,++e.e);break}else{if(h[d]+=s,h[d]!=si)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(nr&&(e.e>I0||e.e<-I0))throw Error(GM+Rr(e));return e}function SV(e,t){var n,r,i,s,a,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),nr?An(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(p/Kn),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=si-1;--c[s],c[i]+=si}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,nr?An(t,p):t):new m(0)}function ah(e,t,n){var r,i=Rr(e),s=ol(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+su(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+su(-i-1)+s,n&&(r=n-a)>0&&(s+=su(r))):i>=a?(s+=su(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+su(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=su(r))),e.s<0?"-"+s:s}function z4(e,t){if(e.length>t)return e.length=t,!0}function NV(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ud+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return A4(a,s.toString())}else if(typeof s!="string")throw Error(Ud+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,mje.test(s))A4(a,s);else throw Error(Ud+s)}if(i.prototype=St,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NV,i.config=i.set=pje,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function pje(e){if(!e||typeof e!="object")throw Error(Qa+"Object expected");var t,n,r,i=["precision",1,Bm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(qm(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ud+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ud+n+": "+r);return this}var QM=NV(fje);ia=new QM(1);const Cn=QM;var gje=e=>e,CV={},OV=e=>e===CV,D4=e=>function t(){return arguments.length===0||arguments.length===1&&OV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},PV=(e,t)=>e===1?t:D4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==CV).length;return s>=e?t(...r):PV(e-s,D4(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(d=>OV(d)?l.shift():d);return t(...u,...l)}))}),yje=e=>PV(e.length,e),CO=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},xje=yje((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),vje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return gje;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}};function EV(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function MV(e,t,n){for(var r=new Cn(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var TV=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},AV=(e,t,n)=>{if(e.lte(0))return new Cn(0);var r=EV(e.toNumber()),i=new Cn(10).pow(r),s=e.div(i),a=r!==1?.05:.1,l=new Cn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return t?new Cn(c.toNumber()):new Cn(Math.ceil(c.toNumber()))},bje=(e,t,n)=>{var r=new Cn(1),i=new Cn(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Cn(10).pow(EV(e)-1),i=new Cn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Cn(Math.floor(e)))}else e===0?i=new Cn(Math.floor((t-1)/2)):n||(i=new Cn(Math.floor(e)));var a=Math.floor((t-1)/2),l=vje(xje(c=>i.add(new Cn(c-a).mul(r)).toNumber()),CO);return l(0,t)},zV=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var a=AV(new Cn(n).sub(t).div(r-1),i,s),l;t<=0&&n>=0?l=new Cn(0):(l=new Cn(t).add(n).div(2),l=l.sub(new Cn(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new Cn(n).sub(l).div(a).toNumber()),d=c+u+1;return d>r?zV(t,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:l.sub(new Cn(c).mul(a)),tickMax:l.add(new Cn(u).mul(a))})},_je=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=TV([n,r]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...CO(0,i-1).map(()=>1/0)]:[...CO(0,i-1).map(()=>-1/0),c];return n>r?u.reverse():u}if(l===c)return bje(l,i,s);var{step:d,tickMin:h,tickMax:m}=zV(l,c,a,s,0),p=MV(h,m.add(new Cn(.1).mul(d)),d);return n>r?p.reverse():p},wje=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=TV([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),u=AV(new Cn(l).sub(a).div(c-1),s,0),d=[...MV(new Cn(a),new Cn(l),u),l];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?d.reverse():d},DV=e=>e.rootProps.maxBarSize,jje=e=>e.rootProps.barGap,RV=e=>e.rootProps.barCategoryGap,kje=e=>e.rootProps.barSize,r1=e=>e.rootProps.stackOffset,IV=e=>e.rootProps.reverseStackOrder,XM=e=>e.options.chartName,ZM=e=>e.rootProps.syncId,LV=e=>e.rootProps.syncMethod,JM=e=>e.options.eventEmitter,Sje=e=>e.rootProps.baseValue,di={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},i1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xl.angleAxisId,includeHidden:!1,name:void 0,reversed:Xl.reversed,scale:Xl.scale,tick:Xl.tick,tickCount:void 0,ticks:void 0,type:Xl.type,unit:void 0},Cje={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:na.type,unit:void 0},Oje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xl.scale,tick:Xl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pje={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:"category",unit:void 0},eT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Oje:Nje,tT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Pje:Cje,s1=e=>e.polarOptions,nT=we([zc,Dc,mi],C_e),$V=we([s1,nT],(e,t)=>{if(e!=null)return Po(e.innerRadius,t,0)}),FV=we([s1,nT],(e,t)=>{if(e!=null)return Po(e.outerRadius,t,t*.8)}),Eje=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},BV=we([s1],Eje);we([eT,BV],i1);var qV=we([nT,$V,FV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([tT,qV],i1);var WV=we([jn,s1,$V,FV,zc,Dc],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Po(a,i,i/2),cy:Po(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Gr=(e,t)=>t,a1=(e,t,n)=>n;function o1(e){return e==null?void 0:e.id}function UV(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=o1(l);u.forEach((h,m)=>{var p=s==null||i?m:String(Dr(h,s,null)),g=Dr(h,l.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[d]:g}),a.set(p,y)})}}),Array.from(a.values())}function l1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var c1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function u1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Mje(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qr=e=>{var t=jn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Wm=e=>e.tooltip.settings.axisId;function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(r){Tje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tje(e,t,n){return(t=Aje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aje(e){var t=zje(e,"string");return typeof t=="symbol"?t:t+""}function zje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OO=[0,"auto"],ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VV=(e,t)=>e.cartesianAxis.xAxis[t],Lc=(e,t)=>{var n=VV(e,t);return n??ni},ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:OO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yx},HV=(e,t)=>e.cartesianAxis.yAxis[t],$c=(e,t)=>{var n=HV(e,t);return n??ri},Dje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Dje},_s=(e,t,n)=>{switch(t){case"xAxis":return Lc(e,n);case"yAxis":return $c(e,n);case"zAxis":return rT(e,n);case"angleAxis":return eT(e,n);case"radiusAxis":return tT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rje=(e,t,n)=>{switch(t){case"xAxis":return Lc(e,n);case"yAxis":return $c(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kx=(e,t,n)=>{switch(t){case"xAxis":return Lc(e,n);case"yAxis":return $c(e,n);case"angleAxis":return eT(e,n);case"radiusAxis":return tT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YV(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var d1=e=>e.graphicalItems.cartesianItems,Ije=we([Gr,a1],YV),GV=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Sx=we([d1,_s,Ije],GV,{memoizeOptions:{resultEqualityCheck:u1}}),QV=we([Sx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(l1)),XV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Lje=we([Sx],XV),ZV=e=>e.map(t=>t.data).filter(Boolean).flat(1),$je=we([Sx],ZV,{memoizeOptions:{resultEqualityCheck:u1}}),JV=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},iT=we([$je,vV],JV),eH=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Dr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Dr(i,r)}))):e.map(r=>({value:r})),h1=we([iT,_s,Sx],eH);function tH(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function e_(e){if(vl(e)||e instanceof Date){var t=Number(e);if(Rn(t))return t}}function I4(e){if(Array.isArray(e)){var t=[e_(e[0]),e_(e[1])];return Du(t)?t:void 0}var n=e_(e);if(n!=null)return[n,n]}function kc(e){return e.map(e_).filter(wye)}function Fje(e,t,n){return!n||typeof t!="number"||Ya(t)?[]:n.length?kc(n.flatMap(r=>{var i=Dr(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Rn(s)||!Rn(a)))return[t-s,t+a]})):[]}var Xr=e=>{var t=Qr(e),n=Wm(e);return kx(e,t,n)},Nx=we([Xr],e=>e==null?void 0:e.dataKey),Bje=we([QV,vV,Xr],UV),nH=(e,t,n,r)=>{var i={},s=t.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,u=r?[...c].reverse():c,d=u.map(o1);return[l,{stackedData:_ve(e,d,n),graphicalItems:u}]}))},$0=we([Bje,QV,r1,IV],nH),rH=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var a=Sve(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},qje=we([_s],e=>e.allowDataOverflow),sT=e=>{var t;if(e==null||!("domain"in e))return OO;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=kc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:OO},iH=we([_s],sT),sH=we([iH,qje],_V),Wje=we([$0,Ic,Gr,sH],rH,{memoizeOptions:{resultEqualityCheck:c1}}),aT=e=>e.errorBars,Uje=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>tH(n,r)),F0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},aH=(e,t,n,r,i)=>{var s,a;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,h=(u=r[c.id])===null||u===void 0?void 0:u.filter(v=>tH(i,v)),m=Dr(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=Fje(l,m,h);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||y>a)&&(a=y)}var x=I4(m);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=I4(Dr(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Rn(s)&&Rn(a))return[s,a]},Vje=we([iT,_s,Lje,aT,Gr],aH,{memoizeOptions:{resultEqualityCheck:c1}});function Hje(e){var{value:t}=e;if(vl(t)||t instanceof Date)return t}var Kje=(e,t,n)=>{var r=e.map(Hje).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&XU(r))?I7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oH=e=>e.referenceElements.dots,Um=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Yje=we([oH,Gr,a1],Um),lH=e=>e.referenceElements.areas,Gje=we([lH,Gr,a1],Um),cH=e=>e.referenceElements.lines,Qje=we([cH,Gr,a1],Um),uH=(e,t)=>{if(e!=null){var n=kc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Xje=we(Yje,Gr,uH),dH=(e,t)=>{if(e!=null){var n=kc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zje=we([Gje,Gr],dH);function Jje(e){var t;if(e.x!=null)return kc([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:kc(n)}function e1e(e){var t;if(e.y!=null)return kc([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:kc(n)}var hH=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Jje(r):e1e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},t1e=we([Qje,Gr],hH),n1e=we(Xje,t1e,Zje,(e,t,n)=>F0(e,n,t)),fH=(e,t,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",u=c?F0(r,s,i):F0(s,i);return hje(t,u,e.allowDataOverflow)},r1e=we([_s,iH,sH,Wje,Vje,n1e,jn,Gr],fH,{memoizeOptions:{resultEqualityCheck:c1}}),i1e=[0,1],mH=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ac(t,s);if(u&&l==null){var d;return I7(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?Kje(r,e,u):i==="expand"?i1e:a}},oT=we([_s,jn,iT,h1,r1,Gr,r1e],mH),pH=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(hx(s));return l in Vp?l:"point"}}},Cx=we([_s,jn,KV,XM,Gr],pH);function s1e(e){if(e!=null){if(e in Vp)return Vp[e]();var t="scale".concat(hx(e));if(t in Vp)return Vp[t]()}}function lT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=s1e(t);if(i!=null){var s=i.domain(n).range(r);return gve(s),s}}}var gH=(e,t,n)=>{var r=sT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Du(e))return _je(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Du(e))return wje(e,t.tickCount,t.allowDecimals)}},cT=we([oT,kx,Cx],gH),yH=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Du(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},a1e=we([_s,oT,cT,Gr],yH),o1e=we(h1,_s,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(kc(e.map(h=>h.value))).sort((h,m)=>h-m),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],u=r[l+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/a}}),xH=we(o1e,jn,RV,mi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Rn(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Po(n,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),l1e=(e,t,n)=>{var r=Lc(e,t);return r==null||typeof r.padding!="string"?0:xH(e,"xAxis",t,n,r.padding)},c1e=(e,t,n)=>{var r=$c(e,t);return r==null||typeof r.padding!="string"?0:xH(e,"yAxis",t,n,r.padding)},u1e=we(Lc,l1e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),d1e=we($c,c1e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),h1e=we([mi,u1e,Wj,qj,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),f1e=we([mi,jn,d1e,Wj,qj,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ox=(e,t,n,r)=>{var i;switch(t){case"xAxis":return h1e(e,n,r);case"yAxis":return f1e(e,n,r);case"zAxis":return(i=rT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return BV(e);case"radiusAxis":return qV(e,n);default:return}},vH=we([_s,Ox],i1),f1=we([_s,Cx,a1e,vH],lT);we([Sx,aT,Gr],Uje);function bH(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var m1=(e,t)=>t,p1=(e,t,n)=>n,m1e=we(Fj,m1,p1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bH)),p1e=we(Bj,m1,p1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bH)),_H=(e,t)=>({width:e.width,height:t.height}),g1e=(e,t)=>{var n=typeof t.width=="number"?t.width:yx;return{width:n,height:e.height}},wH=we(mi,Lc,_H),y1e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},x1e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},v1e=we(Dc,mi,m1e,m1,p1,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=_H(t,l);a==null&&(a=y1e(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),b1e=we(zc,mi,p1e,m1,p1,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=g1e(t,l);a==null&&(a=x1e(t,r,e));var u=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),_1e=(e,t)=>{var n=Lc(e,t);if(n!=null)return v1e(e,n.orientation,n.mirror)},w1e=we([mi,Lc,_1e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),j1e=(e,t)=>{var n=$c(e,t);if(n!=null)return b1e(e,n.orientation,n.mirror)},k1e=we([mi,$c,j1e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),jH=we(mi,$c,(e,t)=>{var n=typeof t.width=="number"?t.width:yx;return{width:n,height:e.height}}),L4=(e,t,n)=>{switch(t){case"xAxis":return wH(e,n).width;case"yAxis":return jH(e,n).height;default:return}},kH=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Ac(e,r),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&XU(c))return c}},uT=we([jn,h1,_s,Gr],kH),SH=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Ac(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},dT=we([jn,h1,kx,Gr],SH),$4=we([jn,Rje,Cx,f1,uT,dT,Ox,cT,Gr],(e,t,n,r,i,s,a,l,c)=>{if(t!=null){var u=Ac(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:n,scale:r}}}),S1e=(e,t,n,r,i,s,a,l,c)=>{if(!(t==null||r==null)){var u=Ac(e,c),{type:d,ticks:h,tickCount:m}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;g=c==="angleAxis"&&s!=null&&s.length>=2?Ts(s[0]-s[1])*2*g:g;var y=h||i;if(y){var x=y.map((v,w)=>{var b=a?a.indexOf(v):v;return{index:w,coordinate:r(b)+g,value:v,offset:g}});return x.filter(v=>Rn(v.coordinate))}return u&&l?l.map((v,w)=>({coordinate:r(v)+g,value:v,index:w,offset:g})).filter(v=>Rn(v.coordinate)):r.ticks?r.ticks(m).map(v=>({coordinate:r(v)+g,value:v,offset:g})):r.domain().map((v,w)=>({coordinate:r(v)+g,value:a?a[v]:v,index:w,offset:g}))}},NH=we([jn,kx,Cx,f1,cT,Ox,uT,dT,Gr],S1e),N1e=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Ac(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ts(r[0]-r[1])*2*u:u,l&&s?s.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:i?i[d]:d,index:h,offset:u}))}},Ru=we([jn,kx,f1,Ox,uT,dT,Gr],N1e),Iu=we(_s,f1,(e,t)=>{if(!(e==null||t==null))return L0(L0({},e),{},{scale:t})}),C1e=we([_s,Cx,oT,vH],lT);we((e,t,n)=>rT(e,n),C1e,(e,t)=>{if(!(e==null||t==null))return L0(L0({},e),{},{scale:t})});var O1e=we([jn,Fj,Bj],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CH=e=>e.options.defaultTooltipEventType,OH=e=>e.options.validateTooltipEventTypes;function PH(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hT(e,t){var n=CH(e),r=OH(e);return PH(t,n,r)}function P1e(e){return Rt(t=>hT(t,e))}var EH=(e,t)=>{var n,r=Number(t);if(!(Ya(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},E1e=e=>e.tooltip.settings,du={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},M1e={itemInteraction:{click:du,hover:du},axisInteraction:{click:du,hover:du},keyboardInteraction:du,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MH=Ws({name:"tooltip",initialState:M1e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=So(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Zn()},removeTooltipEntrySettings:{reducer(e,t){var n=So(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Zn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:T1e,replaceTooltipEntrySettings:A1e,removeTooltipEntrySettings:z1e,setTooltipSettingsState:D1e,setActiveMouseOverItemIndex:TH,mouseLeaveItem:R1e,mouseLeaveChart:AH,setActiveClickItemIndex:I1e,setMouseOverAxisIndex:zH,setMouseClickAxisIndex:L1e,setSyncInteraction:PO,setKeyboardInteraction:EO}=MH.actions,$1e=MH.reducer;function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){F1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1e(e,t,n){return(t=B1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B1e(e){var t=q1e(e,"string");return typeof t=="symbol"?t:t+""}function q1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function U1e(e){return e.index!=null}var DH=(e,t,n,r)=>{if(t==null)return du;var i=W1e(e,t,n);if(i==null)return du;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(U1e(i)){if(s)return Fv(Fv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Fv(Fv({},du),{},{coordinate:i.coordinate})};function V1e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function H1e(e,t){var n=V1e(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function K1e(e,t,n){if(n==null||t==null)return!0;var r=Dr(e,t);return r==null||!Du(n)?!0:H1e(r,n)}var fT=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Rn(s))return i;var a=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(a,Math.min(s,l)),u=t[c];return u==null||K1e(u,n,r)?String(c):null},RH=(e,t,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},IH=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},Px=e=>e.options.tooltipPayloadSearcher,Vm=e=>e.tooltip;function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){Y1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y1e(e,t,n){return(t=G1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G1e(e){var t=Q1e(e,"string");return typeof t=="symbol"?t:t+""}function Q1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1e(e,t){return e??t}var LH=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,h=[];return e.reduce((m,p)=>{var g,{dataDefinedOnItem:y,settings:x}=p,v=X1e(y,l),w=Array.isArray(v)?r7(v,u,d):v,b=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:r,j=x==null?void 0:x.nameKey,_;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?_=ZU(w,r,i):_=s(w,t,c,j),Array.isArray(_))_.forEach(C=>{var O=q4(q4({},x),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});m.push(tI({tooltipEntrySettings:O,dataKey:C.dataKey,payload:C.payload,value:Dr(C.payload,C.dataKey),name:C.name}))});else{var k;m.push(tI({tooltipEntrySettings:x,dataKey:b,payload:_,value:Dr(_,b),name:(k=Dr(_,j))!==null&&k!==void 0?k:x==null?void 0:x.name}))}return m},h)}},mT=we([Xr,jn,KV,XM,Qr],pH),Z1e=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),J1e=we([Qr,Wm],YV),Hm=we([Z1e,Xr,J1e],GV,{memoizeOptions:{resultEqualityCheck:u1}}),eke=we([Hm],e=>e.filter(l1)),tke=we([Hm],ZV,{memoizeOptions:{resultEqualityCheck:u1}}),Km=we([tke,Ic],JV),nke=we([eke,Ic,Xr],UV),pT=we([Km,Xr,Hm],eH),$H=we([Xr],sT),rke=we([Xr],e=>e.allowDataOverflow),FH=we([$H,rke],_V),ike=we([Hm],e=>e.filter(l1)),ske=we([nke,ike,r1,IV],nH),ake=we([ske,Ic,Qr,FH],rH),oke=we([Hm],XV),lke=we([Km,Xr,oke,aT,Qr],aH,{memoizeOptions:{resultEqualityCheck:c1}}),cke=we([oH,Qr,Wm],Um),uke=we([cke,Qr],uH),dke=we([lH,Qr,Wm],Um),hke=we([dke,Qr],dH),fke=we([cH,Qr,Wm],Um),mke=we([fke,Qr],hH),pke=we([uke,mke,hke],F0),gke=we([Xr,$H,FH,ake,lke,pke,jn,Qr],fH),Ex=we([Xr,jn,Km,pT,r1,Qr,gke],mH),yke=we([Ex,Xr,mT],gH),xke=we([Xr,Ex,yke,Qr],yH),BH=e=>{var t=Qr(e),n=Wm(e),r=!1;return Ox(e,t,n,r)},qH=we([Xr,BH],i1),WH=we([Xr,mT,xke,qH],lT),vke=we([jn,pT,Xr,Qr],kH),bke=we([jn,pT,Xr,Qr],SH),_ke=(e,t,n,r,i,s,a,l)=>{if(t){var{type:c}=t,u=Ac(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ts(i[0]-i[1])*2*h:h,u&&a?a.map((m,p)=>({coordinate:r(m)+h,value:m,index:p,offset:h})):r.domain().map((m,p)=>({coordinate:r(m)+h,value:s?s[m]:m,index:p,offset:h}))}}},Fc=we([jn,Xr,mT,WH,BH,vke,bke,Qr],_ke),gT=we([CH,OH,E1e],(e,t,n)=>PH(n.shared,e,t)),UH=e=>e.tooltip.settings.trigger,yT=e=>e.tooltip.settings.defaultIndex,Mx=we([Vm,gT,UH,yT],DH),oh=we([Mx,Km,Nx,Ex],fT),VH=we([Fc,oh],EH),HH=we([Mx],e=>{if(e)return e.dataKey});we([Mx],e=>{if(e)return e.graphicalItemId});var KH=we([Vm,gT,UH,yT],IH),wke=we([zc,Dc,jn,mi,Fc,yT,KH,Px],RH),jke=we([Mx,wke],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kke=we([Mx],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Ske=we([KH,oh,Ic,Nx,VH,Px,gT],LH),Nke=we([Ske],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(r){Cke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cke(e,t,n){return(t=Oke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oke(e){var t=Pke(e,"string");return typeof t=="symbol"?t:t+""}function Pke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eke=()=>Rt(Xr),Mke=()=>{var e=Eke(),t=Rt(Fc),n=Rt(WH);return om(!e||!n?void 0:U4(U4({},e),{},{scale:n}),t)};function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){Tke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tke(e,t,n){return(t=Ake(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ake(e){var t=zke(e,"string");return typeof t=="symbol"?t:t+""}function zke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dke=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rke=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:a}=r;return Fh(Fh(Fh({},r),Ni(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return Fh(Fh(Fh({},r),Ni(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ike(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var YH=(e,t,n,r,i)=>{var s,a=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,u,d,h,m,p=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,g=(d=n[l])===null||d===void 0?void 0:d.coordinate,y=l>=a-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,x=void 0;if(!(p==null||g==null||y==null))if(Ts(g-p)!==Ts(y-g)){var v=[];if(Ts(y-g)===Ts(i[1]-i[0])){x=y;var w=g+i[1]-i[0];v[0]=Math.min(w,(w+p)/2),v[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+i[1]-i[0];v[0]=Math.min(g,(b+g)/2),v[1]=Math.max(g,(b+g)/2)}var j=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>j[0]&&e<=j[1]||e>=v[0]&&e<=v[1]){var _;return(_=n[l])===null||_===void 0?void 0:_.index}}else{var k=Math.min(p,y),C=Math.max(p,y);if(e>(k+g)/2&&e<=(C+g)/2){var O;return(O=n[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var M=0;M<a;M++){var P=t[M];if(P!=null){var A=t[M+1],R=t[M-1];if(M===0&&A!=null&&e<=(P.coordinate+A.coordinate)/2||M===a-1&&R!=null&&e>(P.coordinate+R.coordinate)/2||M>0&&M<a-1&&R!=null&&A!=null&&e>(P.coordinate+R.coordinate)/2&&e<=(P.coordinate+A.coordinate)/2)return P.index}}return-1},GH=()=>Rt(XM),xT=(e,t)=>t,QH=(e,t,n)=>n,vT=(e,t,n,r)=>r,Lke=we(Fc,e=>Ej(e,t=>t.coordinate)),bT=we([Vm,xT,QH,vT],DH),_T=we([bT,Km,Nx,Ex],fT),$ke=(e,t,n)=>{if(t!=null){var r=Vm(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},XH=we([Vm,xT,QH,vT],IH),B0=we([zc,Dc,jn,mi,Fc,vT,XH,Px],RH),Fke=we([bT,B0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),ZH=we([Fc,_T],EH),Bke=we([XH,_T,Ic,Nx,ZH,Px,xT],LH),qke=we([bT,_T],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Wke=(e,t,n,r,i,s,a)=>{if(!(!e||!n||!r||!i)&&Ike(e,a)){var l=Nve(e,t),c=YH(l,s,i,n,r),u=Dke(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Uke=(e,t,n,r,i,s,a)=>{if(!(!e||!r||!i||!s||!n)){var l=T_e(e,n);if(l){var c=Cve(l,t),u=YH(c,a,s,r,i),d=Rke(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Vke=(e,t,n,r,i,s,a,l)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?Wke(e,t,r,i,s,a,l):Uke(e,t,n,r,i,s,a)},Hke=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Kke=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(di)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Mje}});function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(r){Yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yke(e,t,n){return(t=Gke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gke(e){var t=Qke(e,"string");return typeof t=="symbol"?t:t+""}function Qke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xke={},Zke={zIndexMap:Object.values(di).reduce((e,t)=>K4(K4({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Xke)},Jke=new Set(Object.values(di));function eSe(e){return Jke.has(e)}var JH=Ws({name:"zIndex",initialState:Zke,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!eSe(n)&&delete e.zIndexMap[n])},prepare:Zn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Zn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Zn()}}}),{registerZIndexPortal:tSe,unregisterZIndexPortal:nSe,registerZIndexPortalElement:rSe,unregisterZIndexPortalElement:iSe}=JH.actions,sSe=JH.reducer;function no(e){var{zIndex:t,children:n}=e,r=rbe(),i=r&&t!==void 0&&t!==0,s=Yi(),a=Or();f.useLayoutEffect(()=>i?(a(tSe({zIndex:t})),()=>{a(nSe({zIndex:t}))}):fx,[a,t,i]);var l=Rt(c=>Hke(c,t,s));return i?l?Mc.createPortal(n,l):null:n}function MO(){return MO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MO.apply(null,arguments)}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){aSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aSe(e,t,n){return(t=oSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oSe(e){var t=lSe(e,"string");return typeof t=="symbol"?t:t+""}function lSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cSe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return f.isValidElement(t)?f.cloneElement(t,r):f.createElement(n,r)}function uSe(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=n,m=r,p=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var g,y,x;if(d==="ScatterChart")g=h,y=Vbe,x=di.cursorLine;else if(d==="BarChart")g=Hbe(l,h,s,a),y=E7,x=di.cursorRectangle;else if(l==="radial"&&t9(h)){var{cx:v,cy:w,radius:b,startAngle:j,endAngle:_}=M7(h);g={cx:v,cy:w,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},y=A7,x=di.cursorLine}else g={points:R_e(l,h,s)},y=fg,x=di.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,C=Bv(Bv(Bv(Bv({stroke:"#ccc",pointerEvents:"none"},s),g),dx(c)),{},{payload:m,payloadIndex:p,className:Sn("recharts-tooltip-cursor",k)});return f.createElement(no,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},f.createElement(cSe,{cursor:c,cursorComp:y,cursorProps:C}))}function dSe(e){var t=Mke(),n=p7(),r=jh(),i=GH();return t==null||n==null||r==null||i==null?null:f.createElement(uSe,MO({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var eK=f.createContext(null),hSe=()=>f.useContext(eK),tK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,m),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,g=new Array(p);m<p;m++)g[m]=h[m].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,m),!0;case 5:return x.fn.call(x.context,d,h,m,p),!0;case 6:return x.fn.call(x.context,d,h,m,p,g),!0}for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var j=x.length,_;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,h);break;case 4:x[b].fn.call(x[b].context,d,h,m);break;default:if(!w)for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==d||m&&!g[y].once||h&&g[y].context!==h)&&x.push(g[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(tK);var fSe=tK.exports;const mSe=kl(fSe);var uy=new mSe,TO="recharts.syncEvent.tooltip",G4="recharts.syncEvent.brush";function pSe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ya(n))return e==null?void 0:e[n]}}var gSe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nK=Ws({name:"options",initialState:gSe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ySe=nK.reducer,{createEventEmitter:xSe}=nK.actions;function vSe(e){return e.tooltip.syncInteraction}var bSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rK=Ws({name:"chartData",initialState:bSe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Q4,setDataStartEndIndexes:_Se,setComputedData:oWe}=rK.actions,wSe=rK.reducer,jSe=["x","y"];function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){kSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kSe(e,t,n){return(t=SSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SSe(e){var t=NSe(e,"string");return typeof t=="symbol"?t:t+""}function NSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CSe(e,t){if(e==null)return{};var n,r,i=OSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PSe(){var e=Rt(ZM),t=Rt(JM),n=Or(),r=Rt(LV),i=Rt(Fc),s=jh(),a=Uj(),l=Rt(c=>c.rootProps.className);f.useEffect(()=>{if(e==null)return fx;var c=(u,d,h)=>{if(t!==h&&e===u){if(r==="index"){var m;if(a&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,x=CSe(p,jSe),{x:v,y:w,width:b,height:j}=d.payload.sourceViewBox,_=Bh(Bh({},x),{},{x:a.x+(b?(g-v)/b:0)*a.width,y:a.y+(j?(y-w)/j:0)*a.height});n(Bh(Bh({},d),{},{payload:Bh(Bh({},d.payload),{},{coordinate:_})}))}else n(d);return}if(i!=null){var k;if(typeof r=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,C);k=i[O]}else r==="value"&&(k=i.find(L=>String(L.value)===d.payload.label));var{coordinate:M}=d.payload;if(k==null||d.payload.active===!1||M==null||a==null){n(PO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:A}=M,R=Math.min(P,a.x+a.width),F=Math.min(A,a.y+a.height),V={x:s==="horizontal"?k.coordinate:R,y:s==="horizontal"?F:k.coordinate},K=PO({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(K)}}};return uy.on(TO,c),()=>{uy.off(TO,c)}},[l,n,t,e,r,i,s,a])}function ESe(){var e=Rt(ZM),t=Rt(JM),n=Or();f.useEffect(()=>{if(e==null)return fx;var r=(i,s,a)=>{t!==a&&e===i&&n(_Se(s))};return uy.on(G4,r),()=>{uy.off(G4,r)}},[n,t,e])}function MSe(){var e=Or();f.useEffect(()=>{e(xSe())},[e]),PSe(),ESe()}function TSe(e,t,n,r,i,s){var a=Rt(p=>$ke(p,e,t)),l=Rt(JM),c=Rt(ZM),u=Rt(LV),d=Rt(vSe),h=d==null?void 0:d.active,m=Uj();f.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=PO({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});uy.emit(TO,c,p,l)}},[h,n,a,i,r,l,c,u,s,m])}function Z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(n),!0).forEach(function(r){ASe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ASe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RSe(e){return e.dataKey}function ISe(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(kbe,t)}var e3=[],LSe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $Se(e){var t,n,r=bs(e,LSe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:m,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:v,shared:w,trigger:b,defaultIndex:j,portal:_,axisId:k}=r,C=Or(),O=typeof j=="number"?String(j):j;f.useEffect(()=>{C(D1e({shared:w,trigger:b,axisId:k,active:i,defaultIndex:O}))},[C,w,b,k,i,O]);var M=Uj(),P=S7(),A=P1e(w),{activeIndex:R,isActive:F}=(t=Rt(J=>qke(J,A,b,O)))!==null&&t!==void 0?t:{},V=Rt(J=>Bke(J,A,b,O)),K=Rt(J=>ZH(J,A,b,O)),L=Rt(J=>Fke(J,A,b,O)),W=V,z=hSe(),T=(n=i??F)!==null&&n!==void 0?n:!1,[q,Y]=dxe([W,T]),ee=A==="axis"?K:void 0;TSe(A,b,L,ee,R,T);var pe=_??z;if(pe==null||M==null||A==null)return null;var se=W??e3;T||(se=e3),u&&se.length&&(se=$ye(se.filter(J=>J.value!=null&&(J.hide!==!0||r.includeHidden)),m,RSe));var he=se.length>0,Pe=f.createElement(Mbe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:T,coordinate:L,hasPayload:he,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:M,wrapperStyle:x,lastBoundingBox:q,innerRef:Y,hasPortalFromProps:!!_},ISe(c,J4(J4({},r),{},{payload:se,label:ee,active:T,activeIndex:R,coordinate:L,accessibilityLayer:P})));return f.createElement(f.Fragment,null,Mc.createPortal(Pe,pe),T&&f.createElement(dSe,{cursor:v,tooltipEventType:A,coordinate:L,payload:se,index:R}))}var iK=e=>null;iK.displayName="Cell";function FSe(e,t,n){return(t=BSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BSe(e){var t=qSe(e,"string");return typeof t=="symbol"?t:t+""}function qSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WSe{constructor(t){FSe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function USe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){VSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VSe(e,t,n){return(t=HSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HSe(e){var t=KSe(e,"string");return typeof t=="symbol"?t:t+""}function KSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YSe={cacheSize:2e3,enableCache:!0},sK=USe({},YSe),n3=new WSe(sK.cacheSize),GSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r3="recharts_measurement_span";function QSe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var i3=(e,t)=>{try{var n=document.getElementById(r3);n||(n=document.createElement("span"),n.setAttribute("id",r3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,GSe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vx.isSsr)return{width:0,height:0};if(!sK.enableCache)return i3(t,n);var r=QSe(t,n),i=n3.get(r);if(i)return i;var s=i3(t,n);return n3.set(r,s),s},aK;function XSe(e,t,n){return(t=ZSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZSe(e){var t=JSe(e,"string");return typeof t=="symbol"?t:t+""}function JSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nNe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rNe=["cm","mm","pt","pc","in","Q","px"];function iNe(e){return rNe.includes(e)}var bf="NaN";function sNe(e,t){return e*nNe[t]}class _i{static parse(t){var n,[,r,i]=(n=tNe.exec(t))!==null&&n!==void 0?n:[];return r==null?_i.NaN:new _i(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ya(t)&&(this.unit=""),n!==""&&!eNe.test(n)&&(this.num=NaN,this.unit=""),iNe(n)&&(this.num=sNe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new _i(NaN,""):new _i(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _i(NaN,""):new _i(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _i(NaN,""):new _i(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _i(NaN,""):new _i(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ya(this.num)}}aK=_i;XSe(_i,"NaN",new aK(NaN,""));function oK(e){if(e==null||e.includes(bf))return bf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=s3.exec(t))!==null&&n!==void 0?n:[],a=_i.parse(r??""),l=_i.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return bf;t=t.replace(s3,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=a3.exec(t))!==null&&u!==void 0?u:[],p=_i.parse(d??""),g=_i.parse(m??""),y=h==="+"?p.add(g):p.subtract(g);if(y.isNaN())return bf;t=t.replace(a3,y.toString())}return t}var o3=/\(([^()]*)\)/;function aNe(e){for(var t=e,n;(n=o3.exec(t))!=null;){var[,r]=n;t=t.replace(o3,oK(r))}return t}function oNe(e){var t=e.replace(/\s+/g,"");return t=aNe(t),t=oK(t),t}function lNe(e){try{return oNe(e)}catch{return bf}}function vS(e){var t=lNe(e.slice(5,-1));return t===bf?"":t}var cNe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],uNe=["dx","dy","angle","className","breakAll"];function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(null,arguments)}function l3(e,t){if(e==null)return{};var n,r,i=dNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lK=/[ \f\n\r\t\v\u2028\u2029]+/,cK=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ur(t)||(n?i=t.toString().split(""):i=t.toString().split(lK));var s=i.map(l=>({word:l,width:mg(l,r).width})),a=n?0:mg("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function hNe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uK=(e,t,n,r)=>e.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(t==null||r||c.width+l+n<Number(t)))c.words.push(a),c.width+=l+n;else{var u={words:[a],width:l};i.push(u)}return i},[]),dK=e=>e.reduce((t,n)=>t.width>n.width?t:n),fNe="",c3=(e,t,n,r,i,s,a,l)=>{var c=e.slice(0,t),u=cK({breakAll:n,style:r,children:c+fNe});if(!u)return[!1,[]];var d=uK(u.wordsWithComputedWidth,s,a,l),h=d.length>i||dK(d).width>Number(s);return[h,d]},mNe=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=bt(s),d=String(a),h=uK(t,r,n,i);if(!u||i)return h;var m=h.length>s||dK(h).width>Number(r);if(!m)return h;for(var p=0,g=d.length-1,y=0,x;p<=g&&y<=d.length-1;){var v=Math.floor((p+g)/2),w=v-1,[b,j]=c3(d,w,c,l,s,r,n,i),[_]=c3(d,v,c,l,s,r,n,i);if(!b&&!_&&(p=v+1),b&&_&&(g=v-1),!b&&_){x=j;break}y++}return x||h},u3=e=>{var t=ur(e)?[]:e.toString().split(lK);return[{words:t,width:void 0}]},pNe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!vx.isSsr){var l,c,u=cK({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return u3(r);return mNe({breakAll:s,children:r,maxLines:a,style:i},l,c,t,!!n)}return u3(r)},hK="#808080",gNe={angle:0,breakAll:!1,capHeight:"0.71em",fill:hK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wT=f.forwardRef((e,t)=>{var n=bs(e,gNe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,h=l3(n,cNe),m=f.useMemo(()=>pNe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:g,angle:y,className:x,breakAll:v}=h,w=l3(h,uNe);if(!vl(r)||!vl(i)||m.length===0)return null;var b=Number(r)+(bt(p)?p:0),j=Number(i)+(bt(g)?g:0);if(!Rn(b)||!Rn(j))return null;var _;switch(d){case"start":_=vS("calc(".concat(a,")"));break;case"middle":_=vS("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:_=vS("calc(".concat(m.length-1," * -").concat(s,")"));break}var k=[];if(c){var C=m[0].width,{width:O}=h;k.push("scale(".concat(bt(O)&&bt(C)?O/C:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(b,", ").concat(j,")")),k.length&&(w.transform=k.join(" ")),f.createElement("text",AO({},hs(w),{ref:t,x:b,y:j,className:Sn("recharts-text",x),textAnchor:u,fill:l.includes("url")?hK:l}),m.map((M,P)=>{var A=M.words.join(v?"":" ");return f.createElement("tspan",{x:b,dy:P===0?_:s,key:"".concat(A,"-").concat(P)},A)}))});wT.displayName="Text";var yNe=["labelRef"],xNe=["content"];function d3(e,t){if(e==null)return{};var n,r,i=vNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){bNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bNe(e,t,n){return(t=_Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ne(e){var t=wNe(e,"string");return typeof t=="symbol"?t:t+""}function wNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}var fK=f.createContext(null),jNe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=e,c=f.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[t,n,r,i,s,a]);return f.createElement(fK.Provider,{value:c},l)},mK=()=>{var e=f.useContext(fK),t=Uj();return e||m7(t)},kNe=f.createContext(null),SNe=()=>{var e=f.useContext(kNe),t=Rt(WV);return e||t},NNe=e=>{var{value:t,formatter:n}=e,r=ur(e.children)?t:e.children;return typeof n=="function"?n(r):r},jT=e=>e!=null&&typeof e=="function",CNe=(e,t)=>{var n=Ts(t-e),r=Math.min(Math.abs(t-e),360);return n*r},ONe=(e,t,n,r,i)=>{var{offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:p}=i,g=(u+d)/2,y=CNe(h,m),x=y>=0?1:-1,v,w;switch(t){case"insideStart":v=h+x*s,w=p;break;case"insideEnd":v=m-x*s,w=!p;break;case"end":v=m+x*s,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=Ni(l,c,g,v),j=Ni(l,c,g,v+(w?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),k=ur(e.id)?Xg("recharts-radial-line-"):e.id;return f.createElement("text",Zl({},r,{dominantBaseline:"central",className:Sn("recharts-radial-bar-label",a)}),f.createElement("defs",null,f.createElement("path",{id:k,d:_})),f.createElement("textPath",{xlinkHref:"#".concat(k)},n))},PNe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:h}=Ni(r,i,a+t,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(s+a)/2,{x:p,y:g}=Ni(r,i,m,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},zO=e=>"cx"in e&&bt(e.cx),ENe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!zO(n)&&(s=n);var{x:a,y:l,upperWidth:c,lowerWidth:u,height:d}=t,h=a,m=a+(c-u)/2,p=(h+m)/2,g=(c+u)/2,y=h+c/2,x=d>=0?1:-1,v=x*r,w=x>0?"end":"start",b=x>0?"start":"end",j=c>=0?1:-1,_=j*r,k=j>0?"end":"start",C=j>0?"start":"end";if(i==="top"){var O={x:h+c/2,y:l-v,textAnchor:"middle",verticalAnchor:w};return kr(kr({},O),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var M={x:m+u/2,y:l+d+v,textAnchor:"middle",verticalAnchor:b};return kr(kr({},M),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(i==="left"){var P={x:p-_,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return kr(kr({},P),s?{width:Math.max(P.x-s.x,0),height:d}:{})}if(i==="right"){var A={x:p+g+_,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return kr(kr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var R=s?{width:g,height:d}:{};return i==="insideLeft"?kr({x:p+_,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideRight"?kr({x:p+g-_,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},R):i==="insideTop"?kr({x:h+c/2,y:l+v,textAnchor:"middle",verticalAnchor:b},R):i==="insideBottom"?kr({x:m+u/2,y:l+d-v,textAnchor:"middle",verticalAnchor:w},R):i==="insideTopLeft"?kr({x:h+_,y:l+v,textAnchor:C,verticalAnchor:b},R):i==="insideTopRight"?kr({x:h+c-_,y:l+v,textAnchor:k,verticalAnchor:b},R):i==="insideBottomLeft"?kr({x:m+_,y:l+d-v,textAnchor:C,verticalAnchor:w},R):i==="insideBottomRight"?kr({x:m+u-_,y:l+d-v,textAnchor:k,verticalAnchor:w},R):i&&typeof i=="object"&&(bt(i.x)||vc(i.x))&&(bt(i.y)||vc(i.y))?kr({x:a+Po(i.x,g),y:l+Po(i.y,d),textAnchor:"end",verticalAnchor:"end"},R):kr({x:y,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},MNe={angle:0,offset:5,zIndex:di.label,position:"middle",textBreakAll:!1};function au(e){var t=bs(e,MNe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:c,labelRef:u}=t,d=SNe(),h=mK(),m=r==="center"?h:d??h,p,g,y;if(n==null?p=m:zO(n)?p=n:p=m7(n),!p||ur(i)&&ur(s)&&!f.isValidElement(a)&&typeof a!="function")return null;var x=kr(kr({},t),{},{viewBox:p});if(f.isValidElement(a)){var{labelRef:v}=x,w=d3(x,yNe);return f.cloneElement(a,w)}if(typeof a=="function"){var{content:b}=x,j=d3(x,xNe);if(g=f.createElement(a,j),f.isValidElement(g))return g}else g=NNe(t);var _=hs(t);if(zO(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return ONe(t,r,g,_,p);y=PNe(p,t.offset,t.position)}else y=ENe(t,p);return f.createElement(no,{zIndex:t.zIndex},f.createElement(wT,Zl({ref:u,className:Sn("recharts-label",l)},_,y,{textAnchor:hNe(_.textAnchor)?_.textAnchor:y.textAnchor,breakAll:c}),g))}au.displayName="Label";var TNe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?f.createElement(au,Zl({key:"label-implicit"},r)):vl(e)?f.createElement(au,Zl({key:"label-implicit",value:e},r)):f.isValidElement(e)?e.type===au?f.cloneElement(e,kr({key:"label-implicit"},r)):f.createElement(au,Zl({key:"label-implicit",content:e},r)):jT(e)?f.createElement(au,Zl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?f.createElement(au,Zl({},e,{key:"label-implicit"},r)):null};function ANe(e){var{label:t,labelRef:n}=e,r=mK();return TNe(t,r,n)||null}var pK={},gK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(gK);var yK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(yK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gK,n=yK,r=Oj;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(pK);var zNe=pK.last;const DNe=kl(zNe);var RNe=["valueAccessor"],INe=["dataKey","clockWise","id","textBreakAll","zIndex"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}function f3(e,t){if(e==null)return{};var n,r,i=LNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Ne=e=>Array.isArray(e.value)?DNe(e.value):e.value,xK=f.createContext(void 0),vK=xK.Provider,bK=f.createContext(void 0);bK.Provider;function FNe(){return f.useContext(xK)}function BNe(){return f.useContext(bK)}function t_(e){var{valueAccessor:t=$Ne}=e,n=f3(e,RNe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=f3(n,INe),u=FNe(),d=BNe(),h=u||d;return!h||!h.length?null:f.createElement(no,{zIndex:l??di.label},f.createElement(fs,{className:"recharts-label-list"},h.map((m,p)=>{var g,y=ur(r)?t(m,p):Dr(m&&m.payload,r),x=ur(s)?{}:{id:"".concat(s,"-").concat(p)};return f.createElement(au,q0({key:"label-".concat(p)},hs(m),c,x,{fill:(g=n.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:a,viewBox:m.viewBox,index:p,zIndex:0}))})))}t_.displayName="LabelList";function _K(e){var{label:t}=e;return t?t===!0?f.createElement(t_,{key:"labelList-implicit"}):f.isValidElement(t)||jT(t)?f.createElement(t_,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(t_,q0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DO.apply(null,arguments)}var wK=e=>{var{cx:t,cy:n,r,className:i}=e,s=Sn("recharts-dot",i);return bt(t)&&bt(n)&&bt(r)?f.createElement("circle",DO({},Ka(e),eM(e),{className:s,cx:t,cy:n,r})):null},qNe={radiusAxis:{},angleAxis:{}},jK=Ws({name:"polarAxis",initialState:qNe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lWe,removeRadiusAxis:cWe,addAngleAxis:uWe,removeAngleAxis:dWe}=jK.actions,WNe=jK.reducer,kK={exports:{}},In={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=Symbol.for("react.transitional.element"),ST=Symbol.for("react.portal"),g1=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),x1=Symbol.for("react.profiler"),v1=Symbol.for("react.consumer"),b1=Symbol.for("react.context"),_1=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),j1=Symbol.for("react.suspense_list"),k1=Symbol.for("react.memo"),S1=Symbol.for("react.lazy"),UNe=Symbol.for("react.view_transition"),VNe=Symbol.for("react.client.reference");function ro(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kT:switch(e=e.type,e){case g1:case x1:case y1:case w1:case j1:case UNe:return e;default:switch(e=e&&e.$$typeof,e){case b1:case _1:case S1:case k1:return e;case v1:return e;default:return t}}case ST:return t}}}In.ContextConsumer=v1;In.ContextProvider=b1;In.Element=kT;In.ForwardRef=_1;In.Fragment=g1;In.Lazy=S1;In.Memo=k1;In.Portal=ST;In.Profiler=x1;In.StrictMode=y1;In.Suspense=w1;In.SuspenseList=j1;In.isContextConsumer=function(e){return ro(e)===v1};In.isContextProvider=function(e){return ro(e)===b1};In.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kT};In.isForwardRef=function(e){return ro(e)===_1};In.isFragment=function(e){return ro(e)===g1};In.isLazy=function(e){return ro(e)===S1};In.isMemo=function(e){return ro(e)===k1};In.isPortal=function(e){return ro(e)===ST};In.isProfiler=function(e){return ro(e)===x1};In.isStrictMode=function(e){return ro(e)===y1};In.isSuspense=function(e){return ro(e)===w1};In.isSuspenseList=function(e){return ro(e)===j1};In.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===g1||e===x1||e===y1||e===w1||e===j1||typeof e=="object"&&e!==null&&(e.$$typeof===S1||e.$$typeof===k1||e.$$typeof===b1||e.$$typeof===v1||e.$$typeof===_1||e.$$typeof===VNe||e.getModuleId!==void 0)};In.typeOf=ro;kK.exports=In;var HNe=kK.exports,m3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",p3=null,bS=null,SK=e=>{if(e===p3&&Array.isArray(bS))return bS;var t=[];return f.Children.forEach(e,n=>{ur(n)||(HNe.isFragment(n)?t=t.concat(SK(n.props.children)):t.push(n))}),bS=t,p3=e,t};function KNe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>m3(i)):r=[m3(t)],SK(e).forEach(i=>{var s=im(i,"type.displayName")||im(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var NK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,CK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(CK);var YNe=CK.isPlainObject;const GNe=kl(YNe);var g3,y3,x3,v3,b3;function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(r){QNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QNe(e,t,n){return(t=XNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XNe(e){var t=ZNe(e,"string");return typeof t=="symbol"?t:t+""}function ZNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function _p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j3=(e,t,n,r,i)=>{var s=n-r,a;return a=mr(g3||(g3=_p(["M ",",",""])),e,t),a+=mr(y3||(y3=_p(["L ",",",""])),e+n,t),a+=mr(x3||(x3=_p(["L ",",",""])),e+n-s/2,t+i),a+=mr(v3||(v3=_p(["L ",",",""])),e+n-s/2-r,t+i),a+=mr(b3||(b3=_p(["L ",","," Z"])),e,t),a},JNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eCe=e=>{var t=bs(e,JNe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=f.useRef(null),[p,g]=f.useState(-1),y=f.useRef(i),x=f.useRef(s),v=f.useRef(a),w=f.useRef(n),b=f.useRef(r),j=Qj(e,"trapezoid-");if(f.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var V=m.current.getTotalLength();V&&g(V)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var _=Sn("recharts-trapezoid",l);if(!h)return f.createElement("g",null,f.createElement("path",W0({},hs(t),{className:_,d:j3(n,r,i,s,a)})));var k=y.current,C=x.current,O=v.current,M=w.current,P=b.current,A="0px ".concat(p===-1?1:p,"px"),R="".concat(p,"px 0px"),F=N7(["strokeDasharray"],u,c);return f.createElement(Gj,{animationId:j,key:j,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},V=>{var K=lr(k,i,V),L=lr(C,s,V),W=lr(O,a,V),z=lr(M,n,V),T=lr(P,r,V);m.current&&(y.current=K,x.current=L,v.current=W,w.current=z,b.current=T);var q=V>0?{transition:F,strokeDasharray:R}:{strokeDasharray:A};return f.createElement("path",W0({},hs(t),{className:_,d:j3(z,T,K,L,W),ref:m,style:w3(w3({},q),t.style)}))})},tCe=["option","shapeType","activeClassName"];function nCe(e,t){if(e==null)return{};var n,r,i=rCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(r){iCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iCe(e,t,n){return(t=sCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sCe(e){var t=aCe(e,"string");return typeof t=="symbol"?t:t+""}function aCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oCe(e,t){return U0(U0({},t),e)}function lCe(e,t){return e==="symbols"}function S3(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return f.createElement(E7,n);case"trapezoid":return f.createElement(eCe,n);case"sector":return f.createElement(A7,n);case"symbols":if(lCe(t))return f.createElement(e9,n);break;case"curve":return f.createElement(fg,n);default:return null}}function cCe(e){return f.isValidElement(e)?e.props:e}function uCe(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=nCe(e,tCe),s;if(f.isValidElement(t))s=f.cloneElement(t,U0(U0({},i),cCe(t)));else if(typeof t=="function")s=t(i,i.index);else if(GNe(t)&&typeof t!="boolean"){var a=oCe(t,i);s=f.createElement(S3,{shapeType:n,elementProps:a})}else{var l=i;s=f.createElement(S3,{shapeType:n,elementProps:l})}return i.isActive?f.createElement(fs,{className:r},s):s}var OK=(e,t,n)=>{var r=Or();return(i,s)=>a=>{e==null||e(i,s,a),r(TH({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},PK=e=>{var t=Or();return(n,r)=>i=>{e==null||e(n,r,i),t(R1e())}},EK=(e,t,n)=>{var r=Or();return(i,s)=>a=>{e==null||e(i,s,a),r(I1e({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function MK(e){var{tooltipEntrySettings:t}=e,n=Or(),r=Yi(),i=f.useRef(null);return f.useLayoutEffect(()=>{r||(i.current===null?n(T1e(t)):i.current!==t&&n(A1e({prev:i.current,next:t})),i.current=t)},[t,n,r]),f.useLayoutEffect(()=>()=>{i.current&&(n(z1e(i.current)),i.current=null)},[n]),null}function TK(e){var{legendPayload:t}=e,n=Or(),r=Yi(),i=f.useRef(null);return f.useLayoutEffect(()=>{r||(i.current===null?n(gbe(t)):i.current!==t&&n(ybe({prev:i.current,next:t})),i.current=t)},[n,r,t]),f.useLayoutEffect(()=>()=>{i.current&&(n(xbe(i.current)),i.current=null)},[n]),null}var _S,dCe=()=>{var[e]=f.useState(()=>Xg("uid-"));return e},hCe=(_S=Pw.useId)!==null&&_S!==void 0?_S:dCe;function fCe(e,t){var n=hCe();return t||(e?"".concat(e,"-").concat(n):n)}var mCe=f.createContext(void 0),AK=e=>{var{id:t,type:n,children:r}=e,i=fCe("recharts-".concat(n),t);return f.createElement(mCe.Provider,{value:i},r(i))},pCe={cartesianItems:[],polarItems:[]},zK=Ws({name:"graphicalItems",initialState:pCe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=So(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Zn()},removeCartesianGraphicalItem:{reducer(e,t){var n=So(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Zn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zn()},removePolarGraphicalItem:{reducer(e,t){var n=So(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Zn()}}}),{addCartesianGraphicalItem:gCe,replaceCartesianGraphicalItem:yCe,removeCartesianGraphicalItem:xCe,addPolarGraphicalItem:hWe,removePolarGraphicalItem:fWe}=zK.actions,vCe=zK.reducer,bCe=e=>{var t=Or(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(gCe(e)):n.current!==e&&t(yCe({prev:n.current,next:e})),n.current=e},[t,e]),f.useLayoutEffect(()=>()=>{n.current&&(t(xCe(n.current)),n.current=null)},[t]),null},DK=f.memo(bCe),_Ce=["points"];function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(r){wCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wCe(e,t,n){return(t=jCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jCe(e){var t=kCe(e,"string");return typeof t=="symbol"?t:t+""}function kCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}function SCe(e,t){if(e==null)return{};var n,r,i=NCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CCe(e){var{option:t,dotProps:n,className:r}=e;if(f.isValidElement(t))return f.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Sn(r,typeof t!="boolean"?t.className:""),s=n??{},{points:a}=s,l=SCe(s,_Ce);return f.createElement(wK,V0({},l,{className:i}))}function OCe(e,t){return e==null?!1:t?!0:e.length===1}function PCe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:u=di.scatter}=e;if(!OCe(t,n))return null;var d=NK(n),h=Tge(n),m=t.map((g,y)=>{var x,v,w=wS(wS(wS({r:3},a),h),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(v=g.y)!==null&&v!==void 0?v:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return f.createElement(CCe,{key:"dot-".concat(y),option:n,dotProps:w,className:i})}),p={};return l&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),f.createElement(no,{zIndex:u},f.createElement(fs,V0({className:r},p),m))}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){ECe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ECe(e,t,n){return(t=MCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MCe(e){var t=TCe(e,"string");return typeof t=="symbol"?t:t+""}function TCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RK=0,ACe={xAxis:{},yAxis:{},zAxis:{}},IK=Ws({name:"cartesianAxis",initialState:ACe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Zn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Zn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Zn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);e.yAxis[n]=O3(O3({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:zCe,replaceXAxis:DCe,removeXAxis:RCe,addYAxis:ICe,replaceYAxis:LCe,removeYAxis:$Ce,addZAxis:mWe,replaceZAxis:pWe,removeZAxis:gWe,updateYAxisWidth:FCe}=IK.actions,BCe=IK.reducer,qCe=we([mi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),WCe=we([qCe,zc,Dc],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),NT=()=>Rt(WCe),UCe=()=>Rt(Nke);function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(r){VCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VCe(e,t,n){return(t=HCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HCe(e){var t=KCe(e,"string");return typeof t=="symbol"?t:t+""}function KCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YCe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=jS(jS(jS({},l),dx(i)),eM(i)),u;return f.isValidElement(i)?u=f.cloneElement(i,c):typeof i=="function"?u=i(c):u=f.createElement(wK,c),f.createElement(fs,{className:"recharts-active-dot",clipPath:a},u)};function E3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=di.activeDot}=e,l=Rt(oh),c=UCe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return ur(u)?null:f.createElement(no,{zIndex:a},f.createElement(YCe,{point:u,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var M3=(e,t,n)=>{var r=n??e;if(!ur(r))return Po(r,t,0)},GCe=(e,t,n)=>{var r={},i=e.filter(l1),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(a).map(u=>{var[d,h]=u,m=h.map(g=>g.dataKey),p=M3(t,n,h[0].barSize);return{stackId:d,dataKeys:m,barSize:p}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=M3(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]};function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){QCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QCe(e,t,n){return(t=XCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XCe(e){var t=ZCe(e,"string");return typeof t=="symbol"?t:t+""}function ZCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JCe(e,t,n,r,i){var s=r.length;if(!(s<1)){var a=Po(e,n,0,!0),l,c=[];if(Rn(r[0].barSize)){var u=!1,d=n/s,h=r.reduce((v,w)=>v+(w.barSize||0),0);h+=(s-1)*a,h>=n&&(h-=(s-1)*a,a=0),h>=n&&d>0&&(u=!0,d*=.9,h=s*d);var m=(n-h)/2>>0,p={offset:m-a,size:0};l=r.reduce((v,w)=>{var b,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+a,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},_=[...v,j];return p=_[_.length-1].position,_},c)}else{var g=Po(t,n,0,!0);n-2*g-(s-1)*a<=0&&(a=0);var y=(n-2*g-(s-1)*a)/s;y>1&&(y>>=0);var x=Rn(i)?Math.min(y,i):y;l=r.reduce((v,w,b)=>[...v,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+a)*b+(y-x)/2,size:x}}],c)}return l}}var eOe=(e,t,n,r,i,s,a)=>{var l=ur(a)?t:a,c=JCe(n,r,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>qv(qv({},u),{},{position:qv(qv({},u.position),{},{offset:u.position.offset-i/2})}))),c},tOe=(e,t)=>{var n=o1(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}};function nOe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Rn(e.zIndex)?e.zIndex:t}var rOe=e=>{var{chartData:t}=e,n=Or(),r=Yi();return f.useEffect(()=>r?()=>{}:(n(Q4(t)),()=>{n(Q4(void 0))}),[t,n,r]),null},A3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LK=Ws({name:"brush",initialState:A3,reducers:{setBrushSettings(e,t){return t.payload==null?A3:t.payload}}}),{setBrushSettings:yWe}=LK.actions,iOe=LK.reducer;function sOe(e,t,n){return(t=aOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aOe(e){var t=oOe(e,"string");return typeof t=="symbol"?t:t+""}function oOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CT{static create(t){return new CT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}sOe(CT,"EPS",1e-4);function lOe(e){return(e%180+180)%180}var cOe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lOe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},uOe={dots:[],areas:[],lines:[]},$K=Ws({name:"referenceElements",initialState:uOe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=So(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=So(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=So(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xWe,removeDot:vWe,addArea:bWe,removeArea:_We,addLine:wWe,removeLine:jWe}=$K.actions,dOe=$K.reducer,hOe=f.createContext(void 0),fOe=e=>{var{children:t}=e,[n]=f.useState("".concat(Xg("recharts"),"-clip")),r=NT();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return f.createElement(hOe.Provider,{value:n},f.createElement("defs",null,f.createElement("clipPath",{id:n},f.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function FK(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function mOe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return cOe(r,n)}function pOe(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function dy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function gOe(e,t){return FK(e,t+1)}function yOe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:FK(r,u)};var y=c,x,v=()=>(x===void 0&&(x=n(g,y)),x),w=g.coordinate,b=c===0||dy(e,w,v,d,l);b||(c=0,d=a,u+=1),b&&(d=w+e*(v()/2+i),c+=u)},m;u<=s.length;)if(m=h(),m)return m.v;return[]}function xOe(e,t,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=t,u=1;u<=a;u++){for(var d=(a-1)%u,h=l,m=!0,p=function(){var w=r[g],b=g,j,_=()=>(j===void 0&&(j=n(w,b)),j),k=w.coordinate,C=g===d||dy(e,k,_,h,c);if(!C)return m=!1,1;C&&(h=k+e*(_()/2+i))},g=d;g<a&&!p();g+=u);if(m){for(var y=[],x=d;x<a;x+=u)y.push(r[x]);return y}}return[]}function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){vOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vOe(e,t,n){return(t=bOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bOe(e){var t=_Oe(e,"string");return typeof t=="symbol"?t:t+""}function _Oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wOe(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(m){var p=s[m],g,y=()=>(g===void 0&&(g=n(p,m)),g);if(m===a-1){var x=e*(p.coordinate+e*y()/2-c);s[m]=p=Bi(Bi({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else s[m]=p=Bi(Bi({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var v=dy(e,p.tickCoord,y,l,c);v&&(c=p.tickCoord-e*(y()/2+i),s[m]=Bi(Bi({},p),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function jOe(e,t,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=r[l-1],h=n(d,l-1),m=e*(d.coordinate+e*h/2-u);if(a[l-1]=d=Bi(Bi({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var p=dy(e,d.tickCoord,()=>h,c,u);p&&(u=d.tickCoord-e*(h/2+i),a[l-1]=Bi(Bi({},d),{},{isShow:!0}))}}for(var g=s?l-1:l,y=function(w){var b=a[w],j,_=()=>(j===void 0&&(j=n(b,w)),j);if(w===0){var k=e*(b.coordinate-e*_()/2-c);a[w]=b=Bi(Bi({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else a[w]=b=Bi(Bi({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var C=dy(e,b.tickCoord,_,c,u);C&&(c=b.tickCoord+e*(_()/2+i),a[w]=Bi(Bi({},b),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return a}function OT(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!r)return[];if(bt(c)||vx.isSsr){var m;return(m=gOe(i,bt(c)?c:0))!==null&&m!==void 0?m:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?mg(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(b,j)=>{var _=typeof u=="function"?u(b.value,j):b.value;return g==="width"?mOe(mg(_,{fontSize:t,letterSpacing:n}),y,h):mg(_,{fontSize:t,letterSpacing:n})[g]},v=i.length>=2?Ts(i[1].coordinate-i[0].coordinate):1,w=pOe(s,v,g);return c==="equidistantPreserveStart"?yOe(v,w,x,i,a):c==="equidistantPreserveEnd"?xOe(v,w,x,i,a):(c==="preserveStart"||c==="preserveStartEnd"?p=jOe(v,w,x,i,a,c==="preserveStartEnd"):p=wOe(v,w,x,i,a),p.filter(b=>b.isShow))}var kOe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(n?r:0);return Math.round(u)}return 0},SOe=["axisLine","width","height","className","hide","ticks","axisType"];function NOe(e,t){if(e==null)return{};var n,r,i=COe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function COe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}function D3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(n),!0).forEach(function(r){OOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OOe(e,t,n){return(t=POe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function POe(e){var t=EOe(e,"string");return typeof t=="symbol"?t:t+""}function EOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:di.axis};function MOe(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Tr(Tr(Tr({},c),Ka(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Tr(Tr({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Tr(Tr({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+i})}return f.createElement("line",lh({},u,{className:Sn("recharts-cartesian-axis-line",im(l,"className"))}))}function TOe(e,t,n,r,i,s,a,l,c){var u,d,h,m,p,g,y=l?-1:1,x=e.tickSize||a,v=bt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=n+ +!l*i,h=m-y*x,g=h-y*c,p=v;break;case"left":h=m=e.coordinate,d=t+ +!l*r,u=d-y*x,p=u-y*c,g=v;break;case"right":h=m=e.coordinate,d=t+ +l*r,u=d+y*x,p=u+y*c,g=v;break;default:u=d=e.coordinate,m=n+ +l*i,h=m+y*x,g=h+y*c,p=v;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:p,y:g}}}function AOe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zOe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function DOe(e){var{option:t,tickProps:n,value:r}=e,i,s=Sn(n.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))i=f.cloneElement(t,Tr(Tr({},n),{},{className:s}));else if(typeof t=="function")i=t(Tr(Tr({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Sn(a,t==null?void 0:t.className)),i=f.createElement(wT,lh({},n,{className:a}),r)}return i}var ROe=f.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:m,y:p,width:g,height:y,tickSize:x,tickMargin:v,fontSize:w,letterSpacing:b,getTicksConfig:j,events:_,axisType:k}=e,C=OT(Tr(Tr({},j),{},{ticks:n}),w,b),O=AOe(d,h),M=zOe(d,h),P=Ka(j),A=dx(r),R={};typeof i=="object"&&(R=i);var F=Tr(Tr({},P),{},{fill:"none"},R),V=C.map(W=>Tr({entry:W},TOe(W,m,p,g,y,d,x,h,v))),K=V.map(W=>{var{entry:z,line:T}=W;return f.createElement(fs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&f.createElement("line",lh({},F,T,{className:Sn("recharts-cartesian-axis-tick-line",im(i,"className"))})))}),L=V.map((W,z)=>{var{entry:T,tick:q}=W,Y=Tr(Tr(Tr(Tr({textAnchor:O,verticalAnchor:M},P),{},{stroke:"none",fill:s},A),q),{},{index:z,payload:T,visibleTicksCount:C.length,tickFormatter:a,padding:c},u);return f.createElement(fs,lh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},tM(_,T,z)),r&&f.createElement(DOe,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(T.value,z):T.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},L.length>0&&f.createElement(no,{zIndex:di.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},L)),K.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},K))}),IOe=f.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=e,u=NOe(e,SOe),[d,h]=f.useState(""),[m,p]=f.useState(""),g=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return kOe({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=f.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var w=v[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,_=b.letterSpacing;(j!==d||_!==m)&&(h(j),p(_))}}},[d,m]);return a||r!=null&&r<=0||i!=null&&i<=0?null:f.createElement(no,{zIndex:e.zIndex},f.createElement(fs,{className:Sn("recharts-cartesian-axis",s)},f.createElement(MOe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ka(e)}),f.createElement(ROe,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(jNe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(ANe,{label:e.label,labelRef:e.labelRef}),e.children)))}),PT=f.forwardRef((e,t)=>{var n=bs(e,dc);return f.createElement(IOe,lh({},n,{ref:t}))});PT.displayName="CartesianAxis";var LOe=["x1","y1","x2","y2","key"],$Oe=["offset"],FOe=["xAxisId","yAxisId"],BOe=["xAxisId","yAxisId"];function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(r){qOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qOe(e,t,n){return(t=WOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WOe(e){var t=UOe(e,"string");return typeof t=="symbol"?t:t+""}function UOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(null,arguments)}function H0(e,t){if(e==null)return{};var n,r,i=VOe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VOe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HOe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=e;return f.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BK(e){var{option:t,lineItemProps:n}=e,r;if(f.isValidElement(t))r=f.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:a,x2:l,y2:c,key:u}=n,d=H0(n,LOe),h=(i=Ka(d))!==null&&i!==void 0?i:{},{offset:m}=h,p=H0(h,$Oe);r=f.createElement("line",Ed({},p,{x1:s,y1:a,x2:l,y2:c,fill:"none",key:u}))}return r}function KOe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=H0(e,FOe),c=i.map((u,d)=>{var h=Ui(Ui({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return f.createElement(BK,{key:"line-".concat(d),option:r,lineItemProps:h})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function YOe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=H0(e,BOe),c=i.map((u,d)=>{var h=Ui(Ui({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return f.createElement(BK,{option:r,lineItemProps:h,key:"line-".concat(d)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function GOe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],g=p?i+a-h:u[m+1]-h;if(g<=0)return null;var y=m%t.length;return f.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:g,width:s,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function QOe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],g=p?i+a-h:u[m+1]-h;if(g<=0)return null;var y=m%n.length;return f.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XOe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return i7(OT(Ui(Ui(Ui({},dc),n),{},{ticks:s7(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},ZOe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return i7(OT(Ui(Ui(Ui({},dc),n),{},{ticks:s7(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},JOe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:di.grid};function qK(e){var t=g7(),n=y7(),r=p7(),i=Ui(Ui({},bs(e,JOe)),{},{x:bt(e.x)?e.x:r.left,y:bt(e.y)?e.y:r.top,width:bt(e.width)?e.width:r.width,height:bt(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:p}=i,g=Yi(),y=Rt(M=>$4(M,"xAxis",s,g)),x=Rt(M=>$4(M,"yAxis",a,g));if(!bl(u)||!bl(d)||!bt(l)||!bt(c))return null;var v=i.verticalCoordinatesGenerator||XOe,w=i.horizontalCoordinatesGenerator||ZOe,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof w=="function"){var _=m&&m.length,k=w({yAxis:x?Ui(Ui({},x),{},{ticks:_?m:x.ticks}):void 0,width:t??u,height:n??d,offset:r},_?!0:h);v0(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(b=k)}if((!j||!j.length)&&typeof v=="function"){var C=p&&p.length,O=v({xAxis:y?Ui(Ui({},y),{},{ticks:C?p:y.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:h);v0(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}return f.createElement(no,{zIndex:i.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(HOe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),f.createElement(GOe,Ed({},i,{horizontalPoints:b})),f.createElement(QOe,Ed({},i,{verticalPoints:j})),f.createElement(KOe,Ed({},i,{offset:r,horizontalPoints:b,xAxis:y,yAxis:x})),f.createElement(YOe,Ed({},i,{offset:r,verticalPoints:j,xAxis:y,yAxis:x}))))}qK.displayName="CartesianGrid";var e2e={},WK=Ws({name:"errorBars",initialState:e2e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:kWe,replaceErrorBar:SWe,removeErrorBar:NWe}=WK.actions,t2e=WK.reducer,n2e=["children"];function r2e(e,t){if(e==null)return{};var n,r,i=i2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var s2e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},a2e=f.createContext(s2e);function o2e(e){var{children:t}=e,n=r2e(e,n2e);return f.createElement(a2e.Provider,{value:n},t)}function ET(e,t){var n,r,i=Rt(u=>Lc(u,e)),s=Rt(u=>$c(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ni.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ri.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function UK(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=NT(),{needClipX:s,needClipY:a,needClip:l}=ET(t,n);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return f.createElement("clipPath",{id:"clipPath-".concat(r)},f.createElement("rect",{x:s?c:c-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function l2e(e){var t=dx(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var c2e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx=f;function u2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d2e=typeof Object.is=="function"?Object.is:u2e,h2e=Tx.useSyncExternalStore,f2e=Tx.useRef,m2e=Tx.useEffect,p2e=Tx.useMemo,g2e=Tx.useDebugValue;c2e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=f2e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=p2e(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,d2e(d,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=h2e(e,s[0],s[1]);return m2e(function(){a.hasValue=!0,a.value=l},[l]),g2e(l),l};function y2e(e){e()}function x2e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y2e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var I3={notify(){},get:()=>[]};function v2e(e,t){let n,r=I3,i=0,s=!1;function a(y){d();const x=r.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,n||(n=e.subscribe(c),r=x2e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=I3)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return g}var b2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_2e=b2e(),w2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",j2e=w2e(),k2e=()=>_2e||j2e?f.useLayoutEffect:f.useEffect,S2e=k2e();function L3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function N2e(e,t){if(L3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!L3(e[n[i]],t[n[i]]))return!1;return!0}var kS=Symbol.for("react-redux-context"),SS=typeof globalThis<"u"?globalThis:{};function C2e(){if(!f.createContext)return{};const e=SS[kS]??(SS[kS]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var O2e=C2e();function P2e(e){const{children:t,context:n,serverState:r,store:i}=e,s=f.useMemo(()=>{const c=v2e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=f.useMemo(()=>i.getState(),[i]);S2e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||O2e;return f.createElement(l.Provider,{value:s},t)}var E2e=P2e,M2e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function T2e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function N1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(M2e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!N2e(e[r],t[r]))return!1}else if(!T2e(e[r],t[r]))return!1;return!0}function Cl(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:RK}function Ol(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:RK}var VK=(e,t,n)=>Iu(e,"xAxis",Cl(e,t),n),HK=(e,t,n)=>Ru(e,"xAxis",Cl(e,t),n),KK=(e,t,n)=>Iu(e,"yAxis",Ol(e,t),n),YK=(e,t,n)=>Ru(e,"yAxis",Ol(e,t),n),A2e=we([jn,VK,KK,HK,YK],(e,t,n,r,i)=>Ac(e,"xAxis")?om(t,r,!1):om(n,i,!1)),z2e=(e,t)=>t,GK=we([d1,z2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),QK=e=>{var t=jn(e),n=Ac(t,"xAxis");return n?"yAxis":"xAxis"},D2e=(e,t)=>{var n=QK(e);return n==="yAxis"?Ol(e,t):Cl(e,t)},R2e=(e,t,n)=>$0(e,QK(e),D2e(e,t),n),I2e=we([GK,R2e],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=o1(e);if(!(r==null||i==null)){var s=(n=t[r])===null||n===void 0?void 0:n.stackedData,a=s==null?void 0:s.find(l=>l.key===i);if(a!=null)return a.map(l=>[l[0],l[1]])}}}),L2e=we([jn,VK,KK,HK,YK,I2e,bV,A2e,GK,Sje],(e,t,n,r,i,s,a,l,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=a;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:p}=c,g;if(p&&p.length>0?g=p:g=d==null?void 0:d.slice(h,m+1),g!=null)return rPe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:s,displayedData:g,chartBaseValue:u,bandSize:l})}}),$2e=["id"],F2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(null,arguments)}function XK(e,t){if(e==null)return{};var n,r,i=B2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(n),!0).forEach(function(r){q2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q2e(e,t,n){return(t=W2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2e(e){var t=U2e(e,"string");return typeof t=="symbol"?t:t+""}function U2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(e,t){return e&&e!=="none"?e:t}var V2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:K0(r,i),value:$j(n,t),payload:e}]},H2e=f.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:$j(a,t),hide:l,type:u,color:K0(r,s),unit:c,graphicalItemId:d}};return f.createElement(MK,{tooltipEntrySettings:h})});function K2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:a}=r,l=Ka(r);return f.createElement(PCe,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:t})}function Y2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _f(_f({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return f.createElement(vK,{value:t?i:void 0},n)}function F3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s}=e,{layout:a,type:l,stroke:c,connectNulls:u,isRange:d}=s,{id:h}=s,m=XK(s,$2e),p=Ka(m),g=hs(m);return f.createElement(f.Fragment,null,(t==null?void 0:t.length)>1&&f.createElement(fs,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},f.createElement(fg,Vd({},g,{id:h,points:t,connectNulls:u,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&f.createElement(fg,Vd({},p,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&f.createElement(fg,Vd({},p,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:n}))),f.createElement(K2e,{points:t,props:m,clipPathId:i}))}function G2e(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,l=(t=s[0])===null||t===void 0?void 0:t.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Rn(l)||!Rn(c))return null;var u=r*Math.abs(l-c),d=Math.max(...s.map(h=>h.x||0));return bt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),bt(d)?f.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Q2e(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,l=(t=s[0])===null||t===void 0?void 0:t.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Rn(l)||!Rn(c))return null;var u=r*Math.abs(l-c),d=Math.max(...s.map(h=>h.y||0));return bt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),bt(d)?f.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function X2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?f.createElement(G2e,{alpha:t,points:r,baseLine:i,strokeWidth:s}):f.createElement(Q2e,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function Z2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:a,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:p}=r,g=f.useMemo(()=>({points:a,baseLine:l}),[a,l]),y=Qj(g,"recharts-area-"),x=nbe(),[v,w]=f.useState(!1),b=!v,j=f.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),_=f.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);if(x==null)return null;var k=i.current,C=s.current;return f.createElement(Y2e,{showLabels:b,points:a},r.children,f.createElement(Gj,{animationId:y,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:_,key:y},O=>{if(k){var M=k.length/a.length,P=O===1?a:a.map((R,F)=>{var V=Math.floor(F*M);if(k[V]){var K=k[V];return _f(_f({},R),{},{x:lr(K.x,R.x,O),y:lr(K.y,R.y,O)})}return R}),A;return bt(l)?A=lr(C,l,O):ur(l)||Ya(l)?A=lr(C,0,O):A=l.map((R,F)=>{var V=Math.floor(F*M);if(Array.isArray(C)&&C[V]){var K=C[V];return _f(_f({},R),{},{x:lr(K.x,R.x,O),y:lr(K.y,R.y,O)})}return R}),O>0&&(i.current=P,s.current=A),f.createElement(F3,{points:P,baseLine:A,needClip:t,clipPathId:n,props:r})}return O>0&&(i.current=a,s.current=l),f.createElement(fs,null,c&&f.createElement("defs",null,f.createElement("clipPath",{id:"animationClipPath-".concat(n)},f.createElement(X2e,{alpha:O,points:a,baseLine:l,layout:x,strokeWidth:r.strokeWidth}))),f.createElement(fs,{clipPath:"url(#animationClipPath-".concat(n,")")},f.createElement(F3,{points:a,baseLine:l,needClip:t,clipPathId:n,props:r})))}),f.createElement(_K,{label:r.label}))}function J2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=f.useRef(null),s=f.useRef();return f.createElement(Z2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class ePe extends f.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:p,zIndex:g}=this.props;if(t)return null;var y=Sn("recharts-area",i),x=m,{r:v,strokeWidth:w}=l2e(n),b=NK(n),j=v*2+w,_=l?"url(#clipPath-".concat(b?"":"dots-").concat(x,")"):void 0;return f.createElement(no,{zIndex:g},f.createElement(fs,{className:y},l&&f.createElement("defs",null,f.createElement(UK,{clipPathId:x,xAxisId:c,yAxisId:u}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(x)},f.createElement("rect",{x:a-j/2,y:s-j/2,width:d+j,height:h+j}))),f.createElement(J2e,{needClip:l,clipPathId:x,props:this.props})),f.createElement(E3,{points:r,mainColor:K0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}),this.props.isRange&&Array.isArray(p)&&f.createElement(E3,{points:p,mainColor:K0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}))}}var ZK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:di.area};function tPe(e){var t,n=bs(e,ZK),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:p,stroke:g,xAxisId:y,yAxisId:x}=n,v=XK(n,F2e),w=jh(),b=GH(),{needClip:j}=ET(y,x),_=Yi(),{points:k,isRange:C,baseLine:O}=(t=Rt(V=>L2e(V,e.id,_)))!==null&&t!==void 0?t:{},M=NT();if(w!=="horizontal"&&w!=="vertical"||M==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:P,width:A,x:R,y:F}=M;return!k||!k.length?null:f.createElement(ePe,Vd({},v,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:O,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:h,layout:w,isAnimationActive:m==="auto"?!vx.isSsr:m,isRange:C,legendType:p,needClip:j,points:k,stroke:g,width:A,left:R,top:F,xAxisId:y,yAxisId:x}))}var nPe=(e,t,n,r,i)=>{var s=n??t;if(bt(s))return s;var a=e==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function rPe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:p}=e,g=i&&i.length,y=nPe(s,a,n,l,c),x=s==="horizontal",v=!1,w=u.map((j,_)=>{var k,C,O;if(g)O=i[d+_];else{var M=Dr(j,r);Array.isArray(M)?(O=M,v=!0):O=[y,M]}var P=(k=(C=O)===null||C===void 0?void 0:C[1])!==null&&k!==void 0?k:null,A=P==null||g&&!t&&Dr(j,r)==null;return x?{x:XR({axis:l,ticks:h,bandSize:p,entry:j,index:_}),y:A?null:c.scale(P),value:O,payload:j}:{x:A?null:l.scale(P),y:XR({axis:c,ticks:m,bandSize:p,entry:j,index:_}),value:O,payload:j}}),b;return g||v?b=w.map(j=>{var _=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:_!=null&&j.y!=null?c.scale(_):null,payload:j.payload}:{x:_!=null?l.scale(_):null,y:j.y,payload:j.payload}}):b=x?c.scale(y):l.scale(y),{points:w,baseLine:b,isRange:v}}function iPe(e){var t=bs(e,ZK),n=Yi();return f.createElement(AK,{id:t.id,type:"area"},r=>f.createElement(f.Fragment,null,f.createElement(TK,{legendPayload:V2e(t)}),f.createElement(H2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),f.createElement(DK,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:a7(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),f.createElement(tPe,Vd({},t,{id:r}))))}var JK=f.memo(iPe,N1);JK.displayName="Area";var sPe="Invariant failed";function aPe(e,t){throw new Error(sPe)}function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RO.apply(null,arguments)}function Y0(e){return f.createElement(uCe,RO({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var oPe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(bt(t))return t;var s=bt(r)||ur(r);return s?t(r,i):(s||aPe(),n)}},lPe=(e,t,n)=>n,cPe=(e,t)=>t,Ax=we([d1,cPe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),uPe=we([Ax],e=>e==null?void 0:e.maxBarSize),dPe=(e,t,n,r)=>r,hPe=we([jn,d1,Cl,Ol,lPe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),fPe=(e,t,n)=>{var r=jn(e),i=Cl(e,t),s=Ol(e,t);if(!(i==null||s==null))return r==="horizontal"?$0(e,"yAxis",s,n):$0(e,"xAxis",i,n)},mPe=(e,t)=>{var n=jn(e),r=Cl(e,t),i=Ol(e,t);if(!(r==null||i==null))return n==="horizontal"?L4(e,"xAxis",r):L4(e,"yAxis",i)},pPe=we([hPe,kje,mPe],GCe),gPe=(e,t,n)=>{var r,i,s=Ax(e,t);if(s!=null){var a=Cl(e,t),l=Ol(e,t);if(!(a==null||l==null)){var c=jn(e),u=DV(e),{maxBarSize:d}=s,h=ur(d)?u:d,m,p;return c==="horizontal"?(m=Iu(e,"xAxis",a,n),p=Ru(e,"xAxis",a,n)):(m=Iu(e,"yAxis",l,n),p=Ru(e,"yAxis",l,n)),(r=(i=om(m,p,!0))!==null&&i!==void 0?i:h)!==null&&r!==void 0?r:0}}},eY=(e,t,n)=>{var r=jn(e),i=Cl(e,t),s=Ol(e,t);if(!(i==null||s==null)){var a,l;return r==="horizontal"?(a=Iu(e,"xAxis",i,n),l=Ru(e,"xAxis",i,n)):(a=Iu(e,"yAxis",s,n),l=Ru(e,"yAxis",s,n)),om(a,l)}},yPe=we([pPe,DV,jje,RV,gPe,eY,uPe],eOe),xPe=(e,t,n)=>{var r=Cl(e,t);if(r!=null)return Iu(e,"xAxis",r,n)},vPe=(e,t,n)=>{var r=Ol(e,t);if(r!=null)return Iu(e,"yAxis",r,n)},bPe=(e,t,n)=>{var r=Cl(e,t);if(r!=null)return Ru(e,"xAxis",r,n)},_Pe=(e,t,n)=>{var r=Ol(e,t);if(r!=null)return Ru(e,"yAxis",r,n)},wPe=we([yPe,Ax],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),jPe=we([fPe,Ax],tOe),kPe=we([mi,wM,xPe,vPe,bPe,_Pe,wPe,jn,bV,eY,jPe,Ax,dPe],(e,t,n,r,i,s,a,l,c,u,d,h,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=c;if(!(h==null||a==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:x}=h,v;if(x!=null&&x.length>0?v=x:v=p==null?void 0:p.slice(g,y+1),v!=null)return JPe({layout:l,barSettings:h,pos:a,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:v,offset:e,cells:m,dataStartIndex:g})}}),SPe=["index"];function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(null,arguments)}function NPe(e,t){if(e==null)return{};var n,r,i=CPe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tY=f.createContext(void 0),OPe=e=>{var t=f.useContext(tY);if(t!=null)return t.stackId;if(e!=null)return a7(e)},PPe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),EPe=e=>{var t=f.useContext(tY);if(t!=null){var{stackId:n}=t;return"url(#".concat(PPe(n,e),")")}},MPe=e=>{var{index:t}=e,n=NPe(e,SPe),r=EPe(t);return f.createElement(fs,IO({className:"recharts-bar-stack-layer",clipPath:r},n))},TPe=["onMouseEnter","onMouseLeave","onClick"],APe=["value","background","tooltipPosition"],zPe=["id"],DPe=["onMouseEnter","onClick","onMouseLeave"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}function B3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(n),!0).forEach(function(r){RPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RPe(e,t,n){return(t=IPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IPe(e){var t=LPe(e,"string");return typeof t=="symbol"?t:t+""}function LPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G0(e,t){if(e==null)return{};var n,r,i=$Pe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Pe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FPe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:$j(n,t),payload:e}]},BPe=f.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:$j(s,t),hide:a,type:c,color:i,unit:l,graphicalItemId:u}};return f.createElement(MK,{tooltipEntrySettings:d})});function qPe(e){var t=Rt(oh),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=G0(s,TPe),d=OK(a,r,s.id),h=PK(l),m=EK(c,r,s.id);if(!i||n==null)return null;var p=dx(i);return f.createElement(no,{zIndex:nOe(i,di.barBackground)},n.map((g,y)=>{var{value:x,background:v,tooltipPosition:w}=g,b=G0(g,APe);if(!v)return null;var j=d(g,y),_=h(g,y),k=m(g,y),C=rs(rs(rs(rs(rs({option:i,isActive:String(y)===t},b),{},{fill:"#eee"},v),p),tM(u,g,y)),{},{onMouseEnter:j,onMouseLeave:_,onClick:k,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return f.createElement(Y0,Sc({key:"background-bar-".concat(y)},C))}))}function WPe(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return rs(rs({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return f.createElement(vK,{value:t?i:void 0},n)}function UPe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=e,l=Rt(oh),c=Rt(HH),u=n&&String(s)===l&&(c==null||a===c),d=u?n:t;return u?f.createElement(no,{zIndex:di.activeBar},f.createElement(Y0,Sc({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):f.createElement(Y0,Sc({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function VPe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return f.createElement(Y0,Sc({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function HPe(e){var t,{data:n,props:r}=e,i=(t=Ka(r))!==null&&t!==void 0?t:{},{id:s}=i,a=G0(i,zPe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:m}=r,p=G0(r,DPe),g=OK(d,c,s),y=PK(m),x=EK(h,c,s);return n?f.createElement(f.Fragment,null,n.map((v,w)=>f.createElement(MPe,Sc({index:w,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(w),className:"recharts-bar-rectangle"},tM(p,v,w),{onMouseEnter:g(v,w),onMouseLeave:y(v,w),onClick:x(v,w)}),u?f.createElement(UPe,{shape:l,activeBar:u,baseProps:a,entry:v,index:w,dataKey:c}):f.createElement(VPe,{shape:l,baseProps:a,entry:v,index:w,dataKey:c})))):null}function KPe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,m=Qj(t,"recharts-bar-"),[p,g]=f.useState(!1),y=!p,x=f.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=f.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return f.createElement(WPe,{showLabels:y,rects:r},f.createElement(Gj,{animationId:m,begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:v,key:m},w=>{var b=w===1?r:r==null?void 0:r.map((j,_)=>{var k=h&&h[_];if(k)return rs(rs({},j),{},{x:lr(k.x,j.x,w),y:lr(k.y,j.y,w),width:lr(k.width,j.width,w),height:lr(k.height,j.height,w)});if(i==="horizontal"){var C=lr(0,j.height,w),O=lr(j.stackedBarStart,j.y,w);return rs(rs({},j),{},{y:O,height:C})}var M=lr(0,j.width,w),P=lr(j.stackedBarStart,j.x,w);return rs(rs({},j),{},{width:M,x:P})});return w>0&&(n.current=b??null),b==null?null:f.createElement(fs,null,f.createElement(HPe,{props:t,data:b}))}),f.createElement(_K,{label:t.label}),t.children)}function YPe(e){var t=f.useRef(null);return f.createElement(KPe,{previousRectanglesRef:t,props:e})}var nY=0,GPe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Dr(e,t)}};class QPe extends f.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=Sn("recharts-bar",i),h=u;return f.createElement(fs,{className:d,id:u},l&&f.createElement("defs",null,f.createElement(UK,{clipPathId:h,xAxisId:s,yAxisId:a})),f.createElement(fs,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},f.createElement(qPe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),f.createElement(YPe,this.props)))}}var XPe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nY,xAxisId:0,yAxisId:0,zIndex:di.bar};function ZPe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=ET(t,n),m=jh(),p=Yi(),g=KNe(e.children,iK),y=Rt(w=>kPe(w,e.id,p,g));if(m!=="vertical"&&m!=="horizontal")return null;var x,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?x=0:x=m==="vertical"?v.height/2:v.width/2,f.createElement(o2e,{xAxisId:t,yAxisId:n,data:y,dataPointFormatter:GPe,errorBarOffset:x},f.createElement(QPe,Sc({},e,{layout:m,needClip:h,data:y,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function JPe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:p,parentViewBox:g,dataStartIndex:y}=e,x=t==="horizontal"?l:a,v=d?x.scale.domain():null,w=wve({numericAxis:x}),b=x.scale(w);return h.map((j,_)=>{var k,C,O,M,P,A;if(d){var R=d[_+y];if(R==null)return null;k=yve(R,v)}else k=Dr(j,n),Array.isArray(k)||(k=[w,k]);var F=oPe(r,nY)(k[1],_);if(t==="horizontal"){var V,[K,L]=[l.scale(k[0]),l.scale(k[1])];C=ZR({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:j,index:_}),O=(V=L??K)!==null&&V!==void 0?V:void 0,M=i.size;var W=K-L;if(P=Ya(W)?0:W,A={x:C,y:m.top,width:M,height:m.height},Math.abs(F)>0&&Math.abs(P)<Math.abs(F)){var z=Ts(P||F)*(Math.abs(F)-Math.abs(P));O-=z,P+=z}}else{var[T,q]=[a.scale(k[0]),a.scale(k[1])];if(C=T,O=ZR({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:j,index:_}),M=q-T,P=i.size,A={x:m.left,y:O,width:m.width,height:P},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var Y=Ts(M||F)*(Math.abs(F)-Math.abs(M));M+=Y}}if(C==null||O==null||M==null||P==null)return null;var ee=rs(rs({},j),{},{stackedBarStart:b,x:C,y:O,width:M,height:P,value:d?k:k[1],payload:j,background:A,tooltipPosition:{x:C+M/2,y:O+P/2},parentViewBox:g},p&&p[_]&&p[_].props);return ee}).filter(Boolean)}function eEe(e){var t=bs(e,XPe),n=OPe(t.stackId),r=Yi();return f.createElement(AK,{id:t.id,type:"bar"},i=>f.createElement(f.Fragment,null,f.createElement(TK,{legendPayload:FPe(t)}),f.createElement(BPe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),f.createElement(DK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(no,{zIndex:t.zIndex},f.createElement(ZPe,Sc({},t,{id:i})))))}var rY=f.memo(eEe,N1);rY.displayName="Bar";var tEe=["domain","range"],nEe=["domain","range"];function q3(e,t){if(e==null)return{};var n,r,i=rEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function iY(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=q3(e,tEe),{domain:s,range:a}=t,l=q3(t,nEe);return!W3(n,s)||!W3(r,a)?!1:N1(i,l)}var iEe=["dangerouslySetInnerHTML","ticks","scale"],sEe=["id","scale"];function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LO.apply(null,arguments)}function U3(e,t){if(e==null)return{};var n,r,i=aEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oEe(e){var t=Or(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(zCe(e)):n.current!==e&&t(DCe({prev:n.current,next:e})),n.current=e},[e,t]),f.useLayoutEffect(()=>()=>{n.current&&(t(RCe(n.current)),n.current=null)},[t]),null}var lEe=e=>{var{xAxisId:t,className:n}=e,r=Rt(wM),i=Yi(),s="xAxis",a=Rt(v=>NH(v,s,t,i)),l=Rt(v=>wH(v,t)),c=Rt(v=>w1e(v,t)),u=Rt(v=>VV(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:m}=e,p=U3(e,iEe),{id:g,scale:y}=u,x=U3(u,sEe);return f.createElement(PT,LO({},p,x,{x:c.x,y:c.y,width:l.width,height:l.height,className:Sn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},cEe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,angle:ni.angle,axisLine:dc.axisLine,height:ni.height,hide:!1,includeHidden:ni.includeHidden,interval:ni.interval,minTickGap:ni.minTickGap,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,tickLine:dc.tickLine,tickSize:dc.tickSize,type:ni.type,xAxisId:0},uEe=e=>{var t=bs(e,cEe);return f.createElement(f.Fragment,null,f.createElement(oEe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(lEe,t))},sY=f.memo(uEe,iY);sY.displayName="XAxis";var dEe=["dangerouslySetInnerHTML","ticks","scale"],hEe=["id","scale"];function $O(){return $O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$O.apply(null,arguments)}function V3(e,t){if(e==null)return{};var n,r,i=fEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mEe(e){var t=Or(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(ICe(e)):n.current!==e&&t(LCe({prev:n.current,next:e})),n.current=e},[e,t]),f.useLayoutEffect(()=>()=>{n.current&&(t($Ce(n.current)),n.current=null)},[t]),null}var pEe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=f.useRef(null),a=f.useRef(null),l=Rt(wM),c=Yi(),u=Or(),d="yAxis",h=Rt(k=>jH(k,t)),m=Rt(k=>k1e(k,t)),p=Rt(k=>NH(k,d,t,c)),g=Rt(k=>HV(k,t));if(f.useLayoutEffect(()=>{if(!(r!=="auto"||!h||jT(i)||f.isValidElement(i)||g==null)){var k=s.current;if(k){var C=k.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&u(FCe({id:t,width:C}))}}},[p,h,u,i,t,r,g]),h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:v}=e,w=V3(e,dEe),{id:b,scale:j}=g,_=V3(g,hEe);return f.createElement(PT,$O({},w,_,{ref:s,labelRef:a,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Sn("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:p,axisType:d}))},gEe={allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,angle:ri.angle,axisLine:dc.axisLine,hide:!1,includeHidden:ri.includeHidden,interval:ri.interval,minTickGap:ri.minTickGap,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,tickLine:dc.tickLine,tickSize:dc.tickSize,type:ri.type,width:ri.width,yAxisId:0},yEe=e=>{var t=bs(e,gEe);return f.createElement(f.Fragment,null,f.createElement(mEe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(pEe,t))},aY=f.memo(yEe,iY);aY.displayName="YAxis";var xEe=(e,t)=>t,MT=we([xEe,jn,WV,Qr,qH,Fc,Lke,mi],Vke),TT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},oY=Ga("mouseClick"),lY=gx();lY.startListening({actionCreator:oY,effect:(e,t)=>{var n=e.payload,r=MT(t.getState(),TT(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(L1e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var FO=Ga("mouseMove"),cY=gx(),Wv=null;cY.startListening({actionCreator:FO,effect:(e,t)=>{var n=e.payload;Wv!==null&&cancelAnimationFrame(Wv);var r=TT(n);Wv=requestAnimationFrame(()=>{var i=t.getState(),s=hT(i,i.tooltip.settings.shared);if(s==="axis"){var a=MT(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(zH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(AH())}Wv=null})}});function vEe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var H3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uY=Ws({name:"rootProps",initialState:H3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:H3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),bEe=uY.reducer,{updateOptions:_Ee}=uY.actions,dY=Ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:CWe}=dY.actions,wEe=dY.reducer,hY=Ga("keyDown"),fY=Ga("focus"),AT=gx();AT.startListening({actionCreator:hY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=fT(i,Km(n),Nx(n),Ex(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Fc(n);if(s==="Enter"){var u=B0(n,"axis","hover",String(i.index));t.dispatch(EO({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=O1e(n),h=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,p=l+m*h;if(!(c==null||p>=c.length||p<0)){var g=B0(n,"axis","hover",String(p));t.dispatch(EO({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});AT.startListening({actionCreator:fY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=B0(n,"axis","hover",String(s));t.dispatch(EO({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Oa=Ga("externalEvent"),mY=gx(),NS=new Map;mY.startListening({actionCreator:Oa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=NS.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:jke(l),activeDataKey:HH(l),activeIndex:oh(l),activeLabel:VH(l),activeTooltipIndex:oh(l),isTooltipActive:kke(l)};n(c,r)}finally{NS.delete(i)}});NS.set(i,a)}}});var jEe=we([Vm],e=>e.tooltipItemPayloads),kEe=we([jEe,Px,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),pY=Ga("touchMove"),gY=gx();gY.startListening({actionCreator:pY,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hT(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=MT(r,TT({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(zH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Pve),h=(l=u.getAttribute(Eve))!==null&&l!==void 0?l:void 0,m=Hm(r).find(y=>y.id===h);if(d==null||m==null||h==null)return;var{dataKey:p}=m,g=kEe(r,d,h);t.dispatch(TH({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var SEe=P9({brush:iOe,cartesianAxis:BCe,chartData:wSe,errorBars:t2e,graphicalItems:vCe,layout:dve,legend:vbe,options:ySe,polarAxis:WNe,polarOptions:wEe,referenceElements:dOe,rootProps:bEe,tooltip:$1e,zIndex:sSe}),NEe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Rxe({reducer:SEe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([lY.middleware,cY.middleware,AT.middleware,mY.middleware,gY.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(U9({type:"raf"}))},devTools:{serialize:{replacer:vEe},name:"recharts-".concat(n)}})};function CEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Yi(),s=f.useRef(null);if(i)return n;s.current==null&&(s.current=NEe(t,r));var a=dM;return f.createElement(E2e,{context:a,store:s.current},n)}function OEe(e){var{layout:t,margin:n}=e,r=Or(),i=Yi();return f.useEffect(()=>{i||(r(lve(t)),r(ove(n)))},[r,i,t,n]),null}var PEe=f.memo(OEe,N1);function EEe(e){var t=Or();return f.useEffect(()=>{t(_Ee(e))},[t,e]),null}function K3(e){var{zIndex:t,isPanorama:n}=e,r=f.useRef(null),i=Or();return f.useLayoutEffect(()=>(r.current&&i(rSe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(iSe({zIndex:t,isPanorama:n}))}),[i,t,n]),f.createElement("g",{tabIndex:-1,ref:r})}function Y3(e){var{children:t,isPanorama:n}=e,r=Rt(Kke);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return f.createElement(f.Fragment,null,i.map(a=>f.createElement(K3,{key:a,zIndex:a,isPanorama:n})),t,s.map(a=>f.createElement(K3,{key:a,zIndex:a,isPanorama:n})))}var MEe=["children"];function TEe(e,t){if(e==null)return{};var n,r,i=AEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}var zEe={width:"100%",height:"100%",display:"block"},DEe=f.forwardRef((e,t)=>{var n=g7(),r=y7(),i=S7();if(!bl(n)||!bl(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),f.createElement(TU,Q0({},a,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:zEe,ref:t}),s)}),REe=e=>{var{children:t}=e,n=Rt(Wj);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return f.createElement(TU,{width:r,height:i,x:a,y:s},t)},G3=f.forwardRef((e,t)=>{var{children:n}=e,r=TEe(e,MEe),i=Yi();return i?f.createElement(REe,null,f.createElement(Y3,{isPanorama:!0},n)):f.createElement(DEe,Q0({ref:t},r),f.createElement(Y3,{isPanorama:!1},n))});function IEe(){var e=Or(),[t,n]=f.useState(null),r=Rt(Ove);return f.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Rn(s)&&s!==r&&e(uve(s))}},[t,e,r]),n}function Q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(n),!0).forEach(function(r){$Ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ee(e,t,n){return(t=FEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FEe(e){var t=BEe(e,"string");return typeof t=="symbol"?t:t+""}function BEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(null,arguments)}var qEe=()=>(MSe(),null);function X0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WEe=f.forwardRef((e,t)=>{var n,r,i=f.useRef(null),[s,a]=f.useState({containerWidth:X0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:X0((r=e.style)===null||r===void 0?void 0:r.height)}),l=f.useCallback((u,d)=>{a(h=>{var m=Math.round(u),p=Math.round(d);return h.containerWidth===m&&h.containerHeight===p?h:{containerWidth:m,containerHeight:p}})},[]),c=f.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var m=g=>{var{width:y,height:x}=g[0].contentRect;l(y,x)},p=new ResizeObserver(m);p.observe(u),i.current=p}},[t,l]);return f.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(Vj,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",ch({ref:c},e)))}),UEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=f.useState({containerWidth:X0(n),containerHeight:X0(r)}),a=f.useCallback((c,u)=>{s(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[t,a]);return f.createElement(f.Fragment,null,f.createElement(Vj,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",ch({ref:l},e)))}),VEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e;return f.createElement(f.Fragment,null,f.createElement(Vj,{width:n,height:r}),f.createElement("div",ch({ref:t},e)))}),HEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e;return vc(n)||vc(r)?f.createElement(UEe,ch({},e,{ref:t})):f.createElement(VEe,ch({},e,{ref:t}))});function KEe(e){return e===!0?WEe:HEe}var YEe=f.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:x,width:v,responsive:w,dispatchTouchEvents:b=!0}=e,j=f.useRef(null),_=Or(),[k,C]=f.useState(null),[O,M]=f.useState(null),P=IEe(),A=jM(),R=(A==null?void 0:A.width)>0?A.width:v,F=(A==null?void 0:A.height)>0?A.height:i,V=f.useCallback(ie=>{P(ie),typeof t=="function"&&t(ie),C(ie),M(ie),ie!=null&&(j.current=ie)},[P,t,C,M]),K=f.useCallback(ie=>{_(oY(ie)),_(Oa({handler:s,reactEvent:ie}))},[_,s]),L=f.useCallback(ie=>{_(FO(ie)),_(Oa({handler:u,reactEvent:ie}))},[_,u]),W=f.useCallback(ie=>{_(AH()),_(Oa({handler:d,reactEvent:ie}))},[_,d]),z=f.useCallback(ie=>{_(FO(ie)),_(Oa({handler:h,reactEvent:ie}))},[_,h]),T=f.useCallback(()=>{_(fY())},[_]),q=f.useCallback(ie=>{_(hY(ie.key))},[_]),Y=f.useCallback(ie=>{_(Oa({handler:a,reactEvent:ie}))},[_,a]),ee=f.useCallback(ie=>{_(Oa({handler:l,reactEvent:ie}))},[_,l]),pe=f.useCallback(ie=>{_(Oa({handler:c,reactEvent:ie}))},[_,c]),se=f.useCallback(ie=>{_(Oa({handler:m,reactEvent:ie}))},[_,m]),he=f.useCallback(ie=>{_(Oa({handler:y,reactEvent:ie}))},[_,y]),Pe=f.useCallback(ie=>{b&&_(pY(ie)),_(Oa({handler:g,reactEvent:ie}))},[_,b,g]),J=f.useCallback(ie=>{_(Oa({handler:p,reactEvent:ie}))},[_,p]),Re=KEe(w);return f.createElement(eK.Provider,{value:k},f.createElement($ge.Provider,{value:O},f.createElement(Re,{width:R??(x==null?void 0:x.width),height:F??(x==null?void 0:x.height),className:Sn("recharts-wrapper",r),style:LEe({position:"relative",cursor:"default",width:R,height:F},x),onClick:K,onContextMenu:Y,onDoubleClick:ee,onFocus:T,onKeyDown:q,onMouseDown:pe,onMouseEnter:L,onMouseLeave:W,onMouseMove:z,onMouseUp:se,onTouchEnd:J,onTouchMove:Pe,onTouchStart:he,ref:V},f.createElement(qEe,null),n)))}),GEe=["width","height","responsive","children","className","style","compact","title","desc"];function QEe(e,t){if(e==null)return{};var n,r,i=XEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZEe=f.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:u,desc:d}=e,h=QEe(e,GEe),m=Ka(h);return c?f.createElement(f.Fragment,null,f.createElement(Vj,{width:n,height:r}),f.createElement(G3,{otherAttributes:m,title:u,desc:d},s)):f.createElement(YEe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(G3,{otherAttributes:m,title:u,desc:d,ref:t},f.createElement(fOe,null,s)))});function BO(){return BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(null,arguments)}var JEe={top:5,right:5,bottom:5,left:5},eMe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:JEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tMe=f.forwardRef(function(t,n){var r,i=bs(t.categoricalChartProps,eMe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return f.createElement(CEe,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},f.createElement(rOe,{chartData:u.data}),f.createElement(PEe,{layout:i.layout,margin:i.margin}),f.createElement(EEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),f.createElement(ZEe,BO({},i,{ref:n})))}),nMe=["axis"],rMe=f.forwardRef((e,t)=>f.createElement(tMe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nMe,tooltipPayloadSearcher:pSe,categoricalChartProps:e,ref:t}));function yY(e){const t=iMe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(aMe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function iMe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=lMe(i),l=oMe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sMe=Symbol("radix.slottable");function aMe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sMe}function oMe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function lMe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_a=cMe.reduce((e,t)=>{const n=yY(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zT(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function uMe(e){const t=dMe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(fMe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function dMe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=pMe(i),l=mMe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hMe=Symbol("radix.slottable");function fMe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hMe}function mMe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function pMe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yMe=gMe.reduce((e,t)=>{const n=uMe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),xY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xMe="VisuallyHidden",vMe=f.forwardRef((e,t)=>o.jsx(yMe.span,{...e,ref:t,style:{...xY,...e.style}}));vMe.displayName=xMe;var bMe=[" ","Enter","ArrowUp","ArrowDown"],_Me=[" ","Enter"],uh="Select",[C1,O1,wMe]=yE(uh),[Ym]=ba(uh,[wMe,$m]),P1=$m(),[jMe,Qu]=Ym(uh),[kMe,SMe]=Ym(uh),vY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:g}=e,y=P1(t),[x,v]=f.useState(null),[w,b]=f.useState(null),[j,_]=f.useState(!1),k=Jy(u),[C,O]=yl({prop:r,defaultProp:i??!1,onChange:s,caller:uh}),[M,P]=yl({prop:a,defaultProp:l,onChange:c,caller:uh}),A=f.useRef(null),R=x?g||!!x.closest("form"):!0,[F,V]=f.useState(new Set),K=Array.from(F).map(L=>L.props.value).join(";");return o.jsx(CE,{...y,children:o.jsxs(jMe,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:$a(),value:M,onValueChange:P,open:C,onOpenChange:O,dir:k,triggerPointerDownPosRef:A,disabled:m,children:[o.jsx(C1.Provider,{scope:t,children:o.jsx(kMe,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(L=>{V(W=>new Set(W).add(L))},[]),onNativeOptionRemove:f.useCallback(L=>{V(W=>{const z=new Set(W);return z.delete(L),z})},[]),children:n})}),R?o.jsxs(WY,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:L=>P(L.target.value),disabled:m,form:g,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};vY.displayName=uh;var bY="SelectTrigger",_Y=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=P1(n),a=Qu(bY,n),l=a.disabled||r,c=en(t,a.onTriggerChange),u=O1(n),d=f.useRef("touch"),[h,m,p]=VY(y=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===a.value),w=HY(x,y,v);w!==void 0&&a.onValueChange(w.value)}),g=y=>{l||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(uj,{asChild:!0,...s,children:o.jsx(_a.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UY(a.value)?"":void 0,...i,ref:c,onClick:dt(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:dt(i.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:dt(i.onKeyDown,y=>{const x=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&bMe.includes(y.key)&&(g(),y.preventDefault())})})})});_Y.displayName=bY;var wY="SelectValue",jY=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=e,c=Qu(wY,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=en(t,c.onValueNodeChange);return fi(()=>{u(d)},[u,d]),o.jsx(_a.span,{...l,ref:h,style:{pointerEvents:"none"},children:UY(c.value)?o.jsx(o.Fragment,{children:a}):s})});jY.displayName=wY;var NMe="SelectIcon",kY=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(_a.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});kY.displayName=NMe;var CMe="SelectPortal",SY=e=>o.jsx(rx,{asChild:!0,...e});SY.displayName=CMe;var dh="SelectContent",NY=f.forwardRef((e,t)=>{const n=Qu(dh,e.__scopeSelect),[r,i]=f.useState();if(fi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Mc.createPortal(o.jsx(CY,{scope:e.__scopeSelect,children:o.jsx(C1.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(OY,{...e,ref:t})});NY.displayName=dh;var uo=10,[CY,Xu]=Ym(dh),OMe="SelectContentImpl",PMe=yY("SelectContent.RemoveScroll"),OY=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x,...v}=e,w=Qu(dh,n),[b,j]=f.useState(null),[_,k]=f.useState(null),C=en(t,J=>j(J)),[O,M]=f.useState(null),[P,A]=f.useState(null),R=O1(n),[F,V]=f.useState(!1),K=f.useRef(!1);f.useEffect(()=>{if(b)return hj(b)},[b]),sj();const L=f.useCallback(J=>{const[Re,...ie]=R().map(fe=>fe.ref.current),[Ee]=ie.slice(-1),Te=document.activeElement;for(const fe of J)if(fe===Te||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Re&&_&&(_.scrollTop=0),fe===Ee&&_&&(_.scrollTop=_.scrollHeight),fe==null||fe.focus(),document.activeElement!==Te))return},[R,_]),W=f.useCallback(()=>L([O,b]),[L,O,b]);f.useEffect(()=>{F&&W()},[F,W]);const{onOpenChange:z,triggerPointerDownPosRef:T}=w;f.useEffect(()=>{if(b){let J={x:0,y:0};const Re=Ee=>{var Te,fe;J={x:Math.abs(Math.round(Ee.pageX)-(((Te=T.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((fe=T.current)==null?void 0:fe.y)??0))}},ie=Ee=>{J.x<=10&&J.y<=10?Ee.preventDefault():b.contains(Ee.target)||z(!1),document.removeEventListener("pointermove",Re),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,z,T]),f.useEffect(()=>{const J=()=>z(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[z]);const[q,Y]=VY(J=>{const Re=R().filter(Te=>!Te.disabled),ie=Re.find(Te=>Te.ref.current===document.activeElement),Ee=HY(Re,J,ie);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ee=f.useCallback((J,Re,ie)=>{const Ee=!K.current&&!ie;(w.value!==void 0&&w.value===Re||Ee)&&(M(J),Ee&&(K.current=!0))},[w.value]),pe=f.useCallback(()=>b==null?void 0:b.focus(),[b]),se=f.useCallback((J,Re,ie)=>{const Ee=!K.current&&!ie;(w.value!==void 0&&w.value===Re||Ee)&&A(J)},[w.value]),he=r==="popper"?qO:PY,Pe=he===qO?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return o.jsx(CY,{scope:n,content:b,viewport:_,onViewportChange:k,itemRefCallback:ee,selectedItem:O,onItemLeave:pe,itemTextRefCallback:se,focusSelectedItem:W,selectedItemText:P,position:r,isPositioned:F,searchRef:q,children:o.jsx(ax,{as:PMe,allowPinchZoom:!0,children:o.jsx(tx,{asChild:!0,trapped:w.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:dt(i,J=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(ex,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(he,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:J=>J.preventDefault(),...v,...Pe,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:dt(v.onKeyDown,J=>{const Re=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Re&&J.key.length===1&&Y(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ee=R().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Te=J.target,fe=Ee.indexOf(Te);Ee=Ee.slice(fe+1)}setTimeout(()=>L(Ee)),J.preventDefault()}})})})})})})});OY.displayName=OMe;var EMe="SelectItemAlignedPosition",PY=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Qu(dh,n),a=Xu(dh,n),[l,c]=f.useState(null),[u,d]=f.useState(null),h=en(t,C=>d(C)),m=O1(n),p=f.useRef(!1),g=f.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:v,focusSelectedItem:w}=a,b=f.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&x&&v){const C=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(s.dir!=="rtl"){const Te=P.left-O.left,fe=M.left-Te,X=C.left-fe,ke=C.width+X,Q=Math.max(ke,O.width),Se=window.innerWidth-uo,re=WC(fe,[uo,Math.max(uo,Se-Q)]);l.style.minWidth=ke+"px",l.style.left=re+"px"}else{const Te=O.right-P.right,fe=window.innerWidth-M.right-Te,X=window.innerWidth-C.right-fe,ke=C.width+X,Q=Math.max(ke,O.width),Se=window.innerWidth-uo,re=WC(fe,[uo,Math.max(uo,Se-Q)]);l.style.minWidth=ke+"px",l.style.right=re+"px"}const A=m(),R=window.innerHeight-uo*2,F=y.scrollHeight,V=window.getComputedStyle(u),K=parseInt(V.borderTopWidth,10),L=parseInt(V.paddingTop,10),W=parseInt(V.borderBottomWidth,10),z=parseInt(V.paddingBottom,10),T=K+L+F+z+W,q=Math.min(x.offsetHeight*5,T),Y=window.getComputedStyle(y),ee=parseInt(Y.paddingTop,10),pe=parseInt(Y.paddingBottom,10),se=C.top+C.height/2-uo,he=R-se,Pe=x.offsetHeight/2,J=x.offsetTop+Pe,Re=K+L+J,ie=T-Re;if(Re<=se){const Te=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-y.offsetTop-y.offsetHeight,X=Math.max(he,Pe+(Te?pe:0)+fe+W),ke=Re+X;l.style.height=ke+"px"}else{const Te=A.length>0&&x===A[0].ref.current;l.style.top="0px";const X=Math.max(se,K+y.offsetTop+(Te?ee:0)+Pe)+ie;l.style.height=X+"px",y.scrollTop=Re-se+y.offsetTop}l.style.margin=`${uo}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,l,u,y,x,v,s.dir,r]);fi(()=>b(),[b]);const[j,_]=f.useState();fi(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(C=>{C&&g.current===!0&&(b(),w==null||w(),g.current=!1)},[b,w]);return o.jsx(TMe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(_a.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});PY.displayName=EMe;var MMe="SelectPopperPosition",qO=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=uo,...s}=e,a=P1(n);return o.jsx(OE,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qO.displayName=MMe;var[TMe,DT]=Ym(dh,{}),WO="SelectViewport",EY=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Xu(WO,n),a=DT(WO,n),l=en(t,s.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(C1.Slot,{scope:n,children:o.jsx(_a.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-uo*2,y=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(y,x);if(v<g){const w=v+p,b=Math.min(g,w),j=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EY.displayName=WO;var MY="SelectGroup",[AMe,zMe]=Ym(MY),DMe=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$a();return o.jsx(AMe,{scope:n,id:i,children:o.jsx(_a.div,{role:"group","aria-labelledby":i,...r,ref:t})})});DMe.displayName=MY;var TY="SelectLabel",AY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=zMe(TY,n);return o.jsx(_a.div,{id:i.id,...r,ref:t})});AY.displayName=TY;var Z0="SelectItem",[RMe,zY]=Ym(Z0),DY=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,l=Qu(Z0,n),c=Xu(Z0,n),u=l.value===r,[d,h]=f.useState(s??""),[m,p]=f.useState(!1),g=en(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,i)}),y=$a(),x=f.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(RMe,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:f.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(C1.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(_a.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:dt(a.onFocus,()=>p(!0)),onBlur:dt(a.onBlur,()=>p(!1)),onClick:dt(a.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:dt(a.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:dt(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:dt(a.onPointerMove,w=>{var b;x.current=w.pointerType,i?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:dt(a.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(_Me.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});DY.displayName=Z0;var Hp="SelectItemText",RY=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Qu(Hp,n),l=Xu(Hp,n),c=zY(Hp,n),u=SMe(Hp,n),[d,h]=f.useState(null),m=en(t,v=>h(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return fi(()=>(y(g),()=>x(g)),[y,x,g]),o.jsxs(o.Fragment,{children:[o.jsx(_a.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Mc.createPortal(s.children,a.valueNode):null]})});RY.displayName=Hp;var IY="SelectItemIndicator",LY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return zY(IY,n).isSelected?o.jsx(_a.span,{"aria-hidden":!0,...r,ref:t}):null});LY.displayName=IY;var UO="SelectScrollUpButton",$Y=f.forwardRef((e,t)=>{const n=Xu(UO,e.__scopeSelect),r=DT(UO,e.__scopeSelect),[i,s]=f.useState(!1),a=en(t,r.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(BY,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});$Y.displayName=UO;var VO="SelectScrollDownButton",FY=f.forwardRef((e,t)=>{const n=Xu(VO,e.__scopeSelect),r=DT(VO,e.__scopeSelect),[i,s]=f.useState(!1),a=en(t,r.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(BY,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FY.displayName=VO;var BY=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Xu("SelectScrollButton",n),a=f.useRef(null),l=O1(n),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),fi(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(_a.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{c()})})}),IMe="SelectSeparator",qY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(_a.div,{"aria-hidden":!0,...r,ref:t})});qY.displayName=IMe;var HO="SelectArrow",LMe=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=P1(n),s=Qu(HO,n),a=Xu(HO,n);return s.open&&a.position==="popper"?o.jsx(PE,{...i,...r,ref:t}):null});LMe.displayName=HO;var $Me="SelectBubbleInput",WY=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=f.useRef(null),s=en(r,i),a=zT(t);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(_a.select,{...n,style:{...xY,...n.style},ref:s,defaultValue:t})});WY.displayName=$Me;function UY(e){return e===""||e===void 0}function VY(e){const t=Si(e),n=f.useRef(""),r=f.useRef(0),i=f.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function HY(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=FMe(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function FMe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BMe=vY,KY=_Y,qMe=jY,WMe=kY,UMe=SY,YY=NY,VMe=EY,GY=AY,QY=DY,HMe=RY,KMe=LY,XY=$Y,ZY=FY,JY=qY;const st=BMe,at=qMe,nt=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(KY,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground/70 focus:outline-none focus:ring-2 focus:ring-ring/30 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(WMe,{asChild:!0,children:o.jsx(Tc,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=KY.displayName;const eG=f.forwardRef(({className:e,...t},n)=>o.jsx(XY,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(pE,{className:"h-4 w-4"})}));eG.displayName=XY.displayName;const tG=f.forwardRef(({className:e,...t},n)=>o.jsx(ZY,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Tc,{className:"h-4 w-4"})}));tG.displayName=ZY.displayName;const rt=f.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(UMe,{children:o.jsxs(YY,{ref:i,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(eG,{}),o.jsx(VMe,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(tG,{})]})}));rt.displayName=YY.displayName;const YMe=f.forwardRef(({className:e,...t},n)=>o.jsx(GY,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));YMe.displayName=GY.displayName;const de=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(QY,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(KMe,{children:o.jsx(mE,{className:"h-4 w-4"})})}),o.jsx(HMe,{children:t})]}));de.displayName=QY.displayName;const GMe=f.forwardRef(({className:e,...t},n)=>o.jsx(JY,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));GMe.displayName=JY.displayName;const nG=6048e5,QMe=864e5,X3=Symbol.for("constructDateFrom");function Ir(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&X3 in e?e[X3](t):e instanceof Date?new e.constructor(t):new Date(t)}function Pn(e,t){return Ir(t||e,e)}function RT(e,t,n){const r=Pn(e,n==null?void 0:n.in);return isNaN(t)?Ir(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function hm(e,t,n){const r=Pn(e,n==null?void 0:n.in);if(isNaN(t))return Ir(e,NaN);if(!t)return r;const i=r.getDate(),s=Ir(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let XMe={};function zx(){return XMe}function fm(e,t){var l,c,u,d;const n=zx(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Pn(e,t==null?void 0:t.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function hy(e,t){return fm(e,{...t,weekStartsOn:1})}function rG(e,t){const n=Pn(e,t==null?void 0:t.in),r=n.getFullYear(),i=Ir(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=hy(i),a=Ir(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=hy(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Z3(e){const t=Pn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Gm(e,...t){const n=Ir.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function fy(e,t){const n=Pn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function iG(e,t,n){const[r,i]=Gm(n==null?void 0:n.in,e,t),s=fy(r),a=fy(i),l=+s-Z3(s),c=+a-Z3(a);return Math.round((l-c)/QMe)}function ZMe(e,t){const n=rG(e,t),r=Ir(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),hy(r)}function JMe(e,t,n){return RT(e,t*7,n)}function eTe(e,t,n){return hm(e,t*12,n)}function tTe(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Ir.bind(null,i));const s=Pn(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Ir(r,n||NaN)}function nTe(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Ir.bind(null,i));const s=Pn(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),Ir(r,n||NaN)}function rTe(e,t,n){const[r,i]=Gm(n==null?void 0:n.in,e,t);return+fy(r)==+fy(i)}function sG(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function iTe(e){return!(!sG(e)&&typeof e!="number"||isNaN(+Pn(e)))}function sTe(e,t,n){const[r,i]=Gm(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function aTe(e,t){const n=Pn(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function aG(e,t){const[n,r]=Gm(e,t.start,t.end);return{start:n,end:r}}function oTe(e,t){const{start:n,end:r}=aG(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setDate(1);let l=1;const c=[];for(;+a<=s;)c.push(Ir(n,a)),a.setMonth(a.getMonth()+l);return i?c.reverse():c}function my(e,t){const n=Pn(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function lTe(e,t){const n=Pn(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function oG(e,t){const n=Pn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function cTe(e,t){const{start:n,end:r}=aG(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let l=1;const c=[];for(;+a<=s;)c.push(Ir(n,a)),a.setFullYear(a.getFullYear()+l);return i?c.reverse():c}function lG(e,t){var l,c,u,d;const n=zx(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Pn(e,t==null?void 0:t.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function uTe(e,t){return lG(e,{...t,weekStartsOn:1})}const dTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hTe=(e,t,n)=>{let r;const i=dTe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function CS(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gTe={date:CS({formats:fTe,defaultWidth:"full"}),time:CS({formats:mTe,defaultWidth:"full"}),dateTime:CS({formats:pTe,defaultWidth:"full"})},yTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xTe=(e,t,n,r)=>yTe[e];function wp(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const vTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},STe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NTe={ordinalNumber:STe,era:wp({values:vTe,defaultWidth:"wide"}),quarter:wp({values:bTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wp({values:_Te,defaultWidth:"wide"}),day:wp({values:wTe,defaultWidth:"wide"}),dayPeriod:wp({values:jTe,defaultWidth:"wide",formattingValues:kTe,defaultFormattingWidth:"wide"})};function jp(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?OTe(l,h=>h.test(a)):CTe(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function CTe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function OTe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function PTe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const ETe=/^(\d+)(th|st|nd|rd)?/i,MTe=/\d+/i,TTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ATe={any:[/^b/i,/^(a|c)/i]},zTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DTe={any:[/1/i,/2/i,/3/i,/4/i]},RTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ITe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$Te={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qTe={ordinalNumber:PTe({matchPattern:ETe,parsePattern:MTe,valueCallback:e=>parseInt(e,10)}),era:jp({matchPatterns:TTe,defaultMatchWidth:"wide",parsePatterns:ATe,defaultParseWidth:"any"}),quarter:jp({matchPatterns:zTe,defaultMatchWidth:"wide",parsePatterns:DTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jp({matchPatterns:RTe,defaultMatchWidth:"wide",parsePatterns:ITe,defaultParseWidth:"any"}),day:jp({matchPatterns:LTe,defaultMatchWidth:"wide",parsePatterns:$Te,defaultParseWidth:"any"}),dayPeriod:jp({matchPatterns:FTe,defaultMatchWidth:"any",parsePatterns:BTe,defaultParseWidth:"any"})},nf={code:"en-US",formatDistance:hTe,formatLong:gTe,formatRelative:xTe,localize:NTe,match:qTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WTe(e,t){const n=Pn(e,t==null?void 0:t.in);return iG(n,oG(n))+1}function cG(e,t){const n=Pn(e,t==null?void 0:t.in),r=+hy(n)-+ZMe(n);return Math.round(r/nG)+1}function uG(e,t){var d,h,m,p;const n=Pn(e,t==null?void 0:t.in),r=n.getFullYear(),i=zx(),s=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ir((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=fm(a,t),c=Ir((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=fm(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function UTe(e,t){var l,c,u,d;const n=zx(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=uG(e,t),s=Ir((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),fm(s,t)}function dG(e,t){const n=Pn(e,t==null?void 0:t.in),r=+fm(n,t)-+UTe(n,t);return Math.round(r/nG)+1}function Nn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Qc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Nn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Nn(n+1,2)},d(e,t){return Nn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Nn(e.getHours()%12||12,t.length)},H(e,t){return Nn(e.getHours(),t.length)},m(e,t){return Nn(e.getMinutes(),t.length)},s(e,t){return Nn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nn(i,t.length)}},qh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qc.y(e,t)},Y:function(e,t,n,r){const i=uG(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return Nn(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nn(s,t.length)},R:function(e,t){const n=rG(e);return Nn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Nn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Nn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=dG(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Nn(i,t.length)},I:function(e,t,n){const r=cG(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Nn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qc.d(e,t)},D:function(e,t,n){const r=WTe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Nn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Nn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Nn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=qh.noon:r===0?i=qh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=qh.evening:r>=12?i=qh.afternoon:r>=4?i=qh.morning:i=qh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qc.s(e,t)},S:function(e,t){return Qc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return tL(r);case"XXXX":case"XX":return yd(r);case"XXXXX":case"XXX":default:return yd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return tL(r);case"xxxx":case"xx":return yd(r);case"xxxxx":case"xxx":default:return yd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eL(r,":");case"OOOO":default:return"GMT"+yd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eL(r,":");case"zzzz":default:return"GMT"+yd(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Nn(r,t.length)},T:function(e,t,n){return Nn(+e,t.length)}};function eL(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Nn(s,2)}function tL(e,t){return e%60===0?(e>0?"-":"+")+Nn(Math.abs(e)/60,2):yd(e,t)}function yd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Nn(Math.trunc(r/60),2),s=Nn(r%60,2);return n+i+t+s}const nL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},VTe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return nL(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",nL(r,t)).replace("{{time}}",hG(i,t))},HTe={p:hG,P:VTe},KTe=/^D+$/,YTe=/^Y+$/,GTe=["D","DD","YY","YYYY"];function QTe(e){return KTe.test(e)}function XTe(e){return YTe.test(e)}function ZTe(e,t,n){const r=JTe(e,t,n);if(console.warn(r),GTe.includes(e))throw new RangeError(r)}function JTe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nAe=/^'([^]*?)'?$/,rAe=/''/g,iAe=/[a-zA-Z]/;function zs(e,t,n){var d,h,m,p,g,y,x,v;const r=zx(),i=(n==null?void 0:n.locale)??r.locale??nf,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=Pn(e,n==null?void 0:n.in);if(!iTe(l))throw new RangeError("Invalid time value");let c=t.match(tAe).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=HTe[b];return j(w,i.formatLong)}return w}).join("").match(eAe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:sAe(w)};if(J3[b])return{isToken:!0,value:w};if(b.match(iAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XTe(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&QTe(b))&&ZTe(b,t,String(e));const j=J3[b[0]];return j(l,b,i.localize,u)}).join("")}function sAe(e){const t=e.match(nAe);return t?t[1].replace(rAe,"'"):e}function aAe(e,t){const n=Pn(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),s=Ir(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function oAe(e,t){return Pn(e,t==null?void 0:t.in).getMonth()}function lAe(e,t){return Pn(e,t==null?void 0:t.in).getFullYear()}function cAe(e,t){return+Pn(e)>+Pn(t)}function uAe(e,t){return+Pn(e)<+Pn(t)}function dAe(e,t,n){const[r,i]=Gm(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function hAe(e,t,n){const[r,i]=Gm(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function xd(e,t,n){return RT(e,-t,n)}function fAe(e,t,n){const r=Pn(e,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),a=Ir(e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const l=aAe(a);return r.setMonth(t,Math.min(s,l)),r}function mAe(e,t,n){const r=Pn(e,n==null?void 0:n.in);return isNaN(+r)?Ir(e,NaN):(r.setFullYear(t),r)}function pAe(e,t,n){return hm(e,-1,n)}function gAe(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const OS={},Kp={};function Md(e,t){try{const r=(OS[e]||(OS[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return r in Kp?Kp[r]:rL(r,r.split(":"))}catch{if(e in Kp)return Kp[e];const n=e==null?void 0:e.match(yAe);return n?rL(e,n.slice(1)):NaN}}const yAe=/([+-]\d\d):?(\d\d)?/;function rL(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return Kp[e]=n*60+r>0?n*60+r+i:n*60-r-i}class ll extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Md(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),fG(this),KO(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ll(...n,t):new ll(Date.now(),t)}withTimeZone(t){return new ll(+this,t)}getTimezoneOffset(){const t=-Md(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),KO(this),+this}[Symbol.for("constructDateFrom")](t){return new ll(+new Date(t),this.timeZone)}}const iL=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!iL.test(e))return;const t=e.replace(iL,"$1UTC");ll.prototype[t]&&(e.startsWith("get")?ll.prototype[e]=function(){return this.internal[t]()}:(ll.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),xAe(this),+this},ll.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),KO(this),+this}))});function KO(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Md(e.timeZone,e)*60))}function xAe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),fG(e)}function fG(e){const t=Md(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),a=i-s,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=i-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=i>0?u.getSeconds():(u.getSeconds()-60)%60,h=Math.round(-(Md(e.timeZone,e)*60))%60;(h||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+h+d));const m=Md(e.timeZone,e),p=m>0?Math.floor(m):Math.ceil(m),y=-new Date(+e).getTimezoneOffset()-p,x=p!==n,v=y-c;if(x&&v){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+v);const w=Md(e.timeZone,e),b=w>0?Math.floor(w):Math.ceil(w),j=p-b;j&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j))}}class ic extends ll{static tz(t,...n){return n.length?new ic(...n,t):new ic(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${gAe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new ic(+this,t)}[Symbol.for("constructDateFrom")](t){return new ic(+new Date(t),this.timeZone)}}const sL=5,vAe=4;function bAe(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),s=t.addDays(i,sL*7-1);return t.getMonth(e)===t.getMonth(s)?sL:vAe}function mG(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-1*6):t.addDays(n,-1*(r-1))}function _Ae(e,t){const n=mG(e,t),r=bAe(e,t);return t.addDays(n,r*7-1)}const pG={...nf,labels:{labelDayButton:(e,t,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(a,l)=>zs(a,l,{locale:nf,...n});let s=i(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,s)=>zs(i,s,{locale:nf,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(a,l)=>zs(a,l,{locale:nf,...n});let s=i(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,s)=>zs(i,s,{locale:nf,...t}),r(e,"cccc")}}};class pa{constructor(t,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?ic.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,s)=>{var a;return(a=this.overrides)!=null&&a.newDate?this.overrides.newDate(r,i,s):this.options.timeZone?new ic(r,i,s,this.options.timeZone):new Date(r,i,s)},this.addDays=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addDays?this.overrides.addDays(r,i):RT(r,i)},this.addMonths=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addMonths?this.overrides.addMonths(r,i):hm(r,i)},this.addWeeks=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addWeeks?this.overrides.addWeeks(r,i):JMe(r,i)},this.addYears=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addYears?this.overrides.addYears(r,i):eTe(r,i)},this.differenceInCalendarDays=(r,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):iG(r,i)},this.differenceInCalendarMonths=(r,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):sTe(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):oTe(r)},this.eachYearOfInterval=r=>{var l;const i=(l=this.overrides)!=null&&l.eachYearOfInterval?this.overrides.eachYearOfInterval(r):cTe(r),s=new Set(i.map(c=>this.getYear(c)));if(s.size===i.length)return i;const a=[];return s.forEach(c=>{a.push(new Date(c,0,1))}),a},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):_Ae(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):uTe(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):aTe(r)},this.endOfWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(r,i):lG(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):lTe(r)},this.format=(r,i,s)=>{var l;const a=(l=this.overrides)!=null&&l.format?this.overrides.format(r,i,this.options):zs(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):cG(r)},this.getMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(r,this.options):oAe(r,this.options)},this.getYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(r,this.options):lAe(r,this.options)},this.getWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(r,this.options):dG(r,this.options)},this.isAfter=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isAfter?this.overrides.isAfter(r,i):cAe(r,i)},this.isBefore=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isBefore?this.overrides.isBefore(r,i):uAe(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):sG(r)},this.isSameDay=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameDay?this.overrides.isSameDay(r,i):rTe(r,i)},this.isSameMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameMonth?this.overrides.isSameMonth(r,i):dAe(r,i)},this.isSameYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameYear?this.overrides.isSameYear(r,i):hAe(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):tTe(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):nTe(r)},this.setMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.setMonth?this.overrides.setMonth(r,i):fAe(r,i)},this.setYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.setYear?this.overrides.setYear(r,i):mAe(r,i)},this.startOfBroadcastWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):mG(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):fy(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):hy(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):my(r)},this.startOfWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(r,this.options):fm(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):oG(r)},this.options={locale:pG,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){var n;const t=(n=this.options.locale)==null?void 0:n.code;return t&&pa.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:i}=this.options,s=n==null?void 0:n.code;if(s&&pa.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}pa.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Pl=new pa;class gG{constructor(t,n,r=Pl){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class wAe{constructor(t,n){this.date=t,this.weeks=n}}class jAe{constructor(t,n){this.days=n,this.weekNumber=t}}function kAe(e){return lt.createElement("button",{...e})}function SAe(e){return lt.createElement("span",{...e})}function NAe(e){const{size:t=24,orientation:n="left",className:r}=e;return lt.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&lt.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&lt.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&lt.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&lt.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function CAe(e){const{day:t,modifiers:n,...r}=e;return lt.createElement("td",{...r})}function OAe(e){const{day:t,modifiers:n,...r}=e,i=lt.useRef(null);return lt.useEffect(()=>{var s;n.focused&&((s=i.current)==null||s.focus())},[n.focused]),lt.createElement("button",{ref:i,...r})}var zt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(zt||(zt={}));var ar;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ar||(ar={}));var _o;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(_o||(_o={}));var ea;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ea||(ea={}));function PAe(e){const{options:t,className:n,components:r,classNames:i,...s}=e,a=[i[zt.Dropdown],n].join(" "),l=t==null?void 0:t.find(({value:c})=>c===s.value);return lt.createElement("span",{"data-disabled":s.disabled,className:i[zt.DropdownRoot]},lt.createElement(r.Select,{className:a,...s},t==null?void 0:t.map(({value:c,label:u,disabled:d})=>lt.createElement(r.Option,{key:c,value:c,disabled:d},u))),lt.createElement("span",{className:i[zt.CaptionLabel],"aria-hidden":!0},l==null?void 0:l.label,lt.createElement(r.Chevron,{orientation:"down",size:18,className:i[zt.Chevron]})))}function EAe(e){return lt.createElement("div",{...e})}function MAe(e){return lt.createElement("div",{...e})}function TAe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return lt.createElement("div",{...r},e.children)}function AAe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return lt.createElement("div",{...r})}function zAe(e){return lt.createElement("table",{...e})}function DAe(e){return lt.createElement("div",{...e})}const yG=f.createContext(void 0);function Dx(){const e=f.useContext(yG);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function RAe(e){const{components:t}=Dx();return lt.createElement(t.Dropdown,{...e})}function IAe(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...s}=e,{components:a,classNames:l,labels:{labelPrevious:c,labelNext:u}}=Dx(),d=f.useCallback(m=>{i&&(n==null||n(m))},[i,n]),h=f.useCallback(m=>{r&&(t==null||t(m))},[r,t]);return lt.createElement("nav",{...s},lt.createElement(a.PreviousMonthButton,{type:"button",className:l[zt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:h},lt.createElement(a.Chevron,{disabled:r?void 0:!0,className:l[zt.Chevron],orientation:"left"})),lt.createElement(a.NextMonthButton,{type:"button",className:l[zt.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":u(i),onClick:d},lt.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:l[zt.Chevron]})))}function LAe(e){const{components:t}=Dx();return lt.createElement(t.Button,{...e})}function $Ae(e){return lt.createElement("option",{...e})}function FAe(e){const{components:t}=Dx();return lt.createElement(t.Button,{...e})}function BAe(e){const{rootRef:t,...n}=e;return lt.createElement("div",{...n,ref:t})}function qAe(e){return lt.createElement("select",{...e})}function WAe(e){const{week:t,...n}=e;return lt.createElement("tr",{...n})}function UAe(e){return lt.createElement("th",{...e})}function VAe(e){return lt.createElement("thead",{"aria-hidden":!0},lt.createElement("tr",{...e}))}function HAe(e){const{week:t,...n}=e;return lt.createElement("th",{...n})}function KAe(e){return lt.createElement("th",{...e})}function YAe(e){return lt.createElement("tbody",{...e})}function GAe(e){const{components:t}=Dx();return lt.createElement(t.Dropdown,{...e})}const QAe=Object.freeze(Object.defineProperty({__proto__:null,Button:kAe,CaptionLabel:SAe,Chevron:NAe,Day:CAe,DayButton:OAe,Dropdown:PAe,DropdownNav:EAe,Footer:MAe,Month:TAe,MonthCaption:AAe,MonthGrid:zAe,Months:DAe,MonthsDropdown:RAe,Nav:IAe,NextMonthButton:LAe,Option:$Ae,PreviousMonthButton:FAe,Root:BAe,Select:qAe,Week:WAe,WeekNumber:HAe,WeekNumberHeader:KAe,Weekday:UAe,Weekdays:VAe,Weeks:YAe,YearsDropdown:GAe},Symbol.toStringTag,{value:"Module"}));function sc(e,t,n=!1,r=Pl){let{from:i,to:s}=e;const{differenceInCalendarDays:a,isSameDay:l}=r;return i&&s?(a(s,i)<0&&([i,s]=[s,i]),a(t,i)>=(n?1:0)&&a(s,t)>=(n?1:0)):!n&&s?l(s,t):!n&&i?l(i,t):!1}function IT(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function E1(e){return!!(e&&typeof e=="object"&&"from"in e)}function LT(e){return!!(e&&typeof e=="object"&&"after"in e)}function $T(e){return!!(e&&typeof e=="object"&&"before"in e)}function xG(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function vG(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ac(e,t,n=Pl){const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:s,isAfter:a}=n;return r.some(l=>{if(typeof l=="boolean")return l;if(n.isDate(l))return i(e,l);if(vG(l,n))return l.some(c=>i(e,c));if(E1(l))return sc(l,e,!1,n);if(xG(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(IT(l)){const c=s(l.before,e),u=s(l.after,e),d=c>0,h=u<0;return a(l.before,l.after)?h&&d:d||h}return LT(l)?s(e,l.after)>0:$T(l)?s(l.before,e)>0:typeof l=="function"?l(e):!1})}function XAe(e,t,n,r,i){const{disabled:s,hidden:a,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d=i.today()}=t,{isSameDay:h,isSameMonth:m,startOfMonth:p,isBefore:g,endOfMonth:y,isAfter:x}=i,v=n&&p(n),w=r&&y(r),b={[ar.focused]:[],[ar.outside]:[],[ar.disabled]:[],[ar.hidden]:[],[ar.today]:[]},j={};for(const _ of e){const{date:k,displayMonth:C}=_,O=!!(C&&!m(k,C)),M=!!(v&&g(k,v)),P=!!(w&&x(k,w)),A=!!(s&&ac(k,s,i)),R=!!(a&&ac(k,a,i))||M||P||!u&&!c&&O||u&&c===!1&&O,F=h(k,d);O&&b.outside.push(_),A&&b.disabled.push(_),R&&b.hidden.push(_),F&&b.today.push(_),l&&Object.keys(l).forEach(V=>{const K=l==null?void 0:l[V];K&&ac(k,K,i)&&(j[V]?j[V].push(_):j[V]=[_])})}return _=>{const k={[ar.focused]:!1,[ar.disabled]:!1,[ar.hidden]:!1,[ar.outside]:!1,[ar.today]:!1},C={};for(const O in b){const M=b[O];k[O]=M.some(P=>P===_)}for(const O in j)C[O]=j[O].some(M=>M===_);return{...k,...C}}}function ZAe(e,t,n={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[s])=>(n[s]?i.push(n[s]):t[ar[s]]?i.push(t[ar[s]]):t[_o[s]]&&i.push(t[_o[s]]),i),[t[zt.Day]])}function JAe(e){return{...QAe,...e}}function eze(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function tze(){const e={};for(const t in zt)e[zt[t]]=`rdp-${zt[t]}`;for(const t in ar)e[ar[t]]=`rdp-${ar[t]}`;for(const t in _o)e[_o[t]]=`rdp-${_o[t]}`;for(const t in ea)e[ea[t]]=`rdp-${ea[t]}`;return e}function bG(e,t,n){return(n??new pa(t)).formatMonthYear(e)}const nze=bG;function rze(e,t,n){return(n??new pa(t)).format(e,"d")}function ize(e,t=Pl){return t.format(e,"LLLL")}function sze(e,t,n){return(n??new pa(t)).format(e,"cccccc")}function aze(e,t=Pl){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function oze(){return""}function _G(e,t=Pl){return t.format(e,"yyyy")}const lze=_G,cze=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:bG,formatDay:rze,formatMonthCaption:nze,formatMonthDropdown:ize,formatWeekNumber:aze,formatWeekNumberHeader:oze,formatWeekdayName:sze,formatYearCaption:lze,formatYearDropdown:_G},Symbol.toStringTag,{value:"Module"}));function uze(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...cze,...e}}function FT(e,t,n,r){let i=(r??new pa(n)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const dze=FT;function BT(e,t,n){return(n??new pa(t)).formatMonthYear(e)}const hze=BT;function wG(e,t,n,r){let i=(r??new pa(n)).format(e,"PPPP");return t!=null&&t.today&&(i=`Today, ${i}`),i}function jG(e){return"Choose the Month"}function kG(){return""}const fze="Go to the Next Month";function SG(e,t){return fze}function NG(e){return"Go to the Previous Month"}function CG(e,t,n){return(n??new pa(t)).format(e,"cccc")}function OG(e,t){return`Week ${e}`}function PG(e){return"Week Number"}function EG(e){return"Choose the Year"}const mze=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:hze,labelDay:dze,labelDayButton:FT,labelGrid:BT,labelGridcell:wG,labelMonthDropdown:jG,labelNav:kG,labelNext:SG,labelPrevious:NG,labelWeekNumber:OG,labelWeekNumberHeader:PG,labelWeekday:CG,labelYearDropdown:EG},Symbol.toStringTag,{value:"Module"})),co=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function pze(e,t){var r;const n=((r=t.locale)==null?void 0:r.labels)??{};return{...mze,...e??{},labelDayButton:co(FT,e==null?void 0:e.labelDayButton,n.labelDayButton),labelMonthDropdown:co(jG,e==null?void 0:e.labelMonthDropdown,n.labelMonthDropdown),labelNext:co(SG,e==null?void 0:e.labelNext,n.labelNext),labelPrevious:co(NG,e==null?void 0:e.labelPrevious,n.labelPrevious),labelWeekNumber:co(OG,e==null?void 0:e.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:co(EG,e==null?void 0:e.labelYearDropdown,n.labelYearDropdown),labelGrid:co(BT,e==null?void 0:e.labelGrid,n.labelGrid),labelGridcell:co(wG,e==null?void 0:e.labelGridcell,n.labelGridcell),labelNav:co(kG,e==null?void 0:e.labelNav,n.labelNav),labelWeekNumberHeader:co(PG,e==null?void 0:e.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:co(CG,e==null?void 0:e.labelWeekday,n.labelWeekday)}}function gze(e,t,n,r,i){const{startOfMonth:s,startOfYear:a,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=i;return c({start:a(e),end:l(e)}).map(m=>{const p=r.formatMonthDropdown(m,i),g=u(m),y=t&&m<s(t)||n&&m>s(n)||!1;return{value:g,label:p,disabled:y}})}function yze(e,t={},n={}){let r={...t==null?void 0:t[zt.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function xze(e,t,n,r){const i=r??e.today(),s=n?e.startOfBroadcastWeek(i,e):t?e.startOfISOWeek(i):e.startOfWeek(i),a=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);a.push(c)}return a}function vze(e,t,n,r,i=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:a,eachYearOfInterval:l,getYear:c}=r,u=s(e),d=a(t),h=l({start:u,end:d});return i&&h.reverse(),h.map(m=>{const p=n.formatYearDropdown(m,r);return{value:c(m),label:p,disabled:!1}})}const Rx=e=>e instanceof HTMLElement?e:null,PS=e=>[...e.querySelectorAll("[data-animated-month]")??[]],bze=e=>Rx(e.querySelector("[data-animated-month]")),ES=e=>Rx(e.querySelector("[data-animated-caption]")),MS=e=>Rx(e.querySelector("[data-animated-weeks]")),_ze=e=>Rx(e.querySelector("[data-animated-nav]")),wze=e=>Rx(e.querySelector("[data-animated-weekdays]"));function jze(e,t,{classNames:n,months:r,focused:i,dateLib:s}){const a=f.useRef(null),l=f.useRef(r),c=f.useRef(!1);f.useLayoutEffect(()=>{const u=l.current;if(l.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const d=s.isSameMonth(r[0].date,u[0].date),h=s.isAfter(r[0].date,u[0].date),m=h?n[ea.caption_after_enter]:n[ea.caption_before_enter],p=h?n[ea.weeks_after_enter]:n[ea.weeks_before_enter],g=a.current,y=e.current.cloneNode(!0);if(y instanceof HTMLElement?(PS(y).forEach(b=>{if(!(b instanceof HTMLElement))return;const j=bze(b);j&&b.contains(j)&&b.removeChild(j);const _=ES(b);_&&_.classList.remove(m);const k=MS(b);k&&k.classList.remove(p)}),a.current=y):a.current=null,c.current||d||i)return;const x=g instanceof HTMLElement?PS(g):[],v=PS(e.current);if(v!=null&&v.every(w=>w instanceof HTMLElement)&&x&&x.every(w=>w instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const w=_ze(e.current);w&&(w.style.zIndex="1"),v.forEach((b,j)=>{const _=x[j];if(!_)return;b.style.position="relative",b.style.overflow="hidden";const k=ES(b);k&&k.classList.add(m);const C=MS(b);C&&C.classList.add(p);const O=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(m),C&&C.classList.remove(p),b.style.position="",b.style.overflow="",b.contains(_)&&b.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const M=wze(_);M&&(M.style.opacity="0");const P=ES(_);P&&(P.classList.add(h?n[ea.caption_before_exit]:n[ea.caption_after_exit]),P.addEventListener("animationend",O));const A=MS(_);A&&A.classList.add(h?n[ea.weeks_before_exit]:n[ea.weeks_after_exit]),b.insertBefore(_,b.firstChild)})}})}function kze(e,t,n,r){const i=e[0],s=e[e.length-1],{ISOWeek:a,fixedWeeks:l,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:h,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:g,endOfWeek:y,isAfter:x,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:b}=r,j=c?v(i,r):a?w(i):b(i),_=c?m(s):a?p(g(s)):y(g(s)),k=t&&(c?m(t):a?p(t):y(t)),C=k&&x(_,k)?k:_,O=d(C,j),M=h(s,i)+1,P=[];for(let F=0;F<=O;F++){const V=u(j,F);P.push(V)}const R=(c?35:42)*M;if(l&&P.length<R){const F=R-P.length;for(let V=0;V<F;V++){const K=u(P[P.length-1],1);P.push(K)}}return P}function Sze(e){const t=[];return e.reduce((n,r)=>{const i=r.weeks.reduce((s,a)=>s.concat(a.days.slice()),t.slice());return n.concat(i.slice())},t.slice())}function Nze(e,t,n,r){const{numberOfMonths:i=1}=n,s=[];for(let a=0;a<i;a++){const l=r.addMonths(e,a);if(t&&l>t)break;s.push(l)}return s}function aL(e,t,n,r){const{month:i,defaultMonth:s,today:a=r.today(),numberOfMonths:l=1}=e;let c=i||s||a;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:h}=r;if(n&&u(n,c)<l-1){const m=-1*(l-1);c=d(n,m)}return t&&u(c,t)<0&&(c=t),h(c)}function Cze(e,t,n,r){const{addDays:i,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:h,startOfISOWeek:m,startOfWeek:p}=r,g=e.reduce((y,x)=>{const v=n.broadcastCalendar?h(x,r):n.ISOWeek?m(x):p(x),w=n.broadcastCalendar?s(x):n.ISOWeek?a(l(x)):c(l(x)),b=t.filter(C=>C>=v&&C<=w),j=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<j){const C=t.filter(O=>{const M=j-b.length;return O>w&&O<=i(w,M)});b.push(...C)}const _=b.reduce((C,O)=>{const M=n.ISOWeek?u(O):d(O),P=C.find(R=>R.weekNumber===M),A=new gG(O,x,r);return P?P.days.push(A):C.push(new jAe(M,[A])),C},[]),k=new wAe(x,_);return y.push(k),y},[]);return n.reverseMonths?g.reverse():g}function Oze(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:s,startOfMonth:a,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:h}=t,{fromYear:m,toYear:p,fromMonth:g,toMonth:y}=e;!n&&g&&(n=g),!n&&m&&(n=t.newDate(m,0,1)),!r&&y&&(r=y),!r&&p&&(r=d(p,11,31));const x=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):m?n=d(m,0,1):!n&&x&&(n=i(c(e.today??h(),-100))),r?r=l(r):p?r=d(p,11,31):!r&&x&&(r=u(e.today??h())),[n&&s(n),r&&s(r)]}function Pze(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s=1}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=i?s:1,d=a(e);if(!t)return l(d,u);if(!(c(t,e)<s))return l(d,u)}function Eze(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=i?s??1:1,d=a(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function Mze(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function M1(e,t){const[n,r]=f.useState(e);return[t===void 0?n:t,r]}function Tze(e,t){var j;const[n,r]=Oze(e,t),{startOfMonth:i,endOfMonth:s}=t,a=aL(e,n,r,t),[l,c]=M1(a,e.month?a:void 0);f.useEffect(()=>{const _=aL(e,n,r,t);c(_)},[e.timeZone]);const{months:u,weeks:d,days:h,previousMonth:m,nextMonth:p}=f.useMemo(()=>{const _=Nze(l,r,{numberOfMonths:e.numberOfMonths},t),k=kze(_,e.endMonth?s(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),C=Cze(_,k,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),O=Mze(C),M=Sze(C),P=Eze(l,n,e,t),A=Pze(l,r,e,t);return{months:C,weeks:O,days:M,previousMonth:P,nextMonth:A}},[t,l.getTime(),r==null?void 0:r.getTime(),n==null?void 0:n.getTime(),e.disableNavigation,e.broadcastCalendar,(j=e.endMonth)==null?void 0:j.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:g,onMonthChange:y}=e,x=_=>d.some(k=>k.days.some(C=>C.isEqualTo(_))),v=_=>{if(g)return;let k=i(_);n&&k<i(n)&&(k=i(n)),r&&k>i(r)&&(k=i(r)),c(k),y==null||y(k)};return{months:u,weeks:d,days:h,navStart:n,navEnd:r,previousMonth:m,nextMonth:p,goToMonth:v,goToDay:_=>{x(_)||v(_.date)}}}var Zo;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Zo||(Zo={}));function oL(e){return!e[ar.disabled]&&!e[ar.hidden]&&!e[ar.outside]}function Aze(e,t,n,r){let i,s=-1;for(const a of e){const l=t(a);oL(l)&&(l[ar.focused]&&s<Zo.FocusedModifier?(i=a,s=Zo.FocusedModifier):r!=null&&r.isEqualTo(a)&&s<Zo.LastFocused?(i=a,s=Zo.LastFocused):n(a.date)&&s<Zo.Selected?(i=a,s=Zo.Selected):l[ar.today]&&s<Zo.Today&&(i=a,s=Zo.Today))}return i||(i=e.find(a=>oL(t(a)))),i}function zze(e,t,n,r,i,s,a){const{ISOWeek:l,broadcastCalendar:c}=s,{addDays:u,addMonths:d,addWeeks:h,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:y,max:x,min:v,startOfBroadcastWeek:w,startOfISOWeek:b,startOfWeek:j}=a;let k={day:u,week:h,month:d,year:m,startOfWeek:C=>c?w(C,a):l?b(C):j(C),endOfWeek:C=>c?p(C):l?g(C):y(C)}[e](n,t==="after"?1:-1);return t==="before"&&r?k=x([r,k]):t==="after"&&i&&(k=v([i,k])),k}function MG(e,t,n,r,i,s,a,l=0){if(l>365)return;const c=zze(e,t,n.date,r,i,s,a),u=!!(s.disabled&&ac(c,s.disabled,a)),d=!!(s.hidden&&ac(c,s.hidden,a)),h=c,m=new gG(c,h,a);return!u&&!d?m:MG(e,t,m,r,i,s,a,l+1)}function Dze(e,t,n,r,i){const{autoFocus:s}=e,[a,l]=f.useState(),c=Aze(t.days,n,r||(()=>!1),a),[u,d]=f.useState(s?c:void 0);return{isFocusTarget:y=>!!(c!=null&&c.isEqualTo(y)),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(y,x)=>{if(!u)return;const v=MG(y,x,u,t.navStart,t.navEnd,e,i);v&&(e.disableNavigation&&!t.days.some(b=>b.isEqualTo(v))||(t.goToDay(v),d(v)))}}}function Rze(e,t){const{selected:n,required:r,onSelect:i}=e,[s,a]=M1(n,i?n:void 0),l=i?n:s,{isSameDay:c}=t,u=p=>(l==null?void 0:l.some(g=>c(g,p)))??!1,{min:d,max:h}=e;return{selected:l,select:(p,g,y)=>{let x=[...l??[]];if(u(p)){if((l==null?void 0:l.length)===d||r&&(l==null?void 0:l.length)===1)return;x=l==null?void 0:l.filter(v=>!c(v,p))}else(l==null?void 0:l.length)===h?x=[p]:x=[...x,p];return i||a(x),i==null||i(x,p,g,y),x},isSelected:u}}function Ize(e,t,n=0,r=0,i=!1,s=Pl){const{from:a,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=s;let h;if(!a&&!l)h={from:e,to:n>0?void 0:e};else if(a&&!l)c(a,e)?n===0?h={from:a,to:e}:i?h={from:a,to:void 0}:h=void 0:d(e,a)?h={from:e,to:a}:h={from:a,to:e};else if(a&&l)if(c(a,e)&&c(l,e))i?h={from:a,to:l}:h=void 0;else if(c(a,e))h={from:a,to:n>0?void 0:e};else if(c(l,e))h={from:e,to:n>0?void 0:e};else if(d(e,a))h={from:e,to:l};else if(u(e,a))h={from:a,to:e};else if(u(e,l))h={from:a,to:e};else throw new Error("Invalid range");if(h!=null&&h.from&&(h!=null&&h.to)){const m=s.differenceInCalendarDays(h.to,h.from);r>0&&m>r?h={from:e,to:void 0}:n>1&&m<n&&(h={from:e,to:void 0})}return h}function Lze(e,t,n=Pl){const r=Array.isArray(t)?t:[t];let i=e.from;const s=n.differenceInCalendarDays(e.to,e.from),a=Math.min(s,6);for(let l=0;l<=a;l++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function lL(e,t,n=Pl){return sc(e,t.from,!1,n)||sc(e,t.to,!1,n)||sc(t,e.from,!1,n)||sc(t,e.to,!1,n)}function $ze(e,t,n=Pl){const r=Array.isArray(t)?t:[t];if(r.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:n.isDate(l)?sc(e,l,!1,n):vG(l,n)?l.some(c=>sc(e,c,!1,n)):E1(l)?l.from&&l.to?lL(e,{from:l.from,to:l.to},n):!1:xG(l)?Lze(e,l.dayOfWeek,n):IT(l)?n.isAfter(l.before,l.after)?lL(e,{from:n.addDays(l.after,1),to:n.addDays(l.before,-1)},n):ac(e.from,l,n)||ac(e.to,l,n):LT(l)||$T(l)?ac(e.from,l,n)||ac(e.to,l,n):!1))return!0;const a=r.filter(l=>typeof l=="function");if(a.length){let l=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(a.some(d=>d(l)))return!0;l=n.addDays(l,1)}}return!1}function Fze(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:s,onSelect:a}=e,[l,c]=M1(i,a?i:void 0),u=a?i:l;return{selected:u,select:(m,p,g)=>{const{min:y,max:x}=e,v=m?Ize(m,u,y,x,s,t):void 0;return r&&n&&(v!=null&&v.from)&&v.to&&$ze({from:v.from,to:v.to},n,t)&&(v.from=m,v.to=void 0),a||c(v),a==null||a(v,m,p,g),v},isSelected:m=>u&&sc(u,m,!1,t)}}function Bze(e,t){const{selected:n,required:r,onSelect:i}=e,[s,a]=M1(n,i?n:void 0),l=i?n:s,{isSameDay:c}=t;return{selected:l,select:(h,m,p)=>{let g=h;return!r&&l&&l&&c(h,l)&&(g=void 0),i||a(g),i==null||i(g,h,m,p),g},isSelected:h=>l?c(l,h):!1}}function qze(e,t){const n=Bze(e,t),r=Rze(e,t),i=Fze(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function ji(e,t){return e instanceof ic&&e.timeZone===t?e:new ic(e,t)}function cL(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?ji(e,t):Array.isArray(e)?e.map(n=>n instanceof Date?ji(n,t):n):E1(e)?{...e,from:e.from?ji(e.from,t):e.from,to:e.to?ji(e.to,t):e.to}:IT(e)?{before:ji(e.before,t),after:ji(e.after,t)}:LT(e)?{after:ji(e.after,t)}:$T(e)?{before:ji(e.before,t)}:e}function TS(e,t){return e&&(Array.isArray(e)?e.map(n=>cL(n,t)):cL(e,t))}function Wze(e){var Qn;let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=ji(t.today,n)),t.month&&(t.month=ji(t.month,n)),t.defaultMonth&&(t.defaultMonth=ji(t.defaultMonth,n)),t.startMonth&&(t.startMonth=ji(t.startMonth,n)),t.endMonth&&(t.endMonth=ji(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=ji(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=(Qn=t.selected)==null?void 0:Qn.map(Fe=>ji(Fe,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?ji(t.selected.from,n):t.selected.from,to:t.selected.to?ji(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=TS(t.disabled,n)),t.hidden!==void 0&&(t.hidden=TS(t.hidden,n)),t.modifiers)){const Fe={};Object.keys(t.modifiers).forEach(Ft=>{var ht;Fe[Ft]=TS((ht=t.modifiers)==null?void 0:ht[Ft],n)}),t.modifiers=Fe}const{components:r,formatters:i,labels:s,dateLib:a,locale:l,classNames:c}=f.useMemo(()=>{const Fe={...pG,...t.locale},Ft=new pa({locale:Fe,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib);return{dateLib:Ft,components:JAe(t.components),formatters:uze(t.formatters),labels:pze(t.labels,Ft.options),locale:Fe,classNames:{...tze(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:a.today()});const{captionLayout:u,mode:d,navLayout:h,numberOfMonths:m=1,onDayBlur:p,onDayClick:g,onDayFocus:y,onDayKeyDown:x,onDayMouseEnter:v,onDayMouseLeave:w,onNextClick:b,onPrevClick:j,showWeekNumber:_,styles:k}=t,{formatCaption:C,formatDay:O,formatMonthDropdown:M,formatWeekNumber:P,formatWeekNumberHeader:A,formatWeekdayName:R,formatYearDropdown:F}=i,V=Tze(t,a),{days:K,months:L,navStart:W,navEnd:z,previousMonth:T,nextMonth:q,goToMonth:Y}=V,ee=XAe(K,t,W,z,a),{isSelected:pe,select:se,selected:he}=qze(t,a)??{},{blur:Pe,focused:J,isFocusTarget:Re,moveFocus:ie,setFocused:Ee}=Dze(t,V,ee,pe??(()=>!1),a),{labelDayButton:Te,labelGridcell:fe,labelGrid:X,labelMonthDropdown:ke,labelNav:Q,labelPrevious:Se,labelNext:re,labelWeekday:Ne,labelWeekNumber:Oe,labelWeekNumberHeader:xe,labelYearDropdown:me}=s,H=f.useMemo(()=>xze(a,t.ISOWeek,t.broadcastCalendar,t.today),[a,t.ISOWeek,t.broadcastCalendar,t.today]),Ce=d!==void 0||g!==void 0,$e=f.useCallback(()=>{T&&(Y(T),j==null||j(T))},[T,Y,j]),ne=f.useCallback(()=>{q&&(Y(q),b==null||b(q))},[Y,q,b]),je=f.useCallback((Fe,Ft)=>ht=>{ht.preventDefault(),ht.stopPropagation(),Ee(Fe),!Ft.disabled&&(se==null||se(Fe.date,Ft,ht),g==null||g(Fe.date,Ft,ht))},[se,g,Ee]),Ke=f.useCallback((Fe,Ft)=>ht=>{Ee(Fe),y==null||y(Fe.date,Ft,ht)},[y,Ee]),oe=f.useCallback((Fe,Ft)=>ht=>{Pe(),p==null||p(Fe.date,Ft,ht)},[Pe,p]),U=f.useCallback((Fe,Ft)=>ht=>{const qt={ArrowLeft:[ht.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ht.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ht.shiftKey?"year":"week","after"],ArrowUp:[ht.shiftKey?"year":"week","before"],PageUp:[ht.shiftKey?"year":"month","before"],PageDown:[ht.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(qt[ht.key]){ht.preventDefault(),ht.stopPropagation();const[Yt,ae]=qt[ht.key];ie(Yt,ae)}x==null||x(Fe.date,Ft,ht)},[ie,x,t.dir]),be=f.useCallback((Fe,Ft)=>ht=>{v==null||v(Fe.date,Ft,ht)},[v]),We=f.useCallback((Fe,Ft)=>ht=>{w==null||w(Fe.date,Ft,ht)},[w]),et=f.useCallback(Fe=>Ft=>{const ht=Number(Ft.target.value),qt=a.setMonth(a.startOfMonth(Fe),ht);Y(qt)},[a,Y]),tt=f.useCallback(Fe=>Ft=>{const ht=Number(Ft.target.value),qt=a.setYear(a.startOfMonth(Fe),ht);Y(qt)},[a,Y]),{className:Nt,style:vt}=f.useMemo(()=>({className:[c[zt.Root],t.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[zt.Root],...t.style}}),[c,t.className,t.style,k]),Mt=eze(t),sn=f.useRef(null);jze(sn,!!t.animate,{classNames:c,months:L,focused:J,dateLib:a});const vn={dayPickerProps:t,selected:he,select:se,isSelected:pe,months:L,nextMonth:q,previousMonth:T,goToMonth:Y,getModifiers:ee,components:r,classNames:c,styles:k,labels:s,formatters:i};return lt.createElement(yG.Provider,{value:vn},lt.createElement(r.Root,{rootRef:t.animate?sn:void 0,className:Nt,style:vt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Mt},lt.createElement(r.Months,{className:c[zt.Months],style:k==null?void 0:k[zt.Months]},!t.hideNavigation&&!h&&lt.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[zt.Nav],style:k==null?void 0:k[zt.Nav],"aria-label":Q(),onPreviousClick:$e,onNextClick:ne,previousMonth:T,nextMonth:q}),L.map((Fe,Ft)=>lt.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[zt.Month],style:k==null?void 0:k[zt.Month],key:Ft,displayIndex:Ft,calendarMonth:Fe},h==="around"&&!t.hideNavigation&&Ft===0&&lt.createElement(r.PreviousMonthButton,{type:"button",className:c[zt.PreviousMonthButton],tabIndex:T?void 0:-1,"aria-disabled":T?void 0:!0,"aria-label":Se(T),onClick:$e,"data-animated-button":t.animate?"true":void 0},lt.createElement(r.Chevron,{disabled:T?void 0:!0,className:c[zt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),lt.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[zt.MonthCaption],style:k==null?void 0:k[zt.MonthCaption],calendarMonth:Fe,displayIndex:Ft},u!=null&&u.startsWith("dropdown")?lt.createElement(r.DropdownNav,{className:c[zt.Dropdowns],style:k==null?void 0:k[zt.Dropdowns]},(()=>{const ht=u==="dropdown"||u==="dropdown-months"?lt.createElement(r.MonthsDropdown,{key:"month",className:c[zt.MonthsDropdown],"aria-label":ke(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:et(Fe.date),options:gze(Fe.date,W,z,i,a),style:k==null?void 0:k[zt.Dropdown],value:a.getMonth(Fe.date)}):lt.createElement("span",{key:"month"},M(Fe.date,a)),qt=u==="dropdown"||u==="dropdown-years"?lt.createElement(r.YearsDropdown,{key:"year",className:c[zt.YearsDropdown],"aria-label":me(a.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:tt(Fe.date),options:vze(W,z,i,a,!!t.reverseYears),style:k==null?void 0:k[zt.Dropdown],value:a.getYear(Fe.date)}):lt.createElement("span",{key:"year"},F(Fe.date,a));return a.getMonthYearOrder()==="year-first"?[qt,ht]:[ht,qt]})(),lt.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(Fe.date,a.options,a))):lt.createElement(r.CaptionLabel,{className:c[zt.CaptionLabel],role:"status","aria-live":"polite"},C(Fe.date,a.options,a))),h==="around"&&!t.hideNavigation&&Ft===m-1&&lt.createElement(r.NextMonthButton,{type:"button",className:c[zt.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":re(q),onClick:ne,"data-animated-button":t.animate?"true":void 0},lt.createElement(r.Chevron,{disabled:q?void 0:!0,className:c[zt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ft===m-1&&h==="after"&&!t.hideNavigation&&lt.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[zt.Nav],style:k==null?void 0:k[zt.Nav],"aria-label":Q(),onPreviousClick:$e,onNextClick:ne,previousMonth:T,nextMonth:q}),lt.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":X(Fe.date,a.options,a)||void 0,className:c[zt.MonthGrid],style:k==null?void 0:k[zt.MonthGrid]},!t.hideWeekdays&&lt.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[zt.Weekdays],style:k==null?void 0:k[zt.Weekdays]},_&&lt.createElement(r.WeekNumberHeader,{"aria-label":xe(a.options),className:c[zt.WeekNumberHeader],style:k==null?void 0:k[zt.WeekNumberHeader],scope:"col"},A()),H.map(ht=>lt.createElement(r.Weekday,{"aria-label":Ne(ht,a.options,a),className:c[zt.Weekday],key:String(ht),style:k==null?void 0:k[zt.Weekday],scope:"col"},R(ht,a.options,a)))),lt.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[zt.Weeks],style:k==null?void 0:k[zt.Weeks]},Fe.weeks.map(ht=>lt.createElement(r.Week,{className:c[zt.Week],key:ht.weekNumber,style:k==null?void 0:k[zt.Week],week:ht},_&&lt.createElement(r.WeekNumber,{week:ht,style:k==null?void 0:k[zt.WeekNumber],"aria-label":Oe(ht.weekNumber,{locale:l}),className:c[zt.WeekNumber],scope:"row",role:"rowheader"},P(ht.weekNumber,a)),ht.days.map(qt=>{const{date:Yt}=qt,ae=ee(qt);if(ae[ar.focused]=!ae.hidden&&!!(J!=null&&J.isEqualTo(qt)),ae[_o.selected]=(pe==null?void 0:pe(Yt))||ae.selected,E1(he)){const{from:_t,to:Gt}=he;ae[_o.range_start]=!!(_t&&Gt&&a.isSameDay(Yt,_t)),ae[_o.range_end]=!!(_t&&Gt&&a.isSameDay(Yt,Gt)),ae[_o.range_middle]=sc(he,Yt,!0,a)}const Me=yze(ae,k,t.modifiersStyles),Ye=ZAe(ae,c,t.modifiersClassNames),Tt=!Ce&&!ae.hidden?fe(Yt,ae,a.options,a):void 0;return lt.createElement(r.Day,{key:`${qt.isoDate}_${qt.displayMonthId}`,day:qt,modifiers:ae,className:Ye.join(" "),style:Me,role:"gridcell","aria-selected":ae.selected||void 0,"aria-label":Tt,"data-day":qt.isoDate,"data-month":qt.outside?qt.dateMonthId:void 0,"data-selected":ae.selected||void 0,"data-disabled":ae.disabled||void 0,"data-hidden":ae.hidden||void 0,"data-outside":qt.outside||void 0,"data-focused":ae.focused||void 0,"data-today":ae.today||void 0},!ae.hidden&&Ce?lt.createElement(r.DayButton,{className:c[zt.DayButton],style:k==null?void 0:k[zt.DayButton],type:"button",day:qt,modifiers:ae,disabled:!ae.focused&&ae.disabled||void 0,"aria-disabled":ae.focused&&ae.disabled||void 0,tabIndex:Re(qt)?0:-1,"aria-label":Te(Yt,ae,a.options,a),onClick:je(qt,ae),onBlur:oe(qt,ae),onFocus:Ke(qt,ae),onKeyDown:U(qt,ae),onMouseEnter:be(qt,ae),onMouseLeave:We(qt,ae)},O(Yt,a.options,a)):!ae.hidden&&O(qt.date,a.options,a))})))))))),t.footer&&lt.createElement(r.Footer,{className:c[zt.Footer],style:k==null?void 0:k[zt.Footer],role:"status","aria-live":"polite"},t.footer)))}function YO({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",navLayout:i="around",...s}){return o.jsx(Wze,{captionLayout:r,navLayout:i,showOutsideDays:n,className:te("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-4",month:"relative",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",dropdowns:"flex items-center gap-2",nav:"flex items-center gap-1",button_previous:te(Hb({variant:"ghost"}),"absolute left-1 top-1 h-8 w-8 bg-transparent p-0 text-muted-foreground hover:bg-muted/60 hover:text-foreground"),button_next:te(Hb({variant:"ghost"}),"absolute right-1 top-1 h-8 w-8 bg-transparent p-0 text-muted-foreground hover:bg-muted/60 hover:text-foreground"),month_grid:"w-full border-collapse space-y-1 mt-2",weekdays:"flex w-full",weekday:"text-muted-foreground/80 rounded-md w-9 font-medium text-[0.7rem] text-center",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative aria-selected:bg-muted first:aria-selected:rounded-md last:aria-selected:rounded-md focus-within:relative focus-within:z-20",day_button:te(Hb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),range_end:"rounded-md",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"border border-primary/30 text-foreground",outside:"text-muted-foreground opacity-50 aria-selected:bg-muted/50 aria-selected:text-muted-foreground aria-selected:opacity-40",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-muted aria-selected:text-foreground",hidden:"invisible",...t},components:{Chevron:({className:a,orientation:l})=>{const c=l==="left"?ej:l==="right"?Rm:l==="up"?pE:Tc;return o.jsx(c,{className:te("h-4 w-4",a)})}},...s})}YO.displayName="Calendar";function TG(e){const t=Uze(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Hze);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Uze(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Yze(i),l=Kze(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vze=Symbol("radix.slottable");function Hze(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vze}function Kze(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Yze(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AG=Gze.reduce((e,t)=>{const n=TG(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),T1="Popover",[zG]=ba(T1,[$m]),Ix=$m(),[Qze,Zu]=zG(T1),DG=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,l=Ix(t),c=f.useRef(null),[u,d]=f.useState(!1),[h,m]=yl({prop:r,defaultProp:i??!1,onChange:s,caller:T1});return o.jsx(CE,{...l,children:o.jsx(Qze,{scope:t,contentId:$a(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:a,children:n})})};DG.displayName=T1;var RG="PopoverAnchor",Xze=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Zu(RG,n),s=Ix(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return f.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(uj,{...s,...r,ref:t})});Xze.displayName=RG;var IG="PopoverTrigger",LG=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Zu(IG,n),s=Ix(n),a=en(t,i.triggerRef),l=o.jsx(AG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":WG(i.open),...r,ref:a,onClick:dt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(uj,{asChild:!0,...s,children:l})});LG.displayName=IG;var qT="PopoverPortal",[Zze,Jze]=zG(qT,{forceMount:void 0}),$G=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=Zu(qT,t);return o.jsx(Zze,{scope:t,forceMount:n,children:o.jsx(Mi,{present:n||s.open,children:o.jsx(rx,{asChild:!0,container:i,children:r})})})};$G.displayName=qT;var mm="PopoverContent",FG=f.forwardRef((e,t)=>{const n=Jze(mm,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=Zu(mm,e.__scopePopover);return o.jsx(Mi,{present:r||s.open,children:s.modal?o.jsx(tDe,{...i,ref:t}):o.jsx(nDe,{...i,ref:t})})});FG.displayName=mm;var eDe=TG("PopoverContent.RemoveScroll"),tDe=f.forwardRef((e,t)=>{const n=Zu(mm,e.__scopePopover),r=f.useRef(null),i=en(t,r),s=f.useRef(!1);return f.useEffect(()=>{const a=r.current;if(a)return hj(a)},[]),o.jsx(ax,{as:eDe,allowPinchZoom:!0,children:o.jsx(BG,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),nDe=f.forwardRef((e,t)=>{const n=Zu(mm,e.__scopePopover),r=f.useRef(!1),i=f.useRef(!1);return o.jsx(BG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),BG=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=Zu(mm,n),p=Ix(n);return sj(),o.jsx(tx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ex,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(OE,{"data-state":WG(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qG="PopoverClose",rDe=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Zu(qG,n);return o.jsx(AG.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});rDe.displayName=qG;var iDe="PopoverArrow",sDe=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ix(n);return o.jsx(PE,{...i,...r,ref:t})});sDe.displayName=iDe;function WG(e){return e?"open":"closed"}var aDe=DG,oDe=LG,lDe=$G,UG=FG;const wl=aDe,jl=oDe,Mo=f.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>o.jsx(lDe,{children:o.jsx(UG,{ref:i,align:t,sideOffset:n,className:te("z-50 w-72 rounded-xl border bg-popover p-4 text-popover-foreground shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Mo.displayName=UG.displayName;const uL=(e,t)=>{const n=String(e||"").trim();if(!n)return null;if(t){const c=/^(\d{4})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2})(?::(\d{2}))?$/.exec(n);if(!c)return null;const[,u,d,h,m,p,g]=c,y=new Date(Number(u),Number(d)-1,Number(h),Number(m),Number(p),g?Number(g):0,0);return Number.isFinite(y.getTime())?y:null}const r=/^(\d{4})-(\d{2})-(\d{2})$/.exec(n);if(!r)return null;const[,i,s,a]=r,l=new Date(Number(i),Number(s)-1,Number(a),0,0,0,0);return Number.isFinite(l.getTime())?l:null},dL=(e,t)=>t?zs(e,"yyyy-MM-dd'T'HH:mm"):zs(e,"yyyy-MM-dd"),hL=(e,t)=>new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),AS=e=>{const t=(e==null?void 0:e.from)??(e==null?void 0:e.to)??new Date,n=my(t),r=e!=null&&e.to?my(e.to):hm(n,1),i=r.getTime()<=n.getTime()?hm(n,1):r;return{left:n,right:i}};function VG({className:e,triggerClassName:t,date:n,setDate:r,withTime:i=!1}){const{t:s}=Ut(),[a,l]=f.useState(!1),[c,u]=f.useState(""),[d,h]=f.useState(""),[m,p]=f.useState(()=>AS(n).left),[g,y]=f.useState(()=>AS(n).right);f.useEffect(()=>{if(!a)return;u(n!=null&&n.from?dL(n.from,i):""),h(n!=null&&n.to?dL(n.to,i):"");const{left:_,right:k}=AS(n);p(_),y(k)},[a,n==null?void 0:n.from,n==null?void 0:n.to,i]);const x=f.useMemo(()=>{if(!(n!=null&&n.from))return null;const _=i?"yyyy-MM-dd HH:mm":"yyyy-MM-dd";return n.to?`${zs(n.from,_)} - ${zs(n.to,_)}`:zs(n.from,_)},[n==null?void 0:n.from,n==null?void 0:n.to,i]),v=_=>{if(!r)return;const k=_.from!==void 0?_.from:n==null?void 0:n.from,C=_.to!==void 0?_.to:n==null?void 0:n.to;if(!k&&!C){r(void 0);return}if(k&&C&&C.getTime()<k.getTime()){r({from:C,to:k});return}r({from:k,to:C})},w=_=>{if(!r)return;if(!_){r(void 0);return}if(!i){r(_);return}const k=_.from&&(n!=null&&n.from)?hL(n.from,_.from):_.from,C=_.to&&(n!=null&&n.to)?hL(n.to,_.to):_.to;r({from:k,to:C})},b=_=>{const k=my(_);p(k);const C=hm(k,1);g.getTime()<C.getTime()&&y(C)},j=_=>{const k=my(_);y(k);const C=pAe(k);m.getTime()>C.getTime()&&p(C)};return o.jsx("div",{className:te("grid gap-2",e),children:o.jsxs(wl,{open:a,onOpenChange:l,children:[o.jsx(jl,{asChild:!0,children:o.jsxs(B,{id:"date",variant:"outline",className:te("h-9 w-[260px] justify-start text-left font-normal",t,!n&&"text-muted-foreground"),children:[o.jsx(U6,{className:"mr-2 h-4 w-4"}),x?o.jsx("span",{className:"truncate",children:x}):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Mo,{className:"w-auto p-3",align:"end",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:s("common.from")}),o.jsx(G,{type:i?"datetime-local":"date",value:c,onChange:_=>{const k=_.target.value;if(u(k),!r)return;if(!k.trim()){v({from:void 0,to:void 0}),h("");return}const C=uL(k,i);C&&v({from:C})},className:"h-8"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:s("common.to")}),o.jsx(G,{type:i?"datetime-local":"date",value:d,onChange:_=>{const k=_.target.value;if(h(k),!r)return;if(!k.trim()){v({to:void 0});return}const C=uL(k,i);C&&v({to:C})},className:"h-8"})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("div",{className:"flex flex-col sm:flex-row",children:[o.jsx("div",{className:"border-b border-border/70 sm:border-b-0 sm:border-r",children:o.jsx(YO,{initialFocus:!0,mode:"range",month:m,onMonthChange:b,selected:n,onSelect:w,numberOfMonths:1})}),o.jsx("div",{children:o.jsx(YO,{mode:"range",month:g,onMonthChange:j,selected:n,onSelect:w,numberOfMonths:1})})]})})]})})]})})}function cDe(){const{t:e}=Ut(),t=e("common.currency_symbol"),[n,r]=f.useState("last_30_days"),[i,s]=f.useState("amount"),[a,l]=f.useState({from:xd(new Date,30),to:new Date}),[c,u]=f.useState([]),[d,h]=f.useState({total_income:0,transaction_count:0,avg_amount:0,commission_total:0,commission_count:0,commission_rate:0,start_date:"",end_date:""}),m=d.start_date&&d.end_date?e("dashboard.range_display",{start:d.start_date,end:d.end_date}):a!=null&&a.from&&(a!=null&&a.to)?e("dashboard.range_display",{start:zs(a.from,"yyyy-MM-dd"),end:zs(a.to,"yyyy-MM-dd")}):"";return f.useEffect(()=>{const p=new Date;let g=p,y=p;switch(n){case"last_30_days":g=xd(p,30);break;case"last_7_days":g=xd(p,7);break;case"last_90_days":g=xd(p,90);break;case"last_180_days":g=xd(p,180);break;case"last_year":g=xd(p,365);break;case"custom":return}l({from:g,to:y})},[n]),f.useEffect(()=>{if(!(a!=null&&a.from)||!(a!=null&&a.to))return;(async()=>{try{const g=zs(a.from,"yyyy-MM-dd"),y=zs(a.to,"yyyy-MM-dd"),x=await bo.getIncomeRecords({start_date:g,end_date:y}),v=x.data.data.list,w=x.data.data.summary,b=v.map(j=>({date:j.date,amount:ef(j.paid_total),quantity:j.paid_count,commission:ef(j.commission_total)}));u(b),h({total_income:ef(w.paid_total),transaction_count:Number(w.paid_count??0),avg_amount:ef(w.avg_paid_amount),commission_total:ef(w.commission_total),commission_count:Number(w.commission_count??0),commission_rate:Number(w.commission_rate??0),start_date:w.start_date??"",end_date:w.end_date??""})}catch(g){console.error("Failed to fetch income records",g)}})()},[a]),o.jsxs(It,{className:"col-span-full",children:[o.jsxs(Jn,{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{className:"text-base font-semibold",children:e("dashboard.income_overview")}),m?o.jsx("div",{className:"text-xs text-muted-foreground",children:m}):null]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsxs(st,{value:n,onValueChange:r,children:[o.jsx(nt,{className:"h-8 w-[140px] text-xs",children:o.jsx(at,{placeholder:e("dashboard.time_range")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"last_7_days",children:e("dashboard.last_7_days")}),o.jsx(de,{value:"last_30_days",children:e("dashboard.last_30_days")}),o.jsx(de,{value:"last_90_days",children:e("dashboard.last_90_days")}),o.jsx(de,{value:"last_180_days",children:e("dashboard.last_180_days")}),o.jsx(de,{value:"last_year",children:e("dashboard.last_year")}),o.jsx(de,{value:"custom",children:e("dashboard.custom_range")})]})]}),n==="custom"&&o.jsx(VG,{date:a,setDate:l,className:"w-auto",triggerClassName:"h-8 w-[220px]"}),o.jsxs("div",{className:"flex items-center rounded-lg border border-border/70 bg-muted/40 p-1",children:[o.jsx(B,{variant:"ghost",size:"sm",className:i==="amount"?"h-7 bg-card shadow-sm text-foreground":"h-7 text-muted-foreground",onClick:()=>s("amount"),children:e("dashboard.amount")}),o.jsx(B,{variant:"ghost",size:"sm",className:i==="quantity"?"h-7 bg-card shadow-sm text-foreground":"h-7 text-muted-foreground",onClick:()=>s("quantity"),children:e("dashboard.quantity")})]})]})]}),o.jsxs(Lt,{className:"pt-0",children:[o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.total_income")}),o.jsxs("div",{className:"text-2xl font-semibold tabular-nums",children:[t,fd(d.total_income)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.order_count_total",{count:d.transaction_count})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.avg_amount"),": ",t,fd(d.avg_amount)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.total_commission")}),o.jsxs("div",{className:"text-2xl font-semibold tabular-nums",children:[t,fd(d.commission_total)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.commission_count_total",{count:d.commission_count})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.commission_rate"),": ",d.commission_rate.toFixed(2),"%"]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ebe,{width:"100%",height:320,children:o.jsxs(rMe,{data:c,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"incomeAreaFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"hsl(var(--foreground))",stopOpacity:.16}),o.jsx("stop",{offset:"100%",stopColor:"hsl(var(--foreground))",stopOpacity:0})]})}),o.jsx(qK,{strokeDasharray:"2 6",vertical:!1,stroke:"hsl(var(--border))"}),o.jsx(sY,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),o.jsx(aY,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:p=>i==="amount"?`${t}${fd(Number(p),2)}`:e("dashboard.transaction_unit",{count:p})}),o.jsx($Se,{content:({active:p,payload:g})=>{var x;if(!p||!g||g.length===0)return null;const y=((x=g[0])==null?void 0:x.payload)||{};return i==="quantity"?o.jsx("div",{className:"rounded-xl border border-border bg-card px-3 py-2 text-xs shadow-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-foreground/80"}),o.jsx("span",{children:e("dashboard.order_quantity")}),o.jsx("span",{className:"ml-auto font-semibold tabular-nums",children:y.quantity??0})]})}):o.jsx("div",{className:"rounded-xl border border-border bg-card px-3 py-2 text-xs shadow-lg",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-foreground/80"}),o.jsx("span",{children:e("dashboard.order_amount")}),o.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[t,fd(Number(y.amount??0),2)]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-muted-foreground/50"}),o.jsx("span",{children:e("dashboard.commission_amount")}),o.jsxs("span",{className:"ml-auto font-semibold tabular-nums text-foreground",children:[t,fd(Number(y.commission??0),2)]})]})]})})}}),o.jsx(JK,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--foreground))",fill:"url(#incomeAreaFill)",strokeWidth:2,dot:!1,activeDot:{r:5},hide:i!=="amount"}),o.jsx(rY,{dataKey:"quantity",radius:[6,6,0,0],fill:"hsl(var(--foreground))",opacity:.9,barSize:18,hide:i!=="quantity"})]})})})]})]})}function os({open:e,onOpenChange:t,position:n,items:r,contentClassName:i}){return n?o.jsxs(Va,{open:e,onOpenChange:t,children:[o.jsx(Ha,{asChild:!0,children:o.jsx("button",{type:"button",tabIndex:-1,className:"fixed left-0 top-0 h-px w-px opacity-0",style:{left:n.x,top:n.y},"aria-label":"Context menu"})}),o.jsx(fa,{align:"start",side:"bottom",sideOffset:6,className:te("w-56",i),children:r.map((s,a)=>{const l=s.key??`${s.type}-${a}`;if(s.type==="separator")return o.jsx(ns,{},l);const c=te(s.destructive&&"text-destructive focus:text-destructive");return s.type==="checkbox"?o.jsx(IE,{checked:s.checked,disabled:s.disabled,className:c,onCheckedChange:()=>{var u;return(u=s.onSelect)==null?void 0:u.call(s)},children:s.label},l):o.jsx(an,{disabled:s.disabled,className:c,onSelect:()=>{var u;return(u=s.onSelect)==null?void 0:u.call(s)},children:s.label},l)})})]}):null}function ls(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),[i,s]=f.useState(null),a=f.useCallback((l,c)=>{l.preventDefault(),l.stopPropagation(),s(c),r({x:l.clientX,y:l.clientY}),t(!0)},[]);return{open:e,setOpen:t,position:n,data:i,setData:s,openMenu:a}}const HG=()=>{var t;const e=(t=navigator.clipboard)==null?void 0:t.writeText;return window.isSecureContext&&typeof e=="function"},uDe=e=>{try{if(typeof document.execCommand!="function")return!1;const t=document.activeElement,n=document.getSelection(),r=n&&n.rangeCount>0?n.getRangeAt(0):null;let i=!1;const s=c=>{var u;try{(u=c.clipboardData)==null||u.setData("text/plain",e),c.preventDefault(),i=!0}catch{}};document.addEventListener("copy",s);const a=document.createElement("textarea");a.value=e,a.readOnly=!0,a.style.position="fixed",a.style.top="0",a.style.left="-9999px",a.style.opacity="0",a.style.pointerEvents="none",a.style.fontSize="12pt",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,a.value.length);const l=document.execCommand("copy");return document.removeEventListener("copy",s),document.body.removeChild(a),t&&typeof t.focus=="function"&&t.focus(),n&&(n.removeAllRanges(),r&&n.addRange(r)),l&&(i||!HG())}catch{return!1}};async function GO(e){const t=String(e??"");if(!t)return{ok:!1,method:"unsupported"};const n=uDe(t);if(HG())try{return await navigator.clipboard.writeText(t),{ok:!0,method:"clipboard"}}catch{}return n?{ok:!0,method:"execCommand"}:{ok:!1,method:"execCommand"}}async function pl(e){return(await GO(e)).ok}const J0=new Set,If=[],Uv=e=>{if(J0.size===0){If.push(e),If.length>20&&If.shift();return}for(const t of J0)t(e)},pt={show:e=>Uv(e),success:(e,t)=>Uv({tone:"success",message:e,...t??{}}),error:(e,t)=>Uv({tone:"error",message:e,...t??{}}),info:(e,t)=>Uv({tone:"info",message:e,...t??{}}),subscribe:e=>(J0.add(e),If.length&&If.splice(0,If.length).forEach(e),()=>{J0.delete(e)})},fL=({title:e,icon:t,type:n})=>{var v,w,b;const{t:r}=Ut(),[i,s]=f.useState("last_30_days"),[a,l]=f.useState({from:xd(new Date,30),to:new Date}),[c,u]=f.useState([]),d=ls(),[h,m]=f.useState(null);f.useEffect(()=>{(async()=>{let _=Math.floor(Date.now()/1e3)-2592e3,k=Math.floor(Date.now()/1e3);if(i==="today")_=Math.floor(new Date().setHours(0,0,0,0)/1e3);else if(i==="last_7_days")_=Math.floor(Date.now()/1e3)-604800;else if(i==="custom"&&(a!=null&&a.from)&&(a!=null&&a.to)){_=Math.floor(a.from.getTime()/1e3);const C=Math.floor(a.to.getTime()/1e3);Number.isFinite(C)&&C>0&&(k=C)}try{const C=await bo.getTrafficRank(n,_,k);u(C.data.data)}catch(C){console.error(`Failed to fetch ${n} rank`,C)}})()},[n,i,a]);function p(j,_=2){if(!+j)return"0 B";const k=1024,C=_<0?0:_,O=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],M=Math.floor(Math.log(j)/Math.log(k));return`${parseFloat((j/Math.pow(k,M)).toFixed(C))} ${O[M]}`}const g=f.useMemo(()=>Math.max(1,...c.map(j=>j.value||0)),[c]),y=j=>{const _=Math.abs(j);return Number.isInteger(_)?_.toFixed(0):_.toFixed(1)},x=j=>{const _=y(j);return j>0?`+${_}%`:j<0?`-${_}%`:`${_}%`};return o.jsxs(It,{className:"col-span-1",children:[o.jsxs(Jn,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("div",{className:"space-y-1",children:o.jsxs(er,{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:e})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(st,{value:i,onValueChange:s,children:[o.jsx(nt,{className:"h-8 w-[120px] text-xs",children:o.jsx(at,{placeholder:r("dashboard.time_range")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"today",children:r("dashboard.today")}),o.jsx(de,{value:"last_7_days",children:r("dashboard.last_7_days")}),o.jsx(de,{value:"last_30_days",children:r("dashboard.last_30_days")}),o.jsx(de,{value:"custom",children:r("dashboard.custom_range")})]})]}),i==="custom"&&o.jsx(VG,{date:a,setDate:l,withTime:!0,className:"w-auto",triggerClassName:"h-8 w-[260px]"}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground","aria-label":r("dashboard.range"),children:o.jsx(Y_,{className:"h-4 w-4"})})]})]}),o.jsxs(Lt,{children:[o.jsx(ds,{className:"h-[320px] pr-3",children:o.jsxs("div",{className:"space-y-1.5",children:[c.map(j=>{const _=Math.min(100,Math.round(j.value/g*100)),k=Number(j.change),C=Number.isFinite(k)?k:0,O=C>=0;return o.jsxs(wl,{open:h===j.id,onOpenChange:M=>{M||m(P=>P===j.id?null:P)},children:[o.jsx(jl,{asChild:!0,children:o.jsx("div",{className:"group relative rounded-xl bg-muted/40 px-3 py-1.5 transition-colors hover:bg-muted/50",onMouseEnter:()=>m(j.id),onMouseLeave:()=>m(M=>M===j.id?null:M),onContextMenu:M=>d.openMenu(M,j),children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-sm font-medium truncate text-foreground",children:j.name}),o.jsx("div",{className:"mt-2 h-1.5 w-full rounded-full bg-muted/70",children:o.jsx("div",{className:"h-full rounded-full bg-foreground/90",style:{width:`${_}%`}})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-0.5 text-xs leading-tight shrink-0",children:[o.jsxs("div",{className:te("flex items-center font-medium tabular-nums",O?"text-green-600":"text-red-500"),children:[O?o.jsx(bh,{className:"w-3 h-3 mr-1"}):o.jsx(vh,{className:"w-3 h-3 mr-1"}),y(C),"%"]}),o.jsx("div",{className:"text-muted-foreground tabular-nums",children:p(j.value)})]})]})})}),o.jsxs(Mo,{side:"right",align:"center",sideOffset:12,className:"w-auto min-w-[180px] rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 text-[11px] text-white shadow-lg pointer-events-none",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-white/70",children:r("dashboard.current_traffic")}),o.jsx("span",{className:"font-semibold tabular-nums",children:p(j.value)})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3 text-white/80",children:[o.jsx("span",{children:r("dashboard.previous_traffic")}),o.jsx("span",{className:"font-semibold tabular-nums text-white",children:p(j.previousValue)})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-white/70",children:r("dashboard.change_rate")}),o.jsx("span",{className:te("font-semibold tabular-nums",O?"text-green-400":"text-red-400"),children:x(C)})]})]})]},j.id)}),c.length===0&&o.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:r("dashboard.system_log_empty")})]})}),o.jsx(os,{open:d.open,onOpenChange:d.setOpen,position:d.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),r("dashboard.copy_name")]}),disabled:!((v=d.data)!=null&&v.name),onSelect:()=>{var j;(j=d.data)!=null&&j.name&&(d.setOpen(!1),pl(d.data.name).then(_=>_?pt.success(r("common.copied")):pt.error(r("common.copy_failed"))).catch(()=>pt.error(r("common.copy_failed"))))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),r("dashboard.copy_id")]}),disabled:((w=d.data)==null?void 0:w.id)===void 0||((b=d.data)==null?void 0:b.id)===null,onSelect:()=>{var j,_;((j=d.data)==null?void 0:j.id)===void 0||((_=d.data)==null?void 0:_.id)===null||(d.setOpen(!1),pl(String(d.data.id)).then(k=>k?pt.success(r("common.copied")):pt.error(r("common.copy_failed"))).catch(()=>pt.error(r("common.copy_failed"))))}}]})]})]})};function dDe(){const{t:e}=Ut();return o.jsxs(o.Fragment,{children:[o.jsx(fL,{title:e("dashboard.node_traffic_rank"),type:"node",icon:rj}),o.jsx(fL,{title:e("dashboard.user_traffic_rank"),type:"user",icon:tm})]})}function KG(e){return Number.isFinite(e)?Math.max(0,Math.min(100,e)):0}function mL(e,t){if(!Number.isFinite(e)||e<=0)return 0;const n=Number.isFinite(t)&&t>0?t:1;return KG(e/(e+n)*100)}function QO({value:e}){const t=KG(e);return o.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:o.jsx("div",{className:"h-full bg-foreground transition-[width] duration-300",style:{width:`${t}%`}})})}function hDe(){const{t:e}=Ut(),[t,n]=f.useState(null),[r,i]=f.useState(!1),[s,a]=f.useState(null),l=f.useCallback(async()=>{i(!0);try{const m=await bo.getQueueStats();n(m.data.data),a(Date.now())}catch(m){console.error("Failed to fetch queue stats",m)}finally{i(!1)}},[]);f.useEffect(()=>{l();const m=setInterval(l,1e4);return()=>clearInterval(m)},[l]);const c=t!=null&&t.wait&&Object.values(t.wait)[0]||0,u=!!(t!=null&&t.status),d=f.useMemo(()=>mL((t==null?void 0:t.recentJobs)??0,1e3),[t==null?void 0:t.recentJobs]),h=f.useMemo(()=>mL((t==null?void 0:t.jobsPerMinute)??0,50),[t==null?void 0:t.jobsPerMinute]);return o.jsxs(It,{className:"h-full",children:[o.jsxs(Jn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(er,{className:"text-base font-semibold",children:e("dashboard.queue_status")}),s&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.last_updated"),": ",new Date(s).toLocaleTimeString()]})]}),o.jsx(B,{variant:"outline",size:"sm",onClick:l,disabled:r,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",r&&"animate-spin")})})]}),o.jsx(Lt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[u?o.jsx(Tf,{className:"h-5 w-5 text-green-500"}):o.jsx(Fd,{className:"h-5 w-5 text-red-500"}),o.jsx("div",{className:"font-semibold",children:e("dashboard.running_state")})]}),o.jsx("div",{className:te("text-xs font-medium",u?"text-green-600":"text-red-600"),children:e(u?"dashboard.normal":"dashboard.stopped")})]}),o.jsxs("div",{className:"mt-3 text-xs text-muted-foreground flex items-center gap-2",children:[o.jsxs("span",{children:[e("dashboard.wait_time"),":"]}),o.jsxs("span",{className:"font-semibold text-foreground tabular-nums",children:[c,o.jsx("span",{className:"ml-1 text-xs font-medium text-muted-foreground",children:e("dashboard.seconds")})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.pending_tasks")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:(t==null?void 0:t.recentJobs)??0})]}),o.jsx("div",{className:"mt-3",children:o.jsx(QO,{value:d})})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.processed_per_min")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:(t==null?void 0:t.jobsPerMinute)??0})]}),o.jsx("div",{className:"mt-3",children:o.jsx(QO,{value:h})})]})]})]})})]})}function fDe(e){if(!Number.isFinite(e)||e<=0)return"-";if(e<60)return`${e}m`;const t=Math.floor(e/60);return t<48?`${t}h`:`${Math.floor(t/24)}d`}function mDe(e){const t=Math.max(0,Math.floor(Number(e)||0));if(t<60)return`${t}s`;const n=Math.floor(t/60),r=t%60;if(n<60)return`${n}m ${r}s`;const i=Math.floor(n/60),s=n%60;return`${i}h ${s}m`}function pDe(){var ke;const{t:e}=Ut(),[t,n]=f.useState(null),[r,i]=f.useState(!1),[s,a]=f.useState(null),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState([]),[p,g]=f.useState(0),[y,x]=f.useState(1),[v,w]=f.useState(10),[b,j]=f.useState(!1),[_,k]=f.useState(null),C=f.useCallback(async()=>{i(!0);try{const Q=await bo.getQueueStats();n(Q.data.data),a(Date.now())}catch(Q){console.error("Failed to fetch queue stats",Q)}finally{i(!1)}},[]),O=f.useCallback(async(Q,Se=v)=>{d(!0);try{const re=await bo.getHorizonFailedJobs({current:Q,page_size:Se});m(re.data.data||[]),g(re.data.total||0),x(re.data.current||Q)}catch(re){m([]),g(0),console.error("Failed to fetch failed jobs",re)}finally{d(!1)}},[v]);f.useEffect(()=>{C();const Q=setInterval(C,1e4);return()=>clearInterval(Q)},[C]);const M=(t==null?void 0:t.failedJobs)??0,P=((ke=t==null?void 0:t.periods)==null?void 0:ke.failedJobs)??0,A=t==null?void 0:t.queueWithMaxRuntime,R=A&&typeof A=="object"&&"name"in A&&String(A.name)||e("dashboard.na"),F=A&&typeof A=="object"&&"runtime"in A?Number(A.runtime):0,V=Number.isFinite(F)?F>1e3?F/1e3:F:0,K=(t==null?void 0:t.processes)??0,L=K>0?100:0,W=Math.max(1,Math.ceil(p/v)),z=Math.min(h.length,v),T=h.length===0?160:Math.min(560,44+z*52),q=0,Y=Q=>{const Se=String(Q||"").trim();if(!Se)return"-";const re=Se.split("\\").pop()||Se.split("/").pop()||Se;return re.length>42?`${re.slice(0,42)}`:re},ee=Q=>{const Se=String(Q||"").trim();if(!Se)return"-";const re=Se.indexOf("#");if(re>0){const Ne=Se.slice(re+1).trim();if(Ne.length>=16&&/^[0-9a-f-]+$/i.test(Ne))return Se.slice(0,re).trim()}return Se},pe=Q=>{const Se=String(Q||"").split(`
`)[0]||"";if(!Se.trim())return"-";const[re,...Ne]=Se.split(":"),Oe=Y(re),xe=Ne.join(":").trim(),me=xe?`${Oe}: ${xe}`:Oe;return me.length>80?`${me.slice(0,80)}`:me},se=async()=>{k(null),j(!1),c(!0),await O(1)},he=Q=>{const Se=(Q==null?void 0:Q.failed_at)??(Q==null?void 0:Q.failedAt)??(Q==null?void 0:Q.failedAtTimestamp),re=Number(Se);if(!Number.isFinite(re))return String(Se??"-");const Ne=re>1e10?re:re*1e3;try{return new Date(Ne).toLocaleString()}catch{return String(Se)}},Pe=Q=>{const Se=(Q==null?void 0:Q.failed_at)??(Q==null?void 0:Q.failedAt)??(Q==null?void 0:Q.failedAtTimestamp),re=Number(Se);return!Number.isFinite(re)||re<=0?null:re>1e10?Math.trunc(re):Math.trunc(re*1e3)},J=Q=>String((Q==null?void 0:Q.id)??(Q==null?void 0:Q.uuid)??(Q==null?void 0:Q.job_id)??(Q==null?void 0:Q.jobId)??"-"),Re=Q=>{var Se;return String((Q==null?void 0:Q.queue)??((Se=Q==null?void 0:Q.payload)==null?void 0:Se.queue)??"-")},ie=Q=>{var Se;return String((Q==null?void 0:Q.connection)??((Se=Q==null?void 0:Q.payload)==null?void 0:Se.connection)??"-")},Ee=Q=>typeof(Q==null?void 0:Q.exception)=="string"?Q.exception:"",Te=Q=>{const Se=Q==null?void 0:Q.payload;if(!Se)return null;if(typeof Se=="string")try{return JSON.parse(Se)}catch{return Se}return Se},fe=Q=>{if(Q==null)return"";if(typeof Q=="string")return Q;try{return JSON.stringify(Q,null,2)}catch{return String(Q)}},X=Q=>{var xe,me,H;const Se=(Q==null?void 0:Q.queue)??((xe=Q==null?void 0:Q.payload)==null?void 0:xe.queue)??"-",re=(Q==null?void 0:Q.name)??((me=Q==null?void 0:Q.payload)==null?void 0:me.displayName)??((H=Q==null?void 0:Q.payload)==null?void 0:H.job)??(Q==null?void 0:Q.job)??"-",Ne=ee(String(re)),Oe=typeof(Q==null?void 0:Q.exception)=="string"?Q.exception.split(`
`)[0]:"";return{queue:String(Se),name:String(Ne),exception:Oe}};return o.jsxs(o.Fragment,{children:[o.jsxs(It,{className:"h-full",children:[o.jsxs(Jn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(er,{className:"text-base font-semibold",children:e("dashboard.job_details")}),s&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.last_updated"),": ",new Date(s).toLocaleTimeString()]})]}),o.jsx(B,{variant:"outline",size:"sm",onClick:C,disabled:r,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",r&&"animate-spin")})})]}),o.jsx(Lt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("span",{children:e("dashboard.report_7d")}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:se,"aria-label":e("dashboard.failed_jobs_title"),children:o.jsx(zC,{className:"h-4 w-4 text-muted-foreground"})})]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-red-600",children:M})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(AC,{className:"h-4 w-4"}),e("dashboard.retention_time")]}),o.jsxs("div",{className:"font-semibold tabular-nums",children:[P||"-",o.jsx("span",{className:"ml-1 text-xs font-medium text-muted-foreground",children:e("dashboard.minutes")}),o.jsxs("span",{className:"ml-2 text-xs font-medium text-muted-foreground",children:["(",e("dashboard.approx"),": ",fDe(P),")"]})]})]})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.max_runtime_queue")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:mDe(V)})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(Gce,{className:"h-4 w-4"}),e("dashboard.failed_table.queue")]}),o.jsx("div",{className:"max-w-[220px] truncate text-right font-semibold text-foreground",children:R||e("dashboard.na")})]})]})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Y_,{className:"h-4 w-4 text-muted-foreground"}),e("dashboard.active_processes")]}),o.jsxs("div",{className:"text-sm font-semibold tabular-nums",children:[K," / ",K]})]}),o.jsx("div",{className:"mt-3",children:o.jsx(QO,{value:L})})]})]})})]}),o.jsx(un,{open:l,onOpenChange:Q=>{c(Q),Q||(k(null),j(!1))},children:o.jsxs(on,{className:"max-w-5xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("dashboard.failed_jobs_title")})}),o.jsx(ds,{className:"pr-4",style:{height:T},children:u?o.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:e("dashboard.loading")}):h.length===0?o.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:e("dashboard.failed_jobs_empty")}):o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[180px]",children:e("dashboard.failed_table.time")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[140px]",children:e("dashboard.failed_table.queue")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.failed_table.job")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.failed_table.exception")}),o.jsx("th",{className:"text-center font-medium px-3 py-2 w-[84px]",children:e("dashboard.failed_table.action")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:h.map((Q,Se)=>{const re=X(Q),Ne=re.name,Oe=Y(Ne),xe=re.exception||"",me=pe(xe);return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3 align-top text-xs tabular-nums",children:he(Q)}),o.jsx("td",{className:"px-3 py-3 align-top text-xs",children:re.queue}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[260px]",title:Ne,children:Oe})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[360px]",title:xe||"-",children:me})}),o.jsx("td",{className:"px-3 py-3 align-top text-center",children:o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{k(Q),j(!0)},"aria-label":e("dashboard.detail"),children:o.jsx(zC,{className:"h-4 w-4"})})})]},(Q==null?void 0:Q.id)??(Q==null?void 0:Q.uuid)??Se)})})]})})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("dashboard.selected_count",{selected:q,total:p})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e("dashboard.per_page"),o.jsxs(st,{value:String(v),onValueChange:Q=>{const Se=Math.max(10,Number(Q)||10);w(Se),O(1,Se)},children:[o.jsx(nt,{className:"h-8 w-[72px]",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"10",children:"10"}),o.jsx(de,{value:"20",children:"20"}),o.jsx(de,{value:"50",children:"50"}),o.jsx(de,{value:"100",children:"100"})]})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("dashboard.page_info",{current:y,total:W})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(1),disabled:u||y<=1,children:o.jsx(tj,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(Math.max(1,y-1)),disabled:u||y<=1,children:o.jsx(ej,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(Math.min(W,y+1)),disabled:u||y>=W,children:o.jsx(Rm,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(W),disabled:u||y>=W,children:o.jsx(nj,{className:"h-4 w-4"})})]})]})]}),o.jsxs(yr,{children:[o.jsxs(B,{variant:"outline",onClick:()=>O(y),disabled:u,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",u&&"animate-spin")}),e("common.refresh")]}),o.jsx(B,{variant:"outline",onClick:()=>c(!1),children:e("common.close")})]})]})}),o.jsx(un,{open:b,onOpenChange:j,children:o.jsxs(on,{className:"max-w-4xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("dashboard.failed_job_detail_title")})}),o.jsx(ds,{className:"h-[70vh] pr-4",children:_&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-md border p-4",children:o.jsxs("div",{className:"grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.task_id")}),o.jsx("span",{className:"font-medium tabular-nums truncate",children:J(_)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.timestamp_ms")}),o.jsx("span",{className:"font-medium tabular-nums",children:Pe(_)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.failed_table.queue")}),o.jsx("span",{className:"font-medium truncate",children:Re(_)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.connection")}),o.jsx("span",{className:"font-medium truncate",children:ie(_)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 md:col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.failed_at")}),o.jsx("span",{className:"font-medium tabular-nums",children:he(_)})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.exception")}),o.jsx("pre",{className:"min-h-[220px] rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono text-red-600 whitespace-pre-wrap break-words",children:Ee(_)||"-"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.payload")}),o.jsx("pre",{className:"min-h-[260px] rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:fe(Te(_))||"-"})]})]})}),o.jsx(yr,{children:o.jsx(B,{variant:"outline",onClick:()=>j(!1),children:e("common.close")})})]})})]})}function gDe(){const{t:e}=Ut(),[t,n]=f.useState({info:0,warning:0,error:0,total:0}),[r,i]=f.useState(!1),[s,a]=f.useState(!1),[l,c]=f.useState("all"),[u,d]=f.useState(""),[h,m]=f.useState(""),[p,g]=f.useState(1),[y,x]=f.useState(10),[v,w]=f.useState(0),[b,j]=f.useState([]),[_,k]=f.useState(!1),[C,O]=f.useState(!1),[M,P]=f.useState(null),[A,R]=f.useState(!1),[F,V]=f.useState(30),[K,L]=f.useState("all"),[W,z]=f.useState(1e3),[T,q]=f.useState(null),[Y,ee]=f.useState(null),[pe,se]=f.useState(null),[he,Pe]=f.useState(!1),J=f.useCallback(async()=>{i(!0);try{const me=await bo.getSystemStatus();n(me.data.data.logs)}catch(me){console.error("Failed to fetch system log stats",me)}finally{i(!1)}},[]);f.useEffect(()=>{J()},[J]),f.useEffect(()=>{const me=setTimeout(()=>{const H=u.trim();m(H),g(1)},400);return()=>clearTimeout(me)},[u]);const Re=f.useMemo(()=>Math.max(1,Math.ceil(v/y)),[v,y]),ie=0,Ee=me=>{const H=Number(me);if(!Number.isFinite(H)||H<=0)return"-";const Ce=H>1e10?H:H*1e3;try{return new Date(Ce).toLocaleString()}catch{return String(me)}},Te=me=>{const H=(me||"").toUpperCase();return e(H==="ERROR"?"dashboard.error":H==="WARNING"?"dashboard.warning":"dashboard.info")},fe=me=>{const H=(me||"").toUpperCase();return H==="ERROR"?o.jsx(yv,{className:"h-4 w-4 text-red-500"}):H==="WARNING"?o.jsx(vv,{className:"h-4 w-4 text-yellow-500"}):o.jsx(Kb,{className:"h-4 w-4 text-blue-500"})},X=f.useCallback(async()=>{k(!0);try{const me={current:p,page_size:y};l!=="all"&&(me.level=l),h&&(me.keyword=h);const H=await bo.getSystemLog(me);j(H.data.data??[]),w(H.data.total??0)}catch(me){console.error("Failed to fetch system logs",me),j([]),w(0)}finally{k(!1)}},[p,y,l,h]);f.useEffect(()=>{s&&X()},[s,X]);const ke=()=>{c("all"),d(""),m(""),g(1),x(10)},Q=Math.min(b.length,y),Se=b.length===0?220:Math.min(560,44+Q*52),re=me=>Math.max(0,Math.min(365,Math.trunc(me))),Ne=me=>Math.max(100,Math.min(1e4,Math.trunc(me))),Oe=f.useCallback(async me=>{Pe(!0),me!=null&&me.preserveResult||(ee(null),se(null));try{const H=re(F),Ce=await bo.getLogClearStats({days:H,level:K});q(Ce.data.data)}catch(H){console.error("Failed to get log clear stats",H),q(null)}finally{Pe(!1)}},[F,K]),xe=f.useCallback(async()=>{var me,H,Ce,$e,ne,je,Ke,oe;Pe(!0),ee(null),se(null);try{const U=re(F),be=Ne(W),We=await bo.clearSystemLog({days:U,level:K,limit:be}),et=((H=(me=We.data)==null?void 0:me.data)==null?void 0:H.message)||e("dashboard.clear_logs_done"),tt=($e=(Ce=We.data)==null?void 0:Ce.data)==null?void 0:$e.deleted_count,Nt=(je=(ne=We.data)==null?void 0:ne.data)==null?void 0:je.total_count,vt=(oe=(Ke=We.data)==null?void 0:Ke.data)==null?void 0:oe.remaining_count,Mt=[et,Number.isFinite(tt)?`${e("dashboard.clear_logs_deleted")}: ${tt}`:null,Number.isFinite(Nt)?`${e("dashboard.clear_logs_total_count")}: ${Nt}`:null,Number.isFinite(vt)?`${e("dashboard.clear_logs_remaining")}: ${vt}`:null].filter(Boolean).join(" / ");ee(Mt),se(Number.isFinite(tt)?tt>0?"success":"warning":"success"),await J(),s&&await X(),await Oe({preserveResult:!0})}catch(U){console.error("Failed to clear system logs",U),ee(e("common.save_failed")),se("error")}finally{Pe(!1)}},[F,K,W,e,J,s,X,Oe]);return o.jsxs(It,{className:"col-span-full",children:[o.jsxs(Jn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsx(er,{className:"text-base font-semibold",children:e("dashboard.system_log")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-8",onClick:()=>a(!0),children:e("dashboard.view_all")}),o.jsxs(B,{variant:"destructive",size:"sm",className:te("h-8",r&&"opacity-80"),onClick:()=>{R(!0),ee(null),se(null),q(null)},disabled:r,children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("dashboard.clear_logs")]})]})]}),o.jsxs(Lt,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx("div",{className:"rounded-lg p-4 bg-blue-500/10 border border-blue-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[o.jsx(Kb,{className:"h-4 w-4"}),e("dashboard.info")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-blue-700 dark:text-blue-300",children:t.info})]})}),o.jsx("div",{className:"rounded-lg p-4 bg-yellow-500/10 border border-yellow-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-yellow-700 dark:text-yellow-300",children:[o.jsx(vv,{className:"h-4 w-4"}),e("dashboard.warning")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-yellow-700 dark:text-yellow-300",children:t.warning})]})}),o.jsx("div",{className:"rounded-lg p-4 bg-red-500/10 border border-red-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-700 dark:text-red-300",children:[o.jsx(yv,{className:"h-4 w-4"}),e("dashboard.error")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-red-700 dark:text-red-300",children:t.error})]})})]}),o.jsxs("div",{className:"mt-3 text-xs text-muted-foreground",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:t.total}),r&&o.jsx("span",{className:"ml-2",children:e("dashboard.loading")})]})]}),o.jsx(un,{open:A,onOpenChange:R,children:o.jsxs(on,{className:"max-w-3xl",children:[o.jsx(dn,{children:o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Tn,{className:"h-5 w-5 text-red-500"}),e("dashboard.clear_logs_title")]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_days")}),o.jsx(G,{type:"number",min:0,max:365,value:F,onChange:me=>V(re(Number(me.target.value)))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.clear_logs_days_hint")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_level")}),o.jsxs(st,{value:K,onValueChange:me=>L(me),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("dashboard.all")}),o.jsx(de,{value:"info",children:e("dashboard.info")}),o.jsx(de,{value:"warning",children:e("dashboard.warning")}),o.jsx(de,{value:"error",children:e("dashboard.error")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_limit")}),o.jsx(G,{type:"number",min:100,max:1e4,value:W,onChange:me=>z(Ne(Number(me.target.value)))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.clear_logs_limit_hint")})]})]}),o.jsxs("div",{className:"rounded-xl border border-amber-200/80 bg-amber-50/60 p-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-amber-900",children:[o.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-100 text-amber-700",children:o.jsx(ole,{className:"h-4 w-4"})}),e("dashboard.clear_logs_preview")]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Oe(),disabled:he,className:"h-8",children:[o.jsx(U6,{className:te("h-4 w-4 mr-2",he&&"animate-spin")}),e("dashboard.clear_logs_get_stats")]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_cutoff")}),o.jsx("span",{className:"font-semibold tabular-nums truncate",children:(T==null?void 0:T.cutoff_date)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_to_clear")}),o.jsx("span",{className:"font-semibold tabular-nums",children:(T==null?void 0:T.logs_to_clear)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_total_logs")}),o.jsx("span",{className:"font-semibold tabular-nums",children:(T==null?void 0:T.total_logs)??"-"})]})]}),T&&o.jsxs("div",{className:te("mt-4 rounded-lg border p-3 text-sm",T.logs_to_clear===0?"border-red-200 bg-red-50 text-red-700":"border-amber-200 bg-amber-100/60 text-amber-900"),children:[o.jsx("div",{className:"font-medium",children:e("dashboard.clear_logs_will_clear",{count:T.logs_to_clear??0})}),o.jsx("div",{className:"mt-1 text-xs",children:e("dashboard.clear_logs_irreversible")}),o.jsx("div",{className:"mt-1 text-xs",children:e("dashboard.clear_logs_rule_hint")}),T.logs_to_clear===0&&o.jsx("div",{className:"mt-2 text-xs font-medium",children:e("dashboard.clear_logs_zero_error")})]}),Y&&o.jsxs("div",{className:te("mt-3 flex items-start gap-2 rounded-lg border p-3 text-sm",pe==="success"&&"border-emerald-200 bg-emerald-50 text-emerald-700",pe==="warning"&&"border-amber-200 bg-amber-50 text-amber-800",pe==="error"&&"border-red-200 bg-red-50 text-red-700"),role:"status","aria-live":"polite",children:[pe==="success"?o.jsx(Tf,{className:"mt-0.5 h-4 w-4"}):pe==="error"?o.jsx(yv,{className:"mt-0.5 h-4 w-4"}):o.jsx(vv,{className:"mt-0.5 h-4 w-4"}),o.jsx("div",{className:"leading-5",children:Y})]})]})]}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>R(!1),disabled:he,children:e("common.cancel")}),o.jsx(B,{variant:"destructive",onClick:xe,disabled:he,children:e("dashboard.clear_logs_confirm")})]})]})}),o.jsx(un,{open:s,onOpenChange:me=>{a(me),me||(O(!1),P(null))},children:o.jsxs(on,{className:"max-w-6xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("dashboard.system_log")})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center rounded-lg bg-muted/50 p-1",children:[o.jsxs(B,{type:"button",variant:"ghost",size:"sm",className:te(l==="all"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("all"),g(1)},children:[o.jsx(Wg,{className:"h-4 w-4 mr-1.5"}),e("dashboard.all")]}),o.jsxs(B,{type:"button",variant:"ghost",size:"sm",className:te(l==="info"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("info"),g(1)},children:[o.jsx(Kb,{className:"h-4 w-4 mr-1.5 text-blue-500"}),e("dashboard.info")]}),o.jsxs(B,{type:"button",variant:"ghost",size:"sm",className:te(l==="warning"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("warning"),g(1)},children:[o.jsx(vv,{className:"h-4 w-4 mr-1.5 text-yellow-500"}),e("dashboard.warning")]}),o.jsxs(B,{type:"button",variant:"ghost",size:"sm",className:te(l==="error"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("error"),g(1)},children:[o.jsx(yv,{className:"h-4 w-4 mr-1.5 text-red-500"}),e("dashboard.error")]})]})}),o.jsxs("div",{className:"relative w-full md:w-[320px]",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(G,{value:u,onChange:me=>d(me.target.value),placeholder:e("dashboard.system_log_search_placeholder"),className:"h-9 pl-9"})]})]}),o.jsx(ds,{className:"pr-4",style:{height:Se},children:o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[120px]",children:e("dashboard.system_log_table.level")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[180px]",children:e("dashboard.system_log_table.time")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.system_log_table.title")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[120px]",children:e("dashboard.system_log_table.method")}),o.jsx("th",{className:"text-center font-medium px-3 py-2 w-[84px]",children:e("dashboard.system_log_table.action")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:_?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-muted-foreground",children:e("dashboard.loading")})}):b.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-muted-foreground",children:e("dashboard.system_log_empty")})}):b.map((me,H)=>{const Ce=(me.title||"").trim()||(me.context||"").trim()||(me.data||"").trim()||"-",$e=(me.method||"").toUpperCase();return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center gap-2",children:[fe(me.level),o.jsx("span",{className:te("text-xs font-medium",String(me.level||"").toUpperCase()==="ERROR"&&"text-red-600",String(me.level||"").toUpperCase()==="WARNING"&&"text-yellow-700",String(me.level||"").toUpperCase()==="INFO"&&"text-blue-700"),children:Te(me.level)})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-xs tabular-nums",children:Ee(me.created_at)}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[520px]",title:Ce,children:Ce})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("span",{className:te("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",$e==="GET"&&"border-blue-200 bg-blue-50 text-blue-700",$e==="POST"&&"border-green-200 bg-green-50 text-green-700",$e==="PUT"&&"border-amber-200 bg-amber-50 text-amber-700",$e==="DELETE"&&"border-red-200 bg-red-50 text-red-700"),children:$e||"-"})}),o.jsx("td",{className:"px-3 py-3 align-top text-center",children:o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{P(me),O(!0)},"aria-label":e("dashboard.detail"),children:o.jsx(zC,{className:"h-4 w-4"})})})]},me.id??H)})})]})})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("dashboard.selected_count",{selected:ie,total:v})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e("dashboard.per_page"),o.jsxs(st,{value:String(y),onValueChange:me=>{const H=Math.max(10,Number(me)||10);x(H),g(1)},children:[o.jsx(nt,{className:"h-8 w-[72px]",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"10",children:"10"}),o.jsx(de,{value:"20",children:"20"}),o.jsx(de,{value:"50",children:"50"}),o.jsx(de,{value:"100",children:"100"})]})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("dashboard.page_info",{current:p,total:Re})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(1),disabled:_||p<=1,children:o.jsx(tj,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(me=>Math.max(1,me-1)),disabled:_||p<=1,children:o.jsx(ej,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(me=>Math.min(Re,me+1)),disabled:_||p>=Re,children:o.jsx(Rm,{className:"h-4 w-4"})}),o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(Re),disabled:_||p>=Re,children:o.jsx(nj,{className:"h-4 w-4"})})]})]})]}),o.jsxs(yr,{children:[o.jsxs(B,{variant:"outline",onClick:X,disabled:_,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",_&&"animate-spin")}),e("common.refresh")]}),o.jsx(B,{variant:"outline",onClick:ke,disabled:_,children:e("dashboard.system_log_reset_filter")}),o.jsx(B,{variant:"outline",onClick:()=>a(!1),children:e("common.close")})]}),o.jsx(un,{open:C,onOpenChange:O,children:o.jsxs(on,{className:"max-w-4xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("dashboard.system_log_detail_title")})}),o.jsx(ds,{className:"h-[70vh] pr-4",children:M&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-md border p-4",children:o.jsxs("div",{className:"grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.level")}),o.jsx("span",{className:"font-medium",children:Te(M.level)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.time")}),o.jsx("span",{className:"font-medium tabular-nums",children:Ee(M.created_at)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.method")}),o.jsx("span",{className:"font-medium",children:String(M.method||"-").toUpperCase()})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"URI"}),o.jsx("span",{className:"font-medium truncate",children:M.uri||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"IP"}),o.jsx("span",{className:"font-medium tabular-nums",children:M.ip||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Host"}),o.jsx("span",{className:"font-medium truncate",children:M.host||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 md:col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.title")}),o.jsx("span",{className:"font-medium truncate",children:(M.title||"").trim()||(M.context||"").trim()||(M.data||"").trim()||"-"})]})]})}),(M.context||"").trim()&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Context"}),o.jsx("pre",{className:"rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:M.context})]}),(M.data||"").trim()&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Data"}),o.jsx("pre",{className:"rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:M.data})]})]})}),o.jsx(yr,{children:o.jsx(B,{variant:"outline",onClick:()=>O(!1),children:e("common.close")})})]})})]})})]})}function yDe(){return o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(Oge,{}),o.jsx("div",{className:"grid gap-4 grid-cols-1",children:o.jsx(cDe,{})}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsx(dDe,{})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(hDe,{}),o.jsx(pDe,{})]}),o.jsx("div",{className:"grid gap-4 grid-cols-1",children:o.jsx(gDe,{})})]})}const YG=f.createContext(null);function xDe({children:e}){const{t}=Ut(),[n,r]=f.useState(!1),[i,s]=f.useState({}),a=f.useRef(null),l=f.useCallback(y=>{r(!1);const x=a.current;a.current=null,x==null||x(y)},[]),c=f.useCallback(y=>(s(y),r(!0),new Promise(x=>{a.current=x})),[]),u=i.title??t("common.confirm"),d=i.description,h=i.cancelText??t("common.cancel"),m=i.confirmText??t("common.confirm"),p=i.confirmVariant??"default",g=f.useMemo(()=>c,[c]);return o.jsxs(YG.Provider,{value:g,children:[e,o.jsx(un,{open:n,onOpenChange:y=>{if(!y&&n){l(!1);return}r(y)},children:o.jsxs(on,{children:[o.jsxs(dn,{children:[o.jsx(hn,{children:u}),d?o.jsx(pU,{children:d}):null]}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>l(!1),children:h}),o.jsx(B,{variant:p,onClick:()=>l(!0),children:m})]})]})})]})}const wa=()=>{const e=f.useContext(YG);if(!e)throw new Error("useConfirmDialog must be used within <ConfirmDialogProvider />");return e},vDe=e=>e==="error"?6e3:e==="success"?2500:3e3,bDe=()=>{var t,n;const e=(n=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:n.call(t);return e||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`},_De=e=>e==="success"||e==="error"||e==="info"?e:"info";function wDe({children:e}){const[t,n]=f.useState([]),[r,i]=f.useState(()=>new Set),s=f.useRef(new Map),a=f.useRef(new Map),l=f.useCallback(h=>{n(p=>p.filter(g=>g.id!==h)),i(p=>{if(!p.has(h))return p;const g=new Set(p);return g.delete(h),g});const m=a.current.get(h);m&&window.clearTimeout(m),a.current.delete(h)},[]),c=f.useCallback(h=>{i(y=>{if(y.has(h))return y;const x=new Set(y);return x.add(h),x});const m=s.current.get(h);m&&window.clearTimeout(m),s.current.delete(h);const p=a.current.get(h);p&&window.clearTimeout(p);const g=window.setTimeout(()=>l(h),170);a.current.set(h,g)},[l]),u=f.useCallback(h=>{const m=_De(h.tone),p=Number.isFinite(h.durationMs)?Math.max(0,Math.trunc(h.durationMs)):vDe(m),g=bDe(),y={id:g,tone:m,title:h.title,message:String(h.message||""),durationMs:p};if(n(x=>{const v=[y,...x];if(v.length>6){const w=v.pop();if(w){const b=s.current.get(w.id);b&&window.clearTimeout(b),s.current.delete(w.id)}}return v}),p>0){const x=window.setTimeout(()=>c(g),p);s.current.set(g,x)}},[c]);f.useEffect(()=>pt.subscribe(u),[u]),f.useEffect(()=>()=>{for(const h of s.current.values())window.clearTimeout(h);for(const h of a.current.values())window.clearTimeout(h);s.current.clear(),a.current.clear()},[]);const d=f.useMemo(()=>({success:{icon:o.jsx(Tf,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),container:"border-emerald-500/25 bg-emerald-500/5 dark:border-emerald-500/25 dark:bg-emerald-500/10"},error:{icon:o.jsx(Fd,{className:"h-4 w-4 text-rose-600 dark:text-rose-400"}),container:"border-rose-500/25 bg-rose-500/5 dark:border-rose-500/25 dark:bg-rose-500/10"},info:{icon:o.jsx(Kb,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"}),container:"border-sky-500/25 bg-sky-500/5 dark:border-sky-500/25 dark:bg-sky-500/10"}}),[]);return o.jsxs(o.Fragment,{children:[e,o.jsx("div",{"aria-live":"polite",className:"pointer-events-none fixed left-1/2 top-3 z-[100] flex w-full max-w-[360px] -translate-x-1/2 flex-col gap-2 px-3 sm:top-4",children:t.map(h=>o.jsx("div",{className:"pointer-events-auto",children:o.jsxs("div",{role:"status","aria-atomic":"true",className:te("group flex items-center gap-2 rounded-xl border px-3 py-2 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-background/40",r.has(h.id)?"animate-out fade-out-0 slide-out-to-top-2 duration-200":"animate-in fade-in-0 slide-in-from-top-2 duration-200",d[h.tone].container),children:[o.jsx("div",{className:"flex-shrink-0",children:d[h.tone].icon}),o.jsxs("div",{className:"min-w-0 flex-1",children:[h.title?o.jsx("div",{className:"text-[13px] font-semibold leading-4 text-foreground",children:h.title}):null,o.jsx("div",{className:te("text-[13px] leading-4",h.title?"mt-0.5 text-muted-foreground":"text-foreground"),children:h.message})]}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg opacity-70 transition-opacity hover:opacity-100",onClick:()=>c(h.id),"aria-label":"Close",children:o.jsx(Bd,{className:"h-4 w-4"})})]})},h.id))})]})}function jDe(e){const t=kDe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(NDe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function kDe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=ODe(i),l=CDe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SDe=Symbol("radix.slottable");function NDe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SDe}function CDe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function ODe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A1=PDe.reduce((e,t)=>{const n=jDe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),z1="Tabs",[EDe]=ba(z1,[dj]),GG=dj(),[MDe,WT]=EDe(z1),QG=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Jy(l),[h,m]=yl({prop:r,onChange:i,defaultProp:s??"",caller:z1});return o.jsx(MDe,{scope:n,baseId:$a(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(A1.div,{dir:d,"data-orientation":a,...u,ref:t})})});QG.displayName=z1;var XG="TabsList",ZG=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=WT(XG,n),a=GG(n);return o.jsx(F8,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(A1.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});ZG.displayName=XG;var JG="TabsTrigger",eQ=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=WT(JG,n),l=GG(n),c=rQ(a.baseId,r),u=iQ(a.baseId,r),d=r===a.value;return o.jsx(B8,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(A1.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:dt(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:dt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:dt(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(r)})})})});eQ.displayName=JG;var tQ="TabsContent",nQ=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,l=WT(tQ,n),c=rQ(l.baseId,r),u=iQ(l.baseId,r),d=r===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Mi,{present:i||d,children:({present:m})=>o.jsx(A1.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});nQ.displayName=tQ;function rQ(e,t){return`${e}-trigger-${t}`}function iQ(e,t){return`${e}-content-${t}`}var TDe=QG,sQ=ZG,aQ=eQ,oQ=nQ;const Qm=TDe,Nh=f.forwardRef(({className:e,...t},n)=>o.jsx(sQ,{ref:n,className:te("inline-flex items-center justify-center gap-1 rounded-xl bg-muted/40 p-1 text-muted-foreground",e),...t}));Nh.displayName=sQ.displayName;const gr=f.forwardRef(({className:e,...t},n)=>o.jsx(aQ,{ref:n,className:te("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));gr.displayName=aQ.displayName;const ai=f.forwardRef(({className:e,...t},n)=>o.jsx(oQ,{ref:n,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ai.displayName=oQ.displayName;function ADe(e){const t=zDe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(RDe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function zDe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=LDe(i),l=IDe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DDe=Symbol("radix.slottable");function RDe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DDe}function IDe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function LDe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $De=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lQ=$De.reduce((e,t)=>{const n=ADe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),D1="Switch",[FDe]=ba(D1),[BDe,qDe]=FDe(D1),cQ=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=f.useState(null),g=en(t,b=>p(b)),y=f.useRef(!1),x=m?d||!!m.closest("form"):!0,[v,w]=yl({prop:i,defaultProp:s??!1,onChange:u,caller:D1});return o.jsxs(BDe,{scope:n,checked:v,disabled:l,children:[o.jsx(lQ.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":fQ(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:dt(e.onClick,b=>{w(j=>!j),x&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),x&&o.jsx(hQ,{control:m,bubbles:!y.current,name:r,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});cQ.displayName=D1;var uQ="SwitchThumb",dQ=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=qDe(uQ,n);return o.jsx(lQ.span,{"data-state":fQ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});dQ.displayName=uQ;var WDe="SwitchBubbleInput",hQ=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=f.useRef(null),l=en(a,s),c=zT(n),u=kE(t);return f.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hQ.displayName=WDe;function fQ(e){return e?"checked":"unchecked"}var mQ=cQ,UDe=dQ;const Dt=f.forwardRef(({className:e,...t},n)=>o.jsx(mQ,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border border-border/70 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-emerald-600/60 data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-muted dark:data-[state=checked]:border-emerald-500/60 dark:data-[state=checked]:bg-emerald-500 dark:data-[state=unchecked]:bg-muted/40",e),...t,ref:n,children:o.jsx(UDe,{className:te("pointer-events-none block h-5 w-5 rounded-full border border-border/70 bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dt.displayName=mQ.displayName;function Xe({label:e,htmlFor:t,hint:n,children:r}){return o.jsxs("div",{className:"space-y-2 border-b border-border/70 py-4 first:pt-0 last:border-b-0 last:pb-0",children:[o.jsx(Z,{htmlFor:t,className:"block text-sm font-medium leading-5 text-foreground",children:e}),r,n?o.jsx("div",{className:"text-xs text-muted-foreground",children:n}):null]})}function VDe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({app_name:"",app_description:"",app_url:"",force_https:!1,logo:"",subscribe_url:"",tos_url:"",stop_register:!1,currency:"CNY",currency_symbol:""}),p=f.useCallback(b=>({app_name:b.app_name,app_description:b.app_description,app_url:b.app_url,force_https:b.force_https,logo:b.logo,subscribe_url:b.subscribe_url,tos_url:b.tos_url,stop_register:b.stop_register,currency:b.currency,currency_symbol:b.currency_symbol}),[]),g=f.useMemo(()=>p(h),[h,p]),y=f.useMemo(()=>JSON.stringify(g),[g]),x=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const j=(await Gn.fetch("site")).data.data.site||{},_={app_name:j.app_name??"",app_description:j.app_description??"",app_url:j.app_url??"",force_https:!!j.force_https,logo:j.logo??"",subscribe_url:j.subscribe_url??"",tos_url:j.tos_url??"",stop_register:!!j.stop_register,currency:j.currency??"CNY",currency_symbol:j.currency_symbol??""};n.current=!0,r.current=JSON.stringify(p(_)),i.current="",m(_)}catch(b){console.error(b),d(e("common.load_failed"))}finally{a(!1)}},[e,p]);f.useEffect(()=>{x()},[x]);const v=f.useCallback(async b=>{var _,k;t.current&&(window.clearTimeout(t.current),t.current=null);const j=JSON.stringify(b);c(!0),d(e("common.saving"));try{await Gn.save(b),r.current=j,i.current="";const C=String(b.app_name||"").trim();C?localStorage.setItem("app_name",C):localStorage.removeItem("app_name"),window.dispatchEvent(new Event("xboard:site_name_changed")),d(e("common.saved"))}catch(C){console.error(C),i.current=j,d(((k=(_=C==null?void 0:C.response)==null?void 0:_.data)==null?void 0:k.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&y!==r.current&&y!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,v(g)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,g,y,v,l]);const w=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:y===r.current?{label:e("common.saved"),className:"text-green-600"}:y===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[y,l,e]);return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.site_settings")}),o.jsx(ha,{children:e("system.site_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",w.className),children:[e("common.autosave"),": ",w.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:x,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>v(g),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.site_name"),htmlFor:"site_name",hint:e("system.site_name_hint"),children:o.jsx(G,{id:"site_name",value:h.app_name,onChange:b=>m(j=>({...j,app_name:b.target.value})),placeholder:"Xboard"})}),o.jsx(Xe,{label:e("system.site_description"),htmlFor:"site_desc",hint:e("system.site_description_hint"),children:o.jsx(G,{id:"site_desc",value:h.app_description,onChange:b=>m(j=>({...j,app_description:b.target.value})),placeholder:"Xboard is best!"})}),o.jsx(Xe,{label:e("system.site_url"),htmlFor:"site_url",hint:e("system.site_url_hint"),children:o.jsx(G,{id:"site_url",value:h.app_url,onChange:b=>m(j=>({...j,app_url:b.target.value})),placeholder:"https://example.com"})}),o.jsx(Xe,{label:e("system.site_ssl"),htmlFor:"https",hint:e("system.site_ssl_hint"),children:o.jsx(Dt,{id:"https",checked:h.force_https,onCheckedChange:b=>m(j=>({...j,force_https:b}))})}),o.jsx(Xe,{label:e("system.stop_register"),htmlFor:"stop_register",hint:e("system.stop_register_hint"),children:o.jsx(Dt,{id:"stop_register",checked:h.stop_register,onCheckedChange:b=>m(j=>({...j,stop_register:b}))})}),o.jsx(Xe,{label:e("system.site_logo"),htmlFor:"logo",hint:e("system.site_logo_hint"),children:o.jsx(G,{id:"logo",value:h.logo,onChange:b=>m(j=>({...j,logo:b.target.value})),placeholder:"https://example.com/logo.png"})}),o.jsx(Xe,{label:e("system.subscribe_url"),htmlFor:"sub_url",hint:e("system.subscribe_url_hint"),children:o.jsx(G,{id:"sub_url",value:h.subscribe_url,onChange:b=>m(j=>({...j,subscribe_url:b.target.value})),placeholder:"https://sub.example.com"})}),o.jsx(Xe,{label:e("system.tos_url"),htmlFor:"tos",hint:e("system.tos_url_hint"),children:o.jsx(G,{id:"tos",value:h.tos_url,onChange:b=>m(j=>({...j,tos_url:b.target.value})),placeholder:"https://example.com/tos"})}),o.jsx(Xe,{label:e("system.currency"),htmlFor:"currency",hint:e("system.currency_hint"),children:o.jsx(G,{id:"currency",value:h.currency,onChange:b=>m(j=>({...j,currency:b.target.value})),placeholder:"CNY"})}),o.jsx(Xe,{label:e("system.currency_symbol"),htmlFor:"currency_symbol",hint:e("system.currency_symbol_hint"),children:o.jsx(G,{id:"currency_symbol",value:h.currency_symbol,onChange:b=>m(j=>({...j,currency_symbol:b.target.value})),placeholder:""})}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function HDe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({email_verify:!1,safe_mode_enable:!1,secure_path:"",captcha_enable:!1,captcha_type:"recaptcha",recaptcha_key:"",recaptcha_site_key:"",recaptcha_v3_secret_key:"",recaptcha_v3_site_key:"",recaptcha_v3_score_threshold:"0.5",turnstile_secret_key:"",turnstile_site_key:"",email_whitelist_enable:!1,email_whitelist_suffix:"",email_gmail_limit_enable:!1,register_limit_by_ip_enable:!1,register_limit_count:"3",register_limit_expire:"60",password_limit_enable:!0,password_limit_count:"5",password_limit_expire:"60"}),p=f.useCallback(j=>{const _=j.split(",").map(k=>k.trim()).filter(Boolean);return Array.from(new Set(_))},[]),g=f.useMemo(()=>p(h.email_whitelist_suffix),[h.email_whitelist_suffix,p]),y=f.useMemo(()=>({email_verify:h.email_verify,safe_mode_enable:h.safe_mode_enable,secure_path:h.secure_path,captcha_enable:h.captcha_enable,captcha_type:h.captcha_type,recaptcha_key:h.recaptcha_key,recaptcha_site_key:h.recaptcha_site_key,recaptcha_v3_secret_key:h.recaptcha_v3_secret_key,recaptcha_v3_site_key:h.recaptcha_v3_site_key,recaptcha_v3_score_threshold:Number(h.recaptcha_v3_score_threshold),turnstile_secret_key:h.turnstile_secret_key,turnstile_site_key:h.turnstile_site_key,email_whitelist_enable:h.email_whitelist_enable,email_whitelist_suffix:g,email_gmail_limit_enable:h.email_gmail_limit_enable,register_limit_by_ip_enable:h.register_limit_by_ip_enable,register_limit_count:Number(h.register_limit_count),register_limit_expire:Number(h.register_limit_expire),password_limit_enable:h.password_limit_enable,password_limit_count:Number(h.password_limit_count),password_limit_expire:Number(h.password_limit_expire)}),[h,g]),x=f.useMemo(()=>JSON.stringify(y),[y]),v=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const _=(await Gn.fetch("safe")).data.data.safe||{},k=Array.isArray(_.email_whitelist_suffix)?_.email_whitelist_suffix.join(","):_.email_whitelist_suffix??"",C={email_verify:!!_.email_verify,safe_mode_enable:!!_.safe_mode_enable,secure_path:_.secure_path??"",captcha_enable:!!_.captcha_enable,captcha_type:_.captcha_type??"recaptcha",recaptcha_key:_.recaptcha_key??"",recaptcha_site_key:_.recaptcha_site_key??"",recaptcha_v3_secret_key:_.recaptcha_v3_secret_key??"",recaptcha_v3_site_key:_.recaptcha_v3_site_key??"",recaptcha_v3_score_threshold:String(_.recaptcha_v3_score_threshold??"0.5"),turnstile_secret_key:_.turnstile_secret_key??"",turnstile_site_key:_.turnstile_site_key??"",email_whitelist_enable:!!_.email_whitelist_enable,email_whitelist_suffix:k,email_gmail_limit_enable:!!_.email_gmail_limit_enable,register_limit_by_ip_enable:!!_.register_limit_by_ip_enable,register_limit_count:String(_.register_limit_count??"3"),register_limit_expire:String(_.register_limit_expire??"60"),password_limit_enable:!!_.password_limit_enable,password_limit_count:String(_.password_limit_count??"5"),password_limit_expire:String(_.password_limit_expire??"60")};n.current=!0,r.current=JSON.stringify({email_verify:C.email_verify,safe_mode_enable:C.safe_mode_enable,secure_path:C.secure_path,captcha_enable:C.captcha_enable,captcha_type:C.captcha_type,recaptcha_key:C.recaptcha_key,recaptcha_site_key:C.recaptcha_site_key,recaptcha_v3_secret_key:C.recaptcha_v3_secret_key,recaptcha_v3_site_key:C.recaptcha_v3_site_key,recaptcha_v3_score_threshold:Number(C.recaptcha_v3_score_threshold),turnstile_secret_key:C.turnstile_secret_key,turnstile_site_key:C.turnstile_site_key,email_whitelist_enable:C.email_whitelist_enable,email_whitelist_suffix:p(C.email_whitelist_suffix),email_gmail_limit_enable:C.email_gmail_limit_enable,register_limit_by_ip_enable:C.register_limit_by_ip_enable,register_limit_count:Number(C.register_limit_count),register_limit_expire:Number(C.register_limit_expire),password_limit_enable:C.password_limit_enable,password_limit_count:Number(C.password_limit_count),password_limit_expire:Number(C.password_limit_expire)}),i.current="",m(C)}catch(j){console.error(j),d(e("common.load_failed"))}finally{a(!1)}},[p,e]);f.useEffect(()=>{v()},[v]);const w=f.useCallback(async j=>{var k,C;t.current&&(window.clearTimeout(t.current),t.current=null);const _=JSON.stringify(j);c(!0),d(e("common.saving"));try{await Gn.save(j),r.current=_,i.current="",d(e("common.saved"))}catch(O){console.error(O),i.current=_,d(((C=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:C.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&x!==r.current&&x!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,w(y)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,y,x,w,l]);const b=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:x===r.current?{label:e("common.saved"),className:"text-green-600"}:x===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[x,l,e]);return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.security_settings")}),o.jsx(ha,{children:e("system.security_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",b.className),children:[e("common.autosave"),": ",b.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:v,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>w(y),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.email_verify"),htmlFor:"email_verify",hint:e("system.email_verify_hint"),children:o.jsx(Dt,{id:"email_verify",checked:h.email_verify,onCheckedChange:j=>m(_=>({..._,email_verify:j}))})}),o.jsx(Xe,{label:e("system.safe_mode_enable"),htmlFor:"safe_mode_enable",hint:e("system.safe_mode_enable_hint"),children:o.jsx(Dt,{id:"safe_mode_enable",checked:h.safe_mode_enable,onCheckedChange:j=>m(_=>({..._,safe_mode_enable:j}))})}),o.jsx(Xe,{label:e("system.secure_path"),htmlFor:"secure_path",hint:e("system.secure_path_hint"),children:o.jsx(G,{id:"secure_path",value:h.secure_path,onChange:j=>m(_=>({..._,secure_path:j.target.value}))})}),o.jsxs("div",{className:"space-y-0 pt-4",children:[o.jsx(Xe,{label:e("system.enable_captcha"),htmlFor:"captcha",hint:e("system.enable_captcha_hint"),children:o.jsx(Dt,{id:"captcha",checked:h.captcha_enable,onCheckedChange:j=>m(_=>({..._,captcha_enable:j}))})}),h.captcha_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Xe,{label:e("system.captcha_type"),hint:e("system.captcha_type_hint"),children:o.jsxs(st,{value:h.captcha_type,onValueChange:j=>m(_=>({..._,captcha_type:j})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("system.captcha_type")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"recaptcha",children:"reCAPTCHA"}),o.jsx(de,{value:"recaptcha-v3",children:"reCAPTCHA v3"}),o.jsx(de,{value:"turnstile",children:"Turnstile"})]})]})}),h.captcha_type==="recaptcha"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.recaptcha_key"),htmlFor:"recaptcha_key",children:o.jsx(G,{id:"recaptcha_key",value:h.recaptcha_key,onChange:j=>m(_=>({..._,recaptcha_key:j.target.value}))})}),o.jsx(Xe,{label:e("system.recaptcha_site_key"),htmlFor:"recaptcha_site_key",children:o.jsx(G,{id:"recaptcha_site_key",value:h.recaptcha_site_key,onChange:j=>m(_=>({..._,recaptcha_site_key:j.target.value}))})})]}),h.captcha_type==="recaptcha-v3"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.recaptcha_v3_secret_key"),htmlFor:"recaptcha_v3_secret",children:o.jsx(G,{id:"recaptcha_v3_secret",value:h.recaptcha_v3_secret_key,onChange:j=>m(_=>({..._,recaptcha_v3_secret_key:j.target.value}))})}),o.jsx(Xe,{label:e("system.recaptcha_v3_site_key"),htmlFor:"recaptcha_v3_site",children:o.jsx(G,{id:"recaptcha_v3_site",value:h.recaptcha_v3_site_key,onChange:j=>m(_=>({..._,recaptcha_v3_site_key:j.target.value}))})}),o.jsx(Xe,{label:e("system.recaptcha_v3_score_threshold"),htmlFor:"recaptcha_v3_score",children:o.jsx(G,{id:"recaptcha_v3_score",value:h.recaptcha_v3_score_threshold,onChange:j=>m(_=>({..._,recaptcha_v3_score_threshold:j.target.value}))})})]}),h.captcha_type==="turnstile"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.turnstile_secret_key"),htmlFor:"turnstile_secret",children:o.jsx(G,{id:"turnstile_secret",value:h.turnstile_secret_key,onChange:j=>m(_=>({..._,turnstile_secret_key:j.target.value}))})}),o.jsx(Xe,{label:e("system.turnstile_site_key"),htmlFor:"turnstile_site",children:o.jsx(G,{id:"turnstile_site",value:h.turnstile_site_key,onChange:j=>m(_=>({..._,turnstile_site_key:j.target.value}))})})]})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Xe,{label:e("system.email_whitelist_enable"),htmlFor:"email_whitelist_enable",hint:e("system.email_whitelist_enable_hint"),children:o.jsx(Dt,{id:"email_whitelist_enable",checked:h.email_whitelist_enable,onCheckedChange:j=>m(_=>({..._,email_whitelist_enable:j}))})}),h.email_whitelist_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Xe,{label:e("system.email_whitelist_suffix"),htmlFor:"email_whitelist_suffix",hint:e("system.email_whitelist_hint"),children:o.jsx(G,{id:"email_whitelist_suffix",value:h.email_whitelist_suffix,onChange:j=>m(_=>({..._,email_whitelist_suffix:j.target.value})),placeholder:"qq.com,gmail.com"})}),o.jsx(Xe,{label:e("system.email_gmail_limit_enable"),htmlFor:"email_gmail_limit_enable",hint:e("system.email_gmail_limit_enable_hint"),children:o.jsx(Dt,{id:"email_gmail_limit_enable",checked:h.email_gmail_limit_enable,onCheckedChange:j=>m(_=>({..._,email_gmail_limit_enable:j}))})})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Xe,{label:e("system.register_limit_by_ip"),htmlFor:"register_limit_by_ip_enable",hint:e("system.register_limit_by_ip_hint"),children:o.jsx(Dt,{id:"register_limit_by_ip_enable",checked:h.register_limit_by_ip_enable,onCheckedChange:j=>m(_=>({..._,register_limit_by_ip_enable:j}))})}),h.register_limit_by_ip_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Xe,{label:e("system.register_limit_count"),htmlFor:"register_limit_count",hint:e("system.register_limit_count_hint"),children:o.jsx(G,{id:"register_limit_count",value:h.register_limit_count,onChange:j=>m(_=>({..._,register_limit_count:j.target.value}))})}),o.jsx(Xe,{label:e("system.register_limit_expire"),htmlFor:"register_limit_expire",hint:e("system.register_limit_expire_hint"),children:o.jsx(G,{id:"register_limit_expire",value:h.register_limit_expire,onChange:j=>m(_=>({..._,register_limit_expire:j.target.value}))})})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Xe,{label:e("system.password_limit_enable"),htmlFor:"password_limit_enable",hint:e("system.password_limit_enable_hint"),children:o.jsx(Dt,{id:"password_limit_enable",checked:h.password_limit_enable,onCheckedChange:j=>m(_=>({..._,password_limit_enable:j}))})}),h.password_limit_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Xe,{label:e("system.password_limit_count"),htmlFor:"password_limit_count",hint:e("system.password_limit_count_hint"),children:o.jsx(G,{id:"password_limit_count",value:h.password_limit_count,onChange:j=>m(_=>({..._,password_limit_count:j.target.value}))})}),o.jsx(Xe,{label:e("system.password_limit_expire"),htmlFor:"password_limit_expire",hint:e("system.password_limit_expire_hint"),children:o.jsx(G,{id:"password_limit_expire",value:h.password_limit_expire,onChange:j=>m(_=>({..._,password_limit_expire:j.target.value}))})})]})]}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function KDe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({subscribe_path:"s",plan_change_enable:!0,surplus_enable:!0,reset_traffic_method:"0",show_info_to_server_enable:!1,show_protocol_to_server_enable:!1,default_remind_expire:!0,default_remind_traffic:!0}),p=f.useMemo(()=>({subscribe_path:h.subscribe_path,plan_change_enable:h.plan_change_enable,surplus_enable:h.surplus_enable,reset_traffic_method:Number(h.reset_traffic_method),show_info_to_server_enable:h.show_info_to_server_enable,show_protocol_to_server_enable:h.show_protocol_to_server_enable,default_remind_expire:h.default_remind_expire,default_remind_traffic:h.default_remind_traffic}),[h]),g=f.useMemo(()=>JSON.stringify(p),[p]),y=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const b=(await Gn.fetch("subscribe")).data.data.subscribe||{},j={subscribe_path:b.subscribe_path??"s",plan_change_enable:!!b.plan_change_enable,surplus_enable:!!b.surplus_enable,reset_traffic_method:String(b.reset_traffic_method??0),show_info_to_server_enable:!!b.show_info_to_server_enable,show_protocol_to_server_enable:!!b.show_protocol_to_server_enable,default_remind_expire:!!b.default_remind_expire,default_remind_traffic:!!b.default_remind_traffic};n.current=!0,r.current=JSON.stringify({subscribe_path:j.subscribe_path,plan_change_enable:j.plan_change_enable,surplus_enable:j.surplus_enable,reset_traffic_method:Number(j.reset_traffic_method),show_info_to_server_enable:j.show_info_to_server_enable,show_protocol_to_server_enable:j.show_protocol_to_server_enable,default_remind_expire:j.default_remind_expire,default_remind_traffic:j.default_remind_traffic}),i.current="",m(j)}catch(w){console.error(w),d(e("common.load_failed"))}finally{a(!1)}},[e]);f.useEffect(()=>{y()},[y]);const x=f.useCallback(async w=>{var j,_;t.current&&(window.clearTimeout(t.current),t.current=null);const b=JSON.stringify(w);c(!0),d(e("common.saving"));try{await Gn.save(w),r.current=b,i.current="",d(e("common.saved"))}catch(k){console.error(k),i.current=b,d(((_=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:_.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&g!==r.current&&g!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,x(p)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,p,g,x,l]);const v=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:g===r.current?{label:e("common.saved"),className:"text-green-600"}:g===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[g,l,e]);return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.subscription_settings")}),o.jsx(ha,{children:e("system.subscription_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",v.className),children:[e("common.autosave"),": ",v.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:y,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>x(p),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.subscribe_path"),htmlFor:"subscribe_path",hint:e("system.subscribe_path_hint"),children:o.jsx(G,{id:"subscribe_path",value:h.subscribe_path,onChange:w=>m(b=>({...b,subscribe_path:w.target.value})),placeholder:"s"})}),o.jsx(Xe,{label:e("system.plan_change_enable"),htmlFor:"plan_change_enable",hint:e("system.plan_change_enable_hint"),children:o.jsx(Dt,{id:"plan_change_enable",checked:h.plan_change_enable,onCheckedChange:w=>m(b=>({...b,plan_change_enable:w}))})}),o.jsx(Xe,{label:e("system.surplus_enable"),htmlFor:"surplus_enable",hint:e("system.surplus_enable_hint"),children:o.jsx(Dt,{id:"surplus_enable",checked:h.surplus_enable,onCheckedChange:w=>m(b=>({...b,surplus_enable:w}))})}),o.jsx(Xe,{label:e("system.reset_traffic_method"),hint:e("system.reset_traffic_method_hint"),children:o.jsxs(st,{value:h.reset_traffic_method,onValueChange:w=>m(b=>({...b,reset_traffic_method:w})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("system.reset_traffic_method")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("system.reset_traffic_0")}),o.jsx(de,{value:"1",children:e("system.reset_traffic_1")}),o.jsx(de,{value:"2",children:e("system.reset_traffic_2")}),o.jsx(de,{value:"3",children:e("system.reset_traffic_3")}),o.jsx(de,{value:"4",children:e("system.reset_traffic_4")})]})]})}),o.jsx(Xe,{label:e("system.show_info_to_server_enable"),htmlFor:"show_info_to_server_enable",hint:e("system.show_info_to_server_enable_hint"),children:o.jsx(Dt,{id:"show_info_to_server_enable",checked:h.show_info_to_server_enable,onCheckedChange:w=>m(b=>({...b,show_info_to_server_enable:w}))})}),o.jsx(Xe,{label:e("system.show_protocol_to_server_enable"),htmlFor:"show_protocol_to_server_enable",hint:e("system.show_protocol_to_server_enable_hint"),children:o.jsx(Dt,{id:"show_protocol_to_server_enable",checked:h.show_protocol_to_server_enable,onCheckedChange:w=>m(b=>({...b,show_protocol_to_server_enable:w}))})}),o.jsx(Xe,{label:e("system.default_remind_expire"),htmlFor:"default_remind_expire",hint:e("system.default_remind_expire_hint"),children:o.jsx(Dt,{id:"default_remind_expire",checked:h.default_remind_expire,onCheckedChange:w=>m(b=>({...b,default_remind_expire:w}))})}),o.jsx(Xe,{label:e("system.default_remind_traffic"),htmlFor:"default_remind_traffic",hint:e("system.default_remind_traffic_hint"),children:o.jsx(Dt,{id:"default_remind_traffic",checked:h.default_remind_traffic,onCheckedChange:w=>m(b=>({...b,default_remind_traffic:w}))})}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function YDe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({telegram_bot_enable:!1,telegram_bot_token:"",telegram_discuss_link:""}),p=f.useMemo(()=>({telegram_bot_enable:h.telegram_bot_enable,telegram_bot_token:h.telegram_bot_token,telegram_discuss_link:h.telegram_discuss_link}),[h]),g=f.useMemo(()=>JSON.stringify(p),[p]),y=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const j=(await Gn.fetch("telegram")).data.data.telegram||{},_={telegram_bot_enable:!!j.telegram_bot_enable,telegram_bot_token:j.telegram_bot_token??"",telegram_discuss_link:j.telegram_discuss_link??""};n.current=!0,r.current=JSON.stringify({telegram_bot_enable:_.telegram_bot_enable,telegram_bot_token:_.telegram_bot_token,telegram_discuss_link:_.telegram_discuss_link}),i.current="",m(_)}catch(b){console.error(b),d(e("common.load_failed"))}finally{a(!1)}},[e]);f.useEffect(()=>{y()},[y]);const x=f.useCallback(async b=>{var _,k;t.current&&(window.clearTimeout(t.current),t.current=null);const j=JSON.stringify(b);c(!0),d(e("common.saving"));try{await Gn.save(b),r.current=j,i.current="",d(e("common.saved"))}catch(C){console.error(C),i.current=j,d(((k=(_=C==null?void 0:C.response)==null?void 0:_.data)==null?void 0:k.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&g!==r.current&&g!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,x(p)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,p,g,x,l]);const v=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:g===r.current?{label:e("common.saved"),className:"text-green-600"}:g===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[g,l,e]),w=async()=>{var b,j;c(!0),d("");try{await Gn.setTelegramWebhook(h.telegram_bot_token),d(e("system.telegram_webhook_set"))}catch(_){console.error(_),d(((j=(b=_==null?void 0:_.response)==null?void 0:b.data)==null?void 0:j.message)||e("common.save_failed"))}finally{c(!1)}};return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.telegram_settings")}),o.jsx(ha,{children:e("system.telegram_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",v.className),children:[e("common.autosave"),": ",v.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:y,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>x(p),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.enable_telegram"),htmlFor:"tg_enable",hint:e("system.enable_telegram_hint"),children:o.jsx(Dt,{id:"tg_enable",checked:h.telegram_bot_enable,onCheckedChange:b=>m(j=>({...j,telegram_bot_enable:b}))})}),o.jsx(Xe,{label:e("system.tg_webhook"),htmlFor:"webhook",hint:e("system.tg_webhook_hint"),children:o.jsxs(B,{onClick:w,disabled:l||!h.telegram_bot_token,className:"w-fit",children:[o.jsx(tce,{className:"h-4 w-4 mr-2"}),e("system.set_webhook")]})}),o.jsx(Xe,{label:e("system.tg_group_link"),htmlFor:"group",hint:e("system.tg_group_link_hint"),children:o.jsx(G,{id:"group",value:h.telegram_discuss_link,onChange:b=>m(j=>({...j,telegram_discuss_link:b.target.value})),placeholder:"https://t.me/your_group"})}),o.jsx(Xe,{label:e("system.tg_api_token"),htmlFor:"token",hint:e("system.tg_api_token_hint"),children:o.jsx(G,{id:"token",type:"text",value:h.telegram_bot_token,onChange:b=>m(j=>({...j,telegram_bot_token:b.target.value})),placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"})}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")||u===e("system.telegram_webhook_set")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}const xr=f.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));xr.displayName="Textarea";const GDe=/^[\uD800-\uDBFF]$/,QDe=/^[\uDC00-\uDFFF]$/,XDe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var pL;(function(e){e[e.Unknown=1e-13]="Unknown",e[e.Rule=1e-12]="Rule",e[e.DICT=2e-8]="DICT",e[e.Surname=1]="Surname",e[e.Custom=1]="Custom"})(pL||(pL={}));const ga={Normal:1,Surname:10,Custom:100};function xo(e){var t;return e.length-(((t=e.match(XDe))===null||t===void 0?void 0:t.length)||0)}function ew(e){const t=[];let n=0;for(;n<e.length;){const r=e[n];GDe.test(r)&&QDe.test(e[n+1])?(t.push(e.substring(n,n+2)),n+=2):(t.push(r),n+=1)}return t}class pQ{constructor(){this.NumberDICT=[],this.StringDICT=new Map}get(t){if(t.length>1)return this.StringDICT.get(t);{const n=t.charCodeAt(0);return this.NumberDICT[n]}}set(t,n){if(t.length>1)this.StringDICT.set(t,n);else{const r=t.charCodeAt(0);this.NumberDICT[r]=n}}clear(){this.NumberDICT=[],this.StringDICT.clear()}}const gL={"bng png png":[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng zhng":[""],"ko qio y":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","",""],xi:["","","","","","","","","","","","",""],hn:["","","","","",""],"wn m":[""],zhng:["","","","","","","","","","","","","","","","","","","",""],sn:["","","","","","","","",""],"shng shng shang":[""],"q j":["","",""],"b fu":[""],"y y y":[""],min:["","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],chu:["","","","","","","","",""],zhun:["","","","","","","","","","","","","","","","",""],"qi j":[""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],di:["","","",""],ling:["","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","",""],"sng sng":[""],gn:["","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","",""],"g g":["","",""],y:["","","","","","","","","","","","","","",""],pn:["","","","","","","","","","","","","","","","",""],"zhng zhng":[""],j:["","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun kung":[""],chun:["","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","",""],"wi wi":[""],"jng dn":[""],"l l":[""],j:["","","","","","","","","","","","","","","","","","",""],pi:["","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","",""],"tu zh":["","",""],"me m ma yo":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"w w":[""],zh:["","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","",""],"l yu yo lo":["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","",""],png:["","","","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","",""],gui:[""],"chng shng":["","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho y":[""],"ni mi":[""],q:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","",""],sh:["","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mo:["","","","","","","","","","",""],mi:["","","","","",""],lun:["","",""],r:["","","","","",""],xu:["","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","",""],n:["",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","",""],"qin gn":[""],"zh lun":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln ln":[""],ju:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"le lio":[""],"g m":[""],"y y":["",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","",""],"xi su":[""],"q zhi":["",""],"y y":["","","","",""],"j q":["",""],tu:["","","",""],"wng w":[""],"kng hng gng":[""],d:["",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hi:["","","","","","","","",""],"hng png":[""],m:["","","","","","","","","","","","","","","","","","",""],ye:[""],xing:["","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","",""],"qn qng":["",""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","","","","","","",""],"wi mn":["",""],rn:["","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wng:["","","","",""],"shn sh":[""],l:["","","","","","","","","","","","","","",""],dng:["","","","","","","","",""],z:["","","","","","",""],"jn jn":["","",""],"p p":[""],"chu qi":[""],zhng:["","","",""],jn:["","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","",""],rng:["","","","",""],f:["","",""],"jn sn":[""],ln:["","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","",""],"zi z z":[""],t:["","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu ch du":[""],hng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn hn":[""],"y g":[""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],cho:["","",""],"chng zhng":["","","",""],s:[""],chng:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"men mn":[""],fn:["","","",""],"cho mio":[""],"yng ng":[""],zhng:["","","","","","","","","","","","","",""],"p p":[""],w:["","","","","","","","","","","","","","","","","",""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji ji jie":[""],"yo f":[""],"rn rn":[""],"fn bn":[""],d:["","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","","","","","","","","",""],dio:["","","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","",""],wn:["","","","","","","","","","","",""],xn:[""],kng:["","","","","","",""],i:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j q":["",""],"xi x":[""],"jn yn":[""],dn:["","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","",""],hu:["","","","","","",""],"hu kui":["","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun zhun":["",""],"ch j":["","",""],"j ch":[""],y:["","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],"chen cng":[""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","",""],"xin xun":[""],"n n":[""],"b bi":[""],"g g":[""],n:["","","","","","","","","","","",""],"n n":[""],bn:["","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"s c":[""],bng:["","","","","",""],"s sh":[""],"ji qi g":[""],"y ch":[""],"din tin":["",""],"hn gn":[""],mi:["","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],c:["","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zu:["","",""],yng:["","","","","","","","","","","","","","","","","","",""],"t t":["",""],zhn:["","","","","","","","","","","","","","","","","","","",""],"h h h":[""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","",""],"y di":["","","",""],"f f b b":[""],"zu zu":[""],gu:["","","","","","","","","","","","","","",""],nng:["","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng yng":[""],w:["","","",""],k:["","","","",""],bo:["","","","","","","","","","","","","","",""],"hui hu":[""],"g h":[""],lo:["","","","","","","","","","","","","","",""],xing:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","","","","",""],f:["","","","","",""],mng:["","","","",""],"r ni":[""],hn:["","","","",""],hu:["",""],gu:["","","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tio:["","","","",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","",""],kn:["","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","",""],ku:["","","",""],gng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mu:["","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","",""],"dng tng tng":[""],ch:["","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng gng":["",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jin cn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ta:[""],"jio yo":["","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c z zhi":["",""],kui:["","","","","","","","","","","","","","","","","","","","","","",""],chi:["","","","","","",""],nng:["","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","",""],"hu hu":["",""],jing:["","","","","","","","","","","","","","","","","","","",""],"chng tng":[""],"zhn zhn":["",""],zu:["","","","","","","","","","","","","","",""],qn:["","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh du":[""],tng:["","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","",""],"tu tu":[""],nn:["","","","","","","","","","","","",""],xio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bin pin":["","",""],tu:["","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","",""],"gung kung":[""],k:["","","","","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","","",""],z:["","","","","","","","","","",""],"qio xio":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["",""],pi:[""],s:[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","",""],bo:["","","","","","","","","","","","","","","","","","","","",""],"y sh y":[""],"s q":[""],"xn shn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li ling":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":["","","",""],xio:["","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","",""],bio:["","",""],"ch t":[""],fi:["","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","",""],n:["","","","","","",""],bi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h ch":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu z":[""],"ling li":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","",""],gun:["","","","","","","","","","","","","",""],tin:["","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","",""],"do do":[""],"tn tn":["",""],"ju ju":[""],chu:["","","","","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng chng":[""],hu:["","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","",""],"ling jng":["",""],su:["","","","","","","","","","","","",""],"chng chng":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],jun:["","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","",""],"w wi":[""],lu:["","","","","","","","","",""],sng:["","","","","","","","","","","","","","","","","",""],lng:["","","","",""],z:["","","","","","","","","","","","","",""],bn:["","","","","","",""],ci:["","","","","","","","","","",""],zhi:["","","","",""],y:["","","","","","","","",""],sh:["","","","","","","","","",""],qng:["","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng chn":["",""],run:["","","","","","","","","","",""],"zhng tng":[""],chn:["","","","","",""],"ji ji":[""],"j ji":[""],"bng bng":[""],ru:["","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pin:["","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng dng":[""],:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ch:["","",""],shng:["","",""],ch:["","","","","","","","","","","","",""],hung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","",""],"chu qio":[""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","",""],c:["","","","","","",""],b:["","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ci s":[""],dun:["","","","",""],u:["","","","","","","","",""],tu:["","",""],"zn z z":[""],"l lu":["",""],fn:["","","","","","","","","","","","","","","",""],"ku gu":[""],su:["","","","","","","",""],"zh s t":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","",""],"yun yun":["",""],rng:["","","","",""],n:["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu jing":[""],m:["","","","","","","","","","",""],bng:["","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ho:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x x":[""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin jin":[""],"qu ju":["",""],"cng chen":[""],rng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t tn":[""],su:["","","","","","","","","","","","","","","",""],di:["",""],zi:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bn:["","","","","","","","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","",""],nu:["","","","",""],"cn cn":[""],li:["","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zo co":[""],sng:["","","","","","","","","","",""],o:["","","","","","","","","","","","","","",""],"q cu":[""],chung:["","","",""],sh:["",""],hn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","",""],"yn yn":["","",""],"pio bio":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","",""],"tn tn":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","",""],zhun:["","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu tu":[""],zn:["","","",""],p:["","","","","","","","","","","","","","","","","","",""],lo:["","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","",""],gung:["","","","","","","","","","","","","","","","","",""],lio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","",""],"chn zhn zhun":[""],b:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chun:["","","","",""],"ti jin":[""],sng:["",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""]," w":[""],"tng zhung":[""],ln:["","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji jie":[""],qio:["","","","","","","","","","","","","",""],p:["","","","","","","","","","","",""],si:["","","",""],"chn tn shn":[""],"dng dng":["","",""],xun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["","",""],cn:["","","","","","","",""],"bn bn":[""],"n n":[""],ti:["","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n y i y":[""],mng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","","","","","","","","","","","","",""],qing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],kung:["","",""],bo:["","","","","","","","","","","","","","","","","","","",""],bio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zn:["","","","","","",""],ho:["","","","","","","","","","","","","","","","","",""],qng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"chn chn":[""],"rng xing":["",""],"hu xi":[""],lu:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","",""],"nng nng":[""],"w w":[""],yn:["","","","","","","","","","","","","","","","","",""],zn:["","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],zho:["","","","","","","","","","","","","","","","","","","","","","",""],"du ru yu":["","",""],k:["","","","","","","","","","","","","","","","","","","","","",""],t:["","","","",""],dng:["","","","","","","",""],du:["","","","","",""],hung:["","","","","","","","","","","",""],r:["","","","","","","","","","","",""],ni:["","","",""],"y sh":[""],"li l":[""],han:["",""],tin:["","","","","","","",""],"xng xng":[""],din:["","","","","","","","","","","",""],"z c":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","",""],mo:["","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","",""],"ni n":[""],gng:["","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","","",""],gu:["","","","",""],"mo m":[""],gu:["","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu yn":[""],xi:["","",""],jn:["","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun gun":["","","","",""],mng:["","","","","","","","","","","","",""],zhng:["","","","","","","","",""],zu:["","","","","","","","","","","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],mng:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","","","","",""],ti:["","","","","","","","","","","","","","",""],"fng png":["",""],"chng chng":[""],kung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:[""],pn:["","","","","","","","","","","","","","","","","",""],f:["","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","",""],"jng chng":["","",""],su:["","","","","","","","","","","","","","","","","","","","",""],mi:["","","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhn:["","","","",""],"ling ling":["","",""],dio:["","","","","","","","","","","","","","","","","","","","",""],cu:["","","","",""],i:["","","","","","","",""],du:["","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":[""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch ch":["",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ki:["","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","","","","","",""],"kn qin":[""],t:["","","","","","","","","","","","","","",""],"o w":[""],ch:["","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","","","","","","","","","","","",""],zo:["",""],do:["","","","","","","","",""],chung:["","","","","","","","",""],"fn fn":[""],"qi qi":[""],kn:["","","","","","",""],cn:["",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chung chung":["",""],q:["","","","","","","",""],"bi bi":["",""],"po bo":[""],"chn chn":["","",""],gu:["","","","","","","","","","","","",""],gng:["","","","","","","","","","","","","","",""],do:["","","","","","","","","","","","","","","","","","",""],chung:["","","","",""],k:["","","","","","","","","","","",""],du:["","","","","","","","","","","","","","","",""],"shu shu":[""],"qun xun":[""],"ch sh":["",""],"c c":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","",""],lu:["","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","",""],"xio xu":[""],"ki k":["",""],"l l":[""],t:["","","","","","","","",""],pu:[""],wn:["","","","","","","","","","","",""],"bo b":["",""],du:["","","","","","","","","","",""],qng:["","","","","","","","","","","","","","",""],"yn shn":[""],"d zhu":[""],yn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","",""],shng:["","","","","","","","","","","","","",""],"dun zh":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","",""],"d zh":[""],chun:["","","","","","","","",""],"tun zhun":["","",""],"l ji":[""],png:["","","","","","","","","","",""],pio:["","","","","","","","","","",""],ku:["","","","","","","",""],"jio cho":["","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"zh zh":[""],"p p":["",""],tng:["","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zun:["","","","",""],m:["","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","",""],"jn jng":["","",""],kng:["","","","","","","","","","",""],"xi li":[""],"zh ch":[""],n:["","","",""],sho:["","","","","","","","",""],mio:["","","","","","","","","","",""],ku:["",""],w:["","","","","","","","","","","","","","","","",""],kung:["","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],go:["","","","","","","","","","","","",""],"b bi":[""],lng:["","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","",""],"jun jun":["",""],"l li":[""],ki:["","","",""],"wng yng":[""],qn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","",""],jun:["","","","","","","","","","",""],"tng dng":["","","",""],l:["","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","",""],sho:["","",""],"gu gu":[""],cng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"to yo":["",""],po:["","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"bi bi":[""],no:["","","","","","","","","","","",""],"ch shi":[""],fng:["","","","","","","","","","",""],z:["","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","",""],"zng cng":[""],fi:["","","","","","","","","",""],"ku gu":["",""],sun:[""],p:["","","","","","","","","","",""],"q u":["",""],"k qi":[""],"yn yn":["",""],bin:["","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","",""],nin:["","","","","","",""],s:["","","","","","","","","","",""],z:["","","","","","","",""],shng:["","","","","","","","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","",""],"hu hu hu":["",""],bi:["","","","","","","","","",""],"z c":[""],"dn shn chn":["",""],"nn n":[""],"shui l":[""],"b bo p":[""],"kung gun":[""],bin:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","",""],"zhn zhn":["",""],"k qi":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],gu:["","","","","","","",""],"ng yng":[""],yn:["","","","","","","","","","","","","","","","",""],qu:["","","","","","","","","","","","","","","","","","","",""],lun:[""],"jun jun":["",""],"chng n hn":[""],"wi yn":[""],tng:["","","","","","","","","","","","","","","",""],"zh zhi":[""],"hn n":["",""],y:["","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","",""],"zh zhi":[""],png:["","","","","","","","","","",""],"zh sh":[""],mng:["","","","","","","","","","","","","","","","","","","","","","",""],zu:["","","",""],"sh xi":["",""],o:["","","","","","","","","","","","","","","","","","","","","","","",""],"ln qin":[""],"s mu":[""],"gng hng":[""],"ln mio":[""],"qi ru":[""],d:["","","",""],"xin xun":["",""],"cn shn cn sn":["","","",""],"i y":[""],"ch ch ch ch":[""],shung:["","","","","","","","","","","","","",""],shu:["",""],gui:[""],b:["","","","","","","","","","","","","",""],"f f":[""],"zhu y l ju":[""],q:["","","","","","",""],"ji xi":["",""],"wi y":["","",""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","","","","",""],"j gu":[""],lng:["","","",""],"do do to":[""],"zh zh":[""],jio:["","","","","","","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"k k":[""],"ti ti":["",""],p:["","","","","","",""],"y xi":[""],"ho ho":[""],tn:["","","","","","","",""],"hng hng":[""],mi:["","","",""],"x y y":[""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xun sng":[""],yo:["","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","",""],"h g":["",""],"cn du":[""],"tng tng":[""],"t t":["",""],"zh zh":["",""],"xi h":[""]," y":[""],"ma m m":[""],ln:["","","","","","","","","","","","","","","","",""],tn:["","","",""],"b p":[""],qn:["","","","","","","","","","",""],"ji g":[""],"fu p":[""],"ba b":[""],dn:["","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","",""]," hu":[""],"kng hng":["",""],shn:[""],"zh z":[""],"yn shn":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cho cho":[""],"n n":[""],"xu chu ju":[""],chu:["","",""],"du r":[""],hu:["",""],"hng hu u":[""],"w y":[""],"ya y":[""]," e":[""],di:["","",""],"mn q":[""],hng:["","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","",""],"tn tin":[""],"f ":["",""],"di ti":[""],"u u u":[""],"bi bei":[""],"yun yn yn":["",""],gu:["","","","","","","","","","","","","","","","","","",""],"hu q":[""],"qing qing":["",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jun:["","","","","",""],pn:["",""],"wn mn":[""],"ne n":[""]," m mu":[""],rn:["","","","","","","","","","","","",""],"ti ch":[""],"q zh":[""],"z c":[""],"gu g gu":[""],"c z":[""],"hu x gu":[""],"h     a":[""],no:["","","","","","","","","","","","","","",""],"xi g":[""],pi:["","","","","",""],"ho xio":[""],mng:["",""],"d dn":[""],"zu j":[""],"xin gn":[""],pu:["","",""],"yng yng":[""],"z z zh":[""],"h h hu hu h":[""],hi:[""],d:["","","","","","","","","",""],"k k":[""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"k g":[""],zuo:[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin xin":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x di":[""],"li li li lie":[""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:[""],"j x qi":[""],"g lu k lo":[""],"sh xn":[""],"zn z z zan":[""],"hi k":[""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hui sh":[""],to:["","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]," n":[""],"xun xun":["",""],"wi h w gu gu":[""],"yn y yn":[""],i:["","","","","","",""],pn:["",""],shn:["","","","","","","","","","","","","","","","","","","","","",""],"hng hng hng":[""],"w wa":[""],"h h h":[""],zi:["","","","","","","","",""],"d di":[""],pi:["","","","","","",""],"gn hn":[""],"y y":["",""],"yu hu":["",""],nin:["","","","","","","","","",""],"hu hu":["",""],"j ji zhi":["",""],mu:[""],"y yo":["",""],lng:["","",""],"  ":[""],"l l li":[""],"n na ni n ni":[""],h:["","","","","","","","","","","","","","","","","","","","","","",""],"b p b":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling lng":[""],"li l":[""],hn:["","","","","","","","","",""],"hng hng":[""],gng:["","","","","","","","","","","","","",""],"chu yu":[""],"g ji":[""],"bei bi":[""],"hn hn":[""],chn:["","","","","","","","","","","","","","","","","","","",""],"i i":[""],"ji qin":[""],"yn dn xin":[""],ch:["","","","",""],"w g ":[""],zo:["","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng hng gng":["",""],du:[""],"lo lo":["","",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:["","","","",""],"w wi":[""],fng:["","","",""],"yn jn":[""],"h xi":[""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:[""],chng:["","","","","","","","","",""],"r w":[""],qing:["","","",""],y:[""],y:["","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","",""],"zhu zho tio":[""],kn:["","","","","","","","","",""],"zhu zho":["",""],"hng hng":["",""],"ln ln":[""],"a    ":[""],qing:["","","","","","","","","","","","","","","","","","","",""],"tn zhn xing du":[""],wn:["","","","","","",""],"cu qi":[""],"di sh ji t":[""],"yu w":[""],"z c":[""],"b t":[""],"chu chui":[""],"y y ":[""],fi:["","","","","","","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:[""],"l la":[""],"yng qng":[""],p:["","","","",""],"zh sh":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lu lu luo":["",""],"tn chn tu":[""],bo:["",""],dng:["","","","","","","","","","","","","","","","","",""],lng:[""],"n n":[""],k:["",""],"yng y":[""],"l l l":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","",""],"di zh":[""],wi:["","",""],"nu r":[""],"x hu gu":[""],zn:[""],"w ":[""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hun yun xun h":[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h h y":[""],ku:["","","","","","","","","","","","","","","","","","",""],"zhng chung":[""],"wi wi":["","",""],"du zh":[""],"sng sng":[""],"qio jio":[""],"pn bn":[""],"cn sn q":[""],"zh ch":[""],mio:[""],"pn pn":[""],ku:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lou lu":[""],"zo qio":[""],"h xio xio h":[""]," sh":[""],xi:["","","","","","","","","","","","","","","","","","","","",""],"qing qing":["","","","",""],"i y":["",""],"m m ma":[""],"k k":[""],"d t":["",""],sng:["","","","","","",""],chn:["","","","","","","","",""],"w g":[""],"png bng":[""],"xin qin qin":[""],lo:["","","","","","","","","",""],wng:["","","","","","","",""],w:["","","","","",""],"hi hi":[""],h:["","","","",""],zi:[""],si:[""],"g g g":[""],g:["",""],n:["","","","",""],di:[""],"i i i":[""],tng:["","","",""],"zu su":[""],"zh zh zh zhe":[""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["",""],tn:["","","","","","","","","","","","","",""],"jio do":[""],"ki g":[""],"shn cn":[""],co:["","","","","","","","","","","",""],pio:["","","",""],"lu lou":[""],g:["",""],"g ji":[""],"jio xio":[""],"x sh":["",""],p:["","","","","",""],"d di":[""],"ma m":[""],"l lei":[""],"g g g":[""],si:["","","","","",""],"zu chui":[""],"cho zho":["","",""],zu:["","","",""],"qio qio":["","",""],"ch x shu":[""],"tn chn":[""],"dn tn":["","","","",""],"hi m":[""],:["","","","",""],"fn bo":[""],chung:["","",""],"c z h":[""],"tn ku":[""],"cng chng":[""],dng:["","","","","","","","","",""],p:["","","","","","","",""],ju:["","","",""],l:["","","","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:[""],"zhu zhu":[""],"jio qio ch":[""],yun:["","","","","","","","","","","","",""],"i i i":[""],"yng yng":["",""],"ju xu":[""],"pn pn fn":[""],g:["","","","",""],"xn hn hn":[""],dng:["","","","","","","","","",""],ln:["","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu ":[""],ho:["","","",""],"h xi":[""],"xi p":[""],"zhu chu":["","",""],m:[""],"ch c":[""],"b po bo":[""],"me mi m":[""],"xi hi":[""],"o xio":[""],m:["",""],pn:["","","","","","","","","","","","",""],m:["",""],"rng rng":[""],l:["",""],"jio ju jio":[""],chu:["","","","","","","","","","","","","","","",""],"hun hun":[""],"z c":[""],chi:["","","","",""],"nng nng":[""],"z zn cn":[""],s:["","","","","","","","","",""],zng:["","","","","","",""],"z ni yn":[""],nng:[""],"lu lu luo":[""],"wi gu":[""],hu:["","","","","","","","","","","","","","","",""],nn:["","",""],"jin nn":[""],nn:[""],tun:["","","","","","","","","","",""],"tn dn":["",""],gu:["","","","","","","","","","","","","","","","","",""],kn:["","",""],"wi tng":[""],qn:["","",""],r:["","","","","",""],ti:["","",""],p:["","","","","","","","","","","","","","","","",""],"qun jun jun":["",""],"chu chun":[""],tun:["","",""],l:["","","","","","","","",""],"hun yun":[""],lun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],t:["","","",""],"x wi":[""],"d de":["",""],"qin s":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","",""],"chng chng":["","",""],"q yn":[""],ji:["","","","","","","","","","","","","","","","","","","","",""],"zh zh":[""],bn:["","","","","","","","","","","","",""],qn:["","","","","","","","","","",""],"mi fn":[""],"rng kng":[""],"fng fng":[""],"fn bn":[""],tn:["","","","","","","","","","","",""],"hui pi p pi":[""],"d ln":[""],tn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","",""],"pn bn":[""],kn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","","","","","","",""],"m m":[""],"k k":["",""],xu:["","","","","","","","",""],"d ch":["",""],l:["","","",""],lng:["","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":["","",""],c:["","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","",""],"du du":[""],"du du":["",""],ch:["","","","","","","","","","","",""],shng:["","","","","","","","",""],shu:["","","","","",""],da:["","",""],hng:["","","","","","","","","","","","","","",""],"n n":[""],xng:["","","","","","","","","","","","","","","","","",""],"yun hun":[""],bng:["","","","","","","","","","","",""],"pu f":[""],cn:["","",""],"bng fng":[""],"d fng":[""],"xi ji":[""],"mi mn":[""],lng:["","","","","",""],"shn yn":[""],"qn jn":[""],"p b":[""],hu:["","","","","","","","","",""],"su s":[""],"p p":[""],"qng zhng":["",""],"wn wn":[""],ln:["","",""],"zhng chng":[""],kng:["","","","","",""],"ci ci":["","",""],"ch tu":[""],bng:["","","",""],"kn xin":[""],"y sh":["",""],pi:["","","","","","","","","",""],"so so":[""],"jn qn jn":[""],"png bng":[""],"qin zn jin":[""],n:["","","","","","","","","","","","","",""],"du hu":["",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bo b p":[""],"mo mu w":[""],run:["","",""],"i  y":[""],gng:["",""],mi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","",""],fng:["","","",""],hng:[""],chn:["","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","",""],hung:["","","","","",""],dun:["","","","","","","","","","","","","","","","","",""],t:["","","","","","",""],wng:["","","","","","",""],"si si s":[""],zng:["","","","","","",""],tin:["","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","",""],"tin zhn":[""],wn:["","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","",""],hi:["","","","",""],lng:["","","","","","",""],bng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"u qi":[""],"qin jin":[""],"zhun tun":[""],shung:["","","","","",""],sh:["","","","","","",""],lu:["","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d zh":["",""],kn:["","","","","","",""],chn:["","","","","","","","",""],"zh zhu":[""],qing:["","","","",""],zng:["","","","","","","","","","",""],qing:["","","","","","","","","","","",""],"kui tu":[""],"tun dng":[""],"qio qu":[""],"zn dn":[""],"qio o":[""],"y t":[""],"xu b ju":[""],ln:["","","","","","","","","","","","","","","","","","","","","",""],hui:["","",""],rng:["","","",""],"ln xin":[""],do:["","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","",""],san:[""],zhung:["","","","","","",""],"k qio":["",""],kn:["","","","","","","","","","","","","",""],mng:["","","","","",""],cn:["",""],"zh zhng":[""],"g yng":[""],"jing xing":["",""],"png fng fng":[""],zhi:["","","","","","","",""],"xun xing":[""],wi:["",""],"wn yun wn yun":[""],"mo wn":[""],mng:["","","","","",""],"d di":[""],"f f":["","","",""],gui:["","",""],yng:["","","","","","","","","","","",""],"hng bn":[""],go:["","","","","","","","","","","","","",""],"to bn":[""],"tu tou":[""],"yn to":[""],"ku ku":["",""],"ji ji g xi":[""],hu:["","","","","","","","","","","","","","","","","","","","","",""],"ji ji g xi":[""],n:["","",""],"d t":[""],"yn yn":["",""],po:["","","","","","","",""],ni:["","","","","","","",""],"qun jun":["","",""],zu:["",""],"q qi xi":[""],ki:["","","","","",""],"bn bn":["",""],to:[""],"zng zhung":[""],bn:["","","","","",""],"xn zhu":[""],sh:["","","","","","","","","",""],"h p ti":[""],"o y":["","",""],yn:["","","","","","","","",""],"du ch":[""],"n r":[""],n:["","","","",""],"dng dng tin":[""],"t ji":[""],nun:[""],"ho ho":[""],fn:["","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","",""],"fi pi":[""],wng:["","","","",""],zhung:["","","","","","","","","","","","","",""],m:["",""],"f yu":[""],"hi ji":[""],d:["","","","","","","","","","","","","","",""],mio:["","","","","",""],"fu pi p":[""],"yu ju":[""],ni:[""],"n nn":[""],tu:["","","","","","","","",""],"wn yun":[""],fng:["","","","","",""],n:[""],zhu:["",""],zho:["","","","","","","","","",""],"ni n":[""],tu:["","","","",""],"xin xun x":[""],"zh y":["",""],:["","","",""],mi:["","","","","","","","","","","","","","","","","",""],"q q":[""],"x x":["",""],"shn shn":["","","","",""],mn:["","","","","","","","","","","",""],ji:["","","","",""],"wi wi":[""],pn:["","","","","",""],"hu hu":[""],"jio xio":[""],"gu d":[""],"lo m":[""],"nin nin":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hng:["","","","","","","","","","","",""],"jn xn":[""],"ku h":[""]," y":[""],"xin shn":[""],w:[""],"ro ro":["",""],"sho sho":[""],xi:["","","","","",""],"w mi m":[""],"chu li":[""],ning:["","",""],"n nu":["",""],"pu b":[""],"ni su":[""],tu:["","","","","",""],mn:["","","","","","","","",""],"w w y":[""],"x i":[""],"zhu shu":[""],"dng dng":[""],"i i ":[""]," ":[""],min:["","","","","","","","","","","","","","","",""],"pu pi b":[""],bio:["","","","","","",""],"f fn":[""],w:["","",""],"n n":["",""],"qun jun":["",""],hn:["","","","","","","","","","","","","",""],"qin jn":[""],"wn w":[""],"li li":["","",""],"zhu chu":[""],"chu no":[""],"n n":[""],"hn kn":[""],"dng yng":[""],nn:[""],"ru chu":[""],ji:["","","","","","","","","","","",""],"tu y":["",""],"y y":[""],"wi wi":[""],"d t":["","",""],ru:["","","","","","","","","","","","","","","","","","","","","",""],"run nn":[""],mio:["","","","","","",""],"y pi":[""],"min min":[""],"t sh":["",""],"du tu":["",""],o:["","","","","","",""],"ch zu":[""],yng:["","","","","",""],"qn shn":[""],ji:["","","","","","",""],so:[""],"zhn zhn":[""],"ji su":[""],"mng mng":[""],nio:["","","","","","","","",""],to:["","","","","","","","","","","","","","","","","","","","","","",""],bio:[""],"pio pio":["",""],xun:["","","","","","","","","","","",""],"mn mn":[""],kng:["","","","","","","","","","","","","",""],"hn nn":[""],nn:["",""],zh:["",""],"m m":[""],pi:[""],zhn:["","","","","","","","","","","",""],"xin yn jn":[""],lin:["","","","","","","","","","","","","",""],"qing hun xun":[""],dng:["","","","","",""],cn:["","","","","","",""],tio:["","","","","",""],b:["","",""],li:["","","","","","","","","","","","","",""],"qin xin":["",""],"xi hu":[""],"hun qun":[""],"l l":["",""],"zh chu":[""],kng:["",""],"m z":[""],"sn xn":["",""],"bi b":["",""],"yu ni":[""],zhun:["","",""],hi:["",""],no:[""],"chn cn":[""],b:["","","",""],ni:["",""],"nng nng":["","","","","",""],zhi:[""],"t ji":[""],sng:["","","","","","","","","",""],ru:["","",""],zhn:["","","","","",""],"m f":[""],"dng tn":[""],"wn yun":[""],chng:["",""],qn:["","","","","","",""],zi:["",""],"bo sh":[""],"ji jia jie":[""],"hung hung":[""],kun:["","","","","","",""],"s xi xi":[""],"ji zn":[""],"bng bng":[""],"jn qn":[""],"lu j":[""],"xi xi":[""],"qn qn":[""],cn:["",""],du:["","","","","","","","","","","","","","","","",""],"l lu":[""],"sh y y":[""],"jing jing qing":[""],"jing jing":["","","",""],zn:["","","","","","","","","","",""],"sh zh":["",""],xio:["","","","","","","","","","",""],"ji j":["","",""],"sho sho":[""],r:["","","","","","","","","","","","","","","","","","",""],"wng yu":[""],wng:["","","","",""],lio:["","","","","","","","","",""],"mng mng lng png":[""],g:["",""],"ku ku":[""],tu:["","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","",""],"ch ch":[""],ko:["",""],"jn jn":[""],"wi y":[""],"nio su":[""],cng:["","","",""],dio:[""],"png bng bng":[""],lu:["","","","","","","",""],"sh zh":["",""],"xi t":[""],"ch co":[""],"tn zhn":[""],"n j":[""],"hng lng":[""],"q ki":["",""],ng:["","",""],"gng gng":["",""],k:["","","","",""],gu:["","","","","","","","",""],tio:["","","","","","","","","","","","","","","","","","","",""],"q j":[""],lng:["","","",""],p:["","","","","","","","","","",""],"b k":[""],lu:["","","","","","","","","","","","","",""],"f ni":[""],n:[""],"zh sh":["",""],qi:["","","",""],"qio jio":["",""],"xi y":[""],b:["","","","","","","","","",""],chng:["","","","","","","",""],"z cu":["",""],"lng lng":[""],"dng dng":[""],xio:["","","","",""],"p b":["",""],"zhn chn":["","",""],"wi wi":[""],"yng dng":[""],"sh di":[""],yo:["","","","","","","","","","","","","","","","","","","","","",""],"kn zhn":[""],"hn dng":[""],"qin kn":[""],"w mo":[""],"k ji":["",""],"wi wi":[""],k:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":[""],"rng yng":["",""],"i ki":[""],"ko qio":[""],cu:["","","","","","","","",""],"qin qn":[""],"d di":[""],cn:[""],dng:["","","","","","","",""],"o o":[""],"p pi":[""],"jio qio":["",""],"ju gu":["",""],"zhn shn":["",""],"xi ji":[""],"gu x jun":[""],r:[""],"l li":["","","",""],"x gu jun":[""],"yng hng":[""],yng:["","","","","","","","","","","","","","","",""],cho:["","","","",""],cun:["","",""],chun:["","","","",""],"jng xng":[""],cho:["","","","","","","","","","","",""],qio:["","",""],gng:["","","","","","","","",""],"ch ch chi c":[""],"xing hng":[""],shui:["","",""],p:["","","",""],"tng n":[""],"m w":[""],"ti ti ti":[""],zhu:["","","","","","","",""],"jun jun":[""],shu:["","","","","","",""],"chu do":["",""],"jin jin sn":[""],"sh qi":[""],"q j":["",""],"shn qio shn":[""],"zhung chung":[""],"chn chn":[""],mi:["","","","","","","","","","","","","","",""],"gn gn":[""],"bng bng":["",""],"j j":[""],"gung n":[""],gung:["","","",""],me:[""],"dn tn":[""],"bi tng":[""],"yng yng":[""],"d de":[""],"d du":[""],"mng mng png":[""],"bng png":[""],chng:["","","","","",""],"j cu":[""],qng:["","","","","","","","","",""],"gu wi hu":[""],"jn qn":[""],ku:["","","","","","","","","","","","","","","","",""],"qing s":["",""],"yn yn":["","","","","","",""],"p pi":["",""],"nng lng":[""],"d t tu":[""],"ju zhng":[""],"m m":["","",""],cho:["","","","","","","",""],yi:[""],sho:["","","","","","","","","","","",""],"xun yun":[""],"qing qing jing":["",""],"tn dn":["",""],bi:[""],"qing jing qing":[""],"j xu":[""],tun:["",""],yu:["","","",""],"shn xin":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"png bng":[""],"pio pio":[""],"zhu b":[""],"tu y":[""],"png fng":[""],wng:["","","","","","","","","","","","","","","","","","",""],c:["",""],"di di":[""],hui:["","","","","","","","","","",""],"w wng ji":[""],"chng zhng":[""],"d di de":[""],"cng zng":[""],"sh t":[""],"t ch":["","",""],d:["","","","","","","",""],"zh zhng":["",""],bi:["","","","","",""],"chng zhng":[""],"jio jio":["","",""],"lng lng":[""],"q j":["","","",""],"dng tng":[""],gi:["",""],rn:["","","","","","","","",""],chn:["","","","","","",""],t:["","","","","",""],"t ti tu":[""],"gn hn":["",""],"y q":[""],"ti sh":[""],"x li":[""],"yng yng":["","",""],"mn wn mn":["",""],"sng zhng":[""],"y sh":["",""],"q sh":["",""],"tn zhn dn":[""],"qin qn":["",""],hn:["","","","","","",""],ni:["","","","","","","","","",""],"kung wng":[""],"kng hng":[""],"ki x":["",""],u:["",""],"bo bo":[""],"mn mn":[""],"zu zh":[""],zn:[""],yng:["","","","","","","",""],"ku j":[""],"no ni":[""],"zhng zhng":["","","",""],"ti zhn":[""],"h g":[""],"c j z":[""],"s si":[""],"yu chu":[""],"t di":[""],"yu yo":[""],xun:["","","","","","","","","","","","","","","","","","","","","",""],"x xu":[""],"b p":[""],"x sh":[""],"nn nn":[""],"tio yo":[""],"x q x":[""],"xio jio":[""],"h ku":[""],n:["","","",""],hn:[""],"dng tng":[""],"qun zhun":[""]," w  w":["",""],tng:["","","","",""],"yun jun":[""],"qio qio":[""],"ji k":[""],"ho jio":[""],hu:["","","","","","",""],"mn mn":["",""],"y y":["",""],qun:["","","",""],"ku l":[""],"y nin":[""],"mn mn":[""],gun:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"ln ln":[""],gu:["","","","","","","","","","","","",""],"yun wn":["",""],"ln ln":[""],"y x":["",""],"chu chu":[""],"hn mn":[""],"chng tng":[""],"su ru":[""],cn:["","","","","",""],cn:["","","","","","","","",""],"dn d":["",""],r:[""],"y tu":[""],"ki q":[""],"dng tng shng yng":[""],"chn xn dn":[""],"k qi":[""],nu:["","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","",""],"cng sng":[""],"si s s":[""],"gng gng hng":["",""],"shu s":["",""],"yo yo":[""],hung:["","","","","","","",""],zhng:["","","","",""],co:["","","",""],"x xi":[""],"co so":[""],"x ch":[""],"qi qin":[""],"co cng":[""],"o o":[""],"lin lin":["","","",""],"jn qn jn":[""],"d ch":[""],"zh zh":[""],"lu l":["",""],cng:["",""],"zh zh":["","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","",""],"chng dng zhng":[""],"x x":[""],"du dn tn":[""],"xio jio":[""],"xin xin":[""],"lio lio":["","","",""],shng:["","","","","",""],"no no nng":[""],"jng jng":[""],"j jio":[""],"xun hun":[""],"co so so":[""],mn:["","","","",""],"mng mng mng":[""],"i y n":[""],"mng mng":["","",""],"q j j":[""],m:[""],"ln xin":[""],"yu yu":[""],"li li":["",""],rng:["","","",""],hun:["","","","","","","","","","",""],nn:["","","","","","",""],"m m":[""],"gng zhung":["",""],"zhung gng":[""],"x qu":[""],"x h":["","",""],"ji g":[""],zi:["","","","","","",""],dng:["",""],"h x":[""],chu:["","",""],"bin pin":[""],"shng jing":[""],"shn shn":[""],ci:["","","","","",""],"zh z zh":[""],"l l ci":[""],"b p":[""],"d d":[""],rng:[""],"fn f":[""],"dio d yu l":[""],"kng gng":[""],"y w":[""],"y w k":[""],"tu ch y":[""],"g ji x g":[""],dn:["",""],"so so":["",""],ro:["","",""],"x ch q":[""],"bn pn":[""],"b o":[""],"x zh":[""],"zh sn kn":[""],zho:["","",""],"kung wng zi":[""],"h g":["","",""],"b b":[""],"dn shn":[""],"n n ru n":[""],zhu:["","","","",""],pu:["",""],"zh sh zh":[""],"pu pu f":["",""],po:["","","",""],"o o ni":[""],"ln ln":["",""],"qing qing chng":[""],"zh zhi":[""],"b p":["",""],"yo to":[""],"h h qi":[""],"n n":[""],"p pi":[""],"m m m":[""],chu:["","","","",""],"ji y":[""],"f b":["","",""],zh:["","","","",""],"dn dn dn":[""],"chi c":[""],nin:["",""],"l l l l":[""],"bn pn":[""],pi:[""],ln:[""],gui:["","",""],"tu t zh":[""],"o o ni":[""],"j gu":[""],"pn pn fn":[""],"bi bi":[""],bi:["","","","","","","",""],qi:[""],"nng nng nng":[""],"z zhi":["",""],hn:["","",""],"ku gu":[""],"ji ji":[""],nn:[""],shun:["","","",""],"cn zn":[""],"z zn":["",""],ko:["","","","",""],"y ch hi":[""],"c s chu":[""],"zhui zhui y":[""],"sh sh":[""],bi:["",""],"ku gung":[""],nng:["","",""],"jio jio":["","",""],"ku k":[""],"n r":[""],"tio tio":[""],"di sh":[""],li:["",""],"y y":["",""],"w zhu":[""],"xi ji":["",""],"dng dng":["",""],"zhng zhng":["","",""],"i i":[""],"tu shu":["",""],"t t":[""],"su sh":[""],"s sh su":[""],"kng qin":["",""],"bng png":[""],"ru ru":[""],"jio k":[""],"w w":[""],tng:["","","","","","","",""],"hu ch":[""],"t sh ch":[""],"l lu":[""],"sho sho":["",""],ni:["",""],"sh sng su":[""],"y y":[""],"ju zhu":[""],"b p zh":[""],zn:["",""],lo:["","",""],sn:["","","","","","","",""],"wn wn wn y":[""],png:["","",""],sh:[""],"f f b":[""],do:[""],"lu lu w":[""],"jun qun":[""],"chn tin":[""],"nin ni":[""],"ru wi r":[""],zu:["","","","","","",""],"w xi":[""],"qng qin":[""],"pu pu":[""],qi:["",""],"pi pi":[""],"qin wn":[""],"y y":[""],"ni n y":[""],"hu x":[""],"yn shn yn":[""],"zhng dng":[""],kng:["",""],tu:["","",""],"zu zhu chu":[""],tin:["",""],kn:["","",""],p:["","","","","",""],"gu gui":[""],"dn shn":["",""],"chn xin cn shn":[""],so:["","","","","","","","","","",""],png:["","","","",""],"zhng kng":[""],"ji yu":[""],"jin jin":["",""],"p ch":[""],"si zng ci":[""],"t d d":[""],"zng sng":[""],"hung yng":[""],"zn zun":[""],"x j":[""],"k qi":[""],"chui chui chui tun zhu":[""],"d t":[""],"l l":[""],l:["","","","","","","","","","","","","","","","",""],"ji q":[""],"chng dng":[""],"di sh y":[""],"jin qin jin":[""],y:["","","","","","",""],chn:["","","","","","","","",""],"g g":["",""],"lu lu":["",""],"chu zu":[""],chui:[""],sn:["","","","","","","","","",""],"rng nng nng":[""],"png bng":[""],cu:["","","","","",""],"k ":[""],"n nu nu":[""],"l xi xin":[""],qi:["",""],"xin xin":[""],"ji zh":[""],"pn bn p":[""],bn:["","","","","","","","","","","","","","",""],"zh ni":[""],"w w w":[""],hu:["","","","","","","","","","","",""],"qing qing chng":[""],"tin shn":[""],"n nu":[""],n:[""],"sh ni":["",""],bn:["","","","","","","","","","","",""],"sh s shi":[""],"chn sn":[""],"ji li lio jio no":[""],"fng png":[""],shui:[""],"d t zh":[""],"q j ch":[""],"su sng":[""],"lin lin":[""],"gi x":[""],"h ch":[""],tng:["","","",""],"ni zh":[""],"m m":[""],"jing qing":[""],"o qio":[""],"ni ch":[""],"mn mn":[""],"chn cn":[""],"s m s":[""],"bio bio":[""],"ju ju":[""],pi:["","","",""],"pi pi":[""],"zn zn zn qin":[""],"s s":[""],hng:["","","","",""],"hng gung":[""],nin:["","","","","","","","","","","",""],"chng zhng":[""],"hu wi":[""],co:["","",""],"xio su":[""],"lio lio":[""],"cu zu":[""],"wi tu":[""],cun:["","","","","","",""],"qio yo j":[""],"zhu w":[""],"li li":[""],nng:["","","",""],"qng jng":[""],kui:["","",""],"p b":[""],"b bi":[""],"j j":[""],mng:[""],"su su":[""],xng:["","",""],c:[""],"nng nng nng":[""],"zh ji":[""],"l li":["",""],"su su":[""],"l lu yu":[""],"t zhi zh":[""],pn:["","","",""],li:["","","","","","","","","","","","","","",""],"c s":[""],"jn pi":[""],"l lu":["",""],"l li":["",""],"l lu":[""],"zn cun":[""],"xin jin":[""],"m m m":[""],"zn cun zn zun":[""],zun:[""],"l shi":[""],"l lu":[""],"gu gu":[""],"j q y":[""],fng:[""],"w mu":[""],"ch shu":[""],"g gu ":[""],"du du":["",""],"du qu":["",""],"sn sn":[""],"dn du":["",""],"q y j":[""],"xio xu":[""],"sh sh shu":["",""],"i zh":["",""],"xing xun":[""],"zhu zh":[""],"y d":[""],"l ti":[""],"fi fi":[""],"y zhng":[""],"du du":[""],"w gun":[""],"tu tio":[""],du:["","","","","","","","","","","","","","","","","","","","",""],"yn zh":[""],"chn ji":[""],"w y y":[""],"yu li":[""],"png bng":[""],"mo mo":[""],"p b":[""],"xun xun":[""],"w m":[""],zo:["","","","","","","","",""],g:[""],"gn hn":[""],"ti yng":[""],"x x":[""],"tn zhn":[""],"w w":[""],"p pi":[""],zng:["","","","","","","",""],i:["","","","","","","","",""],"hung hung":[""],xun:["","","","",""],"x ku":[""],hng:[""],shi:["",""],"yn yn":["",""],"shng chng":["","",""],"jng yng":[""],shn:["","","","","","","",""],"q d":[""],"n n yn":[""],"wng wng":[""],zn:["","","","","","","","","","","","","","","","",""],"yn yn":[""],"mn mn":[""],"d sh":[""],sh:["","","","","","","","","","","","","","","","","",""],"jin ln":[""],nun:["","",""],"bo p":[""],"x x":[""],"p bo":["",""],"q q":[""],"q q":[""],"gng gng":[""],"h h":["",""],"zng cng":["",""],"cng zng":["",""],"cn qin jin":[""],"qi h":[""],"b p":["","","",""],"yu yu":[""],"bn fn":["",""],"f f":["",""],"fi k":["",""],"q x chn":[""],"jun zu":[""],"hung mng wng":[""],"q j":[""],"tng chung":["",""],zh:["","","","","","","","",""],"zh sh sh":[""],"sh sh zh":[""],"zh sh":[""],"p p p pio":[""],"do tio m":[""],"gu qi":[""],xi:["","","",""],"chng chng":[""],z:["","","","","","","",""],"y w":[""],"gn gn":[""],"ch ch":[""],"shn sh":[""],cn:["","","","","",""],"rn r":["",""],"sho bio":[""],"d du":["",""],"g gi":[""],"y zh l du":[""],"gng gng":[""],"tio tio":["",""],"m m":[""],"s zh x":[""],"yun wn":["",""],"bi fi":[""],"sh du":[""],"ni chu":[""],"w yu":["",""],mo:["","","","","","","","","","","","","","","","","",""],"p m":[""],ng:["","",""],"fng bng":[""],"h d":[""],xn:["","","",""],"yo yo":[""]," ":[""],"zh q":[""],"cng zng":["",""],"xin zhn":[""],"ti s":[""],"gu j gu":[""],"bo f":[""],"y xi":["",""],"tu du":["","","",""],"y du l":[""],"n ch":[""],"pn bn":["",""],"yng yng yng yng":[""],"f f f":[""],"bi b b":[""],mu:[""],"sho sho":[""],zh:["","","","","","","","","",""],"yu yu":["",""],"gu j":[""],"zh zu":[""],"di zh":["",""],"zh z z":[""],"ch zh":["",""],"o o":["",""],"b f pi b bi":[""],"du zu w":[""],"b bi":[""],"zh ch":[""],"bi pi":[""],"sh fi":[""],"shn zh shi c":[""],"l yu":["",""],"q qi":["",""],"q x":["",""],"gu ku":[""],"bng bn":[""],"xio jio":[""],"jin zn":["",""],"yu y":[""],"h h":[""],gn:["",""],"zh y":[""],"g g":[""],"hng hng":[""],"gung gung":[""],"y t":["",""],sng:["","",""],"j ji":[""],"y mu":[""],"ro no":["",""],"gu hu":["",""],"chn zhn":[""],"tng yng":[""],"b po":[""],"bn fn":[""],"fng fng":["",""],"s yn":[""],"tng tng":[""],"xun jun xi":[""],"t ch":[""],"o yu":[""],kun:["","","",""],"sho so":[""],"qn chn cn":[""],"l s q":[""],"chn yn":[""],"bn bng":["","",""],"to chu do":[""],"cng sng":[""],"gn hn":[""],"d zh":[""],"pi bi pi":[""],"bng pu bi bi":[""],"d di t":[""],sn:["","","",""],"rn shn":[""],"lng lng lng":[""],"f s":[""],"zu su":[""],zu:["","","","","","","","","","","","","","","","",""],"zho zhu":[""],"chn shn":[""],"ji qi":[""],"y y":[""],"chu zhu dio":[""],"qing kng":[""],"zhu chu":[""],"bi p":[""],mn:[""],"qun jun qun":[""],"du chun":[""],"wi hu":[""],"ji ji":[""],"hn jin":[""],"shn zhn":[""],"yn y":[""],"zh ch":[""],"gu ku":[""],"j zh":[""],"k h":[""],"yu yu":[""],"sng cng":[""],"yun xun":[""],"yng yng yng":[""],pin:["","","","","","","","","",""],"di y":[""],"dn shn":[""],"cu zu":[""],"d d sh":[""],"ki ji":[""],"ru ru":[""],"l yu":[""],"wn yn":["",""],l:["","","","","","","","",""],shn:["","","","",""],"b pi":[""],"zhn nin zhn":[""],"f f b":[""],"jin jn":[""],"bng bng":[""],"sh xi":["",""],nu:["","","",""],"qin lin xin":[""],gng:["","","","",""],go:["","","","","","","","","","","","","","","",""],"din zhn zhn":[""],"kn jin":[""],"x di":[""],"j gu":[""],"rng yng":[""],"tun shun qun":[""],"q s":[""],"cu zh":[""],"yu cho":[""],"mn wn":[""],"l ch":[""],"li li":["","",""],"cho jio cho":[""],"chng tng":[""],"ji lio":[""],"m m":[""],"nio m":[""],"hng hng":["",""],xu:["","","","","","",""],"f fi":[""],rn:["","","","","","",""],"zhn jin":[""],shn:["","","","","","","",""],"tu dn":[""],"tng chng":[""],"s qi":[""],"tn din":[""],"fn fn fi":[""],"rn yn":[""],"c chu":[""],"sh qio":[""],"png b":[""],"zhi sh t":[""],"bio bio":[""],"qin lin":[""],"n m":[""],"jin kn":[""],"nu run r":[""],"j j":["",""],"hung gu g":[""],"l ch":[""],"mi mi":[""],u:["","","","","","","","","","","","","","",""],"zh zhu":[""],"ju j":[""],"hui gu":[""],"chn zhn":[""],"wi zu":[""],cng:["",""],"y y":[""],"ch q x":[""],"ki i":[""],"y yn":[""],"x ki":[""],"shu su":[""],"i i i i i    ":[""],"q y":[""],"chu x":[""],"ch chui":[""],"kn qin":[""],"kn k":[""],"chun chun":[""],"yn yn":[""],"jn qn":[""],pn:[""],"x chu":[""],"x sh":[""],"lin hn":[""],"zh ch":[""],"s sh":[""],s:[""],"wn m":[""],pio:["","","","",""],"qng jng":[""],"fu b":[""],"zh shi":[""],"y yn yn":[""],"hn mi":[""],chu:["","",""],"ku hu":["","",""],cun:["","","","","","",""],"yn yn yn":[""],"qng kng shng":[""],"yo xio xio":[""],"g g":["",""],"gun wn":[""],"d di":[""],"xn xn":[""],m:["",""],"du nu":[""],"si su":[""],lu:[""],so:["","","",""],"sh zh":[""],"d d":[""],"mng mng":[""],"yng r":[""],shu:["","","",""],"zhng chng zhng":[""],tn:[""],"fn fn":[""],"gu ji":[""],"bn p p":[""],"zhu qu":[""],"d ti":[""],pn:["","",""],"hn hn":["",""],tu:[""],"tng shng":["",""],"zh j":[""],"gn hn cn":[""],"wn mn":[""],"fng png":[""],"h hung":[""],"ni yu":[""],hng:[""],"shn chn":[""],"dn zhun":[""],"n ni":[""],"mi m":["",""],"t d":[""],"m w":[""],"hng png":[""],"sh sh":[""],"zhu z":[""],"u u":["",""],"j j":[""],"tu du":[""],"m l":[""],"y ch":[""],"xi y":[""],"b p":[""],"m b":["",""],"ch sh":[""],"yu yu o":[""],"png png":["",""],"po po":[""],"n n":["",""],"yu s":[""],"ju xu":["",""],"lng shung":["",""],"lu p":["",""],"z sh":["",""],"s x":[""],"s q z":[""],"x xin":[""],"ko ko":[""],"n yn ":[""],"li li":[""],"qi ji":[""],"qin jin":[""],"j j":["","","",""],"h x":["",""],"jn xn":["",""],"yng chng yng":[""],"lin l":[""],"fng hng":["",""],"jing jing":[""],"su ni":[""],"yng chng":[""],"tn yn":[""],"w gu":["",""],hng:["",""],"zhng zhng":["",""],"shu to":[""],shun:["",""],"kng nng":[""],"w wn yun":[""],"tu tu":[""],w:["","","","","","","","",""],"qi j":[""],"gu gun":[""],"ln ln":["","",""],"tng chng":[""],"no chu zhu":[""],"png png":[""],fi:["","","",""],"p pi":[""],"nin shn":[""],"bio h":[""],"chn zhn":[""],"hn hn":[""],qin:["","","","","","","","","",""],"wn mn":[""],"r ru lu":[""],"d du":["","",""],"jin jin":["","","",""],"min shng":["",""],"nun nun":[""],"qi w":[""],"tng tng":[""],"d t d":[""],"gng jing":[""],"hng qng":[""],tun:["",""],"hu mn x":[""],"x x":[""],pn:["","","",""],"mn hn":[""],"tun nun":[""],"qi jio":["",""],"yn yn":[""],"bn pn":[""],"zhung hn":[""],"yn gu":[""],"lin lin nin xin xin":[""],"d t":["",""],"li li":["","",""],ln:[""],m:["","","","","","","","","","","","",""],"zhn qn":[""],"n nio":[""],"ch x":["",""],"wng wng":[""],"ho xu":[""],"q x xi":[""],"xng yng":[""],"z ho":[""],"pio pio pio":[""],"cng sng":[""],"fng png":[""],"lu t":[""],"png bn":[""],"chng shung":[""],"hu ku hu":[""],"lio li":[""],"cu cu":[""],"cng zng":[""],"cng zng":[""],"p pi":[""],"dng xing":[""],"hung gung":[""],"lio lo lo":[""],"cng zng":[""],"zh zh":[""],"tn shn":[""],"t zh":[""],"sn s":[""],hi:["","","",""],"chng dng":["",""],"cn cn":[""],"png png":[""],"hng gng":["",""],"wn mn":[""],"kui hu":[""],"gu w":[""],"pn fn":[""],"j sh":[""],"hu hu":[""],"dng tng":[""],"m n":[""],"b p":[""],"cu zu":[""],"h hu":[""],"i ki k":[""],"wi du":["",""],"zn cun":["",""],"yng yng":[""],"wng wng":[""],"m mi":["",""],su:["","",""],"hui wi":[""],"zn jin":[""],"yng yng yng":[""],"rng rng":[""],shung:[""],"zhu jio z":[""],s:["","",""],"lun lun":[""],"dng tng":[""],"xn qun qun":[""],"hu bio":[""],"zh y":[""],"fn bn":[""],"jing gu":[""],"png fng":[""],qu:["","","",""],bin:["","","","","","","","","","","","","","","","",""],"zho zho":[""],"zhu ch":[""],"po po bo":[""],"po fu":[""],"shn qin shn":[""],"zh zh":[""],"jio yo":[""],qun:["","","","","","",""],"yng yng":[""],"lo lu":[""],"hu hu":[""],r:["",""],"f po":[""],"xi ch":["",""],"yn shn":[""],"hn xn":[""],ko:["","","","","","","","",""],"jun y":[""],"jn q":[""],"to do":[""],"cho j":[""],"w i":[""],"zng cng":[""],"x y":[""],"xn xn":[""],"cho zhu":[""],"xing yng":["",""],ku:["","","","",""],"hu yn xn":[""],"jio qio":[""],"qin shn shn":[""],"x y":[""],"sh sh":[""],"y zh":[""],"yng yng":[""],"n yn":[""],"yn yn":[""],"h xio":[""],xing:["","",""],"xn xn":["",""],gng:["","",""],li:[""],"cng zng":[""],"l o":[""],"sh shu":[""],"fng png":[""],"cu su":[""],tng:["","",""],"yn y":[""],"o o":[""],"hn rn":[""],"u u":[""],"hung hung":[""],"chn dn chn":[""],"jio zhu qio ju":[""],"yn yn":[""],"ti li":[""],o:[""],"yn xn":[""],"ju jio":["","","","",""],"ln ln":[""],"zhu zho":[""],"zho zhu":[""],"f f":[""],di:["","",""],zng:["","","","","","","","",""],"pin pin":[""],"bin min":[""],bng:["","",""],"yu yng":[""],"chng chng":["",""],ni:["",""],"ji l":[""],"m mu":[""],mng:[""],"g qi":[""],"yu chu":[""],"t zh":[""],bn:["","",""],"jin qin":["",""],m:["","","","",""],"mo l":[""],"b qun":[""],"zhu bo":[""],"n hn":[""],"kng gng":[""],"pi fi":[""],"fn hun":[""],kung:["","","","","","","",""],"y qun ch":[""],"xng shng":[""],"tu y":[""],k:["",""],"hun hun":[""],"h m":[""],"t sh":[""],"mng du":[""],"x sh":[""],sun:["","",""],"bi p":[""],"jin yn":["",""],"y y":[""],"y wi":[""],ci:[""],"mo mo":["",""],"chun chun":[""],"tun tun":["",""],"y ji qi":[""],"h xi g hi":[""],"bin pin":["",""],"b p":[""],"ho go":[""],"fn fn":[""],"yo xio":[""],"shu x":[""],"g li xi":[""],"nu r":[""],"no no yu":[""],rng:["","","","","","","",""],"no yu":[""],"l shui":[""],"wng wng":[""],"yng chng":[""],"mn wn":[""],"bn fn":[""],"mn yn":[""],"qing cng":["","",""],"n gn":[""],"xun xin":[""],"c c":["",""],"y ti":[""],"z j":[""],f:["","","","",""],"yn kn":[""],"hu hn":[""],"xun qing":[""],"f f":[""],"bng pn":[""],"cu s":[""],"y wi":[""],"tin tin":[""],"zhu zu":[""],"bng pi":[""],gun:["","","","","","","","","","",""],"hn hu":[""],"xi ji":[""],"chng dng yng":[""],"tin zhn":[""],"bn pin":["",""],"t sh":[""],cu:["","",""],"zo su":[""],"ju qing":[""],"l f":[""],"j z":[""],su:["","","","","","",""],"m x":[""],"qing wi wi":[""],"hun y y":[""],"b po":[""],"zh h":[""],pio:["",""],"w w":[""],"xing hng":[""],wng:["","","","",""],"shn shn":[""],ru:["","",""],yng:["","","","","",""],shui:[""],bng:["",""],"yu zh":[""],"din tin shng":[""],"tng dng":["",""],"zi z":[""],"b q":[""],"d f":[""],"c j":[""],"zi z tin":[""],"zh chu sh":[""],"fn pn":["",""],"sh y":[""],"dng dng dng":[""],"jing qing":[""],"p y sh":[""],"ji qi":[""],"y n":[""],n:["","","",""],"g y":[""],"n yo":["",""],"l li":["",""],"y xi":[""],xu:["","","","","","",""],"dn da":[""],"f bin":[""],"fi fi":["",""],"shn din":[""],"tng chng":[""],"tng tng":[""],"wi yu y":[""],"tn sh":[""],"p p":["",""],"bng png":[""],"m ln":[""],"tin din":[""],"n y ":[""],"k ":[""],"zh ch":[""],"ji xi xi":[""],"li hu":[""],"chi cu":[""],"din chn":[""],"da d":[""],"bi bi":[""],qu:[""],"dn dn":[""],"gu wi":[""],"nng nng":[""],"bi bi":[""],"b b":[""],bi:[""],"j b":[""],"de d d d":[""],"p b":[""],"go ho":[""],"go yo":[""],"l lu b":[""],"zh c":[""],"zho zhn dn":[""],"jin jin":["","","","",""],"gi g h":[""],"mng wng":[""],yun:["","",""],"tin xin":[""],"xing xing":[""],dn:["","",""],"x pn":[""],"shng xng":[""],"yn hn":[""],"min min":[""],"kn kn":[""],"yng yng yng":[""],"yo o o":[""],"j x ku":[""],"y ch":[""],"di t":[""],"bng fng":[""],"png pn":[""],"m m":["",""],"xun shn xn":[""],tio:["","","","",""],"zhe zhu zho zho":[""],"qio sho xio":[""],"cu zhui":[""],gn:["",""],"su zu":[""],"p b":["","",""],"y z go":[""],"xng xng":[""],"gu wi ku":[""],"ku j":[""],"qing hun":[""],"mn mn":["",""],"dio du":[""],"lou lu l":[""],"shn rn":[""],"lio lio":["",""],"jin xin":[""],"w m":[""],"gu ku":[""],"nng chng":[""],"hu yu":[""],"mng mng":[""],"kung gu":[""],"gun qun":[""],"mn mn":[""],"jn gun qn":[""],"jn qn gun":[""],"y x ju":[""],"jio jio":["",""],dun:[""],"sh dn":[""],"gng qing kng":[""],"hu x":[""],"pn bn fn":[""],"yn yn":["",""],"lu k":[""],"f fi":["",""],"zh zh":[""],"l l l":[""],"kung gung":[""],"g lu":[""],"shu sh":["",""],"wi wi i":[""],"qu k k":[""],"mng bng":[""],"lu lng":[""],"yng tng":[""],n:["",""],"kng kng":[""],"yn yn":[""],"zhu chu du":[""],"kng kng":[""],"zng cng":[""],"jin zhn":[""],"l li":["",""],"qu x":[""],"ln ln ln":[""],"no gng":[""],"ji y":[""],"wi wi":[""],"t d":[""],"ch ch":[""],"qio qu":[""],"s xi":[""],"li li":["","","",""],"s t":[""],"bng png":[""],"hu k g":[""],"wi ku":[""],"xi qi y":[""],"lin qin":[""],"wi i gi":[""],"l l":[""],"o qio":[""],"png png":["",""],"yn yn":[""],"li li":[""],"m m":[""],"q zh":[""],"lo lu":[""],"pn b":[""],"j sh":[""],"h qio qio":[""],"k hu":[""],"qu h":[""]," q":[""],c:["",""],"xin xn":[""],"li li li":[""],"yn yn":[""],"q zh":["",""],"bng fng":[""],"b m":[""],sun:["","","","",""],"pio pio":[""],"j zhi":[""],"shu li":[""],"jn jn":[""],"chn shn":[""],"yng shng":[""],"zh zh t":[""],"shn chn":[""],"y y u":[""],"z z":[""],"ch n":[""],"zhng zhng chng":[""],"ho mo":[""],"k k":[""],z:["",""],chng:["",""],"hu ku":["",""],"chng chn chng":["",""],"sh zh":["",""],"f p":[""],"xn z":[""],"t sh":[""],"zhn zhn":[""],"j q":["","",""],"lng lng":[""],"zu z s":[""],"x qi":["",""],"zhng zhng":[""],"zng zng":[""],"xin jin lin":[""],"z ji":[""],"j q":[""],rng:[""],"shn cn cn":[""],"mn mi":[""],"j j":[""],"xio ro":[""],"zhu b":[""],"tng zhng zhng":[""],zu:[""],"bio po":["",""],"zhu ju":[""],"cun zn":[""],"kng kng kng":[""],"y y":[""],zhi:["",""],bo:["",""],"k zh":[""],"jio lio li":[""],"w gu":[""],"tio yo":[""],"xn yn":[""],"y y":[""],"tin din yn":[""],"cho k":[""],"kun cun":["",""],"ch q":[""],"q ku":[""],"jng zhn":[""],"kn kn":[""],"zh d":[""],"l jn":[""],"zhu ru":[""],"hng hng":[""],"cn jn hn":[""],"d xi n":[""],"z zu":[""],"lng lng":["","","","",""],"zh zh":["",""],"d d":["",""],shi:["","","",""],"yn jn":[""],"lng lng":["","",""],"zh zh":[""],o:[""],"pu b f p":[""],"pi bi":[""],g:["","","",""],"ti ch":[""],"gui di":[""],"zho do":[""],"jng qng":[""],"ln ln":[""],"jn qn":[""],"sh y":["",""],"yu yo chu":[""],"xio shu qio":[""],"gng gn lng":[""],"png png":[""],"zhu hu":[""],"jin jin":[""],"d zh":[""],"zn cn cn":[""],"zhun sun zun":[""],"pio bio":[""],"gu gu":[""],"c j":[""],"m mi":[""],"shi s":[""],"sn zhun":[""],"gn gn":[""],"b b":[""],"b b":[""],shi:[""],"zhn jin":[""],"zhun zun":[""],"fn pn bin":[""],"su sh":[""],zun:["","","","","",""],n:["","",""],"sh cho":[""],"kng jng":[""],fn:["",""],c:["","","","",""],"nin zhn":[""],"c s":[""],"zhu y":[""],"shn sn":[""],"bin bin":["",""],min:["","","","","","",""],"h h h":[""],"g gu":[""],"m mi":[""],"sn shn":["",""],zo:["","","",""],"m s":[""],"ji ji":[""],"x j":["",""],"zhng zhng":[""],"ch ch":["",""],"yu yo":["",""],"hng gng":["",""],"h g":["",""],"wn wn":["",""],fu:[""],"j ji ji":[""],"p p b":["",""],"jn jn":[""],"zh z":["",""],h:[""],"f f":[""],"chu chu":[""],"li li li":[""],"b b":[""],"tin zhn":[""],"jing jing":[""],"ji ji":["","",""],"gu ku":[""],"bi m":[""],"gng hun":[""],"ji xi":[""],"qun shun":[""],"gi i":[""],"lu lo":["",""],"bng bng png":[""],"gi j":["",""],"tng tng dng":[""],"tio dio do":[""],"li li li":[""],"gi hi":[""],"ch zh":[""],"wn min mn wn":[""],"hun hun wn":[""],"qn xin":[""],"t t":[""],"yn xin":[""],"zng zng zng":[""],"chn ln":[""],"zhn zhn":[""],"qin qng zhng":[""],"qng q":[""],"ln gun":["",""],"chu cho":["",""],"tin tn chn":[""],"l l":["",""],"run run":[""],"j q":[""],"zhng chng":["",""],"mio mo":[""],"xi y":[""],hun:["","",""],"gng gng":["",""],"tu x sh":[""],"zng zng":["",""],"yn gn":[""],"gu w":[""],"yn yn wn":["",""],"bng bng":[""],"g h":["",""],"c cu su":[""],"cu shui":[""],"rng rng rng":[""],"zi zng":[""],ci:["","",""],"fng fng":[""],"su s":["",""],"yn yn":["",""],"zng zng":["",""],"zhun jun":[""],"m m":["",""],"pio pio":["",""],"fn p":[""],"bng bng":[""],"mu mi mio lio":[""],"yo yu zhu":[""],"zng zng":["",""],"j ju":[""],"chu chu":[""],"zn zn":[""],ro:["","",""],"chn chn":[""],"hu hu":["","",""],"qio so zo":[""],"jio zhu":["",""],"dn tn chn":[""],nng:[""],"p f":[""],"yo l":[""],"rng xing":[""],"l s x l":[""],"xin qin":[""],"jng jng":[""],"t t":[""],"bng bng bng":[""],"zng zng":[""],"j q":[""],"wn yn yn":[""],"fng fng":[""],"shui cu su":[""],"mi mu lio mio m":[""],"qio so":[""],fu:["","","","",""],"b ba p":["",""],"gu gui":[""],"yng xing":["",""],"mi go":[""],"y x":[""],"qing qin":[""],"qing kng":[""],"qin xin yn":[""],nu:[""],"hng gng":[""],"p b p":[""],"q y":[""],k:[""],"qio qio":[""],"zhi d":[""],"do zhu":[""],"hu q":[""],shu:[""],"run nu":[""],"r ni":[""],"zhun dun":[""],"p b":[""],"ch s":[""],"q ch":[""],"ln ln":[""],"j ji":[""],"tng tng":[""],png:["",""],"zh z":[""],"y y":[""],"yn yng":[""],"w tu zhu":[""],"r n":[""],"ti zh":[""],"d zh":[""],qi:[""],"n jin":[""],"li l":[""],co:["","","",""],"b d":[""],"xio xio":[""],"d d":[""],chi:["","",""],"hn qn hn":[""],"png pn pn":["",""],"zhn chn":[""],ng:["",""],"y y":[""],"p b b":[""],"fi b":[""],"bi bi":[""],"fi z":[""],"png png":["",""],"f f zhu":[""],"shng shng":[""],ku:["","",""],"gi hi":[""],"g g g":[""],"nng ni":[""],"gu ku":[""],"mi m":[""],"zng zng":[""],"jio ju":["",""],cu:[""],"de te":[""],"zu jun":[""],ni:["","","","","",""],"p f":[""],nio:[""],shu:[""],gu:["","",""],"l x":[""],"yn ":[""],"go go":[""],"l bio":[""],chui:[""],"zhun chun chn zhun":[""],chui:["",""],"fn pn":[""],"w h":[""],"shn dn":[""],tn:["","","","","","","","","","","",""],"b bei":[""],"l g":[""],"so so":[""],no:["","","",""],"n lun":[""],"qin xin":[""],"gung jing":[""],"gung jing":[""],"chu xi":[""],"min bin":[""],"di zh":[""],"zh jn":[""],"sh sh":[""],p:["",""],"bn b pn":[""],ku:[""],"gn gn":[""],"s shi":[""],"f b":[""],"jio qi":[""],"chi ch":[""],"sho qu":[""],"h xi":[""],"z z":[""],"hu h":[""],"tn chn":[""],"ji gi":[""],"x zh":[""],"yun yn":[""],"xn xn":[""],"ln hu":[""],"w h":[""],"gu gu":[""],"mo mo":[""],"fi f":[""],"chn yn":[""],qi:[""],"s s":[""],"tio sho":[""],"l j":[""],"k h":[""],"j q":[""],"ru r":[""],"zh nng":[""],"p b":[""],xi:[""],"zh zu":[""],"j ch":[""],ni:[""],"shng ru":[""],"qi ji":[""],"z c":[""],"qin x":[""],chi:[""],"f pi":[""],ro:["","","","",""],"yng xng":[""],"qin xn":["",""],"yn yn":[""],"h h":[""],"sh su":[""],"png fng":[""],"shn xn":[""],"wn gun gun":[""],"yu s":[""],"sho xio":["",""],"lng ling":[""],"pio f":[""],"wn wn min":[""],"sh sh":["",""],"t t":[""],"xin lin":["",""],"wn y":[""],"zu ch":[""],"l l":[""],"jn jn":[""],"ni rn":[""],"z z zi":[""],"t t":[""],"ji sh":[""],"qio zho":[""],"ti zh ch":[""],"fi fi":["",""],"qn qn jn":[""],"z j":["",""],"ln m":[""],"tin tin":[""],ti:["","",""],"lu l lo lu":[""],"zh zhu zhe":[""],"shn rn":[""],"g g":[""],"jn su":[""],"ku kui":[""],"r n":[""],"mng mng mng":[""],"yun hun":[""],"x sh":[""],"x x":[""],"m mng":[""],"su su":[""],"gi g h hi":[""],"yo zhu":[""],"dio tio d":[""],"x qi f":[""],"z j":[""],"lio l":[""],xu:[""],"hn hn":[""],"mn wn mn":[""],"p b":[""],"fn fn b":[""],"hng hng":[""],"y o":["",""],"x xio":[""],"bo b b":[""],"c z":[""],"wn lun":[""],"ko ho":[""],"yun wi":[""],"zhu chu":[""],"w mi":[""],"xio ho":[""],"y x x":[""],"ji j":[""],"dio zhu":[""],"cng zng":[""],l:[""],"ch zh":[""],"pn png":[""],"gn hn":[""],"hng jing":[""],"hu hu":[""],"xi h":[""],"m m m":[""],"fng bng":[""],"bng bng":[""],"ju qu":[""],"qn qin":[""],"gng zhng":[""],"f f":[""],"di d":[""],"gu q x":[""],"b p":[""],"sh y":[""],ti:["","","","","","",""],"g lu":[""],"mng bng":[""],"y x":[""],"h g":[""],"qi n":[""]," y":[""],"zh zh":[""],"l zh":[""],su:["",""],"yu qi":[""],"xi h":[""],"x q":[""],"b p":[""],"ni nng":[""],"h xi":[""],"gu hu":[""],"m m m":[""],"sh zh":[""],"zh di":[""],"jin chn":[""],"ma m m":[""],"mng mng":[""],"bi bi":[""],"bn fi":[""],"lo lio":[""],"yn xn":[""],"l l":[""],"xu xi":[""],"xng hng hng hng":[""],"shui cu":[""],"tu tu":[""],"lng lng":[""],"bo po po":[""],"j ji":[""],"h k":[""],"y y":["",""],"n ju":[""],"bi p":[""],"ch nu":[""],"ch q du nu":[""],"ji qi ji":[""],"b m":[""],"gu gu":[""],"li li":[""],"chng chng":[""],"ji g":[""],"do chu":[""],"shang chng":[""],"yun gn":[""],"yn n":[""],"t x":[""],"f f":[""],"ch zh":[""],"tu tn":[""],li:[""],"yo yo":[""],"qn tn":[""],"jin xin":["",""],pin:["","","","",""],"pi mi":[""],"yng yng":[""],"q q":["","",""],"jin bin":[""],"lu lun":[""],"z zu":[""],"hu xi":[""],"ji ji xi":["",""],"xu h":[""],"l l":[""],to:["",""],zhn:[""],"z z":[""],"y di":["",""],xing:["",""],"dio tio":[""],"y ch ch":[""],"lng lng":[""],"i i i i x":["",""],shu:[""],"y y":["","",""],"shu shu yu":["",""],"shu shi":["",""],"q ju":[""],"ch li":[""],"n n":[""],"dio tio":[""],"p bi":[""],"j j":[""],"z zu zh cu":[""],"ch j":[""],"ho xi":[""],"ln ln":["",""],"sh d":[""],"hu gu":[""],"x shi i":[""],"nn nn":["",""],mi:["",""],zn:["",""],"sh zh":["",""],"jun xun":[""],"y tu":[""],zhn:[""],"x h":[""],"xing yng":[""],"tio dio zhu":[""],"chn shn":[""],"m mi":[""],"mn mn":[""],"g y":[""],"hu hu hu":[""],"zh zhi":[""],"hun hun":[""],"kn kn":[""],"m h":[""],"m h ho":[""],"j lu":[""],"z zhi":["",""],"di t":[""],"b bn":[""],"ji g ji":[""],"xing mn":[""],cng:[""],"zhun zun":["",""],"wn zhun":[""],"gn gng zhung":[""],"yun yn":[""],"bn b":[""],"ji g":[""],zu:["","",""],"di t":[""],"j qi":[""],"q c":["",""],"j ji":[""],"gu hu":[""],"qu q j":[""],"tng tng":[""],"chu zhu":[""],"q c":[""],"yu t":[""],"b bo":[""],"ku w":[""],"gu ju":[""],"fng fng png":[""],"po b":[""],"q q":[""],"jin chn":[""],"po po":[""],"din di ti":[""],"j j qi":[""],b:[""],"lu l":[""],"di du du ch":[""],zhui:[""],"bng pin":[""],"tio to":[""],"sh chu":[""],"ling ling":[""],"t t":[""],ch:["","",""],"d zh":[""],"dng dng":["","",""],cng:[""],"dn cn":[""],"ju ju":[""],lio:[""],"xi s":[""],t:["","",""],"y zh g":["",""],"xn xin":[""],"fn gu":[""],"zhun zhun":[""],"zhu zhu":["",""],b:["","",""],"zhun zhun zhui":[""],"zi zi":[""],"nin zhn":[""],"bin bian":[""],"do bin":[""],"y y":["","",""],"gu guo gu":[""],"wng kung":[""],"hi hun":[""],"zh zhi":[""],"yun yun":[""],"zh l":[""],"zh wng":[""],"zhu du":[""],"sh ku":[""],tu:[""],"tng tng":[""],gung:[""],"di di":[""],"su su":[""],"t d":[""],"y wi":[""],"sh d zh":[""],c:[""],"hun hi":[""],"l ch":[""],"kng hng":[""],"n ni n":[""],"xi y y y x":[""],"gi hi":[""],"hun xn":[""],"ch x":[""],ho:[""],"l zh":[""],"xio o":[""],"du d":[""],lio:["","",""],"zn cun cu":["",""],"dng dng":[""],"c zu":[""],"f p":[""],"shi sh":[""],ning:["",""],"qi chu":[""],"p f":["",""],"chn chn":[""],"yn lin xin":[""],"ning ning":[""],"l li":[""],"l x x":[""],"lio lio":[""],"dng dng":["",""],"qio jio":[""],"y hu":[""],"hu w":[""],"r rn jin":["",""],"d di":[""],"p zho":[""],"y y":[""],"b p":["",""],"t tu":["",""],bi:[""],"bng png":[""],"h k":["",""],chng:["",""],"xing jing":[""],"y s":[""],"x hu":[""],"rn rn":[""],"shn shu":[""],"ch l":[""],"xin x":["",""],"hu xing":[""],"dio tio yo":[""],"xin ku tin gu":["","",""],"zh ni":[""],"zhng yng":[""],"tu t du":[""],"mi mng":[""],"wn jin":["",""],"tng dng":["",""],"jun jin cun":[""],"s tu":[""],"jun xun jun":[""],"w hu w":[""],"zhu chu":[""],"xng xng jng":[""],"j j":["",""],"zu ni":[""],"yun yun wn wn":[""],"gng gng":["",""],zhu:["","","","",""],:["",""],"cu ch":[""],"su s":[""],"yo z":[""],"y t g":[""],"qing chng":[""],"g l":["","",""],"b p b":[""],"go ho":[""],"z chu":[""],"xi xi":[""],"shu su":[""],"d d":["",""],"qio sn cn":[""],"l o":[""],"tng tng":[""],"jin zn":[""],"hu su ru":[""],"qing qing":["",""],"sn xin s":[""],"jin jin":["",""],"dng chng":["",""],"zun zun":[""],"s x":[""],"yo yu":[""],"tu du":[""],"zun zun":[""],"qin yn":[""],"p p":[""],"yo dio tio":[""],"tng tng":[""],"p p":[""],"tn xin":[""],"li li":[""],"ho go":[""],"tng tng":[""],"tn chn xn":[""],"hu shn":[""],"hn b":["",""],"kng kng":["",""],"xin jin jin jin":[""],"xi xi":[""],"xi k":[""],"bin gun":[""],"h g":["",""],"hng xing":[""],"s x":[""],"tng tng":[""]," yn":["",""],"hng jun xing":[""],"bn pn":[""],"d sh":["",""],"qu qu":[""],"tng tng chng":[""],"kn hn":["",""],"x s t":[""],"mn mn":[""],"qu qu":[""],"yn din":[""]," ":[""],"bi p p":[""],"yn yn":[""],"y yo sh":[""],"lng lng":[""],"du zhu":[""],"su du":[""],"gi q i":[""],"hu du":["",""],"wi ku":[""],"l di":[""],"zhu cu wi":[""],"h h":["",""],"jn jun":["",""],"nn nn nu":[""],"qu qio qio":[""],"gun hun":[""],"gu x":[""],"s x":[""],n:[""],"w mng":[""],tng:[""],"l lu":[""],mi:[""],"jng ling":[""],"g j":[""],b:[""],"yng yng":[""],"g t s":[""],"bin yng":[""],"qio sho":[""],"jun xun":[""],"shng zhng":[""],"p bng b bi":[""],la:[""],"xi di":[""],ng:[""],"mu m":[""],"b bng":[""],"mi w":[""],ru:[""],"sh xi":[""],"yn wn":[""],"dn d":["",""],du:[""],lu:[""],"bn pn":[""],yng:["","",""],mn:["",""],"jng gng":[""],"ji xi ji":[""],"k k":[""],"pn bn":[""],"chn zhn":[""],"fng fng":["",""],"bio di":[""],"b f":[""],"so su":[""],"li lio":[""],"sh s y":[""],"yng jun":[""],"zh tu":[""],"y s":[""],"zu z zh":[""],ti:["",""],"xing nng":[""],"tng xng":[""],"g le":[""],"ch zha":[""],"nng nng":[""],"yn w":[""],"zh sh":[""],"xn jn":[""],"kui ju":[""],zng:["",""],"ti di":[""],"xn xun":[""],"ling lng":[""],pin:["","","",""],"di ti":[""],"so so":[""],"g g":[""],"bi m":[""],"xio qio":[""],"bng png":[""],"b ju":[""],"b p":[""],"mo mng":[""],"ku yu":[""],"b b":["",""],"j c":[""],"b b":[""],"zh zh":["",""],"chu di":[""],"lu g":[""],"gu xi w ku":[""],"xin xin":["",""],"p b":[""],"y s":[""],"b b":[""],"gu xi":[""],"si x":[""],"nio dio":[""],"dio zho":[""],"gn hn yn":[""],"f gu":[""],"jin qin zhn":[""],"h ji":[""],"pin bin":[""],"chun zh":[""],"cng qing":[""],"sn xn":[""],"bio po":[""],"zh c":[""],"jn qn":["",""],chi:[""],"m me":[""],"m me ma":[""],"m m":[""],"dn shn":[""],"zhn yn":[""],"dn zhn":[""],"min mn mng":[""],hu:[""],nng:[""],"q j z zhi":[""],"yn kn yn":[""],"yn kn":[""],"gng w":[""],"gu jn qi":["",""],"ku w":[""],lu:[""],"u q":[""],"lu l":[""],"g g g":[""],"w gu":[""],"zh d":[""],"gng hng":[""],"yo xio":[""]},Lu=new pQ;Object.keys(gL).forEach(e=>{const t=gL[e];for(let n of t)Lu.set(n,e)});const ZDe=["zh","ch","sh","z","c","s","b","p","m","f","d","t","n","l","g","k","h","j","q","x","r","y","w",""],JDe=["j","q","x"],eRe=["un","un","un","un","uan","u","u","u","u","ue","n","n","n","n","un","","","","","u"],tRe={un:"n",un:"n",un:"n",un:"n",uan:"an",u:"",u:"",u:"",u:"",ue:"e",n:"n",n:"n",n:"n",n:"n",un:"n",:"",:"",:"",:"",u:""},nRe=["ia","ian","iang","iao","ie","iu","iong","ua","uai","uan","uang","ue","ui","uo","an","e","van","ve"],yL={:"y",:"r",:"sn",:"s",:"w",:"li",:"q",:"b",:"ji",:"sh",:"bi",:"qin",:"wn",:"y",:"dn",:"ling",:"shung",:"du",:"j",:"sh y",:"lng y",:"d y",:"y sh",:"y sh y"},xL={:"chng",:"hng",:"du",:"gng"};function rRe(){const e={:"lng y","":"lng y",:"sh y",:"y sh",:"d y",:"y sh y"};for(let t in yL)for(let n in xL){const r=`${t}${n}`,i=`${yL[t]} ${xL[n]}`;e[r]=i}return e}const vL=rRe(),iRe=Object.keys(vL).map(e=>({zh:e,pinyin:vL[e],probability:1e-12,length:xo(e),priority:ga.Normal,dict:Symbol("rule")})),gQ={:{b:[4]},:{y:[4],y:[1,2,3]}},sRe={:["","","","","","",""],:["","","","","","",""]},aRe=Object.keys(gQ);function oRe(e,t,n){if(aRe.indexOf(e)===-1)return Yp(e);if(t===n&&t&&Yp(t)!==t)return R1(Yp(e));if(n&&!sRe[e].includes(n)){const r=Yp(n);if(r!==n){const i=I1(r),s=gQ[e];for(let a in s)if(s[a].indexOf(Number(i))!==-1)return a}}}function lRe(e,t){if(e===""&&(!t||!Lu.get(t)))return"lio"}function cRe(e,t){if(e==="")return!t||!Lu.get(t)?"tng":Lu.get(t).split(" ")[0]}function bL(e,t,n){return cRe(e,t)||lRe(e,t)||oRe(e,t,n)||Yp(e)}const XO={:"nn gng",:"d w",:"m q",:"s m",:"shng gun",:"u yng",:"xi hu",:"zh g",:"wn rn",:"dng fng",:"h lin",:"hung f",:"y ch",:"gng yng",:"tn ti",:"gng y",:"zng zhng",:"p yng",:"chn y",:"ti sh",:"shn t",:"gng sn",:"zhng sn",:"xun yun",:"lng h",:"zhng l",:"y wn",:"zhng sn",:"m rng",:"xin y",:"l qi",:"s t",:"s kng",:"q gun",:"s ku",:"zhng d",:"z j",:"zhun sn",:"dun m",:"w m",:"gng x",:"q dio",:"yu zhng",:"rng s",:"gng ling",:"tu b",:"ji g",:"zi f",:"g ling",:"dun gn",:"bi l",:"dng gu",:"nn mn",:"h yn",:"yng sh",:"ling qi",:"zu qi",:"dng mn",:"x mn",:"gu lng",:"gun qi",:"zho",:"qin",:"sn",:"l",:"zhu",:"w",:"zhng",:"wng",:"fng",:"chn",:"ch",:"wi",:"jing",:"shn",:"hn",:"yng",:"zh",:"qn",:"yu",:"x",:"h",:"l",:"sh",:"zhng",:"kng",:"co",:"yn",:"hu",:"jn",:"wi",:"to",:"jing",:"q",:"xi",:"zu",:"y",:"bi",:"shu",:"du",:"zhng",:"yn",:"s",:"pn",:"g",:"x",:"fn",:"png",:"lng",:"l",:"wi",:"chng",:"m",:"mio",:"fng",:"hu",:"fng",:"y",:"rn",:"yun",:"li",:"fng",:"bo",:"sh",:"tng",:"fi",:"lin",:"cn",:"xu",:"li",:"h",:"n",:"tng",:"tng",:"yn",:"lu",:"b",:"ho",:"w",:"n",:"chng",:"yu",:"y",:"sh",:"f",:"p",:"bin",:"q",:"kng",:"w",:"y",:"yun",:"b",:"g",:"mng",:"png",:"hung",:"h",:"m",:"xio",:"yn",:"yo",:"sho",:"zhn",:"wng",:"q",:"mo",:"y",:"d",:"m",:"bi",:"mng",:"zng",:"j",:"f",:"chng",:"di",:"tn",:"sng",:"mo",:"png",:"xing",:"j",:"sh",:"q",:"xing",:"zh",:"dng",:"ling",:"d",:"run",:"ln",:"mn",:"x",:"j",:"m",:"qing",:"ji",:"l",:"lu",:"wi",:"jing",:"tng",:"yn",:"gu",:"mi",:"shng",:"ln",:"dio",:"zhng",:"x",:"qi",:"lu",:"go",:"xi",:"ci",:"tin",:"fn",:"h",:"lng",:"hu",:"y",:"wn",:"zh",:"k",:"zn",:"gun",:"l",:"m",:"jng",:"fng",:"qi",:"mio",:"gn",:"xi",:"yng",:"zng",:"dng",:"xun",:"bn",:"dng",:"y",:"shn",:"hng",:"hng",:"bo",:"zh",:"zu",:"sh",:"cu",:"j",:"ni",:"gng",:"chng",:"j",:"xng",:"hu",:"pi",:"l",:"rng",:"wng",:"xn",:"yng",:"y",:"hu",:"zhn",:"q",:"ji",:"fng",:"ru",:"y",:"ch",:"jn",:"j",:"bng",:"m",:"sng",:"jng",:"dun",:"f",:"w",:"w",:"jio",:"b",:"gng",:"m",:"wi",:"shn",:"g",:"ch",:"hu",:"m",:"png",:"qun",:"x",:"bn",:"yng",:"qi",:"zhng",:"y",:"gng",:"nng",:"qi",:"lun",:"bo",:"gn",:"tu",:"l",:"rng",:"z",:"w",:"f",:"li",:"jng",:"zhn",:"sh",:"lng",:"y",:"xng",:"s",:"sho",:"go",:"l",:"j",:"b",:"yn",:"s",:"bi",:"hui",:"p",:"ti",:"cng",:"",:"su",:"xin",:"j",:"li",:"zhu",:"ln",:"t",:"mng",:"ch",:"qio",:"yn",:"y",:"x",:"ni",:"cng",:"shung",:"wn",:"shn",:"dng",:"zhi",:"tn",:"gng",:"lo",:"png",:"j",:"shn",:"f",:"d",:"rn",:"zi",:"l",:"yng",:"x",:"q",:"sng",:"gu",:"p",:"ni",:"shu",:"tng",:"bin",:"h",:"yn",:"j",:"ji",:"p",:"shng",:"nng",:"wn",:"bi",:"zhung",:"yn",:"chi",:"q",:"yn",:"chng",:"m",:"lin",:"r",:"x",:"hun",:"i",:"y",:"rng",:"xing",:"g",:"y",:"shn",:"g",:"lio",:"y",:"zhng",:"j",:"j",:"hng",:"b",:"d",:"gng",:"mn",:"hng",:"kung",:"gu",:"wn",:"ku",:"gung",:"l",:"qu",:"dng",:"u",:"sh",:"w",:"l",:"wi",:"yu",:"ku",:"lng",:"sh",:"gng",:"sh",:"ni",:"cho",:"gu",:"o",:"rng",:"lng",:"z",:"xn",:"kn",:"n",:"jin",:"ro",:"kng",:"zng",:"m",:"sh",:"ni",:"yng",:"j",:"x",:"fng",:"cho",:"gun",:"kui",:"xing",:"zh",:"hu",:"jng",:"hng",:"yu",:"zh",:"qun",:"l",:"g",:"y",:"hun",:"gng",:"mu",:"h",:"yn",:"f",:"xio",:"u",:"qn",:"pio",:"p",:"yn",:"gu",:"yo",:"gu",:"zun",:"chn",:"sh",:"sho",:"qi",:"s",:"nng",:"l",:"chui",:"xng"},uRe=Object.keys(XO).map(e=>({zh:e,pinyin:XO[e],probability:1+xo(e),length:xo(e),priority:ga.Surname,dict:Symbol("surname")})),_L={:"zh ge",:"chng wi",:"rn wi",:"zu wi",:"b fen",:"yo qi",:"yng gi",:"zng zhng",:"t gng",:"ju de",:"rn wu",:"n ge",:"chng wi",:"wi zh",:"lio ji",:"ch l",:"hung shang",:"zh yo",:"d ling",:"l ling",:"j h",:"gn b",:"m d",:"xng wi",:"zh jin",:"rn shi",:"sh zhng",:"sh fu",:"dio ch",:"chng xn",:"fn wi",:"zh shi",:"do dn",:"zh ling",:"hng kun",:"hng li",:"hng hu",:"hng y",:"g hng",:"zi hng",:"hng jia",:"ni hng",:"wi hng",:"tng hng",:"bn hng",:"hng w",:"yng hng",:"yn hng",:"shng hng",:"zh hng",:"zng hng",:"hng qng",:"dng hng",:"hng gu",:"hng dang",:"hng hu",:"ti hng",:"r hng",:"zhng hng",:"nng hng",:"gng hng",:"jin hng",:"g hng",:"hng ho",:"hng go",:"hng shu",:"hng wi",:"hng m",:"hng chng",:"hng j",:"hun hng",:"hng hu",:"hng bi",:"hng do",:"do heng",:"cn y",:"chng fn",:"jn gun",:"shng zhng",:"sh ling",:"yng dng",:"yun zhng",:"qing dio",:"zh nng",:"yn yu",:"y wi",:"ch y",:"b zhng",:"mng g",:"zh yu",:"sh dng",:"zh ho",:"chng zhng",:"go xng",:"b lio",:"chn ling",:"png zi",:"xin de",:"zh sh",:"sh de",:"shui lng",:"gi wi",:"b jn",:"chng fn",:"d ying",:"sho nin",:"xng q",:"ti jian",:"xi xi",:"xio zhng",:"gng xn",:"h tong",:"h do",:"chng qng",:"chng jin",:"sh de",:"shn ch",:"li j",:"j y",:"j wi",:"gun jn",:"fng f",:"tu fa",:"tu xing",:"ji zhng",:"z x",:"yo shi",:"jing lng",:"hn ling",:"gng wi",:"j li",:"d ch",:"xin zhng",:"sho n",:"l shang",:"zh p",:"nng ling",:"ch ling",:"gng yng",:"tio zhn",:"x zng",:"j de",:"zng ling",:"dng zhn",:"jing sh",:"ch bi",:"jio wi",:"zhng lo",:"di fu",:"ch y",:"dng de",:"jn ling",:"m yng",:"d qu",:"wi shu",:"pin yi",:"gng mng",:"sh tou",:"zhu zhng",:"wi zh",:"pio liang",:"po dn",:"zng z",:"ju s",:"dng zu",:"jn kui",:"rn wi",:"chng f",:"h tng",:"ch j",:"d xiong",:"d jing",:"shu jio",:"y jio",:"tun zhng",:"du zhng",:"q zhng",:"nn d",:"y tou",:"hu zhng",:"d di",:"wng ye",:"zhng ling",:"y wi",:"ji huo",:"hu shn",:"y zi",:"li ling",:"zhng d",:"min qing",:"kui j",:"gu fn",:"j nn",:"dio dng",:"yn jng",:"sho jing",:"zhng d",:"xio de",:"bin gng",:"d gng",:"rn de",:"png gu",:"nin tou",:"zhng zh",:"sn zng",:"b xu",:"chng xing",:"sho ling",:"xn si",:"du d",:"gn xin",:"h y",:"ch f",:"zhng gun",:"b ln",:"qn qi",:"shn fn",:"g bo",:"zhu shu",:"zh dn",:"k sou",:"y zi",:"wi zhng",:"gng j",:"sh zhng",:"bin ling",:"yng yu",:"xi zi",:"yu q",:"jin ji",:"d xi",:"d bn",:"z dn",:"dn yo",:"r ling",:"xu ru",:"g gn",:"rng ling",:"m hu",:"zhun dng",:"chng hu",:"k zhng",:"ch zh",:"zhu zhng",:"zho j",:"qing p",:"tng zhng",:"shu xing",:"l ma",:"zhn zhng",:"zh gun",:"chng chng",:"min de",:"zhu sh",:"d ji",:"zhn xing",:"xing mo",:"ch fn",:"wi qu",:"wi q",:"b bo",:"bi zi",:"qun zi",:"jin shi",:"lng zho",:"y hu",:"d du",:"d sh",:"chng d",:"shu d",:"d d",:"wng d",:"dng d",:"d h",:"d chng",:"jin d",:"qin d",:"g d",:"dng d",:"zhng d",:"l n",:"zi xing",:"jio ling",:"du chn",:"zng zhng",:"xing gong",:"kng bi",:"d liang",:"shu fn",:"sh tou",:"m shu",:"xng li",:"pn ch",:"sn wn",:"ch jng",:"sn zi",:"qun tou",:"d f",:"z zhng",:"g tou",:"nng k",:"gng hun",:"b ru",:"hun yun",:"chng xi",:"chng li",:"zh g",:"i ho",:"mn tou",:"jn zhng",:"shu zhng",:"chng zhng",:"s zhng",:"zhng z",:"qing jng",:"qi dng",:"tu er",:"zhn zhng",:"zh teng",:"xing ch",:"tng shui",:"zhng jing",:"mng zhng",:"mng jing",:"m tou",:"dng tan",:"d qio",:"gn hu",:"sho ye",:"shu ling",:"b j",:"wi ba",:"li de",:"ho q",:"yo shi",:"dng zu",:"chn zhu",:"y ba",:"ch zi",:"shng jing",:" xn",:"dn zi",:"yng ji",:"zh ju",:"yn zhun",:"xing zhng",:"g sh",:"zhng yu",:"yng zhng",:"dng chng",:"n xu",:"yn hu",:"chng yng",:"hu wi",:"t b",:"zun jn",:"yu du",:"ling xing",:"bi zi",:"sh de",:"sh m",:"j zhng",:"pi zhng",:"ji q",:"fn ling",:"sh c",:"d fng",:"yo he",:"ch ch",:"ling z",:"l tou",:"dio yn",:"c hou",:"chng shn",:"zhn tou",:"pn mng",:"sh zhng",:"gu hun",:"p ling",:"x m",:"din zho",:"shn wi",:"xio jing",:"zhu yn",:"ch s",:"yn w",:"g yu",:"sh gn",:"b l",:"d fng",:"wi tou",:"bn zhng",:"xng xi",:"nng yun",:"qn chi",:"wi sh",:"gu dng",:"xu jin",:"jin di",:"mn yun",:"ji shi",:"j ling",:"yn m",:"cn zhng",:"lin zhng",:"z j",:"w jing",:"wn ch",:"zh bn",:"gng qi",:"j ling",:"do zhng",:"xi lu",:"wng ba",:"qi g",:"jin g",:"y hung",:"chng ji",:"lng h",:"wi hi",:"j zi",:"chng hun",:"g da",:"yn shn",:"d s",:"du gun",:"zh shi",:"din h",:"kn shu",:"f b",:"y mn",:"jn zo",:"qi dun",:"zh tou",:"wi shng",:"ch sheng",:"qi ch",:"zhu l",:"zhu xing",:"j ch",:"tu bn",:"gn zi",:"hn hu",:"sho f",:"xng zh",:"n mn",:"gn li",:"jun q",:"shn zi",:"gng gi",:"lng lu",:"l ba",:"zi h",:"tu dng",:"wi nn",:"zhu l",:"yn zi",:"gn m",:"bi f",:"zng di",:"ji j",:"bo gung",:"q dio",:"xing j",:"jio hu",:"ju zh",:" y",:"zi zhng",:"zhng bi",:"ch chi",:"du ku",:"pi ki",:"tng zhng",:"z fn",:"w ch",:"ji dng",:"zhun j",:"g zi",:"p sh",:"gn sh",:"gn jn",:"dng ling",:"yn zi",:"hu er",:"qi zhng",:"chng fn",:"ch ",:"lu min",:"zun yn",:"di chng",:"shng dng",:"xio ling",:"zu fang",:"zho xing",:"i y",:"dio j",:"kn zhng",:"y zhng",:"fng zheng",:"b xi",:"kng x",:"gng di",:"pin ch",:"shng dio",:"sh ling",:"tn zi",:"w ling",:"kng d",:"dio d",:"sn sh",:"chung shng",:"hi shn",:"mn zi",:"chng di",:"lu ch",:"dn dio",:"lo jing",:"rn shn",:"jin dun",:"chng xin",:"ji z",:"dio yng",:"lu bo",:"f zhu",:"yng shng",:"zh jing",:"zu guo",:"j ju",:"wi zhng",:"gu ling",:"yu q",:"f h",:"qing dn",:"qio rn",:"ch fng",:"qio shng",:"q zi",:"qng dio",:"tio xn",:"di wi",:"lio ji",:"d zhng",:"ji b",:"ln de",:"zng ling",:"y zhu",:"b jing",:"yo si",:"ch j",:"gng gn",:"ch m",:"xin yu",:"jin x",:"zhng dn",:"chng yn",:"chng sh",:"yng chou",:"zh dng",:"w nng",:"bo z",:"qin tou",:"jun yn",:"fi di",:"dn do",:"gn zi",:"mn jing",:"hu tou",:"h ci",:"nun huo",:"li j",:"dio qin",:"ju jing",:"bo zng",:"sng sh",:"yu mo",:"qin f",:"gng t",:"zhung zi",:"bi bo",:"ti zi",:"sng sn",:"h h",:"k w",:"z zhun",:"gng din",:"fn xng",:"tn shui",:"s d",:"bn fn",:"lu de",:"b b",:"xing jin",:"dn b",:"hn dn",:"zhn gun",:"f h",:"nng ni",:"xi hu",:"wi lio",:"yn zho",:"chu dio",:"sh zi",:"x jun",:"bio d",:"bi niu",:"s liang",:"h ci",:"ln y",:"gi zi",:"fn wi",:"lng tng",:"yu w",:"y ling",:"mo f",:"chi qin",:"bi f",:"zhun s",:"shng yu",:"ji gng",:"gng shu",:"zh gn",:"chng ch",:"zhng xing",:"gng chi",:"li dn",:"shng de",:"tio zi",:"chng wi",:"z s",:"jng fng",:"ji g",:"din b",:"din zhng",:"zhng chung",:"lo lao",:"m hu",:"gng jia",:"j l",:"k mn",:"d ling",:"ch cu",:"sh ji",:"cn c",:"d zi",:"zh zhng",:"xing chn",:"hng yn",:"sh mng",:"x ho",:"li zhun",:"jng d",:"h ma",:"qng ji",:"dng zi",:"chn m",:"go l",:"xi ji",:"w wi",:"b jie",:"lio d",:"bin xing",:"h dn",:"qng jia",:"chng zi",:"h wn",:"hun j",:"jio hun",:"jing lng",:"chn y",:"kng qu",:"l ln",:"dn ling",:"zh zhu",:"d dio",:"b s",:"qng b",:"d dng",:"zhn b",:"so zhou",:"qi c",:"nin zhng",:"wi zhun",:"tu zi",:"ci feng",:"l yu",:"xu p",:"sn lun",:"dng ling",:"do teng",:"q sh",:"zn ji",:"chng f",:"zho w",:"dn k",:"xng w",:"rng rang",:"lin li",:"yng d",:"z zhng",:"gu zi",:"li g",:"xun yn",:"tio pi",:"q gn",:"chi y",:"kn k",:"sho r",:"yu tun",:"yng fn",:"tu hun",:"g dio",:"y dio",:"yn dio",:"yu f",:"g p",:"d din",:"chi sh",:"yn chn",:"shu xu",:"go yao",:"tn m",:"dio rn",:"sn j",:"shng tu",:"fng m",:"fng ji",:"g liang",:"sh dng",:"zhng dn",:"wng wi",:"zhng zh",:"q hng",:"m lio",:"xing sheng",:"jio zhng",:"qun xing",:"sh ling",:"chn mn",:"j y",:"ji f",:"si wi",:"jing xio",:"sh ho",:"m lu",:"p do",:"pin zi",:"qi xio",:"dn wn",:"x b",:"ku d",:"jin xi",:"qio shu",:"s dio",:"ch ju",:"bio shui",:"ch zi",:"zho xing",:"chn zh",:"du peng",:"p zi",:"d zi",:"f zi",:"gn jng",:"do sh",:"jing gun",:"ch tou",:"gu xing",:"n ji",:"lo dao",:"xin ling",:"bng x",:"chng fng",:"q yu",:"qng dn",:"b gng",:"fi zi",:"ch sh",:"cn ling",:"qng shui",:"pio mio",:"zhng jing",:"ci gn",:"sh sh",:"jun zi",:"yu shu",:"xing zi",:"png gung",:"qi w",:"kn gun",:"fng tou",:"jng gn",:"go ch",:"kng h",:"bin dn",:"j yng",:"g zi",:"gng x",:"fn ch",:"fi dn",:"wi b",:"f xng",:"j xng",:"cun dng",:"jin hu",:"qin b",:"yu zhng",:"shn ch",:"dio zi",:"xing wi",:"zhun z",:"jng l",:"k ch",:"lio sh",:"zhun you",:"dng p",:"zhu zi",:"dn zi",:"ho zhn",:"yn mi",:"zh x",:"gn lin",:"n jing",:"ji ling",:"hu chun",:"j ling",:"tio b",:"sho xio",:"zhu lu",:"zng w",:"k b",:"yo xi",:"yng chu",:"hun shu",:"m j",:"zh zhu",:"h lng",:"bo zhng",:"x zhe",:"zhng ji",:"gng zhun",:"jio kn",:"chng t",:"so xng",:"p gi",:"zhng sh",:"ch ji",:"y gn",:"zhng zh",:"yng yn",:"qi r",:"zhn jing",:"nin sho",:"sh shn",:"zh ni",:"ch sh",:"zhng fng",:"dng ling",:"fng ling",:"qing dio",:"lo sho",:"m r",:"gu g",:"jing shui",:"ch zi",:"w nang",:"zhng jn",:"k hn",:"bng zhu",:"gng xio",:"qi pin",:"chi sh",:"zh hui",:"yng zho",:"ch n",:"qi cu",:"r tou",:"y ji",:"z zhng",:"do gun",:"ju s",:"dng ling",:"p jia",:"yun fn",:"kng xin",:"ho s",:"n h",:"lng tng",:"bin si",:"h cng",:"chng h",:"lng sn",:"hng lng",:"hu zi",:"ni mng",:"sh lu",:"n ch",:"mu l",:"zh lan",:"zhng bio",:"dio dng",:"gu lu",:"chng zi",:"ji qio",:"chng wn",:"po zh",:"fn hun",:"z zhun",:"go dio",:"yn hng",:"g zhu",:"qing qi",:"bn xing",:"jio hng",:"co shui",:"q mn",:"zhu s",:"nng kn",:"xng tou",:"j n",:"ji jio",:"f j",:"mng jing",:"yu mo",:"tu li",:"n rng",:"zun tn",:"ji cng",:"lu p",:"hng do",:"yn ling",:"ji mn",:"kng er",:"g mo",:"ho k",:"zun kng",:"h nng",:"xng yng",:"fn mn",:"cng c",:"fn ch",:"chng zi",:"xio dio",:"sho yng",:"shu xing",:"rn fng",:"g bei",:"jing mn",:"m bn",:"pi j",:"wi w",:"gn tou",:"hu sun",:"li zhui",:"hng xio",:"yn xun",:"gn dio",:"fng zh",:"nn ch",:"zhu y",:"mn hng",:"j sh",:"dun f",:"shng hun",:"hun qng",:"kn h",:"zh shui",:"zu yu",:"zi k",:"zhun hng",:"yn m",:"kng g",:"p din",:"ling jing",:"hu l",:"sn mn",:"tu f",:"sng hun",:"mi m",:"li j",:"b w",:"dio l",:"sh ti",:"j zhng",:"shun s",:"pi ju",:"qi ku",:"chung ku",:"h qian",:"sh dn",:"p png",:"h d",:"ln sn",:"sh gn",:"tin kng",:"dio zun",:"yu sh",:"ling bin",:"yu xing",:"tng s",:"zhng dio",:"ji do",:"gn k",:"zh k",:"yu gng",:"hu gu",:"zho hu",:"gng zhng",:"j f",:"kng zi",:"n zh",:"zhng zho",:"shu zi",:"sng zng",:"ji di",:"n fn",:"zhng y",:"zhng sn",:"jio dng",:"jun q",:"zi yn",:"tu dn",:"zu cn",:"fn ling",:"dio hun",:"lio rn",:"li zu",:"din dng",:"hn ji",:"zhng xing",:"j shu",:"x f",:"zh gn",:"sh xing",:"hng qing",:"k hu",:"si zi",:"dn gn",:"hun xing",:"zho tou",:"s gun",:"d shui",:" ha",:"g sh",:"m b",:"ho w",:"xi ch",:"xio zhng",:"l jin",:"zhn tou",:"jio du",:"sh w",:"pn y",:"f ye",:"m fi",:"yn fn",:"h jing",:"b he",:"d ch",:"kng wi",:"p l",:"w l",:"dio hu",:"li tou",:"xin sn",:"jio jun",:"mo shi",:"gn jn",:"xin yu",:"xing gu",:"dn shn",:"zh xng",:"p ki",:"c zhng",:"f qi",:"ji j",:"sh ch",:"shng f",:"chng b",:"fng h",:"yn ling",:"sho wi",:"chng y",:"cng jng",:"hu bo",:"wi h",:"wi xing",:"h ho",:"zho m",:"tio dn",:"wn l",:"hun s",:"qing hng",:"zho sh",:"xing shn",:"tio mng",:"m feng",:"fn ni",:"gng y",:"run huo",:"jn xng",:"ho zi",:"zho y",:"bi jing",:"ci zhng",:"ji z",:"mi kng",:"ji fng",:"sh duo",:"chn huo",:"b ji",:"din ling",:"h zi",:"dio sh",:"ch shn",:"d shu",:"dn gng",:"hng mn",:"nng gn",:"jio din",:"ji zi",:"gn xio",:"hng chun",:"jio zh",:"y s",:"m zh",:"yu zh",:"go gn",:"jng zhun",:"zng sn",:"ho du",:"gun qi",:"to bn",:"m ceng",:"mu q",:"zhn l",:"m zha",:"cu he",:"li qie",:"shui d",:"ti zi",:"fn de",:"nin zhu",:"ci y",:"sn zhung",:" nu",:"xng wi",:"xng tou",:"q ling",:"dio yn",:"ch zh",:"yu yn",:"chng s",:"dng h",:"ln dio",:"xing zhng",:"mn yu",:"po zhang",:"sng f",:"xio jing",:"ling xng",:"fng b",:"ci kui",:"d gn",:"l sh",:"jio chng",:"si bi",:"sh xing",:"r m",:"xin ling",:"y s",:"lu lin",:"ling kuai",:"yo gn",:"li da",:"g g",:"gng gn",:"ji gng",:"tio du",:"kn mn",:"yu g",:"t pin",:"tio dng",:"zhn jing",:"qi jng",:"m fng",:"wi y",:"jio huo",:"m su",:"zu nng",:"mio tou",:"d zhn",:"d zng",:"ch shng",:"gu da",:"sh yn",:"sh ch",:"ti gn",:"jing xing",:"fn zi",:"sh ch",:"l yn",:"qing gn",:"fng rn",:"chu mn",:"din jing",:"hu tu",:"jng sh",:"xing lng",:"zhng lio",:"bn f",:"ji ba",:"k gn",:"kn ji",:"zhng dn",:"zhng kn",:"xi mn",:"dng gun",:"sh ling",:"gng dio",:"jin zu",:"dn pin",:"ch ch",:"pio bi",:"gng zi",:"tio ch",:"ho dng",:"zhun l",:"bng q",:"ji bn",:"i yu",:"gn do",:"k ch",:"p chi",:"zhng sh",:"tin hu",:"gng ch",:"jio yn",:"ch si",:"m pn",:"wi m",:"bn sng",:"chng h",:"d dio",:"fi fn",:"zun yng",:"ji zi",:"cho zi",:"gng sh",:"lng dang",:"p sn",:"f hun",:"zhun ln",:"hng ci",:"po tng",:"po s",:"tin y",:"h hu",:"q qio",:"tng ling",:"fng hun",:"w jio",:"mn gn",:"lng tou",:"yn ti",:"yu fng",:"xu zhng",:"gu zi",:"b dio",:"y bi",:"x chn",:"dio yu",:"mn gn",:"zng z",:"t gn",:"bin dio",:"f m",:"m zi",:"yu l",:"chn xn",:"m gn",:"chng yn",:"z xng",:"t dio",:"kn xing",:"y tou",:"xi qi",:"si shng",:"p zhng",:"tng wn",:"b xng",:"xi sh",:"tu q",:"xin dn",:"yu m",:"hn ling",:"y yu",:"ho k",:"zh xing",:"zh jun",:"z sh",:"x chung",:"fng dn",:"jin jing",:"l shu",:"xu f",:"kng dng",:"du xing",:"xin jin",:"hu jing",:"zi b",:"tio zao",:"qio p",:"b d",:"ji f",:"lio dun",:"tng dio",:"sh m",:"sh ch",:"b s",:"tio zi",:"tu m",:"w hu",:"m sh",:"dio zhun",:"j m",:"hun zhi",:"dio yn",:"fn hu",:"j u",:"dun h",:"mn li",:"lng j",:"fn ling",:"hun l",:"zhun dio",:"xng xing",:"shu xing",:"pi yu",:"gi tou",:"lin gn",:"b j",:"do b",:"ling c",:"mng ju",:"b dio",:"jio bn",:"zhng b",:"jun yng",:"sho wi",:"y zhun",:"yu p",:"qin li",:"d li",:"h ch",:"yn ",:"gn q",:"hi ling",:"jng dng",:"zhu chung",:"yu xing",:"sh j",:"gng gun",:"ln ch",:"zhng b",:"hu p",:"ji qio",:"kng ch",:"k xi",:"p chn",:"chng shng",:"yu l",:"i ho",:"zng l",:"gng jng",:"xu png",:"nng yn",:"chng du",:"dng chi",:"zhng zhun",:"bng ch",:"chung min",:"dn ju",:"b l",:"hung dang",:"so zi",:"ji sh",:"mn tu",:"mi f",:"d shu",:"zho ling",:"chung jing",:"j n",:"pn tou",:"ch sh",:"sn su",:"yng s",:"hn zhn",:"qin qing",:"w jin",:"ln zhun",:"ho jio",:"p pi",:"xing f",:"zh gng",:"dng ",:"bng ji",:"li ji",:"gng s",:"dn ji",:"zun xn",:"hung yn",:"m zho",:"bio ling",:"bi mn",:"ci du",:"ch sh",:"gun chi",:"to hun",:"chng mn",:"li fn",:"l lng",:"s xing",:"y xng",:"ju l",:"dn kng",:"zh ch",:"ji j",:"ch xng",:"hn jing",:"ho xu",:"ho ho",:"yn f",:"so b",:"f xing",:"gu gn",:"gng q",:"kng y",:"kn z",:"j b",:"jing hu",:"g zh",:"dio lng",:"f ti",:"ln bng",:"dio pi",:"zhun pn",:"gng go",:"chi gun",:"yu mn",:"jio zhng",:"chng chng",:"ji xng",:"yu tn",:"hu n",:"ch h",:"bng b",:"d kng",:"zhun qun",:"hng bo",:"hng ti",:"yn hng",:"zi hu",:"zhng j",:"gun zhng",:"xing min",:"kn tou",:"pn tou",:"y xng",:"jn yu",:"li c",:"g d",:"yn zho",:"bo sng",:"m sa",:"i du",:"pin zhu",:"chu ju",:"dio sng",:"qing jing",:"chng zu",:"f bin",:"zho m",:"zho f",:"shng fng",:"tin s",:"xing hng",:"q shu",:"bi ti",:"chng ling",:"f ci",:"ji f",:"fn jun",:"xio ling",:"jio zhu",:"l zi",:"dio diao",:"sn bng",:"go tio",:"b s",:"ji xn",:"shn dng",:"to ro",:"n chng",:"nin zi",:"m fng",:"s b",:"chng yun",:"xng qn",:"t l",:"gun ling",:"qing b",:"qing zhng",:"yn ch",:"sh do",:"di li",:"t bn",:"xin w",:"s jing",:"jn li",:"chn ji",:"f sh",:"g shn",:"tin fn",:"p ho",:"s tng",:"bi zh",:"hu shng",:"ju du",:"tng chi",:"su ch",:"sng l",:"m m",:"xu shu",:"s b",:"su co",:"qin wi",:"dio tu",:"lng jun",:"wi dio",:"z ti",:"jun f",:"chui du",:"yng xing",:"sn gung",:"g lu",:"b mng",:"lng tu",:"yn yn",:"li zhou",:"pin er",:"qin shu",:"sn t",:"ni xng",:"qing li",:"ji sng",:"fn jin",:"sho zhung",:"li kng",:"go ji",:"k xu",:"b m",:"p gu",:"m xu",:"zh sng",:"ch zi",:"hng dng",:" zi",:"ch lu",:"g zhng",:"gu ch",:"hun hn",:"l ji",:"sh zh",:"shn ling",:"tng ho",:"m ling",:"gng shng",:"f sng",:"shui zh",:"z m",:"sn ji",:"d qing",:"jio w",:"b qng",:"yn po",:"nio nu",:"co du",:"chng jn",:"n nn",:"qi zhng",:"tio dng",:"hun yun",:"j jing",:"gng g",:"m yo",:"bi xng",:"qi min",:"sn h",:"li jn",:"bi di",:"chng gn",:"nin fng",:"b zi",:"bn shu",:"yn shn",:"r jing",:"chng gung",:"jin f",:"zhng shng",:"xio zhun",:"y zhu",:"ru gun",:"hu jun",:"hng hu",:"ji k",:"gung yn",:"p m",:"du dio",:"ji ch",:"kng ",:"png dio",:"p chung",:"sng zhng",:"zu l",:"sho f",:"shu shu",:"bn tou",:"jn j",:"shui xng",:"l zi",:"bng z",:"tio su",:"pio x",:"ji qing",:"k chun",:"mi xie",:"cu ch",:"mn ji",:"sh dio",:"chng sn",:"jng chung",:"x chng",:"dio mn",:"hu tu",:"hu la",:"to shi",:"c shui",:"xing shui",:"kun zh",:"y qng",:"yn b",:"wn g",:"d d",:"dio q",:"jio chi",:"lu z",:"xing c",:"x dao",:"lu f",:"y xing",:"jn m",:"ju d",:"xi zi",:"chn jun",:"zh zheng",:"x yng",:"b lu",:"du zi",:" sho",:"f j",:"hng sho",:"jing hu",:"k sng",:"sho x",:"yn chun",:"jio yng",:"wi ch",:"jio zho",:"p zhn",:"yn sui",:"ji jn",:"su po",:"sng lun",:"xing xing",:"hu f",:"d chng",:"yn ling",:"zhng qi",:"hu qun",:"hu tng",:"png zhun",:"l qin",:"j du",:"sn j",:"g shi",:"s yn",:"p x",:"yn zh",:"lng zhn",:"sh zh",:"sho nn",:"gun yu",:"ho to",:"n xing",:"yng s",:"wn shng",:"gn r",:"g tng",:"b j",:"p ji",:"jio zhn",:"yn dng",:"q ling",:"xun dio",:"bn xing",:"gn ci",:"j gn",:"g qi",:"gu yu",:"qi k",:"b g",:"m fng",:"y y",:"ji mo",:"b j",:"chn ji",:"sh xng",:"chng ch",:"zhun y",:"zhu liang",:"b c",:"zng qng",:"d sh",:"dio rn",:"ji yun",:"jng gn",:"j ling",:"lng tou",:"shui zhn",:"pn xing",:"su yu",:"h m",:"xing t",:"xng hu",:"zo tu",:"chng hn",:"zun dng",:"cn du",:"dng shn",:"dio wn",:"gn t",:"g b",:"gng xun",:"ji shng",:"lu xin",:"qi qi",:"sn jin",:"sho qi",:"tng f",:"t ling",:"tng ku",:"j di",:"xing sh",:"yng jun",:"zhun j",:"b ti",:"cng zh",:"fi b",:"g ji",:"g l",:"gu wn",:"gui xing",:"ln ti",:"n gng",:"bo chung",:"qio ch",:"sh ji",:"tn xng",:"xing jng",:"z rn",:"zh yn",:"zhu zhng",:"zhun tou",:"p shu",:"chn huo",:"chng p",:"d ling",:"gn ji",:"gng ch",:"ji li",:"q shu",:"sh shn",:"tio hu",:" mn",:"bi lu",:"bi sn",:"ci ch",:"chung tng",:"f xing",:"gng dng",:"ho xng",:"hun yng",:"hun zu",:"ji dio",:"jun yn",:"li dn",:"xing tou",:"xu ji",:"jio yu",:"y ling",:"bi zhun",:"b ji",:"chn ji",:"f q",:"hu hu",:"kun chuo",:"lio w",:"qi hu",:"shn du",:"yng x",:"zhun ti",:"z zh",:"ci ling",:"zng x",:"chng xng",:"chu mu",:"cu zh",:"tio jng",:"dio zh",:"fng zhu",:"g du",:"h er",:"hng ling",:"hun ji",:"hn p",:"k chi",:"min h",:"sh ch",:"xng sh",:"sh jn",:"xn chi",:"y qi",:"cun mi",:"zh go",:"zun gn",:"p hu",:"bn hu",:"chng dio",:"d li",:"du lu",:"fi zhun",:"gn zhng",:"ho shng",:"hu pin",:"jio hn",:"lu gn",:"m m",:"n ho",:"pn sh",:"w nng",:"y sho",:"yu chi",:"zhn gu",:"zhn xng",:"chng shn",:"z ling",:"dio fng",:"f lng",:"fn dio",:"fng zi",:"gng f",:"g zi",:"gung gn",:"ji gn",:"j sng",:"j g",:"kn y",:"kng zhun",:"ling l",:"po lu",:"pi hun",:"p shn",:"sn j",:"sn jin",:"shn xu",:"sh gn",:"tio j",:"tu kng",:"xu b",:"jio h",:"yn gn",:"zhi ci",:"chng ji",:"zh dio",:"z jn",:"b j",:"bin nio",:"c dio",:"do gu",:"lo zhn",:"p q",:"shu bi",:"wi m",:"x b",:"xing m",:"y ti",:"zhun jn",:"bng h",:"bn xing",:"go tu",:"jin mio",:"yu ch",:"mi xing",:"bng q",:"qin dn",:"qi bin",:"qng dio",:"qn mng",:"sn bn",:"xng ch",:"sh ji",:"qin shng",:"chng yng",:"gng zhng",:"zhng d",:"zhng ci",:"zi zhng",:"ji zhng",:"kn zhng",:"zhng zh",:"zhng gu",:"zhng du",:"zhng sh",:"shu zho",:"lng zi",:"chng q",:"chng zhng",:"chng tn",:"chng z",:"chng shn",:"chng yu",:"chng lun",:"y ye",:"ni nai",:"lo ye",:"b ba",:"m ma",:"shn shen",:"ji jiu",:"g gu",:"sh shu",:"y fu",:"ji mu",:"g fu",:"ji fu",:"p po",:"gng gong",:"ji zi",:"ji jie",:"g ge",:"mi mei",:"mi fu",:"y zi",:"bo bao",:"w wa",:"hi zi",:"r zi",:"yng zi",:"sh zi",:"shn zi",:"ji zi",:"so zi",:"b zi",:"tng zi",:"zh zi",:"min zi",:"b zi",:"bi zi",:"mo zi",:"pi zi",:"zh zi",:"bin zi",:"g zi",:"fng zi",:"wn zi",:"tn zi",:"pi zi",:"h zi",:"gu zi",:"i zi",:"y zi",:"xio zi",:"yng zi",:"w zi",:"du zi",:"din zi",:"bn zi",:"zhng zi",:"r zi",:"t zi",:"pin zi",:"yun zi",:"hu zi",:"sng zi",:"zh zi",:"sh zi",:"qin zi",:"sh zi",:"png zi",:"bo zi",:"kui zi",:"ln zi",:"shng zi",:"zu ba",:"r duo",:"qi zi",:"bng b",:"kng tng",:"p pa",:"m gu",:"h lu",:"h li",:"j zi",:"h zi",:"zhu zi",:"zh zi",:"sh fu",:"y fu",:"w zi",:"bi zi",:"c wei",:"mi zi",:"du wu",:"zh lio",:"y er",:"hn tun",:"dng long",:"zhung jia",:"cng ming",:"jng zi",:"yn zi",:"pn zi",:"lio qu",:"l qi",:"x zi",:"ln zi",:"zho xi",:"zho x",:"zho q",:"ch bng",:"shng zhng",:"zng p",:"p ti",:"bin de",:"zhng fu",:"du fu",:"b gn",:"zng yng",:"xng rn",:"d zhe",:"d y",:"wn y",:"zh y",:"d zh",:"tng y",:"wi y",:"zhun y",:"dn y",:"r y",:"q y",:"h y",:"zh y",:"zhu y",:"ch y",:"yn y",:"gu y",:"ji y",:"wn y",:"lio lio",:"gng lio",:"s lio",:"y yu",:"y ho",:"y j",:"y dng",:"y g",:"yu y",:"y y",:"r y",:"sn y",:"s y",:"w y",:"li y",:"q y",:"b y",:"ji y","":"y lng",:"y lng",:"y r",:"y sn",:"y s",:"y w",:"y li",:"y q",:"y b",:"y ji",:"y yu",:"y bng",:"y lu",:"wi l",:"wi zhn",:"cng hi",:"nn wi",:"z nn",:"hun nn",:"m nn",:"d nn",:"dio nn",:"xn nn",:"lu nn",:"l nn",:"zi nn",:"nn mn",:"k nn",:"wi nn",:"f nn",:"to nn",:"b nn",:"y nn",:"z nn",:" nn",:"xn nn",:"kng nn",:"x huan",:"zho zho",:"b xng",:"y y",:"wn q",:"ni q",:"q zh",:"wi q",:"ji q",:"q jng",:"q ji",:"wi q",:"q xin",:"q f",:"ji q",:"q zh",:"q gng",:"q y",:"g lo"},dRe=Object.keys(_L).map(e=>({zh:e,pinyin:_L[e],probability:2e-8,length:2,priority:ga.Normal,dict:Symbol("dict2")})),wL={:"wi shn me",:"sh j shang",:"jin ch zhng",:"gn shn me",:"zh hu er",:"jn k nng",:"dng sh zhng",:"lio b q",:"cn mu zhng",:"cho xin z",:"hi ni wi",:"jn b zh",:"b l t",:"b zi hu",:"lu shn j",:"yu din er",:"pi j po",:"b d lio",:"m wi sng",:"yn sh ling",:"f p qi",:"sh d f",:"y l jing",:"y gn er",:"du de q",:"n hu er",:"z g er",:"w l ling",:"zn me zho",:"mng hung hung",:"ji ji r",:"xn l hu",:"f xng ling",:"xng chng chng",:"fn z ling",:"gu z jin",:"lo d nn",:"dng ni wi",:"zh me zho",:"sho ni nai",:"n d l",:"gng nin q",:"gng zu ling",:"bi d l",:"shn li hng",:"ho ho er",:"jio xing yu",:"ho y si",:"t y hn",:"mi y si",:"l f sh",:"t sh gn",:"chng q ling",:"ko de zh",:"ch xng do",:"rn xng do",:"zhng lng jing",:"zho mng dn",:"yn m dn",:"m ni h",:"lun hng hng",:"hu gng s",:"zi zhng ling",:"qio de q",:"j zhun t",:" png gng",:"jun xn ci",:"x bn zi",:"gu de q",:"hu gng sh",:"wi sheng n",:"tun tun zhun",:"d bo jio",:"rn sho dn",:"lo sh zi",:"yo gn yu",:"ji zh to",:"no hng hng",:"sn lin gun",:"zhng tu x",:"r rn zhun",:"ji g yn",:"zh shi min",:"h shi zhng",:"xn ho dn",:"gn din ch",:"qing gn zi",:"k sng bng",:"b yn i",:"w gng jn",:"mi de q",:"li h ma",:"j liang g",:"z m dn",:"ki xio chi",:"n qing rn",:"yng xing zhun",:"ju sh yu",:"shu xio hua",:"png tu hu",:"b li gng",:"y gung dn",:"sho ln qun",:"yng tn dio",:"sho xin du",:"lng zhng m",:"du zhe gn",:"mng mng ling",:"run g tou",:"p gi jun",:"hu x n",:"bi hi gu",:"hng tng tng",:"w hu c",:"d du suo",:"h ku b",:"m wi zo",:"y mo zi",:"d shu sh",:"lng wng y",:"q tu shang",:"h tu chng",:"b gn zi",:"zhn pin yi",:"d zh y",:"du dn tu",:"lu y shu",:"yn s h",:"bo de zh",:"bo t qun",:"o de h",:"s w zhng",:"jn b q",:"sh ch hi",:"lin hu lo",:"jin sh min",:"hu ch q",:"din wi ch",:"i g er",:"n zhn er",:"fi hu ling",:"d sh fu",:"zh dn tng",:"d h lu",:"n q mn",:"wi jin d",:"d shn er",:"tn de li",:"jio y zi",:"kng bo dn",:"w li du",:"dn zhu din",:"g tu er",:"kn de q",:"h tu zhng",:"d xng xing",:"jn de q",:"f xing zng",:"k lin xing",:"ch de xi",:"hn bo bo",:"no rng rng",:"sh li bo",:"h de li",:"gn xng yu",:"mn h lu",:"gu gu jio",:"x yng shn",:"ln yn do",:"l ji chng",:"jun p gi",:"gu de yng",:"fi jing jn",:"tio d ling",:"h ba gu",:"gu ji ji",:"cu li dn",:"y ji xu",:"qio zh gng",:"li ch zhng",:"hu d n",:"fn de zho",:"t g da",:"sh fng jng",:"qng ling j",:"xi d d",:"sh z er",:"d m dn",:"k jio pin",:"kn d shn",:"dng din er",:"ch de xio",:"lu h x",:"go l shn",:"zhng shng xing",:"yn xi yn",:"jn de zh",:"ch de ki",:"zu s chu",:"yng shng chng",:"sh de zho",:"sh jn er",:"qin b li",:"k d sng",:"hu de li",:"yn h h",:"sh ke lng",:"lio ju zi",:"zng hng hu",:"mn gun ch",:"qi b zi",:"hng deng deng",:"gn de j",:"dng jin er",:"lu m jio",:"j ni jn",:"fn de shng",:"dng ch b",:"bo h din",:"lng zho hui",:"h do ci",:"dng gun c",:"dn dan min",:"ch de zh",:"zhu jin er",:"zh zho er",:"zh gn tou",:"yn zho er",:"yn jun er",:"xun chun dn",:"xn p er",:"xin qi jio",:"s sh m",:"shu de li",:"shu pio er",:"shu b gn",:"sh de shng",:"sh b zho",:"sh b qng",:"sh jin er",:"shng s b",:"shn fng j",:"s y zheng",:"r j b",:"r de kui",:"qng jia gng",:"j hn sh",:"pi zh b",:"n jn er",:"n w wa",:"ni qi yun",:"n hu er",:"mn tu er",:"mi p er",:"mo jn er",:"li jin bng",:"lio wng ti",:"lo li sho",:"kn ju er",:"ko qn b",:"jun b do",:"jn j ling",:"hu b li",:"hn gu er",:"g nng nng",:"gu jn er",:"gng qi xin",:"g de zh",:"gn lng tu",:"gn de shng",:"gn jio m",:"g zh er",:"g bng cu",:"du de zh",:"du mn zi",:"dng gu gu",:"d li er",:"d zhu zi",:"d bn zi",:"cn jn er",:"c jn er",:"chui shu er",:"chng jn er",:"ch de li",:"b gng sh",:"bn tou er",:"bi f zhng",:"w wa qn",:"s jn er",:"g du er",:"gng lo b",:"d jing yn",:"y dn shu",:"p j ti",:"ti li p",:"k t lng",:"ki h hng",:"l y j",:"hu sh lio",:"y gng gng",:"y chng shn",:"fng y gng",:"xu y gng",:"gu y m",:"xng q y",:"l bi y",:"y j d",:"y yu y",:"y z m",:"y sh y",:"y c fng",:"y yng zh",:"y z ju",:"y nin j",:"y b zu",:"q qu r",:"nn wi shu",:"nn wi qng",:"xng y hng",:"bi bi de",:"gn n hng",:"gn y hng",:"q bi zhn"},hRe=Object.keys(wL).map(e=>({zh:e,pinyin:wL[e],probability:2e-8,length:3,priority:ga.Normal,dict:Symbol("dict3")})),jL={:"chng j s hn",:"s tng b d",:"y m y yng",:"qng zng go yun",:" m tu f",:"ji fng s xing",:"su zu su wi",:"m m hu h",:"h qing sh dn",:"xng go ci li",:"w nng wi l",:"b l si r",:"wi su y wi",:"k sh m r",:"mi wn mi lio",:"b wi rn zh",:"ji ji b b",:"qin p hu j",:"p tin gi d",:"zh ji lio dng",:"gng b yng qi",:"y sh d f",:"b wi w qun",:"b k shu shi",:"h zu fi wi",:"fn ho b ch",:"m m hu h",:"b z wi q",:"qio w shng x",:"lio r zh zhng",:"shn w tng ju",:"go go xng xng",:"i shng tn q",:"hn zng y x",:"ch xn j l",:"q b chng shng",:"bn y sn gng",:"sh hn lu p",:"r sh b xi",:"zhun li zhun q",:"sh y wn j",:"xing y wi mng",:"lin lin b sh",:"q zh k sh",:"shn ch gu m",:"ji ji sh sh",:"yu d fng sh",:"j l g l",:"dio bng qin jing",:"zi g zi w",:"zhun wi wi n",:"t t shi sh",:"sng j b r",:"zhung m zu yng",:"jin y yng wi",:"xing ch w j",:"tn wi gun zh",:"mn mn b l",:"x n i l",:"xin wi rn zh",:"zhng y w zho",:"wi fi zu di",:"hn h q c",:"p y bn mng",:"min wi q nn",:"y y b sh",:"dng tu shng si",:"b zhu bin j",:"d m d yng",:"xn hun zu l",:"y zu lio zh",:"z l hng jin",:"hn hn hu h",:"qi r q fn",:"p t wi xio",:"shn gng bn y",:"qin ch wn bi",:"sh b shng sh",:"j wi j yu",:"tin xun d zhun",:"yng zn ch yu",:"b li xin wi",:"cho chao no no",:"yn tu zhun xing",:"t shng t zhng",:"nng s b q",:"b xng rn sh",:"jn l r wi",:"jng mng qing gn",:"lo lao do do",:"j ji zh zh",:"gng b k m",:"qi r b sh",:"pi yu ji nn",:"x li h t",:"g yu su chng",:"d d qu qu",:"hng tng d xio",:"tng r b wn",:"do gng hu zhng",:"ni fn m xin",:"hu xin wi y",:"bi f bi zhng",:"chng jin tin r",:"fn bi wi shng",:"y lio bi lio",:"d da li li",:"xn j hu lio",:"c xn d yi",:"j p g da",:"y wi png d",:"r j yu li",:"sh shn ch d",:"tu q su ho",:"jin b rng f",:"rn mn wi hun",:"qing zhu b sh",:"wi sh y wn",:"r sh ji zhn",:"xn l yu sh",:"y y hun y",:"shn b shu sh",:"mng sh wi k",:"g z wi zhn",:"yun shng zi do",:"ji k ji nn",:"ho ho xin sheng",:"gui m gui yng",:"po tu l min",:"yu shu ho xin",:"w su b wi",:"dio h l shn",:"b b wi yng",:"ho d x gng",:"zhng sh zh d",:"chng shng b s",:"wi wi zhung gun",:"b k shng sh",:"gu sh shn chi",:"ji shn z ho",:"gn zu gn wi",:"mo s dn ki",:"zu m hun jing",:"wi sh gu zo",:"wi rn sh bio",:"yn ch yng cu",:"yu qing hu dio",:"chng do f zh",:"m ma li li",:"x x do do",:"r l b bng",:"sn bng zh jing",:"gui wn m jio",:"xing m xing yng",:"gng gu y qi",:"ki hu ji gu",:"z z x x",:"chun zng gng l",:"h bi bng zi",:"chng nin li yu",:"zhng er b jng",:"b sh ti ju",:"chng zhn q g",:"q x yn yn",:"jn zhu b sh",:"f fu ti ti",:"qing c du l",:"p li p l",:"rn ci j j",:"f rn shn xng",:"b z wi png",:"wi f b rn",:"lin pin li d",:"h tin qing d",:"lu lu d fng",:"z chu z li",:"l shn ho sh",:"y gng wi shu",:"m m cng cng",:"xu ti r n",:"zh zhu wi n",:"y tu wi jn",:"q q ch ch",:"qing ln dn y",:"lng rn f zh",:"zhun bi wi shng",:"zhun wn m jio",:"zi ji nn to",:"zhng dng fng wi",:"b z wi gui",:"nn xing nn d",:"y y y y",:"dn jn ling ju",:" y fng chng",:"x li hu l",:"fn lo hun tng",:"ho go w yun",:"l s shi shu",:"ch qing rn y",:"d chu d li",:"chng ji l y",:"z yun z y",:"f zhi li li",:"g wi jn yng",:"r t wi n",:"xi b wi l",:"y hng r shng",:"mi tu cng ying",:"tin ch d yun",:"fng jun cn yn",:"du zi du nn",:"r xi wi gn",:"hng ji l shu",:"lng bi wi jin",:"ch bin b jng",:"y chng y h",:"y nin zh ch",:"jn chn tu qio",:"d d d d",:"shu gu li li",:"ho zhng y xi",:"hng de f z",:"chun wi mi tn",:"f shng d g",:"s hi wi ji",:"lio ru zh zhng",:"d yu k wi",:"ch tu l min",:"g gu nng nng",:"chung mng j jng",:"ti rn ch zh",:"n f chng gun",:"yu j b li",:"g tou ji zi",:"y b yn tin",:"y dng din er",:"sh li yn zhun",:"chn c ln dio",:"hu zhng wi lng",:"hu sho hu lio",:"gn cu l su",:"dio er lng dng",:"gung zhng b shu",:"zhng gu d gu",:"zhng du d du",:"nn sh nn fn",:"sh xu wi mng",:"fn f yu wi",:"yn cu yng ch",:"dng du x cng",:"yn xn hu lio",:"zun ni jio jin",:"qio zhung d bn",:"gi xin gng zhng",:"h nn bng zi",:"ho ch ln zu",:"h l b wi",:"d ch fng tu",:"gng chng l d",:"pio pio liang liang",:"zh zhng zh y",:"d m h y",:"l sh chng yn",:"shui xin chu fn",:"ji chng l dun",:"kun d wi hui",:"zu bng yu b",:"y xio lio zh",:"tin xi wi gng",:"hun w h shn",:"h z wi q",:"ho z wi zh",:"fng z chu yu",:"d y png tu",:"chun wi ji hu",:"ch l p wi",:"chng co ji y",:"xio ji zi q",:"sho b gng sh",:"nn fn nn sh",:"tin zhun ji w",:"sh fi fn mng",:"sh w q shu",:"pin tng pin xn",:"ling r wi ch",:"xing lng f h",:"gng hu b li",:"zhng zhng xi hui",:"y shn x gu",:"y y zhng d",:"sng hn lu p",:"sn zu d shn",:"j j y tng",:"ho sh zh t",:"gn jng l su",:"ch jing r xing",:"nio nio nu nu",:"h li wi ba",:"ho y w lo",:"d r w dng",:"d m hu yn",:"bn shng dng dng",:"yo w h li",:"xi bng xi jing",:"shu dio g tu",:"sh din wng z",:"rn sh b xng",:"q go h gu",:"l jio b gi",:"h wi yn gu",:"h wi bio l",:"hu c b b",:"gu gun zhn jing",:"g ge d d",:"d f pin pin",:"zu wi shng c",:"yun jia du tu",:"yu x k chng",:"y ln bn zho",:"pin yn zh y",:"ki hu ji sh",:"jng nin li yu",:"hn h q c",:"gu lin xin ch",:"chng nin li yu",:"b xn s qng",:"b dng rn z",:"bng d yo yun",:"zh f wi hn",:"zh me din er",:"y xng su rn",:"xi hu zhn tou",:"w d fng sh",:"wng wn wn qi",:"sh j wi rn",:"qing nin li yu",:"pi nn ji fn",:"ch zh ti rn",:"zh l wi m",:"wi r li lun",:"tin bng tin jing",:"sh jn qi yun",:"nn qing bi dio",:"k zhng zu l",:"hu j b f",:"xi wi xing tu",:"zhng yu yu x",:"b ling wi chng",:"bi bi qi qi",:"bi jn zh jing",:"q hng b sh",:"xu z sh l",:"xin d wi kui",:"t j ho hn",:"sh b jin qn",:"shn chi gu sh",:"qio qio d d",:"png p zh x",:"mi tu m wi",:"lio lio k sh",:"hng h r jing",:"h f tng yn",:"g bn qin chng",:"dn w x f",:"d rn xin sheng",:"y mn gng sh",:"sh bi l zhun",:"sh fi d sh",:"sh b ch c",:"si wng sh m",:"r b x shn",:"qi shn t hu",:"pin yn zh z",:"po m mi xi",:"nng zh b wn",:"lng lng sn sn",:"ling t ci y",:"lin zhng sn yun",:"l bng yu hui",:"b wi y shn",:"zhun bi wi x",:"y yn hun yn",:"wi wi d gun",:"wi wi b k",:"tng yn h f",:"png b wi jin",:"m c wi shn",:"ji qing di bng",:"f shng j ji",:"dn rn ch zh",:"dn sh h jing",:"chung j tng shn",:"co zhng yng fi",:"zu sh b ji",:"y j du rn",:"su hng ji sh",:"wn y zi do",:"wn b du t",:"ti bn dng dng",:"shn t f f",:"qu ch sho chun",:"m w zn zhng",:"j rn tin xing",:"hu ji sh nn",:"gng jn ti g",:"di z bo j",:"di sn l s",:"b m s tng",:"xu jin no di",:"wi fi zu ",:"rn ci nn d",:"qng fi d y",:"qi zhng yo hi",:"hu j hu lio",:"hu d wi lo",:"ho ji tn bi",:"chng g dng k",:"zi chn zi f",:"y nn chng xing",:"y m g da",:"y ln wi h",:"yng wi zhng yng",:"yn wi xn shng",:"yn b yu zhng",:"t qing b xin",:"png tu d y",:"m b xi j",:"ling ci l yng",:"jio xu xing zhng",:"hu b dng ch",:"h yo h li",:"b z wi xn",:"b j xng j",:"png ru w rn",:"zu z nn to",:"z w chu x",:"zhun hu wi f",:"yng gun sn jn",:"y d r ch",:"xi m sh l",:"wn r b zhun",:"tin do ho hun",:"shn dn l b",:"s du chng bng",:"pin zh zh z",:"nng qu w ln",:"m m w wn",:"ling l r wi",:"l l k sh",:"ku bi zi do",:"jn z ho qi",:"ho wi rn sh",:"ho shng j ji",:"g yu su ho",:"du d ling l",:"zh tin wi sh",:"y xng chun fi",:"xn kun t pn",:"wi d b z",:"tin xi wi ji",:"sh wi wi t",:"sn zi b nn",:"m hu r gun",:"l li l l",:"jin fng ji zun",:"ji cng b li",:"j gng ho y",:"j nin li yu",:"hu d wi lo",:"gng mng gi xng",:"fng wi gu ni",:"du nn xng bng",:"b p b l",:"zu d z hu",:"zu b chng x",:"zu b ku tng",:"zu ji y shang",:"zu zh yu w",:"zu y yu yu",:"zun tu m fng",:"zun tin d dng",:"zun p ch y",:"zun hu d bng",:"zun dng m fng",:"zun bng qi hu",:"z wi f yn",:"zhu f nn sh",:"zhu rn xin bin",:"zhu dio wi p",:"zhu ch nng zhng",:"chu xn yn q",:"chu xn q xu",:"chu ni xing sh",:"chu ni sh xu",:"chu ni f zhng",:"chu mi t gu",:"chu mi gu qi",:"zhung f chng gun",:"zhung yn bo xing",:"zhun chu wi x",:"zhun chn wi x",:"zhui xing lu ji",:"zhui p f l",:"zhui b tu m",:"zh chng wn dun",:"zh jin wi l",:"zh yu q kng",:"zh yu kng x",:"zh tin wi n",:"zh yun yu r",:"zh mo l l",:"zh c b sh",:"zh w b hun",:"zh ling cn du",:"zh ling x chn",:"zh r gun x",:"zh fn zo gi",:"zhu du y s",:"zhu zhng wi hun",:"chng mng j yn",:"zhng zhu tng yn",:"zhng mo cun qi",:"zhng ho zhng w",:"zhi zh su t",:"zh ch w tu",:"zh dng b y",:"zh zo wi bi",:"zh yn wi gng",:"zh sh wi xng",:"zh shn shu m",:"zh g wi w",:"zh gn xing ch",:"zh d y bn",:"zh w q c",:"zhng shn shui xi",:"zhng gun l xi",:"zhng gun n l",:"zhng gng shui w",:"zhng dn gn kn",:"zhn tu xu ti",:"zhn sng jng bi",:"zh y s l",:"sh jin wi sh",:"zh r z zh",:"zho d s wi",:"zhng j xio r",:"zhn n wng hu",:"zhn fng wng q",:"zhn jing qin q",:"zng m tu zh",:"zng shn sh rn",:"zo yo zhng shng",:"zo zhn w yo",:"zo gu sh c",:"cun sn j w",:"cun mei c ",:"cun lng h zhng",:"cun fng j d",:"zi xio zi yn",:"zi ji wn z",:"yn shn b x",:"yn sh xi jun",:"yu zhng sh gu",:"yu lu shn hng",:"y n qi ji",:"y j wi fng",:"y nn chng xing",:"y y li li",:"y zh w dng",:"y xio xun tin",:"y sh chn f",:"y sh xio xi",:"y qing zun x",:"y du qn mu",:"y chun p d",:"y yng k g",:"y zh y xing",:"y q y qi",:"y ji wi gu",:"yu ji w hun",:"yu ji w y",:"yu gu nn tu",:"yu b yu fng",:"yu gn dng jn",:"yu yn t y",:"yng zhng jio jio",:"yng sh yn shu",:"yng yng fi jn",:"yng xn yn zho",:"yng yn yn w",:"yng tin shn sh",:"yn li shu ru",:"yn zhn shn t",:"yn d shng li",:"yn shng qi m",:"yn ch dn sh",:"yn yun wi sh",:"yn sh wi w",:"y mi y w",:"y s li lu",:"y l wng qi",:"y y wi zh",:"y yn wi hu",:"y sh jin qn",:"y shu j shu",:"y sh wi y",:"y shu wi gng",:"y shng ling dn",:"y shn wi jin",:"y qun wi y",:"y l li xng",:"y hu wi f",:"y hi wi bi",:"y gu wi tin",:"y g wi jin",:"y gng xio ju",:"y f wi jio",:"y d w x",:"y sh wng li",:"y qn zi hui",:"y d ji jin",:"y tu l dng",:"y z sh shu",:"y qng chng fi",:"y shang zh hu",:"y dn sh b",:"y hun y bo",:"y gng ho lng",:"y dio w qing",:"yo ch n sh",:"yo m xio chu",:"yng jng x ru",:"ng shu shn mi",:"yng yng s s",:"yng go mi ji",:"yng fng ji y",:"yn zho sh jn",:"yn zho ho m",:"yn sh wng zhn",:"yn jn qin jn",:"yn jn m xi",:"yn ji yu g",:"yn g zho w",:"yn di zh sh",:"yn ch wi cho",:"shn zo fi shng",:"yn g wi xun",:"yn ch ho ",:"y ling wi jin",:"chn hng du sh",:"q sh hng xi",:"dng hng ch s",:"xi ch bn hng",:"r n chng hng",:"d hng d sh",:"xn hng sh m",:"xn ch xing h",:"xu zhi li li",:"xun y g sh",:"xun sh wi y",:"xun dn chng sh",:"xun hun s cn",:"xun gu x y",:"xun qun lu xi",:"xun h gun hu",:"x q yng z",:"xi rn d d",:"xi ln yng zho",:"xing j h zh",:"xing s d j",:"xng wn zi shng",:"xng wn yn w",:"xng gun qn yun",:"xng go ci li",:"xn shu xing yng",:"xn ku xing yng",:"xi sh nng qun",:"xi jin li z",:"jio dun ling chng",:"xio yn b p",:"xio yn dn y",:"xio mng sh bo",:"xu zh ju gn",:"xu ti w shng",:"xu zh wi mn",:"xu m wi l",:"xing wng fng hui",:"xiang pei yu zhu",:"xing sh yu p",:"xing sh r dng",:"xing qi xing cu",:"xing n pi f",:"xing mn yu xing",:"xin zhng ch j",:"xin w zhu bin",:"x yn b ch",:"sh q  jio",:"x mo bin f",:"x su b f",:"w ln yn zho",:"w x wi gu",:"w f hn y",:"w dun zhun hng",:"w sh li y",:"w s xing xun",:"w hu q gu",:"w hu l zh",:"w g d f",:"w z yu ch",:"w xi zh ch",:"w shng w xi",:"w nng wi y",:"w ku bo s",:"w kng b zun",:"w jin k chng",:"w jin dng xi",:"w  b wi",:"w dng wi d",:"w ling wi do",:"w qun tu zho",:"wn w chi sh",:"wi wi tu tu",:"wi r wi su",:"wi b b xi",:"wi shn zu l",:"wi shn zh ku",:"wi rn b f",:"wi qi wi j",:"wi mn f m",:"wi hu f cu",:"wi ho chng qin",:"wi gu wi y",:"wng fng xing yng",:"wng chn pio shng",:"wng zh hun tng",:"wng gng dn gun",:"wng gu d f",:"wn gun ji s",:"wn sh dng ru",:"wn ji b bo",:"wn su ki sh",:"w m shng f",:"tn yn yn l",:"tu yun dun qin",:"tu gn ji sh",:"tun fn ju j",:"tun tu j min",:"t s yn mi",:"t tu zhng no",:"t ku yn mi",:"t b w f",:"tu zhun r q",:"tu m bi n",:"tu hn no mn",:"tu kui j lin",:"tu ch tu m",:"tng z chung y",:"tng w xing zh",:"tng w xing x",:"tng gun zi bo",:"tng wn dio w",:"tng li zhng zh",:"ti sh ki hu",:"tio gun b fn",:"tio y lio chn",:"tio yo tio li",:"tio chn lio zu",:"tin b wi y",:"tin b wi gui",:"tin xi wi lng",:"tin ti l m",:"tin nin b su",:"tn nng q qi",:"tn yn wi zhng",:"tn yn wi zhng",:"sh kng j m",:"su w yng j",:"su yn ci gn",:"sng jn l xu",:"sng yn zh ji",:"s tng b dng",:"s m cun t",:"s b ni li",:"s su zh zh",:"s n f yun",:"shu wng xi d",:"shu g qi jn",:"shn fng r h",:"shn fng chu hu",:"shu zhng zhu yn",:"shung gn du ji",:"sh m r chu",:"sh m ling chi",:"sh l lu ji",:"sh hi ln hung",:"sh bi ln hung",:"sh yn hun f",:"sh p wi p",:"sh chun wi zh",:"sh qu yu jin",:"shu z chng jin",:"shu z y ch",:"shu jio gn jng",:"shu b yng xn",:"sh shu ji wn",:"sh zh y xng",:"sh sh yng w",:"sh qng shui y",:"sh dng q chng",:"sh wi zh j",:"sh yng jing lng",:"sh wi mn tin",:"sh du w y",:"sh y yu l",:"sh yng b li",:"sh sh jn gu",:"sh x zhn cng",:"sh w dng x",:"sh wi w gng",:"sh m ji nn",:"sh sh f zhng",:"sh ch kn zhng",:"sh zh wi zhung",:"sh j lng xin",:"shng jng xin zhun",:"shng jn xin xing",:"shng tu s zhui",:"shn j du rn",:"shn w gu gun",:"shn lng sh sh",:"shn wn q sh",:"shn l qin q",:"shn g wi lng",:"shn w tng j",:"shn chu xi yun",:"sh j wi gng",:"sh dun q chng",:"sh c zhu yng",:"sh xi wi xn",:"sho chng ru xng",:"shng dng xu gui",:"shng b dng gng",:"shn z wi mu",:"shn wi shu c",:"shn shn w ",:"shn ci nn sh",:"shn yn p mi",:"shn y xin k",:"shn yn chng xng",:"shn yo y wi",:"shn li chun sh",:"shn ji zo zhu",:"sh j wi sh",:"s l dn b",:"sng yn wi y",:"sng yn b x",:"sng t chu mi",:"sng h jun sh",:"sn zhn sn bi",:"sn w ling sh",:"sn rn wi zhng",:"sn ch ling cu",:"si jng fn sh",:"s xn gng sh",:"s so yng du",:"run hng xing t",:"r w gu zhng",:"r ti zh b",:"r l qi qng",:"r chng rn y",:"r shu tu sh",:"r qi r cu",:"r dng chn ti",:"ru b g bng",:"ru qng chu ti",:"rng m kung rng",:"r zhng wi sh",:"r yu shn chn",:"r xng yu xi",:"r xu yu g",:"r xng yu sh",:"rn d b j",:"rn yn j j",:"rn m gu yng",:"rn m y d",:"r o fn bng",:"jun lo yng w",:"q y yu ji",:"q yo ro gu",:"qing xng jn xing",:"qng q y qi",:"qng xin sh q",:"qng xin h c",:"qng du jing qu",:"qng chng do d",:"qng z p t",:"qng ln hi si",:"qn shu  mi",:"qn s zh ho",:"qi zh wi ji",:"qi sh do gn",:"qi l yn xn",:"qi jn de dng",:"qio z yn lng",:"qio f q zhng",:"jing zu ni sh",:"qing zh z su",:"qing s qing hu",:"qing sh z i",:"qing sh m jio",:"qing gng jng n",:"qing gu b sh",:"qing f bin h",:"qing r hu k",:"qing d y pn",:"qin xng to qng",:"qin yng dn ji",:"qin lio bi dng",:"q xi r y",:"q yn wi sh",:"ki t jn z",:"q x l q",:"q sh xin zhu",:"q wng sh ni",:"q tin kung d",:"p tin shui t",:"p xing n d",:"p jn li xi",:"p ji wi gu",:"p g wi yun",:"png pio png zhun",:"png tin j d",:"bng shng x q",:"png j j zhng",:"pn zu b sh",:"pin y zh c",:"p f wn shn",:"png lng po fng",:"fu bi kui l",:"png mi ho f",:"pn hu zh li",:"pn chn sh gu",:"n d nn li",:"nng y chu xio",:"nng gun tio xin",:"nng fn dio zh",:"nng m dn zhung",:"nin t wi xing",:"nin y sh ho",:"nin hu chu m",:"n b y ln",:"n r b z",:"nng zh wi sh",:"nng b chn gun",:"no zh wi q",:"nn jn y tu",:"nn d h t",:"nn mn ju sh",:"nn fn bi g",:"m zh n x",:"m yun xn tn",:"m tio xn zho",:"m ling y yng",:"m tu m no",:"m gn nio q",:"mu s chui chn",:"m y d y",:"m fn sh zh",:"m lng jun qi",:"m lng wn jio",:"m mn b zho",:"m b zhu bin",:"mng zhng zh dng",:"mng h zh yng",:"mng xio d yn",:"mng w g dng",:"mio ch kn sh",:"mng xu q cho",:"min l b ci",:"m yu ji y",:"m y tu sh",:"m lin hi g",:"mn shn l jng",:"mn dn h b",:"mi dn chn xng",:"mo mng ji jio",:"mo su du jng",:"mo f do sh",:"mi wn wi shng",:"mi l zun h",:"mi d hun zh",:"mn sn yun s",:"m r hu shn",:"lu p jing h",:"lu lu nn h",:"lu co wi ku",:"lu zh gu xin",:"lun fng h mng",:"shui yu ji zhng",:"shui t tng qng",:"shui shu sh rn",:"shui t gu xn",:"shui m y j",:"shui r chng zhng",:"l jn yn xu",:"lu jn gng ln",:"lng nio jin yun",:"lng nio ch y",:"lng yu q zho",:"lng xu xun hung",:"lng dio fng j",:"li ch zh tu",:"lng yun zh q",:"lng rn png f",:"lng jng cu l",:"ln d y jing",:"li shang y chung",:"li gun hu min",:"lio w j s",:"lio shn d mng",:"lio rn w wn",:"lio b k jin",:"lio b zhng jn",:"lio f cu k",:"shn sh du sh",:"ling xio l wi",:"xing sh du l",:"ling ru zh zo",:"ling r jing hi",:"ling jn mi f",:"ling j shn fn",:"lin g chu hn",:"l y wi zh",:"l lng zh hn",:"l gung b hu",:"l wi qng mo",:"l rng wi gu",:"l shng xng jio",:"l bn jio m",:"lng mi hng yn",:"li tin do d",:"li z chng b",:"li w ji shng",:"li t zh shn",:"li t j sh",:"li lun zh wi",:"li li r zh",:"li kui j s",:"l shn l shu",:"lo yun jn tin",:"lo sh xi r",:"lo sh g zi",:"lng hun f d",:"ku qng du l",:"kung r li sh",:"kung ji m fng",:"k sh shng hu",:"ku qng sh b",:"ku jio shng fng",:"ku jio chn fng",:"ku jio fng qng",:"ku gn sh jio",:"ku f zh li",:"kng f pin pin",:"k y lio zu",:"k m wi h",:"k zh tu y",:"k tu chng zh",:"kng yn wi sh",:"ki hu ji gu",:"jn bn yn ch",:"jio ti j jn",:"ju m pn zh",:"ju tu jing no",:"ju tu ju no",:"jun nio zh hun",:"jun x r zng",:"jun ji bi do",:"j m wi shn",:"j shu xing qng",:"j sh hn zhu",:"j wi mo co",:"j shn qin jing",:"j xi shn shng",:"ji yo b wng",:"ji zhun gng chng",:"ji zhng sn hn",:"jng y l qn",:"jng d xi m",:"jng q jun sh",:"jng j zi t",:"jn sh ki si",:"jn wi shng rng",:"jn tu xio chng",:"jn tu yng j",:"jn tu ch fn",:"jn tu b zh",:"jn du jn sho",:"jn nng hun sh",:"jn j z sh",:"jn gng f q",:"jn gun xin si",:"jn w b jn",:"jn ch bi hi",:"ji y y rn",:"ji rn nn d",:"ji lng x lng",:"ji f yng kung",:"ji q o qio",:"jio no shng m",:"jio shu ling fi",:"jio l ji ch",:"jio sh ln sh",:"jio r s n",:"jio fng b s",:"xing yo zhu gui",:"jing q g y",:"jing mn yu jing",:"jing du g y",:"jin hu lng h",:"jin yng du xng",:"jin b k zhng",:"xin s bo p",:"jin q y rn",:"jin s sh m",:"jin b zhng l",:"jin xin cng ch",:"jin zu b sh",:"ji gun tin xi",:"ji f zh qn",:"ji li qin jn",:"ji j rn z",:"ji do cng rng",:"ji di rn w",:"j fng lng yu",:"j xng y qng",:"j shn l yun",:"j gng ling zu",:"j shang lin y",:"j sh xing dio",:"j b k wi",:"j shn yn j",:"j bn yu y",:"j b tng jio",:"j s li ji",:"j sh li r",:"j l wi b",:"j d li gng",:"j chn mi g",:"j pi mo m",:"hu wi f xin",:"hu f xing y",:"hu jn gng ch",:"hn yng ln yng",:"hu zhu wi du",:"hu zhng wi du",:"hu gun li chng",:"hu mng p s",:"hu chun zhun du",:"hung ch do nng",:"hung gun co l",:"hung f r ch",:"hung f chu tio",:"hun zh fn b",:"hun nin zh s",:"hun nin qu lo",:"hui shang wi k",:"hu d hu wn",:"hu xio wi ji",:"hu f wi q",:"hu ch wi fng",:"hu bu lng dng",:"h xin wi chun",:"h l h zh",:"h li h q",:"h b j x",:"hu wi x d",:"hu d zi w",:"hng jin y gn",:"hng l lio f",:"hng shng j z",:"hng bu lng dng",:"hng qing yng du",:"hng n ln shng",:"hn hi nn tin",:"h f j p",:"h s gn l",:"h h hi gn",:"h yn yu s",:"h zng lin hng",:"ho ho shng shng",:"ho yng du hn",:"ho wn z y",:"ho wi sh dun",:"ho wn ju y",:"ho shng zh d",:"ho q shng y",:"ho  b tng",:"ho dn fi s",:"ho gn bo q",:"ho f b shung",:"hn sun lu p",:"hn yng j hu",:"hn h b mng",:"gu wi y shn",:"gu sh ln cu",:"gu xun j sh",:"gung wn xin sheng",:"gung lng sn ju",:"gun shn di l",:"gun j do sh",:"gu x wi mn",:"gu jin xin wn",:"gu g xing lin",:"g wn fn zho",:"g dio dn tn",:"g dio b tn",:"g y shn rn",:"gu h q rng",:"gu x hu gun",:"gu zho j y",:"gng zh bi gn",:"gng wi chn ch",:"gng shu r xing",:"gng jin su bi",:"gng b chn y",:"gng dio m f",:"gng xng gi w",:"gng p nn sh",:"gng lng mng ho",:"gng di gn b",:"gng chng di h",:"gng chng mng dun",:"g s mng yng",:"g g b n",:"g g b t",:"g shu x yng",:"go ch m m",:"go y b yn",:"gng tu z d",:"gn wi gn zu",:"gn fn su sh",:"gn ch xi li",:"gn t sh k",:"gn mng fn y",:"gn jing m y",:"gn chng zh jing",:"f zi w ch",:"f zhi z hun",:"f wi z yn",:"f sh zhng mn",:"f wi hu sh",:"f ho lu j",:"f shu l sh",:"f shu zh s",:"p zhng z ti",:"f tu zhu fn",:"fng wi ki m",:"fng m lun ",:"fng x xi sh",:"fng yng f yn",:"fng w b ji",:"fn t b r",:"fn fng p li",:"fi fi shng shng",:"fi sh b y",:"fi jing sh q",:"fng p xi ch",:"fng lng yun gun",:"fn r b jio",:"fn bn hun yun",:"fn lo wi y",:"f ln chng zhun",:"f b dng zu",:"f yn qin jn",:"f jin t f",:"f dun xn chng",:"r sh wi n",:"r n xn chng",:"r n qng ji",:" w yng shn",:" pio zhn j",:" pio zi do",:"w zu qing ji",:" y zhng shng",:"w sh j xi",:"w j xi li",:"w b q shn",:" hng du sh",:" jn kng yn",:"  shng shng",:" jn nio yn",:"du y d jio",:"du rn su ho",:"du yn shu qing",:"du wn wi f",:"du dun gu yo",:"du ci shn g",:"dn sh w mn",:"dn j hung gun",:"du n yng j",:"dun hun gu zng",:"dun jin b sh",:"d j q ch",:"du j y shng",:"d m wi sh",:"d jun t xu",:"d jn j yun",:"d yu qin qi",:"d sh d jin",:"du zhun shn hng",:"du d lin chng",:"dng jin zhng ji",:"dng y x h",:"dng zhng kun yo",:"dng mng x yng",:"dng ln x zho",:"dng ling x sh",:"dng ji x sh",:"dng ch x zhui",:"dng chng yu r",:"dng chng y sh",:"dng tu ln ln",:"di dng b j",:"di dn bn ji",:"dio xn yn zho",:"din do y chng",:"d b nng xin",:"d m sh z",:"do q f zh",:"do x pi kng",:"do zi gn g",:"do chng su lng",:"do gu wi yn",:"to zi zh j",:"to pi m zu",:"dng chi wi n",:"dng zhu ch zhng",:"dng zhu b zhu",:"dng w sh zhng",:"dn r nng m",:"tn wn tu shu",:"dn ji w y",:"dn s pio yn",:"d p b wn",:"d mng f d",:"d ch y zi",:"d mn h lu",:"t li zhng zh",:"cu hu lio yun",:"cu k d hng",:"cn j zh li",:"cu cu ch ch",:"cu zh ho qing",:"cu gng wi ru",:"cng s ji jin",:"c f b yng",:"c chng b h",:"c bi wi bn",:"chn sh pin j",:"chn sn n f",:"chu tu t y",:"chun wi xio tn",:"chun fng shn hu",:"chun hng zhu l",:"ch ch j li",:"ch zn j xin",:"ch tng yn qu",:"ch sh xio gng",:"ch go ln shn",:"ch r w jin",:"ch mn yng zh",:"ch ch y m",:"ch ch sh t",:"ch ch jn tu",:"chu shn mn hi",:"chng gun z li",:"ch y wi hu",:"ch r yun jia",:"ch dun cn chng",:"ch cn zh gng",:"chng bi x gng",:"chng bi xng fi",:"chn shu hu n",:"chng y do qng",:"chng t zi y",:"chn t ci y",:"chn ji yu w",:"chng d du gng",:"chn yn zhng j",:"chn yn b ju",:"chn k s j",:"ch qin l yn",:"ch shn fng q",:"ch zi chun zhung",:"zho shng m g",:"zho pn m sh",:"cho jn gun g",:"chng r b h",:"chng su y wi",:"chng hng b xi",:"zhng yu zn bi",:"chng shng j r",:"zhng nin sn lo",:"chng chn b lo",:"zhng o sh fi",:"chng tng l sh",:"chn x zhn n",:"ch sn cu s",:"cng ti li xi",:"cng xin di ch",:"cng zng ni j",:"cng yng jin xi",:"cn sng dn b",:"cn fng s xi",:"cn w cu zng",:"shn chn mo yu",:"ci yu gn j",:"ci b zh shui",:"ci d nn yng",:"ci b zh qin",:"b z wi y",:"b z wi j",:"b z wi f",:"b z ch sh",:"b zhu tng r",:"b zh dng dng",:"b yu li ch",:"b xing wi mu",:"b tn wi bo",:"b lio r lio",:"b k ku du",:"b hung q ch",:"b dng b zhng",:"b ch shn me",:"b ch li sh",:"b ling fn xng",:"b t yng sh",:"b w x g",:"b hn zhng rn",:"b wn yu l",:"b kng m m",:"b p chu jn",:"b f chu su",:"b zh yn wi",:"b hi yn zh",:"bng wi jing gu",:"bng qing jing yng",:"bng du jing gung",:"bng b yu jing",:"bng ji d p",:"bn bn j j",:"bio mi zh nin",:"bio l wi jin",:"bio f din j",:"bin tn l b",:"b gi b q",:"b yn mi shu",:"b w zh sh",:"p shn di h",:"p ji zhn g",:"p ji j n",:"p h hui y",:"p f yng gun",:"bi q yo gng",:"bi chung go w",:"bi chn xng gng",:"bi b zh yn",:"bi gng fi sh",:"p y l gun",:"p si lng mn",:"bo l wn xu",:"bo h png h",:"bo wn zhi gu",:"bo f ch sh",:"bo bin y du",:"bng xin zun ln",:"bi jing fng hu",:"bi shu shui w",:"bi kng qin chung",:"bi y qng xing",:"bi shu wi lng",:"bi shu xing zh",:"b wn w yn",:"b gu jun x",:"b bn s yun",:"o b k zhng",:"o gng shu y",:"n sh ch shn",:"n shn wi l",:"n lo hui sho",:"n b dng ch",:"i rn ho sh",:"i rn gun chng",:"i fng j fng",:"i shn s hi",:" ji  wng",:" dng xing wi",:"zhu wng zh bi",:"zh ln d shu",:"zh tng zho r",:"y b jng rn",:"y jn wi li",:"y r sn xng",:"xu j y ch",:"w j li shu",:"w shng w xi",:"wi y b xn",:"sh shn wi gu",:"sh q qi jing",:"qing zu ji rn",:"q chng du ni",:"ln shn l b",:"jn tin gung yu",:"jin nn ji ju",:"ji q ji b",:"hn hn  ",:"hu g b jn",:"gu p  rn",:"g m sh xin",:"f tu zhu fn",:"fng wi zh bo",:"dng tn bi jing",:"chn hn dng xng",:"ch ch wi mng",:"b wn qing zh",:"b nn ji y",:"lio w shng j",:"yu y shu y",:"d y w r",:"shu y b r",:"j y fn sn",:"sh y sh r",:"sh y jng bi",:"dng y mo r",:"dng y qu r",:"b y r zh",:"w y xng min",:"bio l b y",:"ling yu b y",:"xn ku b y",:"yn xng b y",:"zhng lng b y",:"cn c b y",:"fn fn b y",:"hu y b y",:"b y r sn",:"bi b y y",:"yn xng bo y",:"y bi xi y",:"bi chng ji y",:"png chng ji y",:"qun bi fng y",:"qn j h y",:"bi b hu y",:"bi b sh y",:"bi w sh y",:"wn b sh y",:"wn w sh y",:"h r wi y",:"h ling wi y",:"h r wi y",:"tin xi wi y",:"xing y wi y",:"jio ru hu y",:"jio r hu y",:"jio ru hu y",:"yn xng ru y",:"sh zhng ru y",:"zhng sh ru y",:"wi jng wi y",:"zhng du fi y",:"b nng zn y",:"wn y d sh",:"y b ni zhng",:"y y gun zh",:"y y dng bi",:"bi b dng y",:"sh b dng y",:"y y jng bi",:"y y fng bi",:"y y ch wn",:"y y zh wn",:"bi l tio y",:"zhng q hu y",:"y li r q",:"y l gng jio",:"y l q ch",:"y l b sh",:"zho cho zho lu",:"q y fng yng",:"y hng b xng",:"hng hng b xng"},fRe=Object.keys(jL).map(e=>({zh:e,pinyin:jL[e],probability:2e-8,length:4,priority:ga.Normal,dict:Symbol("dict4")})),kL={:"b r gn bn do",:"b r k sh h",:"b xng r yn zhng",:"b r sh wi k",:"h l r b wi",:"k zhng mng y h",:"mng d wi d y",:"mn y sh wi tin",:"sh hu zh g ling",:"w y x wi gu",:"xin xi shu wi qing",:"hng hng ch zhung yuan",:"y d l y hi",:"yn b jin wi jng",:"zh tng do du zi"},mRe=Object.keys(kL).map(e=>({zh:e,pinyin:kL[e],probability:2e-8,length:5,priority:ga.Normal,dict:Symbol("dict5")}));function SL(e,t){return e&&(e.decimal<t.decimal||e.decimal===t.decimal&&e.probability>t.probability)?e:t}function NL(e){e.probability<1e-300&&(e.probability*=1e300,e.decimal+=1)}function pRe(e){return e.priority===ga.Custom?-(e.length*e.length*100):e.priority===ga.Surname?-(e.length*e.length*10):0}function gRe(e,t){const n=[];let r=e.length-1,i=e[r];for(let s=t-1;s>=0;s--){const a=s+1>=t?{probability:1,decimal:0,patterns:[]}:n[s+1];for(;i&&i.index+i.length-1===s;){const c=i.index,u={probability:i.probability*a.probability,decimal:a.decimal+pRe(i),patterns:a.patterns,concatPattern:i};NL(u),n[c]=SL(n[c],u),i=e[--r]}const l={probability:1e-13*a.probability,decimal:0,patterns:a.patterns};NL(l),n[s]=SL(n[s],l),n[s].concatPattern&&(n[s].patterns=n[s].patterns.concat(n[s].concatPattern),n[s].concatPattern=void 0,delete n[s+1])}return n[0].patterns.reverse()}function CL(e,t){return e&&e.count<=t.count?e:t}function yRe(e){return e.priority===ga.Custom?-(e.length*e.length*1e5):e.priority===ga.Surname?-(e.length*e.length*100):1}function xRe(e,t){const n=[];let r=e.length-1,i=e[r];for(let s=t-1;s>=0;s--){const a=s+1>=t?{count:0,patterns:[]}:n[s+1];for(;i&&i.index+i.length-1===s;){const c=i.index,u={count:yRe(i)+a.count,patterns:a.patterns,concatPattern:i};n[c]=CL(n[c],u),i=e[--r]}const l={count:1+a.count,patterns:a.patterns};n[s]=CL(n[s],l),n[s].concatPattern&&(n[s].patterns=n[s].patterns.concat(n[s].concatPattern),n[s].concatPattern=void 0,delete n[s+1])}return n[0].patterns.reverse()}function vRe(e,t){return!(t.index+t.length<=e.index||t.priority>e.priority||t.priority===e.priority&&t.length>e.length)}function bRe(e){const t=[];for(let n=e.length-1;n>=0;){const{index:r}=e[n];let i=n-1;for(;i>=0&&vRe(e[n],e[i]);)i--;(i<0||e[i].index+e[i].length<=r)&&t.push(e[n]),n=i}return t.reverse()}var OL;(function(e){e[e.ReverseMaxMatch=1]="ReverseMaxMatch",e[e.MaxProbability=2]="MaxProbability",e[e.MinTokenization=3]="MinTokenization"})(OL||(OL={}));class PL{constructor(t,n="",r=""){this.children=new Map,this.fail=null,this.patterns=[],this.parent=t,this.prefix=n,this.key=r}}class _Re{constructor(){this.dictMap=new Map,this.queues=[],this.root=new PL(null)}build(t){this.buildTrie(t),this.buildFailPointer()}buildTrie(t){for(let n of t){const r=ew(n.zh);let i=this.root;for(let s=0;s<r.length;s++){let a=r[s];if(!i.children.has(a)){const l=new PL(i,r.slice(0,s).join(""),a);i.children.set(a,l),this.addNodeToQueues(l)}i=i.children.get(a)}this.insertPattern(i.patterns,n),n.node=i,this.addPatternToDictMap(n)}}buildFailPointer(){let t=[],n=0;for(this.queues.forEach(r=>{t=t.concat(r)}),this.queues=[];t.length>n;){let r=t[n++],i=r.parent&&r.parent.fail,s=r.key;for(;i&&!i.children.has(s);)i=i.fail;i?r.fail=i.children.get(s):r.fail=this.root}}addPatternToDictMap(t){this.dictMap.has(t.dict)||this.dictMap.set(t.dict,new Set),this.dictMap.get(t.dict).add(t)}addNodeToQueues(t){this.queues[xo(t.prefix)]||(this.queues[xo(t.prefix)]=[]),this.queues[xo(t.prefix)].push(t)}insertPattern(t,n){for(let r=t.length-1;r>=0;r--){const i=t[r];if(n.priority===i.priority&&n.probability>=i.probability)t[r+1]=i;else if(n.priority>i.priority)t[r+1]=i;else{t[r+1]=n;return}}t[0]=n}removeDict(t){this.dictMap.has(t)&&(this.dictMap.get(t).forEach(r=>{r.node.patterns=r.node.patterns.filter(i=>i!==r)}),this.dictMap.delete(t))}match(t,n){let r=this.root,i=[];const s=ew(t);for(let a=0;a<s.length;a++){let l=s[a];for(;r!==null&&!r.children.has(l);)r=r.fail;if(r===null)r=this.root;else{r=r.children.get(l);const c=r.patterns.find(d=>n==="off"?d.priority!==ga.Surname:n==="head"?d.length-1-a===0:!0);c&&i.push(Object.assign(Object.assign({},c),{index:a-c.length+1}));let u=r.fail;for(;u!==null;){const d=u.patterns.find(h=>n==="off"?h.priority!==ga.Surname:n==="head"?h.length-1-a===0:!0);d&&i.push(Object.assign(Object.assign({},d),{index:a-d.length+1})),u=u.fail}}}return i}search(t,n,r=2){const i=this.match(t,n);return r===1?bRe(i):r===3?xRe(i,xo(t)):gRe(i,xo(t))}}const wRe=[...mRe,...fRe,...hRe,...dRe,...iRe,...uRe],yQ=new _Re;yQ.build(wRe);const jRe=new pQ,kRe=()=>jRe,Yp=e=>{const t=Lu.get(e);return t?t.split(" ")[0]:e},SRe=(e,t,n,r)=>{const i=yQ.search(e,n,r);let s=0;const a=ew(e);for(let l=0;l<a.length;){const c=i[s];if(c&&l===c.index){if(c.length===1&&c.priority<=ga.Normal){const h=a[l];let m="";m=bL(h,a[l-1],a[l+1]),t[l]={origin:h,result:m,isZh:m!==h,originPinyin:m},l++,s++;continue}const u=c.pinyin.split(" ");let d=0;for(let h=0;h<c.length;h++){const m=ew(c.zh);t[l+h]={origin:m[h],result:u[d]||"",isZh:!0,originPinyin:u[d]||""},d++}l+=c.length,s++}else{const u=a[l];let d="";d=bL(u,a[l-1],a[l+1]),t[l]={origin:u,result:d,isZh:d!==u,originPinyin:d},l++}}return{list:t,matches:i}},R1=e=>e.replace(/(|||)/g,"a").replace(/(|||)/g,"o").replace(/(|||)/g,"e").replace(/(|||)/g,"i").replace(/(|||)/g,"u").replace(/(|||)/g,"").replace(/(n|||)/g,"n").replace(/(m||m|m)/g,"m").replace(/(|||)/g,""),xQ=(e,t="off")=>{const n=kRe();let r=Lu.get(e)?Lu.get(e).split(" "):[];if(n.get(e))r=n.get(e).split(" ");else if(t!=="off"){const i=XO[e];i&&(r=[i].concat(r.filter(s=>s!==i)))}return r},NRe=(e,t="off")=>{let n=xQ(e,t);return n.length>0?n.map(r=>({origin:e,result:r,isZh:!0,originPinyin:r})):[{origin:e,result:e,isZh:!1,originPinyin:e}]},tw=(e,t)=>{const n=e.split(" "),r=[],i=[];for(let s of n)for(let a of ZDe)if(s.startsWith(a)){let l=s.slice(a.length);JDe.indexOf(a)!==-1&&eRe.indexOf(l)!==-1&&(l=tRe[l]),r.push(a),i.push(l);break}return t==="standard"&&r.forEach((s,a)=>{(s==="y"||s==="w")&&(r[a]="")}),{final:i.join(" "),initial:r.join(" ")}},n_=e=>{const{final:t}=tw(e);let n="",r="",i="";return nRe.indexOf(R1(t))!==-1?(n=t[0],r=t[1],i=t.slice(2)):(r=t[0]||"",i=t.slice(1)||""),{head:n,body:r,tail:i}},I1=e=>{const t=/(||||||n|m|)/,n=/(||||||||)/,r=/(|||||||m|)/,i=/(|||||||m|)/,s=/(a|o|e|i|u||)/,a=/(n|m)$/,l=[];return e.split(" ").forEach(u=>{t.test(u)?l.push("1"):n.test(u)?l.push("2"):r.test(u)?l.push("3"):i.test(u)?l.push("4"):s.test(u)||a.test(u)?l.push("0"):l.push("")}),l.join(" ")},CRe=(e,t)=>{const n=R1(e).split(" "),r=I1(t).split(" "),i=[];return n.forEach((s,a)=>{i.push(`${s}${r[a]}`)}),i.join(" ")},vQ=(e,t)=>{const n=[];return e.split(" ").forEach(i=>{n.push(t?i[0]:i)}),n.join(" ")},ORe=e=>typeof e!="string"?(console.error("The first param of pinyin is error: "+e+' is not assignable to type "string".'),!1):!0;function zS(e,t){return t instanceof RegExp?t.test(e):!0}const PRe=(e,t)=>{let n=t.nonZh;if(n==="removed")return e.filter(r=>r.isZh||!zS(r.origin,t.nonZhScope));if(n==="consecutive"){for(let r=e.length-2;r>=0;r--){const i=e[r],s=e[r+1];!i.isZh&&!s.isZh&&zS(i.origin,t.nonZhScope)&&zS(s.origin,t.nonZhScope)&&(i.origin+=s.origin,i.result+=s.result,s.delete=!0)}return e.filter(r=>!r.delete)}else return e},EL=(e,t)=>xo(e)===1&&t.multiple?NRe(e,t.surname):!1,ERe=(e,t)=>{switch(t.pattern){case"pinyin":break;case"num":e.forEach(n=>{n.result=n.isZh?I1(n.result):""});break;case"initial":e.forEach(n=>{n.result=n.isZh?tw(n.result,t.initialPattern).initial:""});break;case"final":e.forEach(n=>{n.result=n.isZh?tw(n.result,t.initialPattern).final:""});break;case"first":e.forEach(n=>{n.result=vQ(n.result,n.isZh)});break;case"finalHead":e.forEach(n=>{n.result=n.isZh?n_(n.result).head:""});break;case"finalBody":e.forEach(n=>{n.result=n.isZh?n_(n.result).body:""});break;case"finalTail":e.forEach(n=>{n.result=n.isZh?n_(n.result).tail:""});break}},MRe=(e,t)=>{switch(t.toneType){case"symbol":break;case"none":e.forEach(n=>{n.isZh&&(n.result=R1(n.result))});break;case"num":{e.forEach(n=>{n.isZh&&(n.result=CRe(n.result,n.originPinyin))});break}}},TRe=(e,t)=>{t.v&&e.forEach(n=>{n.isZh&&(n.result=n.result.replace(//g,typeof t.v=="string"?t.v:"v"))})},ARe=(e,t,n)=>{if(t.multiple&&xo(n)===1){let r="";e=e.filter(i=>{const s=i.result!==r;return r=i.result,s})}return t.type==="array"?e.map(r=>r.result):t.type==="all"?e.map(r=>{const i=r.isZh?r.result:"",{initial:s,final:a}=tw(i,t.initialPattern),{head:l,body:c,tail:u}=n_(i);let d=[];return i!==""&&(d=[i].concat(xQ(r.origin,t.surname).filter(h=>h!==i))),{origin:r.origin,pinyin:i,initial:s,final:a,first:vQ(r.result,r.isZh),finalHead:l,finalBody:c,finalTail:u,num:Number(I1(r.originPinyin)),isZh:r.isZh,polyphonic:d,inZhRange:!!Lu.get(r.origin),result:r.result}}):e.map(r=>r.result).join(t.separator)},zRe=(e,t)=>(t===!1&&e.forEach(n=>{n.origin===""?n.result=n.originPinyin="y":n.origin===""&&(n.result=n.originPinyin="b")}),e),DRe={pattern:"pinyin",toneType:"symbol",type:"string",multiple:!1,mode:"normal",removeNonZh:!1,nonZh:"spaced",v:!1,separator:" ",toneSandhi:!0,segmentit:2};function bQ(e,t){if(t=Object.assign(Object.assign({},DRe),t||{}),!ORe(e))return e;if(e==="")return t.type==="array"||t.type==="all"?[]:"";t.surname===void 0&&(t.mode==="surname"?t.surname="all":t.surname="off"),t.type==="all"&&(t.pattern="pinyin"),t.pattern==="num"&&(t.toneType="none"),t.removeNonZh&&(t.nonZh="removed");let r=Array(xo(e)),{list:i}=SRe(e,r,t.surname,t.segmentit);return i=zRe(i,t.toneSandhi),i=PRe(i,t),EL(e,t)&&(i=EL(e,t)),ERe(i,t),MRe(i,t),TRe(i,t),ARe(i,t,e)}var ZO;(function(e){e[e.AllSegment=1]="AllSegment",e[e.AllArray=2]="AllArray",e[e.AllString=3]="AllString",e[e.PinyinSegment=4]="PinyinSegment",e[e.PinyinArray=5]="PinyinArray",e[e.PinyinString=6]="PinyinString",e[e.ZhSegment=7]="ZhSegment",e[e.ZhArray=8]="ZhArray",e[e.ZhString=9]="ZhString"})(ZO||(ZO={}));ZO.AllSegment;const Lf={fetch:()=>De.get("/server/group/fetch"),save:e=>De.post("/server/group/save",e),drop:e=>De.post("/server/group/drop",{id:e})},r_={fetch:()=>De.get("/server/route/fetch"),save:e=>De.post("/server/route/save",e),drop:e=>De.post("/server/route/drop",{id:e})},Vl={getNodes:()=>De.get("/server/manage/getNodes"),getOptions:()=>De.get("/server/manage/getOptions"),save:e=>De.post("/server/manage/save",e),update:e=>De.post("/server/manage/update",e),drop:e=>De.post("/server/manage/drop",{id:e}),copy:e=>De.post("/server/manage/copy",{id:e}),sort:e=>De.post("/server/manage/sort",e)},RRe=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(Math.trunc(t))},IRe=e=>RRe((e==null?void 0:e.code)??(e==null?void 0:e.node_id)),ML=e=>IRe(e)||(e?String(e.id):""),LRe=e=>String(e??"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'),kp=e=>`"${LRe(e)}"`,DS=e=>String(e??"").trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_.-]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""),$Re=e=>{const t=String(e??"").trim().replace(/\s+/g,"");if(!t)return{ok:!1,clause:"",kind:"empty",normalized:""};if(/^\d+$/.test(t))return{ok:!0,clause:`--dport ${t}`,kind:"single",normalized:t};if(/^\d+[:-]\d+$/.test(t)){const[n,r]=t.split(/[:-]/);if(n===r)return{ok:!0,clause:`--dport ${n}`,kind:"single",normalized:n};const i=`${n}:${r}`;return{ok:!0,clause:`--dport ${i}`,kind:"range",normalized:i}}return/^\d+(,\d+)+$/.test(t)?{ok:!0,clause:`-m multiport --dports ${t}`,kind:"multiport",normalized:t}:{ok:!1,clause:"",kind:"invalid",normalized:t}};function FRe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),s=d6(),[a,l]=f.useState(()=>localStorage.getItem("app_name")||"Xboard"),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(""),[g,y]=f.useState(!1),[x,v]=f.useState([]),[w,b]=f.useState(""),[j,_]=f.useState(()=>localStorage.getItem("xboard_v2node_api_host")??s),[k,C]=f.useState(()=>localStorage.getItem("xboard_v2node_tls_cert_url")??""),[O,M]=f.useState(()=>localStorage.getItem("xboard_v2node_tls_key_url")??""),[P,A]=f.useState(!1),[R,F]=f.useState(()=>localStorage.getItem("xboard_v2node_other_command")??""),[V,K]=f.useState({server_token:"",server_pull_interval:"60",server_push_interval:"60",device_limit_mode:"0"}),L=f.useMemo(()=>{const xe={server_token:V.server_token,server_pull_interval:Number(V.server_pull_interval),server_push_interval:Number(V.server_push_interval),device_limit_mode:Number(V.device_limit_mode)};return P&&(xe.v2node_other_command=R),xe},[V,R,P]),W=f.useMemo(()=>JSON.stringify(L),[L]),z=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),u(!0),p("");try{const me=(await Gn.fetch("server")).data.data.server||{},H=Object.prototype.hasOwnProperty.call(me,"v2node_other_command"),Ce=H?String(me.v2node_other_command??""):localStorage.getItem("xboard_v2node_other_command")??"",$e={server_token:me.server_token??"",server_pull_interval:String(me.server_pull_interval??"60"),server_push_interval:String(me.server_push_interval??"60"),device_limit_mode:String(me.device_limit_mode??"0")};A(H),F(Ce),n.current=!0,r.current=JSON.stringify(H?{server_token:$e.server_token,server_pull_interval:Number($e.server_pull_interval),server_push_interval:Number($e.server_push_interval),device_limit_mode:Number($e.device_limit_mode),v2node_other_command:Ce}:{server_token:$e.server_token,server_pull_interval:Number($e.server_pull_interval),server_push_interval:Number($e.server_push_interval),device_limit_mode:Number($e.device_limit_mode)}),i.current="",K($e)}catch(xe){console.error(xe),p(e("common.load_failed"))}finally{u(!1)}},[e]);f.useEffect(()=>{z()},[z]);const T=f.useCallback(async()=>{y(!0);try{const me=(await Vl.getNodes()).data.data||[];v(me),b(H=>H&&me.some(Ce=>String(Ce.id)===String(H))?H:me.length?String(me[0].id):"")}catch(xe){console.error(xe),v([]),b("")}finally{y(!1)}},[]);f.useEffect(()=>{T()},[T]),f.useEffect(()=>{const xe=()=>{const me=String(localStorage.getItem("app_name")||"").trim();l(me||"Xboard")};return xe(),window.addEventListener("xboard:site_name_changed",xe),()=>{window.removeEventListener("xboard:site_name_changed",xe)}},[]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_api_host",j)},[j]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_tls_cert_url",k)},[k]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_tls_key_url",O)},[O]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_other_command",R)},[R]);const q=f.useCallback(async xe=>{var H,Ce;t.current&&(window.clearTimeout(t.current),t.current=null);const me=JSON.stringify(xe);h(!0),p(e("common.saving"));try{await Gn.save(xe),r.current=me,i.current="",p(e("common.saved"))}catch($e){console.error($e),i.current=me,p(((Ce=(H=$e==null?void 0:$e.response)==null?void 0:H.data)==null?void 0:Ce.message)||e("common.save_failed"))}finally{h(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(c||d)&&W!==r.current&&W!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,q(L)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[c,L,W,q,d]);const Y=f.useMemo(()=>n.current?d?{label:e("common.saving"),className:"text-muted-foreground"}:W===r.current?{label:e("common.saved"),className:"text-green-600"}:W===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[W,d,e]),ee=f.useMemo(()=>x.find(xe=>String(xe.id)===String(w)),[x,w]),pe=f.useMemo(()=>ML(ee),[ee]),se=f.useMemo(()=>{const xe=bQ(String(a||"").trim()||"Xboard",{toneType:"none",nonZh:"consecutive",separator:"_",v:!0});return DS(xe)||"xboard"},[a]),he=f.useMemo(()=>{if(!pe)return"";const xe=DS((ee==null?void 0:ee.type)||""),me=DS(pe),Ce=["v2node",xe,me,se].filter(Boolean).join("_").replace(/_+/g,"_");return Ce.length>128?Ce.slice(0,128):Ce},[se,pe,ee==null?void 0:ee.type]),Pe=f.useMemo(()=>j.trim()||s,[j,s]),J=f.useMemo(()=>String(V.server_token||"").trim(),[V.server_token]),Re=f.useMemo(()=>k.trim(),[k]),ie=f.useMemo(()=>O.trim(),[O]),Ee=f.useMemo(()=>!!(Re&&ie),[Re,ie]),Te=f.useMemo(()=>!!((Re||ie)&&!Ee),[Re,ie,Ee]),fe=f.useMemo(()=>{if(!pe||!J)return"";const xe=[`docker run -d --name ${he} --restart unless-stopped --network host \\`,`  -e V2NODE_API_HOST=${kp(Pe)} \\`,`  -e V2NODE_NODE_ID=${kp(pe)} \\`,`  -e V2NODE_API_KEY=${kp(J)} \\`,'  -e V2NODE_TIMEOUT="15" \\'];return Ee&&(xe.push(`  -e V2NODE_TLS_CERT_URL=${kp(Re)} \\`),xe.push(`  -e V2NODE_TLS_KEY_URL=${kp(ie)} \\`)),xe.push("  ghcr.io/studycloud111/v2node:main"),xe.join(`
`)},[Pe,J,he,pe,Re,Ee,ie]),X=f.useMemo(()=>{if(!ee||ee.type!=="hysteria")return"";const xe=$Re(ee.port),me=Number(ee.server_port);if(!xe.ok||!Number.isFinite(me)||me<=0)return"";const H=Math.trunc(me);return xe.kind==="single"&&xe.normalized===String(H)?"":["# IPv4",`IFACE="$(ip -o -4 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE" ] && IFACE="eth0"',`iptables -t nat -C PREROUTING -i "$IFACE" -p udp ${xe.clause} -j REDIRECT --to-ports ${H} 2>/dev/null || iptables -t nat -A PREROUTING -i "$IFACE" -p udp ${xe.clause} -j REDIRECT --to-ports ${H}`,"","# IPv6",`IFACE6="$(ip -o -6 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE6" ] && IFACE6="$IFACE"',`ip6tables -t nat -C PREROUTING -i "$IFACE6" -p udp ${xe.clause} -j REDIRECT --to-ports ${H} 2>/dev/null || ip6tables -t nat -A PREROUTING -i "$IFACE6" -p udp ${xe.clause} -j REDIRECT --to-ports ${H}`].join(`
`)},[ee]),ke=!!(fe&&!Te),Q=f.useCallback(async()=>{if(!ke)return;await pl(fe)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},[ke,fe,e]),Se=!!String(R||"").trim(),re=f.useCallback(async()=>{if(!Se)return;await pl(R)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},[Se,R,e]),Ne=!!X,Oe=f.useCallback(async()=>{if(!Ne)return;await pl(X)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},[Ne,X,e]);return o.jsxs("div",{className:"grid gap-4",children:[o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.api_settings")}),o.jsx(ha,{children:e("system.api_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Y&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",Y.className),children:[e("common.autosave"),": ",Y.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:z,disabled:c,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",c&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>q(L),disabled:d,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.server_token"),htmlFor:"server_token",hint:e("system.server_token_hint"),children:o.jsx(G,{id:"server_token",type:"text",value:V.server_token,onChange:xe=>K(me=>({...me,server_token:xe.target.value}))})}),o.jsx(Xe,{label:e("system.device_limit_mode"),htmlFor:"device_limit_mode",hint:e("system.device_limit_mode_hint"),children:o.jsxs(st,{value:V.device_limit_mode,onValueChange:xe=>K(me=>({...me,device_limit_mode:xe})),children:[o.jsx(nt,{id:"device_limit_mode",children:o.jsx(at,{placeholder:e("system.device_limit_mode")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("system.device_limit_mode_0")}),o.jsx(de,{value:"1",children:e("system.device_limit_mode_1")})]})]})}),o.jsx(Xe,{label:e("system.server_pull_interval"),htmlFor:"server_pull_interval",hint:e("system.server_pull_interval_hint"),children:o.jsx(G,{id:"server_pull_interval",value:V.server_pull_interval,onChange:xe=>K(me=>({...me,server_pull_interval:xe.target.value}))})}),o.jsx(Xe,{label:e("system.server_push_interval"),htmlFor:"server_push_interval",hint:e("system.server_push_interval_hint"),children:o.jsx(G,{id:"server_push_interval",value:V.server_push_interval,onChange:xe=>K(me=>({...me,server_push_interval:xe.target.value}))})}),m&&o.jsx("div",{className:te("pt-4 text-sm",m===e("common.saved")?"text-green-600":m===e("common.saving")?"text-muted-foreground":"text-red-600"),children:m})]})]}),o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.v2node_docker_command")}),o.jsx(ha,{children:e("system.v2node_docker_command_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:T,disabled:g,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",g&&"animate-spin")})}),o.jsxs(B,{variant:"outline",size:"sm",onClick:Q,disabled:!ke,className:"h-8",children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("common.copy")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.v2node_docker_node"),htmlFor:"v2node_node",hint:e("system.v2node_docker_node_hint"),children:o.jsxs(st,{value:w,onValueChange:xe=>b(xe),children:[o.jsx(nt,{id:"v2node_node",children:o.jsx(at,{placeholder:e("common.please_select")})}),o.jsx(rt,{children:x.length?x.map(xe=>{const me=ML(xe);return o.jsxs(de,{value:String(xe.id),children:[xe.name," (ID: ",me,")"]},xe.id)}):o.jsx(de,{value:"__empty",disabled:!0,children:e("common.command_empty")})})]})}),o.jsx(Xe,{label:e("system.v2node_docker_container_name"),htmlFor:"v2node_container_name",hint:e("system.v2node_docker_container_name_hint"),children:o.jsx(G,{id:"v2node_container_name",value:he,readOnly:!0})}),o.jsx(Xe,{label:e("system.v2node_docker_api_host"),htmlFor:"v2node_api_host",hint:e("system.v2node_docker_api_host_hint"),children:o.jsx(G,{id:"v2node_api_host",value:j,onChange:xe=>_(xe.target.value),placeholder:s})}),o.jsx(Xe,{label:e("system.v2node_docker_tls_cert_url"),htmlFor:"v2node_tls_cert_url",hint:e("system.v2node_docker_tls_url_hint"),children:o.jsx(G,{id:"v2node_tls_cert_url",value:k,onChange:xe=>C(xe.target.value),placeholder:"https://example.com/cert.pem"})}),o.jsx(Xe,{label:e("system.v2node_docker_tls_key_url"),htmlFor:"v2node_tls_key_url",hint:e("system.v2node_docker_tls_url_hint"),children:o.jsx(G,{id:"v2node_tls_key_url",value:O,onChange:xe=>M(xe.target.value),placeholder:"https://example.com/key.pem"})}),Te&&o.jsx("div",{className:"pt-2 text-sm text-red-600",children:e("system.v2node_docker_tls_url_invalid")}),o.jsx(Xe,{label:e("system.v2node_other_command"),htmlFor:"v2node_other_command",hint:e("system.v2node_other_command_hint"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:re,disabled:!Se,"aria-label":e("common.copy"),children:o.jsx(ci,{className:"h-4 w-4"})})}),o.jsx(xr,{id:"v2node_other_command",value:R,onChange:xe=>F(xe.target.value),rows:Math.max(6,R.split(`
`).length),className:"font-mono text-xs leading-relaxed",placeholder:e("system.v2node_other_command_placeholder")})]})}),o.jsx(Xe,{label:e("system.v2node_docker_command_label"),htmlFor:"v2node_docker_cmd",hint:e("system.v2node_docker_command_hint"),children:o.jsx(xr,{id:"v2node_docker_cmd",value:fe||"",readOnly:!0,rows:Math.max(8,fe.split(`
`).length),className:"font-mono text-xs leading-relaxed",placeholder:J?"":e("system.v2node_docker_missing_token")})}),(ee==null?void 0:ee.type)==="hysteria"?o.jsx(Xe,{label:e("system.v2node_hy_port_forward_command"),htmlFor:"v2node_hy_port_forward_command",hint:e("system.v2node_hy_port_forward_command_hint"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:Oe,disabled:!Ne,"aria-label":e("common.copy"),children:o.jsx(ci,{className:"h-4 w-4"})})}),o.jsx(xr,{id:"v2node_hy_port_forward_command",value:X||"",readOnly:!0,rows:Math.max(8,X?X.split(`
`).length:0),className:"font-mono text-xs leading-relaxed",placeholder:e("system.v2node_hy_port_forward_command_placeholder")})]})}):null]})]})]})}function BRe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState([]),[p,g]=f.useState({email_template:"default",email_host:"",email_port:"",email_username:"",email_password:"",email_encryption:"",email_from_address:"",remind_mail_enable:!1}),y=f.useMemo(()=>({email_template:p.email_template,email_host:p.email_host,email_port:p.email_port,email_username:p.email_username,email_password:p.email_password,email_encryption:p.email_encryption,email_from_address:p.email_from_address,remind_mail_enable:p.remind_mail_enable}),[p]),x=f.useMemo(()=>JSON.stringify(y),[y]),v=f.useCallback(async()=>{var _;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const[k,C]=await Promise.all([Gn.fetch("email"),Gn.getEmailTemplates().catch(()=>null)]),O=k.data.data.email||{},M={email_template:O.email_template??"default",email_host:O.email_host??"",email_port:String(O.email_port??""),email_username:O.email_username??"",email_password:O.email_password??"",email_encryption:O.email_encryption??"",email_from_address:O.email_from_address??"",remind_mail_enable:!!O.remind_mail_enable};n.current=!0,r.current=JSON.stringify({email_template:M.email_template,email_host:M.email_host,email_port:M.email_port,email_username:M.email_username,email_password:M.email_password,email_encryption:M.email_encryption,email_from_address:M.email_from_address,remind_mail_enable:M.remind_mail_enable}),i.current="",g(M),(_=C==null?void 0:C.data)!=null&&_.data&&m(C.data.data)}catch(k){console.error(k),d(e("common.load_failed"))}finally{a(!1)}},[e]);f.useEffect(()=>{v()},[v]);const w=f.useCallback(async _=>{var C,O;t.current&&(window.clearTimeout(t.current),t.current=null);const k=JSON.stringify(_);c(!0),d(e("common.saving"));try{await Gn.save(_),r.current=k,i.current="",d(e("common.saved"))}catch(M){console.error(M),i.current=k,d(((O=(C=M==null?void 0:M.response)==null?void 0:C.data)==null?void 0:O.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&x!==r.current&&x!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,w(y)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,y,x,w,l]);const b=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:x===r.current?{label:e("common.saved"),className:"text-green-600"}:x===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[x,l,e]),j=async()=>{var _,k;c(!0),d("");try{await Gn.testSendMail(),d(e("system.test_email_sent"))}catch(C){console.error(C),d(((k=(_=C==null?void 0:C.response)==null?void 0:_.data)==null?void 0:k.message)||e("system.test_email_failed"))}finally{c(!1)}};return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.smtp_settings")}),o.jsx(ha,{children:e("system.smtp_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",b.className),children:[e("common.autosave"),": ",b.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:v,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>w(y),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.email_template"),hint:e("system.email_template_hint"),children:o.jsxs(st,{value:p.email_template,onValueChange:_=>g(k=>({...k,email_template:_})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("system.email_template")})}),o.jsxs(rt,{children:[h.map(_=>o.jsx(de,{value:_,children:_},_)),h.length===0&&o.jsx(de,{value:"default",children:"default"})]})]})}),o.jsx(Xe,{label:e("system.smtp_host"),htmlFor:"host",hint:e("system.smtp_host_hint"),children:o.jsx(G,{id:"host",value:p.email_host,onChange:_=>g(k=>({...k,email_host:_.target.value})),placeholder:"smtp.gmail.com"})}),o.jsx(Xe,{label:e("system.smtp_port"),htmlFor:"port",hint:e("system.smtp_port_hint"),children:o.jsx(G,{id:"port",value:p.email_port,onChange:_=>g(k=>({...k,email_port:_.target.value})),placeholder:"587"})}),o.jsx(Xe,{label:e("system.smtp_username"),htmlFor:"user",hint:e("system.smtp_username_hint"),children:o.jsx(G,{id:"user",value:p.email_username,onChange:_=>g(k=>({...k,email_username:_.target.value})),placeholder:"user@example.com"})}),o.jsx(Xe,{label:e("system.smtp_password"),htmlFor:"pass",hint:e("system.smtp_password_hint"),children:o.jsx(G,{id:"pass",type:"password",value:p.email_password,onChange:_=>g(k=>({...k,email_password:_.target.value}))})}),o.jsx(Xe,{label:e("system.encryption"),hint:e("system.encryption_hint"),children:o.jsxs(st,{value:p.email_encryption||"none",onValueChange:_=>g(k=>({...k,email_encryption:_==="none"?"":_})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:"Select encryption"})}),o.jsxs(rt,{children:[o.jsx(de,{value:"tls",children:"TLS"}),o.jsx(de,{value:"ssl",children:"SSL"}),o.jsx(de,{value:"none",children:"None"})]})]})}),o.jsx(Xe,{label:e("system.sender_address"),htmlFor:"sender",hint:e("system.sender_address_hint"),children:o.jsx(G,{id:"sender",value:p.email_from_address,onChange:_=>g(k=>({...k,email_from_address:_.target.value})),placeholder:"noreply@example.com"})}),o.jsx(Xe,{label:e("system.remind_mail_enable"),htmlFor:"remind_mail_enable",hint:e("system.remind_mail_enable_hint"),children:o.jsx(Dt,{id:"remind_mail_enable",checked:p.remind_mail_enable,onCheckedChange:_=>g(k=>({...k,remind_mail_enable:_}))})}),o.jsx(Xe,{label:e("system.test_email"),hint:e("system.test_email_hint"),children:o.jsxs(B,{variant:"outline",onClick:j,disabled:l,className:"w-fit",children:[o.jsx(gE,{className:"h-4 w-4 mr-2"}),e("system.test_email")]})}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")||u===e("system.test_email_sent")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(null,arguments)}function qRe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}let e2=[],_Q=[];(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,n=0;t<e.length;t++)(t%2?_Q:e2).push(n=n+e[t])})();function WRe(e){if(e<768)return!1;for(let t=0,n=e2.length;;){let r=t+n>>1;if(e<e2[r])n=r;else if(e>=_Q[r])t=r+1;else return!0;if(t==n)return!1}}function TL(e){return e>=127462&&e<=127487}const AL=8205;function URe(e,t,n=!0,r=!0){return(n?wQ:VRe)(e,t,r)}function wQ(e,t,n){if(t==e.length)return t;t&&jQ(e.charCodeAt(t))&&kQ(e.charCodeAt(t-1))&&t--;let r=RS(e,t);for(t+=zL(r);t<e.length;){let i=RS(e,t);if(r==AL||i==AL||n&&WRe(i))t+=zL(i),r=i;else if(TL(i)){let s=0,a=t-2;for(;a>=0&&TL(RS(e,a));)s++,a-=2;if(s%2==0)break;t+=2}else break}return t}function VRe(e,t,n){for(;t>0;){let r=wQ(e,t-2,n);if(r<t)return r;t--}return 0}function RS(e,t){let n=e.charCodeAt(t);if(!kQ(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return jQ(r)?(n-55296<<10)+(r-56320)+65536:n}function jQ(e){return e>=56320&&e<57344}function kQ(e){return e>=55296&&e<56320}function zL(e){return e<65536?1:2}class _n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,n,r){[t,n]=pm(this,t,n);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),tl.from(i,this.length-(n-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,n=this.length){[t,n]=pm(this,t,n);let r=[];return this.decompose(t,n,r,0),tl.from(r,n-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let n=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new pg(this),s=new pg(t);for(let a=n,l=n;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(t=1){return new pg(this,t)}iterRange(t,n=this.length){return new SQ(this,t,n)}iterLines(t,n){let r;if(t==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new NQ(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?_n.empty:t.length<=32?new Sr(t):tl.from(Sr.split(t,[]))}}class Sr extends _n{constructor(t,n=HRe(t)){super(),this.text=t,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(t,n,r,i){for(let s=0;;s++){let a=this.text[s],l=i+a.length;if((n?r:l)>=t)return new KRe(i,l,r,a);i=l+1,r++}}decompose(t,n,r,i){let s=t<=0&&n>=this.length?this:new Sr(DL(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(i&1){let a=r.pop(),l=i_(s.text,a.text.slice(),0,s.length);if(l.length<=32)r.push(new Sr(l,a.length+s.length));else{let c=l.length>>1;r.push(new Sr(l.slice(0,c)),new Sr(l.slice(c)))}}else r.push(s)}replace(t,n,r){if(!(r instanceof Sr))return super.replace(t,n,r);[t,n]=pm(this,t,n);let i=i_(this.text,i_(r.text,DL(this.text,0,t)),n),s=this.length+r.length-(n-t);return i.length<=32?new Sr(i,s):tl.from(Sr.split(i,[]),s)}sliceString(t,n=this.length,r=`
`){[t,n]=pm(this,t,n);let i="";for(let s=0,a=0;s<=n&&a<this.text.length;a++){let l=this.text[a],c=s+l.length;s>t&&a&&(i+=r),t<c&&n>s&&(i+=l.slice(Math.max(0,t-s),n-s)),s=c+1}return i}flatten(t){for(let n of this.text)t.push(n)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let s of t)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Sr(r,i)),r=[],i=-1);return i>-1&&n.push(new Sr(r,i)),n}}class tl extends _n{constructor(t,n){super(),this.children=t,this.length=n,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,n,r,i){for(let s=0;;s++){let a=this.children[s],l=i+a.length,c=r+a.lines-1;if((n?c:l)>=t)return a.lineInner(t,n,r,i);i=l+1,r=c+1}}decompose(t,n,r,i){for(let s=0,a=0;a<=n&&s<this.children.length;s++){let l=this.children[s],c=a+l.length;if(t<=c&&n>=a){let u=i&((a<=t?1:0)|(c>=n?2:0));a>=t&&c<=n&&!u?r.push(l):l.decompose(t-a,n-a,r,u)}a=c+1}}replace(t,n,r){if([t,n]=pm(this,t,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],l=s+a.length;if(t>=s&&n<=l){let c=a.replace(t-s,n-s,r),u=this.lines-a.lines+c.lines;if(c.lines<u>>4&&c.lines>u>>6){let d=this.children.slice();return d[i]=c,new tl(d,this.length-(n-t)+r.length)}return super.replace(s,l,c)}s=l+1}return super.replace(t,n,r)}sliceString(t,n=this.length,r=`
`){[t,n]=pm(this,t,n);let i="";for(let s=0,a=0;s<this.children.length&&a<=n;s++){let l=this.children[s],c=a+l.length;a>t&&s&&(i+=r),t<c&&n>a&&(i+=l.sliceString(t-a,n-a,r)),a=c+1}return i}flatten(t){for(let n of this.children)n.flatten(t)}scanIdentical(t,n){if(!(t instanceof tl))return 0;let r=0,[i,s,a,l]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==a||s==l)return r;let c=this.children[i],u=t.children[s];if(c!=u)return r+c.scanIdentical(u,n);r+=c.length+1}}static from(t,n=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of t)r+=p.lines;if(r<32){let p=[];for(let g of t)g.flatten(p);return new Sr(p,n)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,l=[],c=0,u=-1,d=[];function h(p){let g;if(p.lines>s&&p instanceof tl)for(let y of p.children)h(y);else p.lines>a&&(c>a||!c)?(m(),l.push(p)):p instanceof Sr&&c&&(g=d[d.length-1])instanceof Sr&&p.lines+g.lines<=32?(c+=p.lines,u+=p.length+1,d[d.length-1]=new Sr(g.text.concat(p.text),g.length+1+p.length)):(c+p.lines>i&&m(),c+=p.lines,u+=p.length+1,d.push(p))}function m(){c!=0&&(l.push(d.length==1?d[0]:tl.from(d,u)),u=-1,c=d.length=0)}for(let p of t)h(p);return m(),l.length==1?l[0]:new tl(l,n)}}_n.empty=new Sr([""],0);function HRe(e){let t=-1;for(let n of e)t+=n.length+1;return t}function i_(e,t,n=0,r=1e9){for(let i=0,s=0,a=!0;s<e.length&&i<=r;s++){let l=e[s],c=i+l.length;c>=n&&(c>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),a?(t[t.length-1]+=l,a=!1):t.push(l)),i=c+1}return t}function DL(e,t,n){return i_(e,[""],t,n)}class pg{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof Sr?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,l=i instanceof Sr?i.text.length:i.children.length;if(a==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof Sr){let c=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,c.length>Math.max(0,t))return this.value=t==0?c:n>0?c.slice(t):c.slice(0,c.length-t),this;t-=c.length}else{let c=i.children[a+(n<0?-1:0)];t>c.length?(t-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof Sr?c.text.length:c.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class SQ{constructor(t,n,r){this.value="",this.done=!1,this.cursor=new pg(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(t,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class NQ{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:n,lineBreak:r,value:i}=this.inner.next(t);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_n.prototype[Symbol.iterator]=function(){return this.iter()},pg.prototype[Symbol.iterator]=SQ.prototype[Symbol.iterator]=NQ.prototype[Symbol.iterator]=function(){return this});class KRe{constructor(t,n,r,i){this.from=t,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function pm(e,t,n){return t=Math.max(0,Math.min(e.length,t)),[t,Math.max(t,Math.min(e.length,n))]}function Vr(e,t,n=!0,r=!0){return URe(e,t,n,r)}function YRe(e){return e>=56320&&e<57344}function GRe(e){return e>=55296&&e<56320}function Os(e,t){let n=e.charCodeAt(t);if(!GRe(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return YRe(r)?(n-55296<<10)+(r-56320)+65536:n}function UT(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function nl(e){return e<65536?1:2}const t2=/\r\n?|\n/;var is=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(is||(is={}));class gl{constructor(t){this.sections=t}get length(){let t=0;for(let n=0;n<this.sections.length;n+=2)t+=this.sections[n];return t}get newLength(){let t=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];t+=r<0?this.sections[n]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++];a<0?(t(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(t,n=!1){n2(this,t,n)}get invertedDesc(){let t=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new gl(t)}composeDesc(t){return this.empty?t:t.empty?this:CQ(this,t)}mapDesc(t,n=!1){return t.empty?this:r2(this,t,n)}mapPos(t,n=-1,r=is.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let l=this.sections[a++],c=this.sections[a++],u=i+l;if(c<0){if(u>t)return s+(t-i);s+=l}else{if(r!=is.Simple&&u>=t&&(r==is.TrackDel&&i<t&&u>t||r==is.TrackBefore&&i<t||r==is.TrackAfter&&u>t))return null;if(u>t||u==t&&n<0&&!l)return t==i||n<0?s:s+c;s+=c}i=u}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return s}touchesRange(t,n=t){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],a=this.sections[r++],l=i+s;if(a>=0&&i<=n&&l>=t)return i<t&&l>n?"cover":!0;i=l}return!1}toString(){let t="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new gl(t)}static create(t){return new gl(t)}}class qr extends gl{constructor(t,n){super(t),this.inserted=n}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return n2(this,(n,r,i,s,a)=>t=t.replace(i,i+(r-n),a),!1),t}mapDesc(t,n=!1){return r2(this,t,n,!0)}invert(t){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let a=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=a;let c=i>>1;for(;r.length<c;)r.push(_n.empty);r.push(a?t.slice(s,s+a):_n.empty)}s+=a}return new qr(n,r)}compose(t){return this.empty?t:t.empty?this:CQ(this,t,!0)}map(t,n=!1){return t.empty?this:r2(this,t,n,!0)}iterChanges(t,n=!1){n2(this,t,n)}get desc(){return gl.create(this.sections)}filter(t){let n=[],r=[],i=[],s=new py(this);e:for(let a=0,l=0;;){let c=a==t.length?1e9:t[a++];for(;l<c||l==c&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,c-l);qi(i,d,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;qi(n,d,h),h>0&&gu(r,n,s.text),s.forward(d),l+=d}let u=t[a++];for(;l<u;){if(s.done)break e;let d=Math.min(s.len,u-l);qi(n,d,-1),qi(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),l+=d}}return{changes:new qr(n,r),filtered:gl.create(i)}}toJSON(){let t=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[n>>1].toJSON()))}return t}static of(t,n,r){let i=[],s=[],a=0,l=null;function c(d=!1){if(!d&&!i.length)return;a<n&&qi(i,n-a,-1);let h=new qr(i,s);l=l?l.compose(h.map(l)):h,i=[],s=[],a=0}function u(d){if(Array.isArray(d))for(let h of d)u(h);else if(d instanceof qr){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);c(),l=l?l.compose(d.map(l)):d}else{let{from:h,to:m=h,insert:p}=d;if(h>m||h<0||m>n)throw new RangeError(`Invalid change range ${h} to ${m} (in doc of length ${n})`);let g=p?typeof p=="string"?_n.of(p.split(r||t2)):p:_n.empty,y=g.length;if(h==m&&y==0)return;h<a&&c(),h>a&&qi(i,h-a,-1),qi(i,m-h,y),gu(s,i,g),a=m}}return u(t),c(!l),l}static empty(t){return new qr(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,l)=>l&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(_n.empty);r[i]=_n.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new qr(n,r)}static createSet(t,n){return new qr(t,n)}}function qi(e,t,n,r=!1){if(t==0&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&t==0&&e[i]==0?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function gu(e,t,n){if(n.length==0)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(_n.empty);e.push(n)}}function n2(e,t,n){let r=e.inserted;for(let i=0,s=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)i+=l,s+=l;else{let u=i,d=s,h=_n.empty;for(;u+=l,d+=c,c&&r&&(h=h.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(i,u,s,d,h),i=u,s=d}}}function r2(e,t,n,r=!1){let i=[],s=r?[]:null,a=new py(e),l=new py(t);for(let c=-1;;){if(a.done&&l.len||l.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&l.ins==-1){let u=Math.min(a.len,l.len);qi(i,u,-1),a.forward(u),l.forward(u)}else if(l.ins>=0&&(a.ins<0||c==a.i||a.off==0&&(l.len<a.len||l.len==a.len&&!n))){let u=l.len;for(qi(i,l.ins,-1);u;){let d=Math.min(a.len,u);a.ins>=0&&c<a.i&&a.len<=d&&(qi(i,0,a.ins),s&&gu(s,i,a.text),c=a.i),a.forward(d),u-=d}l.next()}else if(a.ins>=0){let u=0,d=a.len;for(;d;)if(l.ins==-1){let h=Math.min(d,l.len);u+=h,d-=h,l.forward(h)}else if(l.ins==0&&l.len<d)d-=l.len,l.next();else break;qi(i,u,c<a.i?a.ins:0),s&&c<a.i&&gu(s,i,a.text),c=a.i,a.forward(a.len-d)}else{if(a.done&&l.done)return s?qr.createSet(i,s):gl.create(i);throw new Error("Mismatched change set lengths")}}}function CQ(e,t,n=!1){let r=[],i=n?[]:null,s=new py(e),a=new py(t);for(let l=!1;;){if(s.done&&a.done)return i?qr.createSet(r,i):gl.create(r);if(s.ins==0)qi(r,s.len,0,l),s.next();else if(a.len==0&&!a.done)qi(r,0,a.ins,l),i&&gu(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let c=Math.min(s.len2,a.len),u=r.length;if(s.ins==-1){let d=a.ins==-1?-1:a.off?0:a.ins;qi(r,c,d,l),i&&d&&gu(i,r,a.text)}else a.ins==-1?(qi(r,s.off?0:s.len,c,l),i&&gu(i,r,s.textBit(c))):(qi(r,s.off?0:s.len,a.off?0:a.ins,l),i&&!a.off&&gu(i,r,a.text));l=(s.ins>c||a.ins>=0&&a.len>c)&&(l||r.length>u),s.forward2(c),a.forward(c)}}}}class py{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length?_n.empty:t[n]}textBit(t){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!t?_n.empty:n[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Td{constructor(t,n,r){this.from=t,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,n=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,n):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Td(r,i,this.flags)}extend(t,n=t){if(t<=this.anchor&&n>=this.anchor)return Ae.range(t,n);let r=Math.abs(t-this.anchor)>Math.abs(n-this.anchor)?t:n;return Ae.range(this.anchor,r)}eq(t,n=!1){return this.anchor==t.anchor&&this.head==t.head&&(!n||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ae.range(t.anchor,t.head)}static create(t,n,r){return new Td(t,n,r)}}class Ae{constructor(t,n){this.ranges=t,this.mainIndex=n}map(t,n=-1){return t.empty?this:Ae.create(this.ranges.map(r=>r.map(t,n)),this.mainIndex)}eq(t,n=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ae([this.main],0)}addRange(t,n=!0){return Ae.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let r=this.ranges.slice();return r[n]=t,Ae.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ae(t.ranges.map(n=>Td.fromJSON(n)),t.main)}static single(t,n=t){return new Ae([Ae.range(t,n)],0)}static create(t,n=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let s=t[i];if(s.empty?s.from<=r:s.from<r)return Ae.normalized(t.slice(),n);r=s.to}return new Ae(t,n)}static cursor(t,n=0,r,i){return Td.create(t,t,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<t?Td.create(n,t,48|s):Td.create(t,n,(n>t?8:0)|s)}static normalized(t,n=0){let r=t[n];t.sort((i,s)=>i.from-s.from),n=t.indexOf(r);for(let i=1;i<t.length;i++){let s=t[i],a=t[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let l=a.from,c=Math.max(s.to,a.to);i<=n&&n--,t.splice(--i,2,s.anchor>s.head?Ae.range(c,l):Ae.range(l,c))}}return new Ae(t,n)}}function OQ(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let VT=0;class yt{constructor(t,n,r,i,s){this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=VT++,this.default=t([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(t={}){return new yt(t.combine||(n=>n),t.compareInput||((n,r)=>n===r),t.compare||(t.combine?(n,r)=>n===r:HT),!!t.static,t.enables)}of(t){return new s_([],this,0,t)}compute(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new s_(t,this,1,n)}computeN(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new s_(t,this,2,n)}from(t,n){return n||(n=r=>r),this.compute([t],r=>n(r.field(t)))}}function HT(e,t){return e==t||e.length==t.length&&e.every((n,r)=>n===t[r])}class s_{constructor(t,n,r,i){this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=VT++}dynamicSlot(t){var n;let r=this.value,i=this.facet.compareInput,s=this.id,a=t[s]>>1,l=this.type==2,c=!1,u=!1,d=[];for(let h of this.dependencies)h=="doc"?c=!0:h=="selection"?u=!0:((n=t[h.id])!==null&&n!==void 0?n:1)&1||d.push(t[h.id]);return{create(h){return h.values[a]=r(h),1},update(h,m){if(c&&m.docChanged||u&&(m.docChanged||m.selection)||i2(h,d)){let p=r(h);if(l?!RL(p,h.values[a],i):!i(p,h.values[a]))return h.values[a]=p,1}return 0},reconfigure:(h,m)=>{let p,g=m.config.address[s];if(g!=null){let y=rw(m,g);if(this.dependencies.every(x=>x instanceof yt?m.facet(x)===h.facet(x):x instanceof Ti?m.field(x,!1)==h.field(x,!1):!0)||(l?RL(p=r(h),y,i):i(p=r(h),y)))return h.values[a]=y,0}else p=r(h);return h.values[a]=p,1}}}}function RL(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function i2(e,t){let n=!1;for(let r of t)gg(e,r)&1&&(n=!0);return n}function QRe(e,t,n){let r=n.map(c=>e[c.id]),i=n.map(c=>c.type),s=r.filter(c=>!(c&1)),a=e[t.id]>>1;function l(c){let u=[];for(let d=0;d<r.length;d++){let h=rw(c,r[d]);if(i[d]==2)for(let m of h)u.push(m);else u.push(h)}return t.combine(u)}return{create(c){for(let u of r)gg(c,u);return c.values[a]=l(c),1},update(c,u){if(!i2(c,s))return 0;let d=l(c);return t.compare(d,c.values[a])?0:(c.values[a]=d,1)},reconfigure(c,u){let d=i2(c,r),h=u.config.facets[t.id],m=u.facet(t);if(h&&!d&&HT(n,h))return c.values[a]=m,0;let p=l(c);return t.compare(p,m)?(c.values[a]=m,0):(c.values[a]=p,1)}}}const Vv=yt.define({static:!0});class Ti{constructor(t,n,r,i,s){this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(t){let n=new Ti(VT++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(n.provides=t.provide(n)),n}create(t){let n=t.facet(Vv).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(t)}slot(t){let n=t[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let s=r.facet(Vv),a=i.facet(Vv),l;return(l=s.find(c=>c.field==this))&&l!=a.find(c=>c.field==this)?(r.values[n]=l.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(t){return[this,Vv.of({field:this,create:t})]}get extension(){return this}}const bd={lowest:4,low:3,default:2,high:1,highest:0};function Sp(e){return t=>new PQ(t,e)}const Ch={highest:Sp(bd.highest),high:Sp(bd.high),default:Sp(bd.default),low:Sp(bd.low),lowest:Sp(bd.lowest)};class PQ{constructor(t,n){this.inner=t,this.prec=n}}class L1{of(t){return new s2(this,t)}reconfigure(t){return L1.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class s2{constructor(t,n){this.compartment=t,this.inner=n}}class nw{constructor(t,n,r,i,s,a){for(this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let n=this.address[t.id];return n==null?t.default:this.staticValues[n>>1]}static resolve(t,n,r){let i=[],s=Object.create(null),a=new Map;for(let m of XRe(t,n,a))m instanceof Ti?i.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let l=Object.create(null),c=[],u=[];for(let m of i)l[m.id]=u.length<<1,u.push(p=>m.slot(p));let d=r==null?void 0:r.config.facets;for(let m in s){let p=s[m],g=p[0].facet,y=d&&d[m]||[];if(p.every(x=>x.type==0))if(l[g.id]=c.length<<1|1,HT(y,p))c.push(r.facet(g));else{let x=g.combine(p.map(v=>v.value));c.push(r&&g.compare(x,r.facet(g))?r.facet(g):x)}else{for(let x of p)x.type==0?(l[x.id]=c.length<<1|1,c.push(x.value)):(l[x.id]=u.length<<1,u.push(v=>x.dynamicSlot(v)));l[g.id]=u.length<<1,u.push(x=>QRe(x,g,p))}}let h=u.map(m=>m(l));return new nw(t,a,h,l,c,s)}}function XRe(e,t,n){let r=[[],[],[],[],[]],i=new Map;function s(a,l){let c=i.get(a);if(c!=null){if(c<=l)return;let u=r[c].indexOf(a);u>-1&&r[c].splice(u,1),a instanceof s2&&n.delete(a.compartment)}if(i.set(a,l),Array.isArray(a))for(let u of a)s(u,l);else if(a instanceof s2){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=t.get(a.compartment)||a.inner;n.set(a.compartment,u),s(u,l)}else if(a instanceof PQ)s(a.inner,a.prec);else if(a instanceof Ti)r[l].push(a),a.provides&&s(a.provides,l);else if(a instanceof s_)r[l].push(a),a.facet.extensions&&s(a.facet.extensions,bd.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,l)}}return s(e,bd.default),r.reduce((a,l)=>a.concat(l))}function gg(e,t){if(t&1)return 2;let n=t>>1,r=e.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function rw(e,t){return t&1?e.config.staticValues[t>>1]:e.values[t>>1]}const EQ=yt.define(),a2=yt.define({combine:e=>e.some(t=>t),static:!0}),MQ=yt.define({combine:e=>e.length?e[0]:void 0,static:!0}),TQ=yt.define(),AQ=yt.define(),zQ=yt.define(),DQ=yt.define({combine:e=>e.length?e[0]:!1});class El{constructor(t,n){this.type=t,this.value=n}static define(){return new ZRe}}class ZRe{of(t){return new El(this,t)}}class JRe{constructor(t){this.map=t}of(t){return new Zt(this,t)}}class Zt{constructor(t,n){this.type=t,this.value=n}map(t){let n=this.type.map(this.value,t);return n===void 0?void 0:n==this.value?this:new Zt(this.type,n)}is(t){return this.type==t}static define(t={}){return new JRe(t.map||(n=>n))}static mapEffects(t,n){if(!t.length)return t;let r=[];for(let i of t){let s=i.map(n);s&&r.push(s)}return r}}Zt.reconfigure=Zt.define();Zt.appendConfig=Zt.define();class Hr{constructor(t,n,r,i,s,a){this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&OQ(r,n.newLength),s.some(l=>l.type==Hr.time)||(this.annotations=s.concat(Hr.time.of(Date.now())))}static create(t,n,r,i,s,a){return new Hr(t,n,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let n of this.annotations)if(n.type==t)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(Hr.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&n[t.length]=="."))}}Hr.time=El.define();Hr.userEvent=El.define();Hr.addToHistory=El.define();Hr.remote=El.define();function eIe(e,t){let n=[];for(let r=0,i=0;;){let s,a;if(r<e.length&&(i==t.length||t[i]>=e[r]))s=e[r++],a=e[r++];else if(i<t.length)s=t[i++],a=t[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function RQ(e,t,n){var r;let i,s,a;return n?(i=t.changes,s=qr.empty(t.changes.length),a=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(i)),{changes:a,selection:t.selection?t.selection.map(s):(r=e.selection)===null||r===void 0?void 0:r.map(i),effects:Zt.mapEffects(e.effects,i).concat(Zt.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function o2(e,t,n){let r=t.selection,i=$f(t.annotations);return t.userEvent&&(i=i.concat(Hr.userEvent.of(t.userEvent))),{changes:t.changes instanceof qr?t.changes:qr.of(t.changes||[],n,e.facet(MQ)),selection:r&&(r instanceof Ae?r:Ae.single(r.anchor,r.head)),effects:$f(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function IQ(e,t,n){let r=o2(e,t.length?t[0]:{},e.doc.length);t.length&&t[0].filter===!1&&(n=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(n=!1);let a=!!t[s].sequential;r=RQ(r,o2(e,t[s],a?r.changes.newLength:e.doc.length),a)}let i=Hr.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return nIe(n?tIe(i):i)}function tIe(e){let t=e.startState,n=!0;for(let i of t.facet(TQ)){let s=i(e);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:eIe(n,s))}if(n!==!0){let i,s;if(n===!1)s=e.changes.invertedDesc,i=qr.empty(t.doc.length);else{let a=e.changes.filter(n);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}e=Hr.create(t,i,e.selection&&e.selection.map(s),Zt.mapEffects(e.effects,s),e.annotations,e.scrollIntoView)}let r=t.facet(AQ);for(let i=r.length-1;i>=0;i--){let s=r[i](e);s instanceof Hr?e=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Hr?e=s[0]:e=IQ(t,$f(s),!1)}return e}function nIe(e){let t=e.startState,n=t.facet(zQ),r=e;for(let i=n.length-1;i>=0;i--){let s=n[i](e);s&&Object.keys(s).length&&(r=RQ(r,o2(t,s,e.changes.newLength),!0))}return r==e?e:Hr.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}const rIe=[];function $f(e){return e==null?rIe:Array.isArray(e)?e:[e]}var rr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(rr||(rr={}));const iIe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let l2;try{l2=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function sIe(e){if(l2)return l2.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||iIe.test(n)))return!0}return!1}function aIe(e){return t=>{if(!/\S/.test(t))return rr.Space;if(sIe(t))return rr.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return rr.Word;return rr.Other}}class mn{constructor(t,n,r,i,s,a){this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)gg(this,l<<1);this.computeSlot=null}field(t,n=!0){let r=this.config.address[t.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return gg(this,r),rw(this,r)}update(...t){return IQ(this,t,!0)}applyTransaction(t){let n=this.config,{base:r,compartments:i}=n;for(let l of t.effects)l.is(L1.reconfigure)?(n&&(i=new Map,n.compartments.forEach((c,u)=>i.set(u,c)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(Zt.reconfigure)?(n=null,r=l.value):l.is(Zt.appendConfig)&&(n=null,r=$f(r).concat(l.value));let s;n?s=t.startState.values.slice():(n=nw.resolve(r,i,this),s=new mn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,u)=>u.reconfigure(c,this),null).values);let a=t.startState.facet(a2)?t.newSelection:t.newSelection.asSingle();new mn(n,t.newDoc,a,s,(l,c)=>c.update(l,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:t},range:Ae.cursor(n.from+t.length)}))}changeByRange(t){let n=this.selection,r=t(n.ranges[0]),i=this.changes(r.changes),s=[r.range],a=$f(r.effects);for(let l=1;l<n.ranges.length;l++){let c=t(n.ranges[l]),u=this.changes(c.changes),d=u.map(i);for(let m=0;m<l;m++)s[m]=s[m].map(d);let h=i.mapDesc(u,!0);s.push(c.range.map(h)),i=i.compose(d),a=Zt.mapEffects(a,d).concat(Zt.mapEffects($f(c.effects),h))}return{changes:i,selection:Ae.create(s,n.mainIndex),effects:a}}changes(t=[]){return t instanceof qr?t:qr.of(t,this.doc.length,this.facet(mn.lineSeparator))}toText(t){return _n.of(t.split(this.facet(mn.lineSeparator)||t2))}sliceDoc(t=0,n=this.doc.length){return this.doc.sliceString(t,n,this.lineBreak)}facet(t){let n=this.config.address[t.id];return n==null?t.default:(gg(this,n),rw(this,n))}toJSON(t){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof Ti&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(t[r]),this))}return n}static fromJSON(t,n={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(t,s)){let a=r[s],l=t[s];i.push(a.init(c=>a.spec.fromJSON(l,c)))}}return mn.create({doc:t.doc,selection:Ae.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(t={}){let n=nw.resolve(t.extensions||[],new Map),r=t.doc instanceof _n?t.doc:_n.of((t.doc||"").split(n.staticFacet(mn.lineSeparator)||t2)),i=t.selection?t.selection instanceof Ae?t.selection:Ae.single(t.selection.anchor,t.selection.head):Ae.single(0);return OQ(i,r.length),n.staticFacet(a2)||(i=i.asSingle()),new mn(n,r,i,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(mn.tabSize)}get lineBreak(){return this.facet(mn.lineSeparator)||`
`}get readOnly(){return this.facet(DQ)}phrase(t,...n){for(let r of this.facet(mn.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),t}languageDataAt(t,n,r=-1){let i=[];for(let s of this.facet(EQ))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,t)&&i.push(a[t]);return i}charCategorizer(t){return aIe(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:n,from:r,length:i}=this.doc.lineAt(t),s=this.charCategorizer(t),a=t-r,l=t-r;for(;a>0;){let c=Vr(n,a,!1);if(s(n.slice(c,a))!=rr.Word)break;a=c}for(;l<i;){let c=Vr(n,l);if(s(n.slice(l,c))!=rr.Word)break;l=c}return a==l?null:Ae.range(a+r,l+r)}}mn.allowMultipleSelections=a2;mn.tabSize=yt.define({combine:e=>e.length?e[0]:4});mn.lineSeparator=MQ;mn.readOnly=DQ;mn.phrases=yt.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(i=>e[i]==t[i])}});mn.languageData=EQ;mn.changeFilter=TQ;mn.transactionFilter=AQ;mn.transactionExtender=zQ;L1.reconfigure=Zt.define();function Ml(e,t,n={}){let r={};for(let i of e)for(let s of Object.keys(i)){let a=i[s],l=r[s];if(l===void 0)r[s]=a;else if(!(l===a||a===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](l,a);else throw new Error("Config merge conflict for field "+s)}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}class $u{eq(t){return this==t}range(t,n=t){return c2.create(t,n,this)}}$u.prototype.startSide=$u.prototype.endSide=0;$u.prototype.point=!1;$u.prototype.mapMode=is.TrackDel;let c2=class LQ{constructor(t,n,r){this.from=t,this.to=n,this.value=r}static create(t,n,r){return new LQ(t,n,r)}};function u2(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class KT{constructor(t,n,r,i){this.from=t,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,n,r,i=0){let s=r?this.to:this.from;for(let a=i,l=s.length;;){if(a==l)return a;let c=a+l>>1,u=s[c]-t||(r?this.value[c].endSide:this.value[c].startSide)-n;if(c==a)return u>=0?a:l;u>=0?l=c:a=c+1}}between(t,n,r,i){for(let s=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,n){let r=[],i=[],s=[],a=-1,l=-1;for(let c=0;c<this.value.length;c++){let u=this.value[c],d=this.from[c]+t,h=this.to[c]+t,m,p;if(d==h){let g=n.mapPos(d,u.startSide,u.mapMode);if(g==null||(m=p=g,u.startSide!=u.endSide&&(p=n.mapPos(d,u.endSide),p<m)))continue}else if(m=n.mapPos(d,u.startSide),p=n.mapPos(h,u.endSide),m>p||m==p&&u.startSide>0&&u.endSide<=0)continue;(p-m||u.endSide-u.startSide)<0||(a<0&&(a=m),u.point&&(l=Math.max(l,p-m)),r.push(u),i.push(m-a),s.push(p-a))}return{mapped:r.length?new KT(i,s,r,l):null,pos:a}}}class cn{constructor(t,n,r,i){this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(t,n,r,i){return new cn(t,n,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let n of this.chunk)t+=n.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=t,a=t.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(u2)),this.isEmpty)return n.length?cn.of(n):this;let l=new $Q(this,null,-1).goto(0),c=0,u=[],d=new Nc;for(;l.value||c<n.length;)if(c<n.length&&(l.from-n[c].from||l.startSide-n[c].value.startSide)>=0){let h=n[c++];d.addInner(h.from,h.to,h.value)||u.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(l.chunkIndex)<n[c].from)&&(!a||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&d.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||i>l.to||s<l.from||a(l.from,l.to,l.value))&&(d.addInner(l.from,l.to,l.value)||u.push(c2.create(l.from,l.to,l.value))),l.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?cn.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a],u=t.touchesRange(l,l+c.length);if(u===!1)i=Math.max(i,c.maxPoint),n.push(c),r.push(t.mapPos(l));else if(u===!0){let{mapped:d,pos:h}=c.map(l,t);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(h))}}let s=this.nextLayer.map(t);return n.length==0?s:new cn(r,n,s||cn.empty,i)}between(t,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(n>=s&&t<=s+a.length&&a.between(s,t-s,n-s,r)===!1)return}this.nextLayer.between(t,n,r)}}iter(t=0){return gy.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,n=0){return gy.from(t).goto(n)}static compare(t,n,r,i,s=-1){let a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),c=IL(a,l,r),u=new Np(a,c,s),d=new Np(l,c,s);r.iterGaps((h,m,p)=>LL(u,h,d,m,p,i)),r.empty&&r.length==0&&LL(u,0,d,0,0,i)}static eq(t,n,r=0,i){i==null&&(i=999999999);let s=t.filter(d=>!d.isEmpty&&n.indexOf(d)<0),a=n.filter(d=>!d.isEmpty&&t.indexOf(d)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let l=IL(s,a),c=new Np(s,l,0).goto(r),u=new Np(a,l,0).goto(r);for(;;){if(c.to!=u.to||!d2(c.active,u.active)||c.point&&(!u.point||!c.point.eq(u.point)))return!1;if(c.to>i)return!0;c.next(),u.next()}}static spans(t,n,r,i,s=-1){let a=new Np(t,null,s).goto(n),l=n,c=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let d=a.activeForPoint(a.to),h=a.pointFrom<n?d.length+1:a.point.startSide<0?d.length:Math.min(d.length,c);i.point(l,u,a.point,d,h,a.pointRank),c=Math.min(a.openEnd(u),d.length)}else u>l&&(i.span(l,u,a.active,c),c=a.openEnd(u));if(a.to>r)return c+(a.point&&a.to>r?1:0);l=a.to,a.next()}}static of(t,n=!1){let r=new Nc;for(let i of t instanceof c2?[t]:n?oIe(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return cn.empty;let n=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=cn.empty;i=i.nextLayer)n=new cn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}cn.empty=new cn([],[],null,-1);function oIe(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(u2(t,r)>0)return e.slice().sort(u2);t=r}return e}cn.empty.nextLayer=cn.empty;class Nc{finishChunk(t){this.chunks.push(new KT(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new Nc)).add(t,n,r)}addInner(t,n,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-t)),!0)}addChunk(t,n){if((t-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(t);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+t,this.lastTo=n.to[r]+t,!0}finish(){return this.finishInner(cn.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let n=cn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,n}}function IL(e,t,n){let r=new Map;for(let s of e)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of t)for(let a=0;a<s.chunk.length;a++){let l=r.get(s.chunk[a]);l!=null&&(n?n.mapPos(l):l)==s.chunkPos[a]&&!(n!=null&&n.touchesRange(l,l+s.chunk[a].length))&&i.add(s.chunk[a])}return i}class $Q{constructor(t,n,r,i=0){this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,n,!1),this}gotoInner(t,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,n){(this.to-t||this.endSide-n)<0&&this.gotoInner(t,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=t+n.from[this.rangeIndex];if(this.from=r,this.to=t+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class gy{constructor(t){this.heap=t}static from(t,n=null,r=-1){let i=[];for(let s=0;s<t.length;s++)for(let a=t[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new $Q(a,n,r,s));return i.length==1?i[0]:new gy(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,n=-1e9){for(let r of this.heap)r.goto(t,n);for(let r=this.heap.length>>1;r>=0;r--)IS(this.heap,r);return this.next(),this}forward(t,n){for(let r of this.heap)r.forward(t,n);for(let r=this.heap.length>>1;r>=0;r--)IS(this.heap,r);(this.to-t||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),IS(this.heap,0)}}}function IS(e,t){for(let n=e[t];;){let r=(t<<1)+1;if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class Np{constructor(t,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=gy.from(t,n,r)}goto(t,n=-1e9){return this.cursor.goto(t,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=n,this.openStart=-1,this.next(),this}forward(t,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(t,n)}removeActive(t){Hv(this.active,t),Hv(this.activeTo,t),Hv(this.activeRank,t),this.minActive=$L(this.active,this.activeTo)}addActive(t){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Kv(this.active,n,r),Kv(this.activeTo,n,i),Kv(this.activeRank,n,s),t&&Kv(t,n,this.cursor.from),this.minActive=$L(this.active,this.activeTo)}next(){let t=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Hv(r,i)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(t){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)n++;return n}}function LL(e,t,n,r,i,s){e.goto(t),n.goto(r);let a=r+i,l=r,c=r-t;for(;;){let u=e.to+c-n.to,d=u||e.endSide-n.endSide,h=d<0?e.to+c:n.to,m=Math.min(h,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&d2(e.activeForPoint(e.to),n.activeForPoint(n.to))||s.comparePoint(l,m,e.point,n.point):m>l&&!d2(e.active,n.active)&&s.compareRange(l,m,e.active,n.active),h>a)break;(u||e.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(h),l=h,d<=0&&e.next(),d>=0&&n.next()}}function d2(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Hv(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Kv(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function $L(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Xm(e,t,n=e.length){let r=0;for(let i=0;i<n&&i<e.length;)e.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Vr(e,i));return r}function h2(e,t,n,r){for(let i=0,s=0;;){if(s>=t)return i;if(i==e.length)break;s+=e.charCodeAt(i)==9?n-s%n:1,i=Vr(e,i)}return r===!0?-1:e.length}const f2="",FL=typeof Symbol>"u"?"__"+f2:Symbol.for(f2),m2=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),BL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Fu{constructor(t,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,l,c,u){let d=[],h=/^@(\w+)\b/.exec(a[0]),m=h&&h[1]=="keyframes";if(h&&l==null)return c.push(a[0]+";");for(let p in l){let g=l[p];if(/&/.test(p))s(p.split(/,\s*/).map(y=>a.map(x=>y.replace(/&/,x))).reduce((y,x)=>y.concat(x)),g,c);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),g,d,m)}else g!=null&&d.push(p.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(d.length||m)&&c.push((r&&!h&&!u?a.map(r):a).join(", ")+" {"+d.join(" ")+"}")}for(let a in t)s(i(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=BL[FL]||1;return BL[FL]=t+1,f2+t.toString(36)}static mount(t,n,r){let i=t[m2],s=r&&r.nonce;i?s&&i.setNonce(s):i=new lIe(t,s),i.mount(Array.isArray(n)?n:[n],t)}}let qL=new Map;class lIe{constructor(t,n){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let s=qL.get(r);if(s)return t[m2]=s;this.sheet=new i.CSSStyleSheet,qL.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[m2]=this}mount(t,n){let r=this.sheet,i=0,s=0;for(let a=0;a<t.length;a++){let l=t[a],c=this.modules.indexOf(l);if(c<s&&c>-1&&(this.modules.splice(c,1),s--,c=-1),c==-1){if(this.modules.splice(s++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;s<c;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let c=0;c<this.modules.length;c++)a+=this.modules[c].getRules()+`
`;this.styleTag.textContent=a;let l=n.head||n;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Bu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cIe=typeof navigator<"u"&&/Mac/.test(navigator.platform),uIe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ki=0;ki<10;ki++)Bu[48+ki]=Bu[96+ki]=String(ki);for(var ki=1;ki<=24;ki++)Bu[ki+111]="F"+ki;for(var ki=65;ki<=90;ki++)Bu[ki]=String.fromCharCode(ki+32),yy[ki]=String.fromCharCode(ki);for(var LS in Bu)yy.hasOwnProperty(LS)||(yy[LS]=Bu[LS]);function dIe(e){var t=cIe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||uIe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?yy:Bu)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function En(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?e.setAttribute(r,i):i!=null&&(e[r]=i)}t++}for(;t<arguments.length;t++)FQ(e,arguments[t]);return e}function FQ(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)FQ(e,t[n]);else throw new RangeError("Unsupported child node: "+t)}let ts=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},p2=typeof document<"u"?document:{documentElement:{style:{}}};const g2=/Edge\/(\d+)/.exec(ts.userAgent),BQ=/MSIE \d/.test(ts.userAgent),y2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ts.userAgent),$1=!!(BQ||y2||g2),WL=!$1&&/gecko\/(\d+)/i.test(ts.userAgent),$S=!$1&&/Chrome\/(\d+)/.exec(ts.userAgent),hIe="webkitFontSmoothing"in p2.documentElement.style,x2=!$1&&/Apple Computer/.test(ts.vendor),UL=x2&&(/Mobile\/\w+/.test(ts.userAgent)||ts.maxTouchPoints>2);var gt={mac:UL||/Mac/.test(ts.platform),windows:/Win/.test(ts.platform),linux:/Linux|X11/.test(ts.platform),ie:$1,ie_version:BQ?p2.documentMode||6:y2?+y2[1]:g2?+g2[1]:0,gecko:WL,gecko_version:WL?+(/Firefox\/(\d+)/.exec(ts.userAgent)||[0,0])[1]:0,chrome:!!$S,chrome_version:$S?+$S[1]:0,ios:UL,android:/Android\b/.test(ts.userAgent),webkit_version:hIe?+(/\bAppleWebKit\/(\d+)/.exec(ts.userAgent)||[0,0])[1]:0,safari:x2,safari_version:x2?+(/\bVersion\/(\d+(\.\d+)?)/.exec(ts.userAgent)||[0,0])[1]:0,tabSize:p2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function YT(e,t){for(let n in e)n=="class"&&t.class?t.class+=" "+e.class:n=="style"&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}const iw=Object.create(null);function GT(e,t,n){if(e==t)return!0;e||(e=iw),t||(t=iw);let r=Object.keys(e),i=Object.keys(t);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||e[s]!==t[s]))return!1;return!0}function fIe(e,t){for(let n=e.attributes.length-1;n>=0;n--){let r=e.attributes[n].name;t[r]==null&&e.removeAttribute(r)}for(let n in t){let r=t[n];n=="style"?e.style.cssText=r:e.getAttribute(n)!=r&&e.setAttribute(n,r)}}function VL(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,i=="style"?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,i=="style"?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function mIe(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class Tl{eq(t){return!1}updateDOM(t,n){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Pi=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Pi||(Pi={}));class $t extends $u{constructor(t,n,r,i){super(),this.startSide=t,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new Lx(t)}static widget(t){let n=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return n+=r&&!t.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new hh(t,n,n,r,t.widget||null,!1)}static replace(t){let n=!!t.block,r,i;if(t.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=qQ(t,n);r=(s?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new hh(t,r,i,n,t.widget||null,!0)}static line(t){return new $x(t)}static set(t,n=!1){return cn.of(t,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}$t.none=cn.empty;class Lx extends $t{constructor(t){let{start:n,end:r}=qQ(t);super(n?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.attrs=t.class&&t.attributes?YT(t.attributes,{class:t.class}):t.class?{class:t.class}:t.attributes||iw}eq(t){return this==t||t instanceof Lx&&this.tagName==t.tagName&&GT(this.attrs,t.attrs)}range(t,n=t){if(t>=n)throw new RangeError("Mark decorations may not be empty");return super.range(t,n)}}Lx.prototype.point=!1;class $x extends $t{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof $x&&this.spec.class==t.spec.class&&GT(this.spec.attributes,t.spec.attributes)}range(t,n=t){if(n!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,n)}}$x.prototype.mapMode=is.TrackBefore;$x.prototype.point=!0;class hh extends $t{constructor(t,n,r,i,s,a){super(n,r,s,t),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?is.TrackBefore:is.TrackAfter:is.TrackDel}get type(){return this.startSide!=this.endSide?Pi.WidgetRange:this.startSide<=0?Pi.WidgetBefore:Pi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof hh&&pIe(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,n=t){if(this.isReplace&&(t>n||t==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,n)}}hh.prototype.point=!0;function qQ(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return n==null&&(n=e.inclusive),r==null&&(r=e.inclusive),{start:n??t,end:r??t}}function pIe(e,t){return e==t||!!(e&&t&&e.compare(t))}function Ff(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}class xy extends $u{constructor(t,n){super(),this.tagName=t,this.attributes=n}eq(t){return t==this||t instanceof xy&&this.tagName==t.tagName&&GT(this.attributes,t.attributes)}static create(t){return new xy(t.tagName,t.attributes||iw)}static set(t,n=!1){return cn.of(t,n)}}xy.prototype.startSide=xy.prototype.endSide=-1;function vy(e){let t;return e.nodeType==11?t=e.getSelection?e:e.ownerDocument:t=e,t.getSelection()}function v2(e,t){return t?e==t||e.contains(t.nodeType!=1?t.parentNode:t):!1}function a_(e,t){if(!t.anchorNode)return!1;try{return v2(e,t.anchorNode)}catch{return!1}}function yg(e){return e.nodeType==3?_y(e,0,e.nodeValue.length).getClientRects():e.nodeType==1?e.getClientRects():[]}function xg(e,t,n,r){return n?HL(e,t,n,r,-1)||HL(e,t,n,r,1):!1}function qu(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t}function sw(e){return e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function HL(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Cc(e))){if(e.nodeName=="DIV")return!1;let s=e.parentNode;if(!s||s.nodeType!=1)return!1;t=qu(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.nodeType==1&&e.contentEditable=="false")return!1;t=i<0?Cc(e):0}else return!1}}function Cc(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function by(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function gIe(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function WQ(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function yIe(e,t,n,r,i,s,a,l){let c=e.ownerDocument,u=c.defaultView||window;for(let d=e,h=!1;d&&!h;)if(d.nodeType==1){let m,p=d==c.body,g=1,y=1;if(p)m=gIe(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let w=d.getBoundingClientRect();({scaleX:g,scaleY:y}=WQ(d,w)),m={left:w.left,right:w.left+d.clientWidth*g,top:w.top,bottom:w.top+d.clientHeight*y}}let x=0,v=0;if(i=="nearest")t.top<m.top?(v=t.top-(m.top+a),n>0&&t.bottom>m.bottom+v&&(v=t.bottom-m.bottom+a)):t.bottom>m.bottom&&(v=t.bottom-m.bottom+a,n<0&&t.top-v<m.top&&(v=t.top-(m.top+a)));else{let w=t.bottom-t.top,b=m.bottom-m.top;v=(i=="center"&&w<=b?t.top+w/2-b/2:i=="start"||i=="center"&&n<0?t.top-a:t.bottom-b+a)-m.top}if(r=="nearest"?t.left<m.left?(x=t.left-(m.left+s),n>0&&t.right>m.right+x&&(x=t.right-m.right+s)):t.right>m.right&&(x=t.right-m.right+s,n<0&&t.left<m.left+x&&(x=t.left-(m.left+s))):x=(r=="center"?t.left+(t.right-t.left)/2-(m.right-m.left)/2:r=="start"==l?t.left-s:t.right-(m.right-m.left)+s)-m.left,x||v)if(p)u.scrollBy(x,v);else{let w=0,b=0;if(v){let j=d.scrollTop;d.scrollTop+=v/y,b=(d.scrollTop-j)*y}if(x){let j=d.scrollLeft;d.scrollLeft+=x/g,w=(d.scrollLeft-j)*g}t={left:t.left-w,top:t.top-b,right:t.right-w,bottom:t.bottom-b},w&&Math.abs(w-x)<1&&(r="nearest"),b&&Math.abs(b-v)<1&&(i="nearest")}if(p)break;(t.top<m.top||t.bottom>m.bottom||t.left<m.left||t.right>m.right)&&(t={left:Math.max(t.left,m.left),right:Math.min(t.right,m.right),top:Math.max(t.top,m.top),bottom:Math.min(t.bottom,m.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function xIe(e){let t=e.ownerDocument,n,r;for(let i=e.parentNode;i&&!(i==t.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class vIe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:n,focusNode:r}=t;this.set(n,Math.min(t.anchorOffset,n?Cc(n):0),r,Math.min(t.focusOffset,r?Cc(r):0))}set(t,n,r,i){this.anchorNode=t,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let vd=null;gt.safari&&gt.safari_version>=26&&(vd=!1);function UQ(e){if(e.setActive)return e.setActive();if(vd)return e.focus(vd);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(vd==null?{get preventScroll(){return vd={preventScroll:!0},!0}}:void 0),!vd){vd=!1;for(let n=0;n<t.length;){let r=t[n++],i=t[n++],s=t[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let KL;function _y(e,t,n=t){let r=KL||(KL=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Bf(e,t,n,r){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,e.dispatchEvent(s);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,e.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function bIe(e){for(;e;){if(e&&(e.nodeType==9||e.nodeType==11&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function _Ie(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Cc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Cc(n))}else{if(n==e)return!0;r=qu(n),n=n.parentNode}}function VQ(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function HQ(e,t){for(let n=e,r=t;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Cc(n)}else if(n.parentNode&&!sw(n))r=qu(n),n=n.parentNode;else return null}}function KQ(e,t){for(let n=e,r=t;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!sw(n))r=qu(n)+1,n=n.parentNode;else return null}}class wo{constructor(t,n,r=!0){this.node=t,this.offset=n,this.precise=r}static before(t,n){return new wo(t.parentNode,qu(t),n)}static after(t,n){return new wo(t.parentNode,qu(t)+1,n)}}var zn=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(zn||(zn={}));const fh=zn.LTR,QT=zn.RTL;function YQ(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const wIe=YQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),jIe=YQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),b2=Object.create(null),Vo=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);b2[t]=n,b2[n]=-t}function GQ(e){return e<=247?wIe[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?jIe[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const kIe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class oc{get dir(){return this.level%2?QT:fh}constructor(t,n,r){this.from=t,this.to=n,this.level=r}side(t,n){return this.dir==n==t?this.to:this.from}forward(t,n){return t==(this.dir==n)}static find(t,n,r,i){let s=-1;for(let a=0;a<t.length;a++){let l=t[a];if(l.from<=n&&l.to>=n){if(l.level==r)return a;(s<0||(i!=0?i<0?l.from<n:l.to>n:t[s].level>l.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function QQ(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!QQ(r.inner,i.inner))return!1}return!0}const Mn=[];function SIe(e,t,n,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:t,l=s<r.length?r[s].from:n,c=s?256:i;for(let u=a,d=c,h=c;u<l;u++){let m=GQ(e.charCodeAt(u));m==512?m=d:m==8&&h==4&&(m=16),Mn[u]=m==4?2:m,m&7&&(h=m),d=m}for(let u=a,d=c,h=c;u<l;u++){let m=Mn[u];if(m==128)u<l-1&&d==Mn[u+1]&&d&24?m=Mn[u]=d:Mn[u]=256;else if(m==64){let p=u+1;for(;p<l&&Mn[p]==64;)p++;let g=u&&d==8||p<n&&Mn[p]==8?h==1?1:8:256;for(let y=u;y<p;y++)Mn[y]=g;u=p-1}else m==8&&h==1&&(Mn[u]=1);d=m,m&7&&(h=m)}}}function NIe(e,t,n,r,i){let s=i==1?2:1;for(let a=0,l=0,c=0;a<=r.length;a++){let u=a?r[a-1].to:t,d=a<r.length?r[a].from:n;for(let h=u,m,p,g;h<d;h++)if(p=b2[m=e.charCodeAt(h)])if(p<0){for(let y=l-3;y>=0;y-=3)if(Vo[y+1]==-p){let x=Vo[y+2],v=x&2?i:x&4?x&1?s:i:0;v&&(Mn[h]=Mn[Vo[y]]=v),l=y;break}}else{if(Vo.length==189)break;Vo[l++]=h,Vo[l++]=m,Vo[l++]=c}else if((g=Mn[h])==2||g==1){let y=g==i;c=y?0:1;for(let x=l-3;x>=0;x-=3){let v=Vo[x+2];if(v&2)break;if(y)Vo[x+2]|=2;else{if(v&4)break;Vo[x+2]|=4}}}}}function CIe(e,t,n,r){for(let i=0,s=r;i<=n.length;i++){let a=i?n[i-1].to:e,l=i<n.length?n[i].from:t;for(let c=a;c<l;){let u=Mn[c];if(u==256){let d=c+1;for(;;)if(d==l){if(i==n.length)break;d=n[i++].to,l=i<n.length?n[i].from:t}else if(Mn[d]==256)d++;else break;let h=s==1,m=(d<t?Mn[d]:r)==1,p=h==m?h?1:2:r;for(let g=d,y=i,x=y?n[y-1].to:e;g>c;)g==x&&(g=n[--y].from,x=y?n[y-1].to:e),Mn[--g]=p;c=d}else s=u,c++}}}function _2(e,t,n,r,i,s,a){let l=r%2?2:1;if(r%2==i%2)for(let c=t,u=0;c<n;){let d=!0,h=!1;if(u==s.length||c<s[u].from){let y=Mn[c];y!=l&&(d=!1,h=y==16)}let m=!d&&l==1?[]:null,p=d?r:r+1,g=c;e:for(;;)if(u<s.length&&g==s[u].from){if(h)break e;let y=s[u];if(!d)for(let x=y.to,v=u+1;;){if(x==n)break e;if(v<s.length&&s[v].from==x)x=s[v++].to;else{if(Mn[x]==l)break e;break}}if(u++,m)m.push(y);else{y.from>c&&a.push(new oc(c,y.from,p));let x=y.direction==fh!=!(p%2);w2(e,x?r+1:r,i,y.inner,y.from,y.to,a),c=y.to}g=y.to}else{if(g==n||(d?Mn[g]!=l:Mn[g]==l))break;g++}m?_2(e,c,g,r+1,i,m,a):c<g&&a.push(new oc(c,g,p)),c=g}else for(let c=n,u=s.length;c>t;){let d=!0,h=!1;if(!u||c>s[u-1].to){let y=Mn[c-1];y!=l&&(d=!1,h=y==16)}let m=!d&&l==1?[]:null,p=d?r:r+1,g=c;e:for(;;)if(u&&g==s[u-1].to){if(h)break e;let y=s[--u];if(!d)for(let x=y.from,v=u;;){if(x==t)break e;if(v&&s[v-1].to==x)x=s[--v].from;else{if(Mn[x-1]==l)break e;break}}if(m)m.push(y);else{y.to<c&&a.push(new oc(y.to,c,p));let x=y.direction==fh!=!(p%2);w2(e,x?r+1:r,i,y.inner,y.from,y.to,a),c=y.from}g=y.from}else{if(g==t||(d?Mn[g-1]!=l:Mn[g-1]==l))break;g--}m?_2(e,g,c,r+1,i,m,a):g<c&&a.push(new oc(g,c,p)),c=g}}function w2(e,t,n,r,i,s,a){let l=t%2?2:1;SIe(e,i,s,r,l),NIe(e,i,s,r,l),CIe(i,s,r,l),_2(e,i,s,t,n,r,a)}function OIe(e,t,n){if(!e)return[new oc(0,0,t==QT?1:0)];if(t==fh&&!n.length&&!kIe.test(e))return XQ(e.length);if(n.length)for(;e.length>Mn.length;)Mn[Mn.length]=256;let r=[],i=t==fh?0:1;return w2(e,i,i,n,0,e.length,r),r}function XQ(e){return[new oc(0,e,0)]}let ZQ="";function PIe(e,t,n,r,i){var s;let a=r.head-e.from,l=oc.find(t,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),c=t[l],u=c.side(i,n);if(a==u){let m=l+=i?1:-1;if(m<0||m>=t.length)return null;c=t[l=m],a=c.side(!i,n),u=c.side(i,n)}let d=Vr(e.text,a,c.forward(i,n));(d<c.from||d>c.to)&&(d=u),ZQ=e.text.slice(Math.min(a,d),Math.max(a,d));let h=l==(i?t.length-1:0)?null:t[l+(i?1:-1)];return h&&d==u&&h.level+(i?0:1)<c.level?Ae.cursor(h.side(!i,n)+e.from,h.forward(i,n)?1:-1,h.level):Ae.cursor(d+e.from,c.forward(i,n)?-1:1,c.level)}function EIe(e,t,n){for(let r=t;r<n;r++){let i=GQ(e.charCodeAt(r));if(i==1)return fh;if(i==2||i==4)return QT}return fh}const JQ=yt.define(),eX=yt.define(),tX=yt.define(),nX=yt.define(),j2=yt.define(),rX=yt.define(),iX=yt.define(),XT=yt.define(),ZT=yt.define(),sX=yt.define({combine:e=>e.some(t=>t)}),aX=yt.define({combine:e=>e.some(t=>t)}),oX=yt.define();class qf{constructor(t,n="nearest",r="nearest",i=5,s=5,a=!1){this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=a}map(t){return t.empty?this:new qf(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new qf(Ae.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Yv=Zt.define({map:(e,t)=>e.map(t)}),lX=Zt.define();function Ds(e,t,n){let r=e.facet(nX);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+":",t):console.error(t))}const Jl=yt.define({combine:e=>e.length?e[0]:!0});let MIe=0;const wf=yt.define({combine(e){return e.filter((t,n)=>{for(let r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0})}});class Cr{constructor(t,n,r,i,s){this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(wf.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(wf.of({plugin:this,arg:t}))}static define(t,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:a}=n||{};return new Cr(MIe++,t,r,i,l=>{let c=[];return a&&c.push(wy.of(u=>{let d=u.plugin(l);return d?a(d):$t.none})),s&&c.push(s(l)),c})}static fromClass(t,n){return Cr.define((r,i)=>new t(r,i),n)}}class FS{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Ds(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(n){Ds(t.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Ds(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const cX=yt.define(),JT=yt.define(),wy=yt.define(),uX=yt.define(),dX=yt.define(),Fx=yt.define(),hX=yt.define();function YL(e,t){let n=e.state.facet(hX);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(e):s),i=[];return cn.spans(r,t.from,t.to,{point(){},span(s,a,l,c){let u=s-t.from,d=a-t.from,h=i;for(let m=l.length-1;m>=0;m--,c--){let p=l[m].spec.bidiIsolate,g;if(p==null&&(p=EIe(t.text,u,d)),c>0&&h.length&&(g=h[h.length-1]).to==u&&g.direction==p)g.to=d,h=g.inner;else{let y={from:u,to:d,direction:p,inner:[]};h.push(y),h=y.inner}}}}),i}const fX=yt.define();function eA(e){let t=0,n=0,r=0,i=0;for(let s of e.state.facet(fX)){let a=s(e);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:t,right:n,top:r,bottom:i}}const Gp=yt.define();class za{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}join(t){return new za(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let n=t.length,r=this;for(;n>0;n--){let i=t[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(n-1,1)}}return t.splice(n,0,r),t}static extendWithRanges(t,n){if(n.length==0)return t;let r=[];for(let i=0,s=0,a=0;;){let l=i<t.length?t[i].fromB:1e9,c=s<n.length?n[s]:1e9,u=Math.min(l,c);if(u==1e9)break;let d=u+a,h=u,m=d;for(;;)if(s<n.length&&n[s]<=h){let p=n[s+1];s+=2,h=Math.max(h,p);for(let g=i;g<t.length&&t[g].fromB<=h;g++)a=t[g].toA-t[g].toB;m=Math.max(m,p+a)}else if(i<t.length&&t[i].fromB<=h){let p=t[i++];h=Math.max(h,p.toB),m=Math.max(m,p.toA),a=p.toA-p.toB}else break;r.push(new za(d,m,u,h))}return r}}class aw{constructor(t,n,r){this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=qr.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,l,c)=>i.push(new za(s,a,l,c))),this.changedRanges=i}static create(t,n,r){return new aw(t,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const TIe=[];class Kr{constructor(t,n,r=0){this.dom=t,this.length=n,this.flags=r,this.parent=null,t.cmTile=this}get breakAfter(){return this.flags&1}get children(){return TIe}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(t){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&fIe(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(t){this.dom=t,t.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t,n=this.posAtStart){let r=n;for(let i of this.children){if(i==t)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}covers(t){return!0}coordsIn(t,n){return null}domPosFor(t,n){let r=qu(this.dom),i=this.length?t>0:n>0;return new wo(this.parent.dom,r+(i?1:0),t==0||t==this.length)}markDirty(t){this.flags&=-3,t&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let t=this;t;t=t.parent)if(t instanceof B1)return t;return null}static get(t){return t.cmTile}}class F1 extends Kr{constructor(t){super(t,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(t){this.children.push(t),t.parent=this}sync(t){if(this.flags&2)return;super.sync(t);let n=this.dom,r=null,i,s=(t==null?void 0:t.node)==n?t:null,a=0;for(let l of this.children){if(l.sync(t),a+=l.length+l.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=l.dom&&(s.written=!0),l.dom.parentNode==n)for(;i&&i!=l.dom;)i=GL(i);else n.insertBefore(l.dom,i);r=l.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=GL(i);this.length=a}}function GL(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class B1 extends F1{constructor(t,n){super(n),this.view=t}owns(t){for(;t;t=t.parent)if(t==this)return!0;return!1}isBlock(){return!0}nearest(t){for(;;){if(!t)return null;let n=Kr.get(t);if(n&&this.owns(n))return n;t=t.parentNode}}blockTiles(t){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let a=r.children[i++];if(a instanceof Ou)n.push(i),r=a,i=0;else{let l=s+a.length,c=t(a,s);if(c!==void 0)return c;s=l+a.breakAfter}}}resolveBlock(t,n){let r,i=-1,s,a=-1;if(this.blockTiles((l,c)=>{let u=c+l.length;if(t>=c&&t<=u){if(l.isWidget()&&n>=-1&&n<=1){if(l.flags&32)return!0;l.flags&16&&(r=void 0)}(c<t||t==u&&(n<-1?l.length:l.covers(1)))&&(!r||!l.isWidget()&&r.isWidget())&&(r=l,i=t-c),(u>t||t==c&&(n>1?l.length:l.covers(-1)))&&(!s||!l.isWidget()&&s.isWidget())&&(s=l,a=t-c)}}),!r&&!s)throw new Error("No tile at position "+t);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:a}}}class Ou extends F1{constructor(t,n){super(t),this.wrapper=n}isBlock(){return!0}covers(t){return this.children.length?t<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(t,n){let r=new Ou(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}}class gm extends F1{constructor(t,n){super(t),this.attrs=n}isLine(){return!0}static start(t,n,r){let i=new gm(n||document.createElement("div"),t);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(t,n,r){let i=null,s=-1,a=null,l=-1;function c(d,h){for(let m=0,p=0;m<d.children.length&&p<=h;m++){let g=d.children[m],y=p+g.length;y>=h&&(g.isComposite()?c(g,h-p):(!a||a.isHidden&&(n>0||r&&zIe(a,g)))&&(y>h||g.flags&32)?(a=g,l=h-p):(p<h||g.flags&16&&!g.isHidden)&&(i=g,s=h-p)),p=y}}c(this,t);let u=(n<0?i:a)||i||a;return u?{tile:u,offset:u==i?s:l}:null}coordsIn(t,n){let r=this.resolveInline(t,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):AIe(this)}domIn(t,n){let r=this.resolveInline(t,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new wo(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let a=r.tile.parent,l=!1;for(let c of a.children){if(l)return new wo(c.dom,0);c==r.tile&&(l=!0)}}return new wo(this.dom,0)}}function AIe(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=yg(t);return n[n.length-1]||null}function zIe(e,t){let n=e.coordsIn(0,1),r=t.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Es extends F1{constructor(t,n){super(t),this.mark=n}get domAttrs(){return this.mark.attrs}static of(t,n){let r=new Es(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}}class Ad extends Kr{constructor(t,n){super(t,n.length),this.text=n}sync(t){this.flags&2||(super.sync(t),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(t,n){let r=this.dom.nodeValue.length;t>r&&(t=r);let i=t,s=t,a=0;t==0&&n<0||t==r&&n>=0?gt.chrome||gt.gecko||(t?(i--,a=1):s<r&&(s++,a=-1)):n<0?i--:s<r&&s++;let l=_y(this.dom,i,s).getClientRects();if(!l.length)return null;let c=l[(a?a<0:n>=0)?0:l.length-1];return gt.safari&&!a&&c.width==0&&(c=Array.prototype.find.call(l,u=>u.width)||c),a?by(c,a<0):c||null}static of(t,n){let r=new Ad(n||document.createTextNode(t),t);return n||(r.flags|=2),r}}class ym extends Kr{constructor(t,n,r,i){super(t,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(t){return this.flags&48?!1:(this.flags&(t<0?64:128))>0}coordsIn(t,n){return this.coordsInWidget(t,n,!1)}coordsInWidget(t,n,r){let i=this.widget.coordsAt(this.dom,t,n);if(i)return i;if(r)return by(this.dom.getBoundingClientRect(),this.length?t==0:n<=0);{let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.flags&16?!0:this.flags&32?!1:t>0;for(let c=l?s.length-1:0;a=s[c],!(t>0?c==0:c==s.length-1||a.top<a.bottom);c+=l?-1:1);return by(a,!l)}}get overrideDOMText(){if(!this.length)return _n.empty;let{root:t}=this;if(!t)return _n.empty;let n=this.posAtStart;return t.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(t,n,r,i,s){return s||(s=t.toDOM(n),t.editable||(s.contentEditable="false")),new ym(s,r,t,i)}}class ow extends Kr{constructor(t){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,t)}get isHidden(){return!1}get overrideDOMText(){return _n.empty}coordsIn(t){return this.dom.getBoundingClientRect()}}class DIe{constructor(t){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=t}advance(t,n,r){let{tile:i,index:s,beforeBreak:a,parents:l}=this;for(;t||n>0;)if(i.isComposite())if(a){if(!t)break;r&&r.break(),t--,a=!1}else if(s==i.children.length){if(!t&&!l.length)break;r&&r.leave(i),a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++}else{let c=i.children[s],u=c.breakAfter;(n>0?c.length<=t:c.length<t)&&(!r||r.skip(c,0,c.length)!==!1||!c.isComposite)?(a=!!u,s++,t-=c.length):(l.push({tile:i,index:s}),i=c,s=0,r&&c.isComposite()&&r.enter(c))}else if(s==i.length)a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++;else if(t){let c=Math.min(t,i.length-s);r&&r.skip(i,s,s+c),t-=c,s+=c}else break;return this.tile=i,this.index=s,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class RIe{constructor(t,n,r,i){this.from=t,this.to=n,this.wrapper=r,this.rank=i}}class IIe{constructor(t,n,r){this.cache=t,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(t,n,r,i){var s;this.flushBuffer();let a=this.ensureMarks(n,r),l=a.lastChild;if(l&&l.isText()&&!(l.flags&8)){this.cache.reused.set(l,2);let c=a.children[a.children.length-1]=new Ad(l.dom,l.text+t);c.parent=a}else a.append(i||Ad.of(t,(s=this.cache.find(Ad))===null||s===void 0?void 0:s.dom));this.pos+=t.length,this.afterWidget=null}addComposition(t,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?BS(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let a=n.marks.length-1;a>=0;a--){let l=n.marks[a],c=i.lastChild;if(c instanceof Es&&c.mark.eq(l.mark))c.dom!=l.dom&&c.setDOM(BS(l.dom)),i=c;else{if(this.cache.reused.get(l)){let d=Kr.get(l.dom);d&&d.setDOM(BS(l.dom))}let u=Es.of(l.mark,l.dom);i.append(u),i=u}this.cache.reused.set(l,2)}let s=new Ad(t.text,t.text.nodeValue);s.flags|=8,i.append(s)}addInlineWidget(t,n,r){let i=this.afterWidget&&t.flags&48&&(this.afterWidget.flags&48)==(t.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(t.flags&16)&&s.append(this.getBuffer(1)),s.append(t),this.pos+=t.length,this.afterWidget=t}addMark(t,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(t),this.pos+=t.length,this.afterWidget=null}addBlockWidget(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}continueWidget(t){let n=this.afterWidget||this.lastBlock;n.length+=t,this.pos+=t}addLineStart(t,n){var r;t||(t=mX);let i=gm.start(t,n||((r=this.cache.find(gm))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(t){this.blockPosCovered()||this.addLineStart(t)}ensureLine(t){this.curLine||this.addLineStart(t)}ensureMarks(t,n){var r;let i=this.curLine;for(let s=t.length-1;s>=0;s--){let a=t[s],l;if(n>0&&(l=i.lastChild)&&l instanceof Es&&l.mark.eq(a))i=l,n--;else{let c=Es.of(a,(r=this.cache.find(Es,u=>u.mark.eq(a)))===null||r===void 0?void 0:r.dom);i.append(c),i=c,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let t=this.curLine.lastChild;(!t||!QL(this.curLine,!1)||t.dom.nodeName!="BR"&&t.isWidget()&&!(gt.ios&&QL(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(qS,0,32)||new ym(qS.toDOM(),0,qS,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let t=this.wrappers.length-1;t>=0;t--)this.wrappers[t].to<this.pos&&this.wrappers.splice(t,1);for(let t=this.blockWrappers;t.value&&t.from<=this.pos;t.next())if(t.to>=this.pos){let n=new RIe(t.from,t.to,t.value,t.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var t;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof Ou&&i.wrapper.eq(r.wrapper))n=i;else{let s=Ou.of(r.wrapper,(t=this.cache.find(Ou,a=>a.wrapper.eq(r.wrapper)))===null||t===void 0?void 0:t.dom);n.append(s),n=s}}return n}blockPosCovered(){let t=this.lastBlock;return t!=null&&!t.breakAfter&&(!t.isWidget()||(t.flags&160)>0)}getBuffer(t){let n=2|(t<0?16:32),r=this.cache.find(ow,void 0,1);return r&&(r.flags=n),r||new ow(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class LIe{constructor(t){this.skipCount=0,this.text="",this.textOff=0,this.cursor=t.iter()}skip(t){this.textOff+t<=this.text.length?this.textOff+=t:(this.skipCount+=t-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(t){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=i;let l=this.textOff=Math.min(t,i.length);return s?null:i.slice(0,l)}let n=Math.min(this.text.length,this.textOff+t),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const lw=[ym,gm,Ad,Es,ow,Ou,B1];for(let e=0;e<lw.length;e++)lw[e].bucket=e;class $Ie{constructor(t){this.view=t,this.buckets=lw.map(()=>[]),this.index=lw.map(()=>0),this.reused=new Map}add(t){let n=t.constructor.bucket,r=this.buckets[n];r.length<6?r.push(t):r[this.index[n]=(this.index[n]+1)%6]=t}find(t,n,r=2){let i=t.bucket,s=this.buckets[i],a=this.index[i];for(let l=s.length-1;l>=0;l--){let c=(l+a)%s.length,u=s[c];if((!n||n(u))&&!this.reused.has(u))return s.splice(c,1),c<a&&this.index[i]--,this.reused.set(u,r),u}return null}findWidget(t,n,r){let i=this.buckets[0];if(i.length)for(let s=0,a=0;;s++){if(s==i.length){if(a)return null;a=1,s=0}let l=i[s];if(!this.reused.has(l)&&(a==0?l.widget.compare(t):l.widget.constructor==t.constructor&&t.updateDOM(l.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,this.reused.set(l,1),l.length=n,l.flags=l.flags&-498|r,l}}reuse(t){return this.reused.set(t,1),t}maybeReuse(t,n=2){if(!this.reused.has(t))return this.reused.set(t,n),t.dom}}class FIe{constructor(t,n,r,i,s){this.view=t,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new $Ie(t),this.text=new LIe(t.state.doc),this.builder=new IIe(this.cache,new B1(t,t.contentDOM),cn.iter(r)),this.cache.reused.set(n,2),this.old=new DIe(n)}run(t,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,a=0;;){let l=a<t.length?t[a++]:null,c=l?l.fromA:this.old.root.length;if(c>i){let u=c-i;this.preserve(u,!a,!l),i=c,s+=u}if(!l)break;this.forward(l.fromA,l.toA),n&&l.fromA<=n.range.fromA&&l.toA>=n.range.toA?(this.emit(s,n.range.fromB),this.builder.addComposition(n,r),this.emit(n.range.toB,l.toB)):this.emit(s,l.toB),s=l.toB,i=l.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(t,n,r){let i=WIe(this.old),s=this.openMarks;this.old.advance(t,r?1:-1,{skip:(a,l,c)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(c-l);else{let u=c>0||l<a.length?ym.of(a.widget,this.view,c-l,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);u.flags&256?(u.flags&=-2,this.builder.addBlockWidget(u)):(this.builder.ensureLine(null),this.builder.addInlineWidget(u,i,s),s=i.length)}else if(a.isText())this.builder.ensureLine(null),!l&&c==a.length?this.builder.addText(a.text,i,s,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(l,c),i,s)),s=i.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof ow)this.cache.add(a);else if(a instanceof Es)this.builder.ensureLine(null),this.builder.addMark(a,i,s),this.cache.reused.set(a,1),s=i.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof Es&&i.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?i.length&&(i.length=s=0):a instanceof Es&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(t)}emit(t,n){let r=null,i=this.builder,s=0,a=cn.spans(this.decorations,t,n,{point:(l,c,u,d,h,m)=>{if(u instanceof hh){if(this.disallowBlockEffectsFor[m]){if(u.block)throw new RangeError("Block decorations may not be specified via plugins");if(c>this.view.state.doc.lineAt(l).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,h>d.length)i.continueWidget(c-l);else{let p=u.widget||(u.block?xm.block:xm.inline),g=BIe(u),y=this.cache.findWidget(p,c-l,g)||ym.of(p,this.view,c-l,g);u.block?(u.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(y)):(i.ensureLine(r),i.addInlineWidget(y,d,h))}r=null}else r=qIe(r,u);c>l&&this.text.skip(c-l)},span:(l,c,u,d)=>{for(let h=l;h<c;){let m=this.text.next(Math.min(512,c-h));m==null?(i.addLineStartIfNotCovered(r),i.addBreak(),h++):(i.ensureLine(r),i.addText(m,u,d),h+=m.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=a>s,this.openMarks=a}forward(t,n){this.old.advance(n-t,1,{skip:(r,i,s)=>{(r.isText()||s==r.length)&&this.cache.add(r)},enter:r=>this.cache.add(r),leave:()=>{},break:()=>{}})}getCompositionContext(t){let n=[],r=null;for(let i=t.parentNode;;i=i.parentNode){let s=Kr.get(i);if(i==this.view.contentDOM)break;s instanceof Es?n.push(s):s!=null&&s.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new gm(i,mX):n.push(Es.of(new Lx({tagName:i.nodeName.toLowerCase(),attributes:mIe(i)}),i))}return{line:r,marks:n}}}function QL(e,t){let n=r=>{for(let i of r.children)if((t?i.isText():i.length)||n(i))return!0;return!1};return n(e)}function BIe(e){let t=e.isReplace?(e.startSide<0?64:0)|(e.endSide>0?128:0):e.startSide>0?32:16;return e.block&&(t|=256),t}const mX={class:"cm-line"};function qIe(e,t){let n=t.spec.attributes,r=t.spec.class;return!n&&!r||(e||(e={class:"cm-line"}),n&&YT(n,e),r&&(e.class+=" "+r)),e}function WIe(e){let t=[];for(let n=e.parents.length;n>1;n--){let r=n==e.parents.length?e.tile:e.parents[n].tile;r instanceof Es&&t.push(r.mark)}return t}function BS(e){let t=Kr.get(e);return t&&t.setDOM(e.cloneNode()),e}class xm extends Tl{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}xm.inline=new xm("span");xm.block=new xm("div");const qS=new class extends Tl{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class XL{constructor(t){this.view=t,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=$t.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new B1(t,t.contentDOM),this.updateInner([new za(0,0,0,t.state.doc.length)],null)}update(t){var n;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:h})=>h<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!ZIe(t.changes,this.hasComposition)&&!t.selectionSet&&(i=t.state.selection.main.head));let s=i>-1?VIe(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:h}=this.hasComposition;r=new za(d,h,t.changes.mapPos(d,-1),t.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(gt.ie||gt.chrome)&&!s&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,l=this.blockWrappers;this.updateDeco();let c=YIe(a,this.decorations,t.changes);c.length&&(r=za.extendWithRanges(r,c));let u=QIe(l,this.blockWrappers,t.changes);return u.length&&(r=za.extendWithRanges(r,u)),s&&!r.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||t.length){let a=this.tile,l=new FIe(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=l.run(t,n),k2(a,l.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=gt.chrome||gt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof WS&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let n of t.transactions)for(let r of n.effects)r.is(lX)&&(this.editContextFormatting=r.value)}updateSelection(t=!1,n=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,a=!s&&!(this.view.state.facet(Jl)||r.tabIndex>-1)&&a_(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u,d;if(c.empty?d=u=this.inlineDOMNearPos(c.anchor,c.assoc||1):(d=this.inlineDOMNearPos(c.head,c.head==c.from?1:-1),u=this.inlineDOMNearPos(c.anchor,c.anchor==c.from?1:-1)),gt.gecko&&c.empty&&!this.hasComposition&&UIe(u)){let m=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(m,u.node.childNodes[u.offset]||null)),u=d=new wo(m,0),l=!0}let h=this.view.observer.selectionRange;(l||!h.focusNode||(!xg(u.node,u.offset,h.anchorNode,h.anchorOffset)||!xg(d.node,d.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,c))&&(this.view.observer.ignore(()=>{gt.android&&gt.chrome&&r.contains(h.focusNode)&&XIe(h.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let m=vy(this.view.root);if(m)if(c.empty){if(gt.gecko){let p=HIe(u.node,u.offset);if(p&&p!=3){let g=(p==1?HQ:KQ)(u.node,u.offset);g&&(u=new wo(g.node,g.offset))}}m.collapse(u.node,u.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(u.node,u.offset);try{m.extend(d.node,d.offset)}catch{}}else{let p=document.createRange();c.anchor>c.head&&([u,d]=[d,u]),p.setEnd(d.node,d.offset),p.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(p)}a&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(u,d)),this.impreciseAnchor=u.precise?null:new wo(h.anchorNode,h.anchorOffset),this.impreciseHead=d.precise?null:new wo(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(t,n){return this.hasComposition&&n.empty&&xg(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,n=t.state.selection.main,r=vy(t.root),{anchorNode:i,anchorOffset:s}=t.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let l=a.posAtStart;if(n.head==l||n.head==l+a.length)return;let c=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!c||!u||c.bottom>u.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let h=t.observer.selectionRange;t.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(t,n){let r=this.tile.nearest(t);if(!r)return this.tile.dom.compareDocumentPosition(t)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(t==r.dom)s=r.dom.childNodes[n];else{let a=Cc(t)==0?0:n==0?-1:1;for(;;){let l=t.parentNode;if(l==r.dom)break;a==0&&l.firstChild!=l.lastChild&&(t==l.firstChild?a=-1:a=1),t=l}a<0?s=t:s=t.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Kr.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let a=0,l=i;;a++){let c=r.children[a];if(c.dom==s)return l;l+=c.length+c.breakAfter}}else return r.isText()?t==r.dom?i+n:i+(n?r.length:0):i}domAtPos(t,n){let{tile:r,offset:i}=this.tile.resolveBlock(t,n);return r.isWidget()?r.domPosFor(t,n):r.domIn(i,n)}inlineDOMNearPos(t,n){let r,i=-1,s=!1,a,l=-1,c=!1;return this.tile.blockTiles((u,d)=>{if(u.isWidget()){if(u.flags&32&&d>=t)return!0;u.flags&16&&(s=!0)}else{let h=d+u.length;if(d<=t&&(r=u,i=t-d,s=h<t),h>=t&&!a&&(a=u,l=t-d,c=d>t),d>t&&a)return!0}}),!r&&!a?this.domAtPos(t,n):(s&&a?r=null:c&&r&&(a=null),r&&n<0||!a?r.domIn(i,n):a.domIn(l,n))}coordsAt(t,n){let{tile:r,offset:i}=this.tile.resolveBlock(t,n);return r.isWidget()?r.widget instanceof WS?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(t,n){let{tile:r}=this.tile.resolveBlock(t,n);return r.isLine()?r:null}coordsForChar(t){let{tile:n,offset:r}=this.tile.resolveBlock(t,1);if(!n.isLine())return null;function i(s,a){if(s.isComposite())for(let l of s.children){if(l.length>=a){let c=i(l,a);if(c)return c}if(a-=l.length,a<0)break}else if(s.isText()&&a<s.length){let l=Vr(s.text,a);if(l==a)return null;let c=_y(s.dom,a,l).getClientRects();for(let u=0;u<c.length;u++){let d=c[u];if(u==c.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(t){let n=[],{from:r,to:i}=t,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,c=this.view.textDirection==zn.LTR,u=0,d=(h,m,p)=>{for(let g=0;g<h.children.length&&!(m>i);g++){let y=h.children[g],x=m+y.length,v=y.dom.getBoundingClientRect(),{height:w}=v;if(p&&!g&&(u+=v.top-p.top),y instanceof Ou)x>r&&d(y,m,v);else if(m>=r&&(u>0&&n.push(-u),n.push(w+u),u=0,a)){let b=y.dom.lastChild,j=b?yg(b):[];if(j.length){let _=j[j.length-1],k=c?_.right-v.left:v.right-_.left;k>l&&(l=k,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=x)}}p&&g==h.children.length-1&&(u+=p.bottom-v.bottom),m=x+y.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(t){let{tile:n}=this.tile.resolveBlock(t,1);return getComputedStyle(n.dom).direction=="rtl"?zn.RTL:zn.LTR}measureTextSize(){let t=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let l=0,c;for(let u of a.children){if(!u.isText()||/[^ -~]/.test(u.text))return;let d=yg(u.dom);if(d.length!=1)return;l+=d[0].width,c=d[0].height}if(l)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:l/a.length,textHeight:c}}});if(t)return t;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=yg(n.firstChild)[0];r=n.getBoundingClientRect().height,i=a&&a.width?a.width/27:7,s=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let t=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],a=s?s.from-1:this.view.state.doc.length;if(a>r){let l=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;t.push($t.replace({widget:new WS(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return $t.set(t)}updateDeco(){let t=1,n=this.view.state.facet(wy).map(s=>(this.dynamicDecorationMap[t++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(dX).map((s,a)=>{let l=typeof s=="function";return l&&(r=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[t++]=r,n.push(cn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;this.blockWrappers=this.view.state.facet(uX).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(t){if(t.isSnapshot){let u=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=u.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let u of this.view.state.facet(oX))try{if(u(this.view,t.range,t))return!0}catch(d){Ds(this.view.state,d,"scroll handler")}let{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=eA(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:l,offsetHeight:c}=this.view.scrollDOM;yIe(this.view.scrollDOM,a,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,l),-l),Math.max(Math.min(t.yMargin,c),-c),this.view.textDirection==zn.LTR)}lineHasWidget(t){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(t,1).tile)}destroy(){k2(this.tile)}}function k2(e,t){let n=t==null?void 0:t.get(e);if(n!=1){n==null&&e.destroy();for(let r of e.children)k2(r,t)}}function UIe(e){return e.node.nodeType==1&&e.node.firstChild&&(e.offset==0||e.node.childNodes[e.offset-1].contentEditable=="false")&&(e.offset==e.node.childNodes.length||e.node.childNodes[e.offset].contentEditable=="false")}function pX(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=HQ(n.focusNode,n.focusOffset),i=KQ(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let l=Kr.get(i.node);if(!l||l.isText()&&l.text!=i.node.nodeValue)s=i;else if(e.docView.lastCompositionAfterCursor){let c=Kr.get(r.node);!c||c.isText()&&c.text!=r.node.nodeValue||(s=i)}}if(e.docView.lastCompositionAfterCursor=s!=r,!s)return null;let a=t-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function VIe(e,t,n){let r=pX(e,n);if(!r)return null;let{node:i,from:s,to:a}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||e.state.doc.sliceString(r.from,r.to)!=l)return null;let c=t.invertedDesc;return{range:new za(c.mapPos(s),c.mapPos(a),s,a),text:i}}function HIe(e,t){return e.nodeType!=1?0:(t&&e.childNodes[t-1].contentEditable=="false"?1:0)|(t<e.childNodes.length&&e.childNodes[t].contentEditable=="false"?2:0)}let KIe=class{constructor(){this.changes=[]}compareRange(t,n){Ff(t,n,this.changes)}comparePoint(t,n){Ff(t,n,this.changes)}boundChange(t){Ff(t,t,this.changes)}};function YIe(e,t,n){let r=new KIe;return cn.compare(e,t,n,r),r.changes}class GIe{constructor(){this.changes=[]}compareRange(t,n){Ff(t,n,this.changes)}comparePoint(){}boundChange(t){Ff(t,t,this.changes)}}function QIe(e,t,n){let r=new GIe;return cn.compare(e,t,n,r),r.changes}function XIe(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function ZIe(e,t){let n=!1;return t&&e.iterChangedRanges((r,i)=>{r<t.to&&i>t.from&&(n=!0)}),n}class WS extends Tl{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function JIe(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),s=t-i.from;if(i.length==0)return Ae.cursor(t);s==0?n=1:s==i.length&&(n=-1);let a=s,l=s;n<0?a=Vr(i.text,s,!1):l=Vr(i.text,s);let c=r(i.text.slice(a,l));for(;a>0;){let u=Vr(i.text,a,!1);if(r(i.text.slice(u,a))!=c)break;a=u}for(;l<i.length;){let u=Vr(i.text,l);if(r(i.text.slice(l,u))!=c)break;l=u}return Ae.range(a+i.from,l+i.from)}function e4e(e,t,n,r,i){let s=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>e.defaultLineHeight*1.5){let l=e.viewState.heightOracle.textHeight,c=Math.floor((i-n.top-(e.defaultLineHeight-l)*.5)/l);s+=c*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+h2(a,s,e.state.tabSize)}function S2(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>t)break;if(!(s.to<t)){if(s.from<t&&s.to>t)return s;(!i||s.type==Pi.Text&&(i.type!=s.type||(n<0?s.from<t:s.to>t)))&&(i=s)}}return i||r}return r}function t4e(e,t,n,r){let i=S2(e,t.head,t.assoc||-1),s=!r||i.type!=Pi.Text||!(e.lineWrapping||i.widgetLineBreaks)?null:e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(s){let a=e.dom.getBoundingClientRect(),l=e.textDirectionAt(i.from),c=e.posAtCoords({x:n==(l==zn.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(c!=null)return Ae.cursor(c,n?-1:1)}return Ae.cursor(n?i.to:i.from,n?-1:1)}function ZL(e,t,n,r){let i=e.state.doc.lineAt(t.head),s=e.bidiSpans(i),a=e.textDirectionAt(i.from);for(let l=t,c=null;;){let u=PIe(i,s,a,l,n),d=ZQ;if(!u){if(i.number==(n?e.state.doc.lines:1))return l;d=`
`,i=e.state.doc.line(i.number+(n?1:-1)),s=e.bidiSpans(i),u=e.visualLineSide(i,!n)}if(c){if(!c(d))return l}else{if(!r)return u;c=r(d)}l=u}}function n4e(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return s=>{let a=r(s);return i==rr.Space&&(i=a),i==a}}function r4e(e,t,n,r){let i=t.head,s=n?1:-1;if(i==(n?e.state.doc.length:0))return Ae.cursor(i,t.assoc);let a=t.goalColumn,l,c=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(i,t.assoc||-1),d=e.documentTop;if(u)a==null&&(a=u.left-c.left),l=s<0?u.top:u.bottom;else{let p=e.viewState.lineBlockAt(i);a==null&&(a=Math.min(c.right-c.left,e.defaultCharacterWidth*(i-p.from))),l=(s<0?p.top:p.bottom)+d}let h=c.left+a,m=r??e.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=l+(m+p)*s,y=N2(e,{x:h,y:g},!1,s);return Ae.cursor(y.pos,y.assoc,void 0,a)}}function vg(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(s,a,l)=>{if(t>s&&t<a){let c=r||n||(t-s<a-t?-1:1);t=c<0?s:a,r=c}});if(!r)return t}}function gX(e,t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],s=null;if(i.empty){let a=vg(e,i.from,0);a!=i.from&&(s=Ae.cursor(a,-1))}else{let a=vg(e,i.from,-1),l=vg(e,i.to,1);(a!=i.from||l!=i.to)&&(s=Ae.range(i.from==i.anchor?a:l,i.from==i.head?a:l))}s&&(n||(n=t.ranges.slice()),n[r]=s)}return n?Ae.create(n,t.mainIndex):t}function US(e,t,n){let r=vg(e.state.facet(Fx).map(i=>i(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Ae.cursor(r,r<n.from?1:-1)}class rl{constructor(t,n){this.pos=t,this.assoc=n}}function N2(e,t,n,r){let i=e.contentDOM.getBoundingClientRect(),s=i.top+e.viewState.paddingTop,{x:a,y:l}=t,c=l-s,u;for(;;){if(c<0)return new rl(0,1);if(c>e.viewState.docHeight)return new rl(e.state.doc.length,-1);if(u=e.elementAtHeight(c),r==null)break;if(u.type==Pi.Text){let m=e.docView.coordsAt(r<0?u.from:u.to,r);if(m&&(r<0?m.top<=c+s:m.bottom>=c+s))break}let h=e.viewState.heightOracle.textHeight/2;c=r>0?u.bottom+h:u.top-h}if(e.viewport.from>=u.to||e.viewport.to<=u.from){if(n)return null;if(u.type==Pi.Text){let h=e4e(e,i,u,a,l);return new rl(h,h==u.from?1:-1)}}if(u.type!=Pi.Text)return c<(u.top+u.bottom)/2?new rl(u.from,1):new rl(u.to,-1);let d=e.docView.lineAt(u.from,2);return(!d||d.length!=u.length)&&(d=e.docView.lineAt(u.from,-2)),yX(e,d,u.from,a,l)}function yX(e,t,n,r,i){let s=-1,a=null,l=1e9,c=1e9,u=i,d=i,h=(m,p)=>{for(let g=0;g<m.length;g++){let y=m[g];if(y.top==y.bottom)continue;let x=y.left>r?y.left-r:y.right<r?r-y.right:0,v=y.top>i?y.top-i:y.bottom<i?i-y.bottom:0;y.top<=d&&y.bottom>=u&&(u=Math.min(y.top,u),d=Math.max(y.bottom,d),v=0),(s<0||(v-c||x-l)<0)&&(s>=0&&c&&l<x&&a.top<=d-2&&a.bottom>=u+2?c=0:(s=p,l=x,c=v,a=y))}};if(t.isText()){for(let p=0;p<t.length;){let g=Vr(t.text,p);if(h(_y(t.dom,p,g).getClientRects(),p),!l&&!c)break;p=g}return r>(a.left+a.right)/2==(JL(e,s+n)==zn.LTR)?new rl(n+Vr(t.text,s),-1):new rl(n+s,1)}else{if(!t.length)return new rl(n,1);for(let y=0;y<t.children.length;y++){let x=t.children[y];if(x.flags&48)continue;let v=(x.dom.nodeType==1?x.dom:_y(x.dom,0,x.length)).getClientRects();if(h(v,y),!l&&!c)break}let m=t.children[s],p=t.posBefore(m,n);return m.isComposite()||m.isText()?yX(e,m,p,Math.max(a.left,Math.min(a.right,r)),i):r>(a.left+a.right)/2==(JL(e,s+n)==zn.LTR)?new rl(p+m.length,-1):new rl(p,1)}}function JL(e,t){let n=e.state.doc.lineAt(t);return e.bidiSpans(n)[oc.find(e.bidiSpans(n),t-n.from,-1,1)].dir}const Qp="";class i4e{constructor(t,n){this.points=t,this.text="",this.lineSeparator=n.facet(mn.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Qp}readRange(t,n){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=Kr.get(i),l=i.nextSibling;if(l==n){a!=null&&a.breakAfter&&!l&&this.lineBreak();break}let c=Kr.get(l);(a&&c?a.breakAfter:(a?a.breakAfter:sw(i))||sw(l)&&(i.nodeName!="BR"||a!=null&&a.isWidget())&&this.text.length>s)&&!a4e(l,n)&&this.lineBreak(),i=l}return this.findPointBefore(r,n),this}readTextNode(t){let n=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,l;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(l=i.exec(n))&&(s=l.index,a=l[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let c of this.points)c.node==t&&c.pos>this.text.length&&(c.pos-=a-1);r=s+a}}readNode(t){let n=Kr.get(t),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,n){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(t,n){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(s4e(t,r.node,r.offset)?n:0))}}function s4e(e,t,n){for(;;){if(!t||n<Cc(t))return!1;if(t==e)return!0;n=qu(t)+1,t=t.parentNode}}function a4e(e,t){let n;for(;!(e==t||!e);e=e.nextSibling){let r=Kr.get(e);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class e${constructor(t,n){this.node=t,this.offset=n,this.pos=-1}}class o4e{constructor(t,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=xX(t.docView.tile,n,r,0))){let l=s||a?[]:c4e(t),c=new i4e(l,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=u4e(l,this.bounds.from)}else{let l=t.observer.selectionRange,c=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!v2(t.contentDOM,l.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(l.focusNode,l.focusOffset),u=a&&a.node==l.anchorNode&&a.offset==l.anchorOffset||!v2(t.contentDOM,l.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(l.anchorNode,l.anchorOffset),d=t.viewport;if((gt.ios||gt.chrome)&&t.state.selection.main.empty&&c!=u&&(d.from>0||d.to<t.state.doc.length)){let h=Math.min(c,u),m=Math.max(c,u),p=d.from-h,g=d.to-m;(p==0||p==1||h==0)&&(g==0||g==-1||m==t.state.doc.length)&&(c=0,u=t.state.doc.length)}t.inputState.composing>-1&&t.state.selection.ranges.length>1?this.newSel=t.state.selection.replaceRange(Ae.range(u,c)):this.newSel=Ae.single(u,c)}}}function xX(e,t,n,r){if(e.isComposite()){let i=-1,s=-1,a=-1,l=-1;for(let c=0,u=r,d=r;c<e.children.length;c++){let h=e.children[c],m=u+h.length;if(u<t&&m>n)return xX(h,t,n,u);if(m>=t&&i==-1&&(i=c,s=u),u>n&&h.dom.parentNode==e.dom){a=c,l=d;break}d=m,u=m+h.breakAfter}return{from:s,to:l<0?r+e.length:l,startDOM:(i?e.children[i-1].dom.nextSibling:null)||e.dom.firstChild,endDOM:a<e.children.length&&a>=0?e.children[a].dom:null}}else return e.isText()?{from:r,to:r+e.length,startDOM:e.dom,endDOM:e.dom.nextSibling}:null}function vX(e,t){let n,{newSel:r}=t,i=e.state.selection.main,s=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:l}=t.bounds,c=i.from,u=null;(s===8||gt.android&&t.text.length<l-a)&&(c=i.to,u="end");let d=bX(e.state.doc.sliceString(a,l,Qp),t.text,c-a,u);d&&(gt.chrome&&s==13&&d.toB==d.from+2&&t.text.slice(d.from,d.toB)==Qp+Qp&&d.toB--,n={from:a+d.from,to:a+d.toA,insert:_n.of(t.text.slice(d.from,d.toB).split(Qp))})}else r&&(!e.hasFocus&&e.state.facet(Jl)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(gt.mac||gt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&e.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:_n.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:e.state.doc.lineAt(i.from).to<i.to&&e.docView.lineHasWidget(i.to)&&e.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:e.state.toText(e.inputState.insertingText)}:gt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&e.lineWrapping&&(r&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:_n.of([" "])}),n)return tA(e,n,r,s);if(r&&!r.main.eq(i)){let a=!1,l="select";return e.inputState.lastSelectionTime>Date.now()-50&&(e.inputState.lastSelectionOrigin=="select"&&(a=!0),l=e.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=gX(e.state.facet(Fx).map(c=>c(e)),r))),e.dispatch({selection:r,scrollIntoView:a,userEvent:l}),!0}else return!1}function tA(e,t,n,r=-1){if(gt.ios&&e.inputState.flushIOSKey(t))return!0;let i=e.state.selection.main;if(gt.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&e.state.sliceDoc(t.from,i.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Bf(e.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&Bf(e.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&Bf(e.contentDOM,"Delete",46)))return!0;let s=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a,l=()=>a||(a=l4e(e,t,n));return e.state.facet(rX).some(c=>c(e,t.from,t.to,s,l))||e.dispatch(l()),!0}function l4e(e,t,n){let r,i=e.state,s=i.selection.main,a=-1;if(t.from==t.to&&t.from<s.from||t.from>s.to){let c=t.from<s.from?-1:1,u=c<0?s.from:s.to,d=vg(i.facet(Fx).map(h=>h(e)),u,c);t.from==d&&(a=d)}if(a>-1)r={changes:t,selection:Ae.cursor(t.from+t.insert.length,-1)};else if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let c=s.from<t.from?i.sliceDoc(s.from,t.from):"",u=s.to>t.to?i.sliceDoc(t.to,s.to):"";r=i.replaceSelection(e.state.toText(c+t.insert.sliceString(0,void 0,e.state.lineBreak)+u))}else{let c=i.changes(t),u=n&&n.main.to<=c.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(e.inputState.composing>=0||e.inputState.compositionPendingChange)&&t.to<=s.to+10&&t.to>=s.to-10){let d=e.state.sliceDoc(t.from,t.to),h,m=n&&pX(e,n.main.head);if(m){let g=t.insert.length-(t.to-t.from);h={from:m.from,to:m.to-g}}else h=e.state.doc.lineAt(s.head);let p=s.to-t.to;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:c,range:u||g.map(c)};let y=g.to-p,x=y-d.length;if(e.state.sliceDoc(x,y)!=d||y>=h.from&&x<=h.to)return{range:g};let v=i.changes({from:x,to:y,insert:t.insert}),w=g.to-s.to;return{changes:v,range:u?Ae.range(Math.max(0,u.anchor+w),Math.max(0,u.head+w)):g.map(v)}})}else r={changes:c,selection:u&&i.selection.replaceRange(u)}}let l="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,l+=".compose",e.inputState.compositionFirstChange&&(l+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function bX(e,t,n,r){let i=Math.min(e.length,t.length),s=0;for(;s<i&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==i&&e.length==t.length)return null;let a=e.length,l=t.length;for(;a>0&&l>0&&e.charCodeAt(a-1)==t.charCodeAt(l-1);)a--,l--;if(r=="end"){let c=Math.max(0,s-Math.min(a,l));n-=a+c-s}if(a<s&&e.length<t.length){let c=n<=s&&n>=a?s-n:0;s-=c,l=s+(l-a),a=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,a=s+(a-l),l=s}return{from:s,toA:a,toB:l}}function c4e(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=e.observer.selectionRange;return n&&(t.push(new e$(n,r)),(i!=n||s!=r)&&t.push(new e$(i,s))),t}function u4e(e,t){if(e.length==0)return null;let n=e[0].pos,r=e.length==2?e[1].pos:n;return n>-1&&r>-1?Ae.single(n+t,r+t):null}class d4e{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,gt.safari&&t.contentDOM.addEventListener("input",()=>null),gt.gecko&&N4e(t.contentDOM.ownerDocument)}handleEvent(t){!v4e(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,n){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(t){let n=h4e(t),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let a=!n[s].handlers.length,l=r[s];l&&a!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:a})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&wX.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),gt.android&&gt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return gt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=_X.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||f4e.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Bf(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(t){return!/^key/.test(t.type)||t.synthetic?!1:this.composing>0?!0:gt.safari&&!gt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function t$(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(i){Ds(n.state,i)}}}function h4e(e){let t=Object.create(null);function n(r){return t[r]||(t[r]={observers:[],handlers:[]})}for(let r of e){let i=r.spec,s=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(s)for(let l in s){let c=s[l];c&&n(l).handlers.push(t$(r.value,c))}if(a)for(let l in a){let c=a[l];c&&n(l).observers.push(t$(r.value,c))}}for(let r in To)n(r).handlers.push(To[r]);for(let r in Xa)n(r).observers.push(Xa[r]);return t}const _X=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],f4e="dthko",wX=[16,17,18,20,91,92,224,225],Gv=6;function Qv(e){return Math.max(0,e)*.7+8}function m4e(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}class p4e{constructor(t,n,r,i){this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=xIe(t.contentDOM),this.atoms=t.state.facet(Fx).map(a=>a(t));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(mn.allowMultipleSelections)&&g4e(t,n),this.dragging=x4e(t,n)&&SX(n)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&m4e(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,i=0,s=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=eA(this.view);t.clientX-c.left<=i+Gv?n=-Qv(i-t.clientX):t.clientX+c.right>=a-Gv&&(n=Qv(t.clientX-a)),t.clientY-c.top<=s+Gv?r=-Qv(s-t.clientY):t.clientY+c.bottom>=l-Gv&&(r=Qv(t.clientY-l)),this.setScrollSpeed(n,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,n){this.scrollSpeed={x:t,y:n},t||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:n}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(t||n)&&this.view.win.scrollBy(t,n),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:n}=this,r=gX(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function g4e(e,t){let n=e.state.facet(JQ);return n.length?n[0](t):gt.mac?t.metaKey:t.ctrlKey}function y4e(e,t){let n=e.state.facet(eX);return n.length?n[0](t):gt.mac?!t.altKey:!t.ctrlKey}function x4e(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=vy(e.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function v4e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target,r;n!=e.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Kr.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(t))return!1;return!0}const To=Object.create(null),Xa=Object.create(null),jX=gt.ie&&gt.ie_version<15||gt.ios&&gt.webkit_version<604;function b4e(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),kX(e,n.value)},50)}function q1(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function kX(e,t){t=q1(e.state,XT,t);let{state:n}=e,r,i=1,s=n.toText(t),a=s.lines==n.selection.ranges.length;if(C2!=null&&n.selection.ranges.every(c=>c.empty)&&C2==s.toString()){let c=-1;r=n.changeByRange(u=>{let d=n.doc.lineAt(u.from);if(d.from==c)return{range:u};c=d.from;let h=n.toText((a?s.line(i++).text:t)+n.lineBreak);return{changes:{from:d.from,insert:h},range:Ae.cursor(u.from+h.length)}})}else a?r=n.changeByRange(c=>{let u=s.line(i++);return{changes:{from:c.from,to:c.to,insert:u.text},range:Ae.cursor(c.from+u.length)}}):r=n.replaceSelection(s);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Xa.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft};To.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),t.keyCode==27&&e.inputState.tabFocusMode!=0&&(e.inputState.tabFocusMode=Date.now()+2e3),!1);Xa.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")};Xa.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")};To.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(tX))if(n=r(e,t),n)break;if(!n&&t.button==0&&(n=w4e(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new p4e(e,t,n,r)),r&&e.observer.ignore(()=>{UQ(e.contentDOM);let s=e.root.activeElement;s&&!s.contains(e.contentDOM)&&s.blur()});let i=e.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}else e.inputState.setSelectionOrigin("select.pointer");return!1};function n$(e,t,n,r){if(r==1)return Ae.cursor(t,n);if(r==2)return JIe(e.state,t,n);{let i=e.docView.lineAt(t,n),s=e.state.doc.lineAt(i?i.posAtEnd:t),a=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<e.state.doc.length&&l==s.to&&l++,Ae.range(a,l)}}const _4e=gt.ie&&gt.ie_version<=11;let r$=null,i$=0,s$=0;function SX(e){if(!_4e)return e.detail;let t=r$,n=s$;return r$=e,s$=Date.now(),i$=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(i$+1)%3:1}function w4e(e,t){let n=e.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),r=SX(t),i=e.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,a,l){let c=e.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),u,d=n$(e,c.pos,c.assoc,r);if(n.pos!=c.pos&&!a){let h=n$(e,n.pos,n.assoc,r),m=Math.min(h.from,d.from),p=Math.max(h.to,d.to);d=m<d.from?Ae.range(m,p):Ae.range(p,m)}return a?i.replaceRange(i.main.extend(d.from,d.to)):l&&r==1&&i.ranges.length>1&&(u=j4e(i,c.pos))?u:l?i.addRange(d):Ae.create([d])}}}function j4e(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Ae.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}To.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.tile.nearest(t.target);if(i&&i.isWidget()){let s=i.posAtStart,a=s+i.length;(s>=n.to||a<=n.from)&&(n=Ae.range(s,a))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",q1(e.state,ZT,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1};To.dragend=e=>(e.inputState.draggedContent=null,!1);function a$(e,t,n,r){if(n=q1(e.state,XT,n),!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=e.inputState,a=r&&s&&y4e(e,t)?{from:s.from,to:s.to}:null,l={from:i,insert:n},c=e.state.changes(a?[a,l]:l);e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),e.inputState.draggedContent=null}To.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&a$(e,t,r.filter(a=>a!=null).join(e.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[a]=l.result),s()},l.readAsText(n[a])}return!0}else{let r=t.dataTransfer.getData("Text");if(r)return a$(e,t,r,!0),!0}return!1};To.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=jX?null:t.clipboardData;return n?(kX(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(b4e(e),!1)};function k4e(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}function S4e(e){let t=[],n=[],r=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let i=-1;for(let{from:s}of e.selection.ranges){let a=e.doc.lineAt(s);a.number>i&&(t.push(a.text),n.push({from:a.from,to:Math.min(e.doc.length,a.to+1)})),i=a.number}r=!0}return{text:q1(e,ZT,t.join(e.lineBreak)),ranges:n,linewise:r}}let C2=null;To.copy=To.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=S4e(e.state);if(!n&&!i)return!1;C2=i?n:null,t.type=="cut"&&!e.state.readOnly&&e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=jX?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(k4e(e,n),!1)};const NX=El.define();function CX(e,t){let n=[];for(let r of e.facet(iX)){let i=r(e,t);i&&n.push(i)}return n.length?e.update({effects:n,annotations:NX.of(!0)}):null}function OX(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=CX(e.state,t);n?e.dispatch(n):e.update([])}},10)}Xa.focus=e=>{e.inputState.lastFocusTime=Date.now(),!e.scrollDOM.scrollTop&&(e.inputState.lastScrollTop||e.inputState.lastScrollLeft)&&(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),OX(e)};Xa.blur=e=>{e.observer.clearSelectionRange(),OX(e)};Xa.compositionstart=Xa.compositionupdate=e=>{e.observer.editContext||(e.inputState.compositionFirstChange==null&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))};Xa.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,gt.chrome&&gt.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))};Xa.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()};To.beforeinput=(e,t)=>{var n,r;if((t.inputType=="insertText"||t.inputType=="insertCompositionText")&&(e.inputState.insertingText=t.data,e.inputState.insertingTextAt=Date.now()),t.inputType=="insertReplacementText"&&e.observer.editContext){let s=(n=t.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=t.getTargetRanges();if(s&&a.length){let l=a[0],c=e.posAtDOM(l.startContainer,l.startOffset),u=e.posAtDOM(l.endContainer,l.endOffset);return tA(e,{from:c,to:u,insert:e.state.toText(s)},null),!0}}let i;if(gt.chrome&&gt.android&&(i=_X.find(s=>s.inputType==t.inputType))&&(e.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return gt.ios&&t.inputType=="deleteContentForward"&&e.observer.flushSoon(),gt.safari&&t.inputType=="insertText"&&e.inputState.composing>=0&&setTimeout(()=>Xa.compositionend(e,t),20),!1};const o$=new Set;function N4e(e){o$.has(e)||(o$.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}const l$=["pre-wrap","normal","pre-line","break-spaces"];let vm=!1;function c$(){vm=!1}class C4e{constructor(t){this.lineWrapping=t,this.doc=_n.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return l$.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let n=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(t,n,r,i,s,a){let l=l$.indexOf(t)>-1,c=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,c){this.heightSamples={};for(let u=0;u<a.length;u++){let d=a[u];d<0?u++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class O4e{constructor(t,n){this.from=t,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class vo{constructor(t,n,r,i,s){this.from=t,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Pi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof hh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new vo(this.from,this.length+t.length,this.top,this.height+t.height,n)}}var qn=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(qn||(qn={}));const o_=.001;class cs{constructor(t,n,r=2){this.length=t,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>o_&&(vm=!0),this.height=t)}replace(t,n,r){return cs.of(r)}decomposeLeft(t,n){n.push(this)}decomposeRight(t,n){n.push(this)}applyChanges(t,n,r,i){let s=this,a=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:c,toA:u,fromB:d,toB:h}=i[l],m=s.lineAt(c,qn.ByPosNoHeight,r.setDoc(n),0,0),p=m.to>=u?m:s.lineAt(u,qn.ByPosNoHeight,r,0,0);for(h+=p.to-u,u=p.to;l>0&&m.from<=i[l-1].toA;)c=i[l-1].fromA,d=i[l-1].fromB,l--,c<m.from&&(m=s.lineAt(c,qn.ByPosNoHeight,r,0,0));d+=m.from-c,c=m.from;let g=nA.build(r.setDoc(a),t,d,h);s=cw(s,s.replace(c,u,g))}return s.updateHeight(r,0)}static empty(){return new ta(0,0,0)}static of(t){if(t.length==1)return t[0];let n=0,r=t.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let l=t[n-1];l.break?t.splice(--n,1,l.left,null,l.right):t.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(s>i*2){let l=t[r];l.break?t.splice(r,1,l.left,null,l.right):t.splice(r,1,l.left,l.right),r+=2+l.break,s-=l.size}else break;else if(i<s){let l=t[n++];l&&(i+=l.size)}else{let l=t[--r];l&&(s+=l.size)}let a=0;return t[n-1]==null?(a=1,n--):t[n]==null&&(a=1,r++),new E4e(cs.of(t.slice(0,n)),a,cs.of(t.slice(r)))}}function cw(e,t){return e==t?e:(e.constructor!=t.constructor&&(vm=!0),t)}cs.prototype.size=1;const P4e=$t.replace({});class PX extends cs{constructor(t,n,r){super(t,n),this.deco=r,this.spaceAbove=0}mainBlock(t,n){return new vo(n,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(t,n,r,i){return this.spaceAbove&&t<r+this.spaceAbove?new vo(i,0,r,this.spaceAbove,P4e):this.mainBlock(r,i)}lineAt(t,n,r,i,s){let a=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(a):a}forEachLine(t,n,r,i,s,a){t<=s+this.length&&n>=s&&a(this.lineAt(0,qn.ByPos,r,i,s))}setMeasuredHeight(t){let n=t.heights[t.index++];n<0?(this.spaceAbove=-n,n=t.heights[t.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ta extends PX{constructor(t,n,r){super(t,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(t,n){return new vo(n,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(t,n,r){let i=r[0];return r.length==1&&(i instanceof ta||i instanceof wi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof wi?i=new ta(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):cs.of(r)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class wi extends cs{constructor(t){super(t,0)}heightMetrics(t,n){let r=t.doc.lineAt(n).number,i=t.doc.lineAt(n+this.length).number,s=i-r+1,a,l=0;if(t.lineWrapping){let c=Math.min(this.height,t.lineHeight*s);a=c/s,this.length>s+1&&(l=(this.height-c)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:l}}blockAt(t,n,r,i){let{firstLine:s,lastLine:a,perLine:l,perChar:c}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(t<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length)),d=n.doc.lineAt(u),h=l+d.length*c,m=Math.max(r,t-h/2);return new vo(d.from,d.length,m,h,0)}else{let u=Math.max(0,Math.min(a-s,Math.floor((t-r)/l))),{from:d,length:h}=n.doc.line(s+u);return new vo(d,h,r+l*u,l,0)}}lineAt(t,n,r,i,s){if(n==qn.ByHeight)return this.blockAt(t,r,i,s);if(n==qn.ByPosNoHeight){let{from:p,to:g}=r.doc.lineAt(t);return new vo(p,g-p,0,0,0)}let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s),u=r.doc.lineAt(t),d=l+u.length*c,h=u.number-a,m=i+l*h+c*(u.from-s-h);return new vo(u.from,u.length,Math.max(i,Math.min(m,i+this.height-d)),d,0)}forEachLine(t,n,r,i,s,a){t=Math.max(t,s),n=Math.min(n,s+this.length);let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(r,s);for(let d=t,h=i;d<=n;){let m=r.doc.lineAt(d);if(d==t){let g=m.number-l;h+=c*g+u*(t-s-g)}let p=c+u*m.length;a(new vo(m.from,m.length,h,p,0)),h+=p,d=m.to+1}}replace(t,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof wi?r[r.length-1]=new wi(s.length+i):r.push(null,new wi(i-1))}if(t>0){let s=r[0];s instanceof wi?r[0]=new wi(t+s.length):r.unshift(new wi(t-1),null)}return cs.of(r)}decomposeLeft(t,n){n.push(new wi(t-1),null)}decomposeRight(t,n){n.push(null,new wi(this.length-t-1))}updateHeight(t,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],l=Math.max(n,i.from),c=-1;for(i.from>n&&a.push(new wi(i.from-n-1).updateHeight(t,n));l<=s&&i.more;){let d=t.doc.lineAt(l).length;a.length&&a.push(null);let h=i.heights[i.index++],m=0;h<0&&(m=-h,h=i.heights[i.index++]),c==-1?c=h:Math.abs(h-c)>=o_&&(c=-2);let p=new ta(d,h,m);p.outdated=!1,a.push(p),l+=d+1}l<=s&&a.push(null,new wi(s-l).updateHeight(t,l));let u=cs.of(a);return(c<0||Math.abs(u.height-this.height)>=o_||Math.abs(c-this.heightMetrics(t,n).perLine)>=o_)&&(vm=!0),cw(this,u)}else(r||this.outdated)&&(this.setHeight(t.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class E4e extends cs{constructor(t,n,r){super(t.length+n+r.length,t.height+r.height,n|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return this.flags&1}blockAt(t,n,r,i){let s=r+this.left.height;return t<s?this.left.blockAt(t,n,r,i):this.right.blockAt(t,n,s,i+this.left.length+this.break)}lineAt(t,n,r,i,s){let a=i+this.left.height,l=s+this.left.length+this.break,c=n==qn.ByHeight?t<a:t<l,u=c?this.left.lineAt(t,n,r,i,s):this.right.lineAt(t,n,r,a,l);if(this.break||(c?u.to<l:u.from>l))return u;let d=n==qn.ByPosNoHeight?qn.ByPosNoHeight:qn.ByPos;return c?u.join(this.right.lineAt(l,d,r,a,l)):this.left.lineAt(l,d,r,i,s).join(u)}forEachLine(t,n,r,i,s,a){let l=i+this.left.height,c=s+this.left.length+this.break;if(this.break)t<c&&this.left.forEachLine(t,n,r,i,s,a),n>=c&&this.right.forEachLine(t,n,r,l,c,a);else{let u=this.lineAt(c,qn.ByPos,r,i,s);t<u.from&&this.left.forEachLine(t,u.from-1,r,i,s,a),u.to>=t&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,l,c,a)}}replace(t,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(t,n,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,n-i,r));let s=[];t>0&&this.decomposeLeft(t,s);let a=s.length;for(let l of r)s.push(l);if(t>0&&u$(s,a-1),n<this.length){let l=s.length;this.decomposeRight(n,s),u$(s,l)}return cs.of(s)}decomposeLeft(t,n){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,n);n.push(this.left),this.break&&(r++,t>=r&&n.push(null)),t>r&&this.right.decomposeLeft(t-r,n)}decomposeRight(t,n){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,n);t<r&&this.left.decomposeRight(t,n),this.break&&t<i&&n.push(null),n.push(this.right)}balanced(t,n){return t.size>2*n.size||n.size>2*t.size?cs.of(this.break?[t,null,n]:[t,n]):(this.left=cw(this.left,t),this.right=cw(this.right,n),this.setHeight(t.height+n.height),this.outdated=t.outdated||n.outdated,this.size=t.size+n.size,this.length=t.length+this.break+n.length,this)}updateHeight(t,n=0,r=!1,i){let{left:s,right:a}=this,l=n+s.length+this.break,c=null;return i&&i.from<=n+s.length&&i.more?c=s=s.updateHeight(t,n,r,i):s.updateHeight(t,n,r),i&&i.from<=l+a.length&&i.more?c=a=a.updateHeight(t,l,r,i):a.updateHeight(t,l,r),c?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function u$(e,t){let n,r;e[t]==null&&(n=e[t-1])instanceof wi&&(r=e[t+1])instanceof wi&&e.splice(t-1,3,new wi(n.length+1+r.length))}const M4e=5;class nA{constructor(t,n){this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ta?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ta(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(t,n,r){if(t<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-t;r.block?this.addBlock(new PX(a,i,r)):(a||s||i>=M4e)&&this.addLineDeco(i,s,a)}else n>t&&this.span(t,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new ta(this.pos-t,-1,0)),this.writtenTo=this.pos}blankContent(t,n){let r=new wi(n-t);return this.oracle.doc.lineAt(t).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof ta)return t;let n=new ta(0,-1,0);return this.nodes.push(n),n}addBlock(t){this.enterLine();let n=t.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,n&&n.endSide>0&&(this.covering=t)}addLineDeco(t,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(t){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ta)&&!this.isCovered?this.nodes.push(new ta(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=t;for(let i of this.nodes)i instanceof ta&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,n,r,i){let s=new nA(r,t);return cn.spans(n,r,i,s,0),s.finish(r)}}function T4e(e,t,n){let r=new A4e;return cn.compare(e,t,n,r,0),r.changes}class A4e{constructor(){this.changes=[]}compareRange(){}comparePoint(t,n,r,i){(t<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Ff(t,n,this.changes,5)}}function z4e(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),c=Math.min(i.innerHeight,n.bottom);for(let u=e.parentNode;u&&u!=r.body;)if(u.nodeType==1){let d=u,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let m=d.getBoundingClientRect();s=Math.max(s,m.left),a=Math.min(a,m.right),l=Math.max(l,m.top),c=Math.min(u==e.parentNode?i.innerHeight:c,m.bottom)}u=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,a)-n.left,top:l-(n.top+t),bottom:Math.max(l,c)-(n.top+t)}}function D4e(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}function R4e(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class VS{constructor(t,n,r,i){this.from=t,this.to=n,this.size=r,this.displaySize=i}static same(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(t,n){return $t.replace({widget:new I4e(this.displaySize*(n?t.scaleY:t.scaleX),n)}).range(this.from,this.to)}}class I4e extends Tl{constructor(t,n){super(),this.size=t,this.vertical=n}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class d${constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=h$,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=zn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=t.facet(JT).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new C4e(n),this.stateDeco=t.facet(wy).filter(r=>typeof r!="function"),this.heightMap=cs.empty().applyChanges(this.stateDeco,_n.empty,this.heightOracle.setDoc(t.doc),[new za(0,0,0,t.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=$t.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!t.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);t.push(new Xv(s,a))}}return this.viewports=t.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?h$:new rA(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Xp(t,this.scaler))})}update(t,n=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(wy).filter(d=>typeof d!="function");let i=t.changedRanges,s=za.extendWithRanges(i,T4e(r,this.stateDeco,t?t.changes:qr.empty(this.state.doc.length))),a=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);c$(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||vm)&&(t.flags|=2),l?(this.scrollAnchorPos=t.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let c=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(n&&(n.range.head<c.from||n.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,n));let u=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,t.flags|=this.updateForViewport(),(u||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(aX)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let n=t.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?zn.RTL:zn.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),l=n.getBoundingClientRect(),c=a||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,d=0;if(l.width&&l.height){let{scaleX:j,scaleY:_}=WQ(n,l);(j>.005&&Math.abs(this.scaleX-j)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=j,this.scaleY=_,u|=16,a=c=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,m=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=m)&&(this.paddingTop=h,this.paddingBottom=m,u|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=16);let p=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=VQ(t.scrollDOM);let g=(this.printing?R4e:z4e)(n,this.paddingTop),y=g.top-this.pixelViewport.top,x=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(c=!0)),!this.inView&&!this.scrollTarget&&!D4e(t.dom))return 0;let w=l.width;if((this.contentDOMWidth!=w||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=16),c){let j=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(j)&&(a=!0),a||i.lineWrapping&&Math.abs(w-this.contentDOMWidth)>i.charWidth){let{lineHeight:_,charWidth:k,textHeight:C}=t.docView.measureTextSize();a=_>0&&i.refresh(s,_,k,C,Math.max(5,w/k),j),a&&(t.docView.minWidth=0,u|=16)}y>0&&x>0?d=Math.max(y,x):y<0&&x<0&&(d=Math.min(y,x)),c$();for(let _ of this.viewports){let k=_.from==this.viewport.from?j:t.docView.measureVisibleLineHeights(_);this.heightMap=(a?cs.empty().applyChanges(this.stateDeco,_n.empty,this.heightOracle,[new za(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new O4e(_.from,k))}vm&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,n){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:l}=this,c=new Xv(i.lineAt(a-r*1e3,qn.ByHeight,s,0,0).from,i.lineAt(l+(1-r)*1e3,qn.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<c.from||u>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,qn.ByPos,s,0,0),m;n.y=="center"?m=(h.top+h.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&u<c.from?m=h.top:m=h.bottom-d,c=new Xv(i.lineAt(m-1e3/2,qn.ByHeight,s,0,0).from,i.lineAt(m+d+1e3/2,qn.ByHeight,s,0,0).to)}}return c}mapViewport(t,n){let r=n.mapPos(t.from,-1),i=n.mapPos(t.to,1);return new Xv(this.heightMap.lineAt(r,qn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,qn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,qn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,qn.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:l}=this;return(t==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<l+2*1e3}mapLineGaps(t,n){if(!t.length||n.empty)return t;let r=[];for(let i of t)n.touchesRange(i.from,i.to)||r.push(new VS(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(t,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=zn.LTR&&!r)return[];let l=[],c=(d,h,m,p)=>{if(h-d<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let v of y)if(v>d&&v<h){c(d,v-10,m,p),c(v+10,h,m,p);return}let x=$4e(t,v=>v.from>=m.from&&v.to<=m.to&&Math.abs(v.from-d)<s&&Math.abs(v.to-h)<s&&!y.some(w=>v.from<w&&v.to>w));if(!x){if(h<m.to&&n&&r&&n.visibleRanges.some(b=>b.from<=h&&b.to>=h)){let b=n.moveToLineBoundary(Ae.cursor(h),!1,!0).head;b>d&&(h=b)}let v=this.gapSize(m,d,h,p),w=r||v<2e6?v:2e6;x=new VS(d,h,v,w)}l.push(x)},u=d=>{if(d.length<a||d.type!=Pi.Text)return;let h=L4e(d.from,d.to,this.stateDeco);if(h.total<a)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,p,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,v;if(m!=null){let w=Jv(h,m),b=((this.visibleBottom-this.visibleTop)/2+y)/d.height;x=w-b,v=w+b}else x=(this.visibleTop-d.top-y)/d.height,v=(this.visibleBottom-d.top+y)/d.height;p=Zv(h,x),g=Zv(h,v)}else{let y=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,v=0;if(y>2e6)for(let k of t)k.from>=d.from&&k.from<d.to&&k.size!=k.displaySize&&k.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=k.size-k.displaySize);let w=this.pixelViewport.left+v,b=this.pixelViewport.right+v,j,_;if(m!=null){let k=Jv(h,m),C=((b-w)/2+x)/y;j=k-C,_=k+C}else j=(w-x)/y,_=(b+x)/y;p=Zv(h,j),g=Zv(h,_)}p>d.from&&c(d.from,p,d,h),g<d.to&&c(g,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(u):u(d);return l}gapSize(t,n,r,i){let s=Jv(i,r)-Jv(i,n);return this.heightOracle.lineWrapping?t.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(t){VS.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=$t.set(t.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];cn.spans(n,this.viewport.from,this.viewport.to,{span(s,a){r.push({from:s,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let a=this.visibleRanges[s],l=r[s];(a.from!=l.from||a.to!=l.to)&&(i|=4,t&&t.mapPos(a.from,-1)==l.from&&t.mapPos(a.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(n=>n.from<=t&&n.to>=t)||Xp(this.heightMap.lineAt(t,qn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=t&&n.bottom>=t)||Xp(this.heightMap.lineAt(this.scaler.fromDOM(t),qn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let n=this.lineBlockAtHeight(t+8);return n.from>=this.viewport.from||this.viewportLines[0].top-t>200?n:this.viewportLines[0]}elementAtHeight(t){return Xp(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Xv{constructor(t,n){this.from=t,this.to=n}}function L4e(e,t,n){let r=[],i=e,s=0;return cn.spans(n,e,t,{span(){},point(a,l){a>i&&(r.push({from:i,to:a}),s+=a-i),i=l}},20),i<t&&(r.push({from:i,to:t}),s+=t-i),{total:s,ranges:r}}function Zv({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let i=0;;i++){let{from:s,to:a}=t[i],l=a-s;if(r<=l)return s+r;r-=l}}function Jv(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}function $4e(e,t){for(let n of e)if(t(n))return n}const h$={toDOM(e){return e},fromDOM(e){return e},scale:1,eq(e){return e==this}};class rA{constructor(t,n,r){let i=0,s=0,a=0;this.viewports=r.map(({from:l,to:c})=>{let u=n.lineAt(l,qn.ByPos,t,0,0).top,d=n.lineAt(c,qn.ByPos,t,0,0).bottom;return i+=d-u,{from:l,to:c,top:u,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=a+(l.top-s)*this.scale,a=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(t){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.top)return i+(t-r)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);r=s.bottom,i=s.domBottom}}fromDOM(t){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.domTop)return r+(t-i)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);r=s.bottom,i=s.domBottom}}eq(t){return t instanceof rA?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((n,r)=>n.from==t.viewports[r].from&&n.to==t.viewports[r].to):!1}}function Xp(e,t){if(t.scale==1)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new vo(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(i=>Xp(i,t)):e._content)}const eb=yt.define({combine:e=>e.join(" ")}),O2=yt.define({combine:e=>e.indexOf(!0)>-1}),P2=Fu.newName(),EX=Fu.newName(),MX=Fu.newName(),TX={"&light":"."+EX,"&dark":"."+MX};function E2(e,t,n){return new Fu(t,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return e;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):e+" "+r}})}const F4e=E2("."+P2,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},TX),B4e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},HS=gt.ie&&gt.ie_version<=11;class q4e{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new vIe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(gt.ie&&gt.ie_version<=11||gt.ios&&t.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&gt.android&&t.constructor.EDIT_CONTEXT!==!1&&!(gt.chrome&&gt.chrome_version<126)&&(this.editContext=new U4e(t),t.state.facet(Jl)&&(t.contentDOM.editContext=this.editContext.editContext)),HS&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((n,r)=>n!=t[r]))){this.gapIntersection.disconnect();for(let n of t)this.gapIntersection.observe(n);this.gaps=t}}onSelectionChange(t){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Jl)?r.root.activeElement!=this.dom:!a_(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(t)){n||(this.selectionChanged=!1);return}(gt.ie&&gt.ie_version<=11||gt.android&&gt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&xg(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,n=vy(t.root);if(!n)return!1;let r=gt.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&W4e(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=a_(this.dom,r);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&_Ie(this.dom,r)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,n){this.selectionRange.set(t.node,t.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:n||(n=this.scrollTargets.slice(0,t)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(t<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,t)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,B4e),HS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),HS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Bf(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of t){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:t,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&a_(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new o4e(this.view,t,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=vX(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let n=this.view.docView.tile.nearest(t.target);if(!n||n.isWidget())return null;if(n.markDirty(t.type=="attributes"),t.type=="childList"){let r=f$(n,t.previousSibling||t.target.previousSibling,-1),i=f$(n,t.nextSibling||t.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Jl)!=t.state.facet(Jl)&&(t.view.contentDOM.editContext=t.state.facet(Jl)?this.editContext.editContext:null))}destroy(){var t,n,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function f$(e,t,n){for(;t;){let r=Kr.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function m$(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor,1);return xg(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function W4e(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return m$(e,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?m$(e,n):null}class U4e{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let n=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=r=>{let i=t.state.selection.main,{anchor:s,head:a}=i,l=this.toEditorPos(r.updateRangeStart),c=this.toEditorPos(r.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let u=c-l>r.text.length;l==this.from&&s<this.from?l=s:c==this.to&&s>this.to&&(c=s);let d=bX(t.state.sliceDoc(l,c),r.text,(u?i.from:i.to)-l,u?"end":null);if(!d){let m=Ae.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));m.main.eq(i)||t.dispatch({selection:m,userEvent:"select"});return}let h={from:d.from+l,to:d.toA+l,insert:_n.of(r.text.slice(d.from,d.toB).split(`
`))};if((gt.mac||gt.android)&&h.from==a-1&&/^\. ?$/.test(r.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:c,insert:_n.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!t.state.readOnly){let m=this.to-this.from+(h.to-h.from+h.insert.length);tA(t,h,Ae.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)),h.from<h.to&&!h.insert.length&&t.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let a=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);a<l;a++){let c=t.coordsForChar(a);s=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let a=s.underlineStyle,l=s.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(l)){let c=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(c<u){let d=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push($t.mark({attributes:{style:d}}).range(c,u))}}}t.dispatch({effects:lX.of($t.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(t.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=vy(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let n=0,r=!1,i=this.pendingContextChange;return t.changes.iterChanges((s,a,l,c,u)=>{if(r)return;let d=u.length-(a-s);if(i&&a>=i.to)if(i.from==s&&i.to==a&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(t.state);if(s+=n,a+=n,a<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),u.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(t.state),!r}update(t){let n=this.pendingContextChange,r=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(r.from,r.to)&&t.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||n)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:n}=t.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(t.doc.length,n+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),t.doc.sliceString(n.from,n.to))}setSelection(t){let{main:n}=t.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(t){let{head:n}=t.selection.main;return!(this.from>0&&n-this.from<500||this.to<t.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(t,n=this.to-this.from){t=Math.min(t,n);let r=this.composing;return r&&r.drifted?r.editorBase+(t-r.contextBase):t+this.from}toContextPos(t){let n=this.composing;return n&&n.drifted?n.contextBase+(t-n.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ut{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:r}=t;this.dispatchTransactions=t.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=t.root||bIe(t.parent)||document,this.viewState=new d$(t.state||mn.create(t)),t.scrollTo&&t.scrollTo.is(Yv)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wf).map(i=>new FS(i));for(let i of this.plugins)i.update(this);this.observer=new q4e(this),this.inputState=new d4e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new XL(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let n=t.length==1&&t[0]instanceof Hr?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(n,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let m of t){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,l=0,c=null;t.some(m=>m.annotation(NX))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,c=CX(s,a),c||(l=1));let u=this.observer.delayedAndroidKey,d=null;if(u?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(mn.phrases)!=this.state.facet(mn.phrases))return this.setState(s);i=aw.create(this,s,t),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of t){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:p}=m.state.selection;h=new qf(p.empty?p:Ae.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of m.effects)p.is(Yv)&&(h=p.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=uw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Gp)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(eb)!=i.state.facet(eb)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let m of this.state.facet(j2))try{m(i)}catch(p){Ds(this.state,p,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!vX(this,d)&&u.force&&Bf(this.contentDOM,u.key,u.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new d$(t),this.plugins=t.facet(wf).map(r=>new FS(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new XL(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(t){let n=t.startState.facet(wf),r=t.state.facet(wf);if(n!=r){let i=[];for(let s of r){let a=n.indexOf(s);if(a<0)i.push(new FS(s));else{let l=this.plugins[a];l.mustUpdate=t,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let n=t.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Ds(this.state,r,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(VQ(r))s=-1,a=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,a=p.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];c&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(p=>{try{return p.read(this)}catch(g){return Ds(this.state,g),p$}}),h=aw.create(this,this.state,[]),m=!1;h.flags|=c,n?n.flags|=c:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),m=this.docView.update(h),m&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(d[p]!=p$)try{let g=u[p];g.write&&g.write(d[p],this)}catch(g){Ds(this.state,g)}if(m&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(j2))l(n)}get themeClasses(){return P2+" "+(this.state.facet(O2)?MX:EX)+" "+this.state.facet(eb)}updateAttrs(){let t=g$(this,cX,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Jl)?"true":"false",class:"cm-content",style:`${gt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),g$(this,JT,n);let r=this.observer.ignore(()=>{let i=VL(this.contentDOM,this.contentAttrs,n),s=VL(this.dom,this.editorAttrs,t);return i||s});return this.editorAttrs=t,this.contentAttrs=n,r}showAnnouncements(t){let n=!0;for(let r of t)for(let i of r.effects)if(i.is(ut.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Gp);let t=this.state.facet(ut.cspNonce);Fu.mount(this.root,this.styleModules.concat(F4e).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===t.key){this.measureRequests[n]=t;return}}this.measureRequests.push(t)}}plugin(t){let n=this.pluginMap.get(t);return(n===void 0||n&&n.plugin!=t)&&this.pluginMap.set(t,n=this.plugins.find(r=>r.plugin==t)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,n,r){return US(this,t,ZL(this,t,n,r))}moveByGroup(t,n){return US(this,t,ZL(this,t,n,r=>n4e(this,t.head,r)))}visualLineSide(t,n){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),s=r[n?r.length-1:0];return Ae.cursor(s.side(n,i)+t.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(t,n,r=!0){return t4e(this,t,n,r)}moveVertically(t,n,r){return US(this,t,r4e(this,t,n,r))}domAtPos(t,n=1){return this.docView.domAtPos(t,n)}posAtDOM(t,n=0){return this.docView.posFromDOM(t,n)}posAtCoords(t,n=!0){this.readMeasured();let r=N2(this,t,n);return r&&r.pos}posAndSideAtCoords(t,n=!0){return this.readMeasured(),N2(this,t,n)}coordsAtPos(t,n=1){this.readMeasured();let r=this.docView.coordsAt(t,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),s=this.bidiSpans(i),a=s[oc.find(s,t-i.from,-1,n)];return by(r,a.dir==zn.LTR==n>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(sX)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>V4e)return XQ(t.length);let n=this.textDirectionAt(t.from),r;for(let s of this.bidiCache)if(s.from==t.from&&s.dir==n&&(s.fresh||QQ(s.isolates,r=YL(this,t))))return s.order;r||(r=YL(this,t));let i=OIe(t.text,n,r);return this.bidiCache.push(new uw(t.from,t.to,n,r,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||gt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{UQ(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,n={}){return Yv.of(new qf(typeof t=="number"?Ae.cursor(t):t,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return Yv.of(new qf(Ae.cursor(r.from),"start","start",r.top-t,n,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Cr.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Cr.define(()=>({}),{eventObservers:t})}static theme(t,n){let r=Fu.newName(),i=[eb.of(r),Gp.of(E2(`.${r}`,t))];return n&&n.dark&&i.push(O2.of(!0)),i}static baseTheme(t){return Ch.lowest(Gp.of(E2("."+P2,t,TX)))}static findFromDOM(t){var n;let r=t.querySelector(".cm-content"),i=r&&Kr.get(r)||Kr.get(t);return((n=i==null?void 0:i.root)===null||n===void 0?void 0:n.view)||null}}ut.styleModule=Gp;ut.inputHandler=rX;ut.clipboardInputFilter=XT;ut.clipboardOutputFilter=ZT;ut.scrollHandler=oX;ut.focusChangeEffect=iX;ut.perLineTextDirection=sX;ut.exceptionSink=nX;ut.updateListener=j2;ut.editable=Jl;ut.mouseSelectionStyle=tX;ut.dragMovesSelection=eX;ut.clickAddsSelectionRange=JQ;ut.decorations=wy;ut.blockWrappers=uX;ut.outerDecorations=dX;ut.atomicRanges=Fx;ut.bidiIsolatedRanges=hX;ut.scrollMargins=fX;ut.darkTheme=O2;ut.cspNonce=yt.define({combine:e=>e.length?e[0]:""});ut.contentAttributes=JT;ut.editorAttributes=cX;ut.lineWrapping=ut.contentAttributes.of({class:"cm-lineWrapping"});ut.announce=Zt.define();const V4e=4096,p$={};class uw{constructor(t,n,r,i,s,a){this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=a}static update(t,n){if(n.empty&&!t.some(s=>s.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:zn.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let a=t[s];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new uw(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function g$(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(e):s;a&&YT(a,n)}return n}const H4e=gt.mac?"mac":gt.windows?"win":gt.linux?"linux":"key";function K4e(e,t){const n=e.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,a,l;for(let c=0;c<n.length-1;++c){const u=n[c];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))t=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),l&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function tb(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}const Y4e=Ch.default(ut.domEventHandlers({keydown(e,t){return zX(AX(t.state),e,t,"editor")}})),W1=yt.define({enables:Y4e}),y$=new WeakMap;function AX(e){let t=e.facet(W1),n=y$.get(t);return n||y$.set(t,n=X4e(t.reduce((r,i)=>r.concat(i),[]))),n}function G4e(e,t,n){return zX(AX(e.state),t,e,n)}let hu=null;const Q4e=4e3;function X4e(e,t=H4e){let n=Object.create(null),r=Object.create(null),i=(a,l)=>{let c=r[a];if(c==null)r[a]=l;else if(c!=l)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,l,c,u,d)=>{var h,m;let p=n[a]||(n[a]=Object.create(null)),g=l.split(/ (?!$)/).map(v=>K4e(v,t));for(let v=1;v<g.length;v++){let w=g.slice(0,v).join(" ");i(w,!0),p[w]||(p[w]={preventDefault:!0,stopPropagation:!1,run:[b=>{let j=hu={view:b,prefix:w,scope:a};return setTimeout(()=>{hu==j&&(hu=null)},Q4e),!0}]})}let y=g.join(" ");i(y,!1);let x=p[y]||(p[y]={preventDefault:!1,stopPropagation:!1,run:((m=(h=p._any)===null||h===void 0?void 0:h.run)===null||m===void 0?void 0:m.slice())||[]});c&&x.run.push(c),u&&(x.preventDefault=!0),d&&(x.stopPropagation=!0)};for(let a of e){let l=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of l){let d=n[u]||(n[u]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=a;for(let m in d)d[m].run.push(p=>h(p,M2))}let c=a[t]||a.key;if(c)for(let u of l)s(u,c,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(u,"Shift-"+c,a.shift,a.preventDefault,a.stopPropagation)}return n}let M2=null;function zX(e,t,n,r){M2=t;let i=dIe(t),s=Os(i,0),a=nl(s)==i.length&&i!=" ",l="",c=!1,u=!1,d=!1;hu&&hu.view==n&&hu.scope==r&&(l=hu.prefix+" ",wX.indexOf(t.keyCode)<0&&(u=!0,hu=null));let h=new Set,m=x=>{if(x){for(let v of x.run)if(!h.has(v)&&(h.add(v),v(n)))return x.stopPropagation&&(d=!0),!0;x.preventDefault&&(x.stopPropagation&&(d=!0),u=!0)}return!1},p=e[r],g,y;return p&&(m(p[l+tb(i,t,!a)])?c=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(gt.windows&&t.ctrlKey&&t.altKey)&&!(gt.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(g=Bu[t.keyCode])&&g!=i?(m(p[l+tb(g,t,!0)])||t.shiftKey&&(y=yy[t.keyCode])!=i&&y!=g&&m(p[l+tb(y,t,!1)]))&&(c=!0):a&&t.shiftKey&&m(p[l+tb(i,t,!0)])&&(c=!0),!c&&m(p._any)&&(c=!0)),u&&(c=!0),c&&d&&t.stopPropagation(),M2=null,c}class Bx{constructor(t,n,r,i,s){this.className=t,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,n){return n.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,n,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=DX(t);return[new Bx(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Z4e(t,n,r)}}function DX(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==zn.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function x$(e,t,n,r){let i=e.coordsAtPos(t,n*2);if(!i)return r;let s=e.dom.getBoundingClientRect(),a=(i.top+i.bottom)/2,l=e.posAtCoords({x:s.left+1,y:a}),c=e.posAtCoords({x:s.right-1,y:a});return l==null||c==null?r:{from:Math.max(r.from,Math.min(l,c)),to:Math.min(r.to,Math.max(l,c))}}function Z4e(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),s=e.textDirection==zn.LTR,a=e.contentDOM,l=a.getBoundingClientRect(),c=DX(e),u=a.querySelector(".cm-line"),d=u&&window.getComputedStyle(u),h=l.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),m=l.right-(d?parseInt(d.paddingRight):0),p=S2(e,r,1),g=S2(e,i,-1),y=p.type==Pi.Text?p:null,x=g.type==Pi.Text?g:null;if(y&&(e.lineWrapping||p.widgetLineBreaks)&&(y=x$(e,r,1,y)),x&&(e.lineWrapping||g.widgetLineBreaks)&&(x=x$(e,i,-1,x)),y&&x&&y.from==x.from&&y.to==x.to)return w(b(n.from,n.to,y));{let _=y?b(n.from,null,y):j(p,!1),k=x?b(null,n.to,x):j(g,!0),C=[];return(y||p).to<(x||g).from-(y&&x?1:0)||p.widgetLineBreaks>1&&_.bottom+e.defaultLineHeight/2<k.top?C.push(v(h,_.bottom,m,k.top)):_.bottom<k.top&&e.elementAtHeight((_.bottom+k.top)/2).type==Pi.Text&&(_.bottom=k.top=(_.bottom+k.top)/2),w(_).concat(C).concat(w(k))}function v(_,k,C,O){return new Bx(t,_-c.left,k-c.top,C-_,O-k)}function w({top:_,bottom:k,horizontal:C}){let O=[];for(let M=0;M<C.length;M+=2)O.push(v(C[M],_,C[M+1],k));return O}function b(_,k,C){let O=1e9,M=-1e9,P=[];function A(V,K,L,W,z){let T=e.coordsAtPos(V,V==C.to?-2:2),q=e.coordsAtPos(L,L==C.from?2:-2);!T||!q||(O=Math.min(T.top,q.top,O),M=Math.max(T.bottom,q.bottom,M),z==zn.LTR?P.push(s&&K?h:T.left,s&&W?m:q.right):P.push(!s&&W?h:q.left,!s&&K?m:T.right))}let R=_??C.from,F=k??C.to;for(let V of e.visibleRanges)if(V.to>R&&V.from<F)for(let K=Math.max(V.from,R),L=Math.min(V.to,F);;){let W=e.state.doc.lineAt(K);for(let z of e.bidiSpans(W)){let T=z.from+W.from,q=z.to+W.from;if(T>=L)break;q>K&&A(Math.max(T,K),_==null&&T<=R,Math.min(q,L),k==null&&q>=F,z.dir)}if(K=W.to+1,K>=L)break}return P.length==0&&A(R,_==null,F,k==null,e.textDirection),{top:O,bottom:M,horizontal:P}}function j(_,k){let C=l.top+(k?_.top:_.bottom);return{top:C,bottom:C,horizontal:[]}}}function J4e(e,t){return e.constructor==t.constructor&&e.eq(t)}class e3e{constructor(t,n){this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}update(t){t.startState.facet(l_)!=t.state.facet(l_)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let n=0,r=t.facet(l_);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:n}=this.view;(t!=this.scaleX||n!=this.scaleY)&&(this.scaleX=t,this.scaleY=n,this.dom.style.transform=`scale(${1/t}, ${1/n})`)}draw(t){if(t.length!=this.drawn.length||t.some((n,r)=>!J4e(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of t)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=t,gt.safari&&gt.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const l_=yt.define();function RX(e){return[Cr.define(t=>new e3e(t,e)),l_.of(e)]}const jy=yt.define({combine(e){return Ml(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,n)=>Math.min(t,n),drawRangeCursor:(t,n)=>t||n})}});function t3e(e={}){return[jy.of(e),n3e,r3e,i3e,aX.of(!0)]}function IX(e){return e.startState.facet(jy)!=e.state.facet(jy)}const n3e=RX({above:!0,markers(e){let{state:t}=e,n=t.facet(jy),r=[];for(let i of t.selection.ranges){let s=i==t.selection.main;if(i.empty||n.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:Ae.cursor(i.head,i.head>i.anchor?-1:1);for(let c of Bx.forRange(e,a,l))r.push(c)}}return r},update(e,t){e.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=IX(e);return n&&v$(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){v$(t.state,e)},class:"cm-cursorLayer"});function v$(e,t){t.style.animationDuration=e.facet(jy).cursorBlinkRate+"ms"}const r3e=RX({above:!1,markers(e){return e.state.selection.ranges.map(t=>t.empty?[]:Bx.forRange(e,"cm-selectionBackground",t)).reduce((t,n)=>t.concat(n))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||IX(e)},class:"cm-selectionLayer"}),i3e=Ch.highest(ut.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),LX=Zt.define({map(e,t){return e==null?null:t.mapPos(e)}}),Zp=Ti.define({create(){return null},update(e,t){return e!=null&&(e=t.changes.mapPos(e)),t.effects.reduce((n,r)=>r.is(LX)?r.value:n,e)}}),s3e=Cr.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Zp);n==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Zp)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Zp),n=t!=null&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Zp)!=e&&this.view.dispatch({effects:LX.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){(e.target==this.view.contentDOM||!this.view.contentDOM.contains(e.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function a3e(){return[Zp,s3e]}function b$(e,t,n,r,i){t.lastIndex=0;for(let s=e.iterRange(n,r),a=n,l;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;l=t.exec(s.value);)i(a+l.index,l)}function o3e(e,t){let n=e.visibleRanges;if(n.length==1&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class l3e{constructor(t){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=t;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(l,c,u,d)=>i(d,u,u+l[0].length,l,c);else if(typeof r=="function")this.addMatch=(l,c,u,d)=>{let h=r(l,c,u);h&&d(u,u+l[0].length,h)};else if(r)this.addMatch=(l,c,u,d)=>d(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(t){let n=new Nc,r=n.add.bind(n);for(let{from:i,to:s}of o3e(t,this.maxLength))b$(t.state.doc,this.regexp,i,s,(a,l)=>this.addMatch(l,t,a,r));return n.finish()}updateDeco(t,n){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((s,a,l,c)=>{c>=t.view.viewport.from&&l<=t.view.viewport.to&&(r=Math.min(l,r),i=Math.max(c,i))}),t.viewportMoved||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,n.map(t.changes),r,i):n}updateRange(t,n,r,i){for(let s of t.visibleRanges){let a=Math.max(s.from,r),l=Math.min(s.to,i);if(l>=a){let c=t.state.doc.lineAt(a),u=c.to<l?t.state.doc.lineAt(l):c,d=Math.max(s.from,c.from),h=Math.min(s.to,u.to);if(this.boundary){for(;a>c.from;a--)if(this.boundary.test(c.text[a-1-c.from])){d=a;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){h=l;break}}let m=[],p,g=(y,x,v)=>m.push(v.range(y,x));if(c==u)for(this.regexp.lastIndex=d-c.from;(p=this.regexp.exec(c.text))&&p.index<h-c.from;)this.addMatch(p,t,p.index+c.from,g);else b$(t.state.doc,this.regexp,d,h,(y,x)=>this.addMatch(x,t,y,g));n=n.update({filterFrom:d,filterTo:h,filter:(y,x)=>y<d||x>h,add:m})}}return n}}const T2=/x/.unicode!=null?"gu":"g",c3e=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,T2),u3e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let KS=null;function d3e(){var e;if(KS==null&&typeof document<"u"&&document.body){let t=document.body.style;KS=((e=t.tabSize)!==null&&e!==void 0?e:t.MozTabSize)!=null}return KS||!1}const c_=yt.define({combine(e){let t=Ml(e,{render:null,specialChars:c3e,addSpecialChars:null});return(t.replaceTabs=!d3e())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,T2)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,T2)),t}});function h3e(e={}){return[c_.of(e),f3e()]}let _$=null;function f3e(){return _$||(_$=Cr.fromClass(class{constructor(e){this.view=e,this.decorations=$t.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(c_)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new l3e({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,s=Os(t[0],0);if(s==9){let a=i.lineAt(r),l=n.state.tabSize,c=Xm(a.text,l,r-a.from);return $t.replace({widget:new y3e((l-c%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=$t.replace({widget:new g3e(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(c_);e.startState.facet(c_)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}const m3e="";function p3e(e){return e>=32?m3e:e==10?"":String.fromCharCode(9216+e)}class g3e extends Tl{constructor(t,n){super(),this.options=t,this.code=n}eq(t){return t.code==this.code}toDOM(t){let n=p3e(this.code),r=t.state.phrase("Control character")+" "+(u3e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class y3e extends Tl{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function x3e(){return b3e}const v3e=$t.line({class:"cm-activeLine"}),b3e=Cr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(v3e.range(i.from)),t=i.from)}return $t.set(n)}},{decorations:e=>e.decorations});class _3e extends Tl{constructor(t){super(),this.content=t}toDOM(t){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(t):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(t){let n=t.firstChild?yg(t.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(t.parentNode),i=by(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function w3e(e){let t=Cr.fromClass(class{constructor(n){this.view=n,this.placeholder=e?$t.set([$t.widget({widget:new _3e(e),side:1}).range(0)]):$t.none}get decorations(){return this.view.state.doc.length?$t.none:this.placeholder}},{decorations:n=>n.decorations});return typeof e=="string"?[t,ut.contentAttributes.of({"aria-placeholder":e})]:t}const A2=2e3;function j3e(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),s=[];if(t.off>A2||n.off>A2||t.col<0||n.col<0){let a=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let c=r;c<=i;c++){let u=e.doc.line(c);u.length<=l&&s.push(Ae.range(u.from+a,u.to+l))}}else{let a=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let c=r;c<=i;c++){let u=e.doc.line(c),d=h2(u.text,a,e.tabSize,!0);if(d<0)s.push(Ae.cursor(u.to));else{let h=h2(u.text,l,e.tabSize);s.push(Ae.range(u.from+d,u.from+h))}}}return s}function k3e(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function w$(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,s=i>A2?-1:i==r.length?k3e(e,t.clientX):Xm(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function S3e(e,t){let n=w$(e,t),r=e.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(s);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let l=w$(e,i);if(!l)return r;let c=j3e(e.state,n,l);return c.length?a?Ae.create(c.concat(r.ranges)):Ae.create(c):r}}:null}function N3e(e){let t=n=>n.altKey&&n.button==0;return ut.mouseSelectionStyle.of((n,r)=>t(r)?S3e(n,r):null)}const C3e={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},O3e={style:"cursor: crosshair"};function P3e(e={}){let[t,n]=C3e[e.key||"Alt"],r=Cr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||n(i))},keyup(i){(i.keyCode==t||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ut.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?O3e:null})]}const nb="-10000px";class $X{constructor(t,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=r(a,s))}update(t,n){var r;let i=t.state.facet(this.facet),s=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(t);return!1}let a=[],l=n?[]:null;for(let c=0;c<s.length;c++){let u=s[c],d=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let m=this.tooltips[h];m&&m.create==u.create&&(d=h)}if(d<0)a[c]=this.createTooltipView(u,c?a[c-1]:null),l&&(l[c]=!!u.above);else{let h=a[c]=this.tooltipViews[d];l&&(l[c]=n[d]),h.update&&h.update(t)}}}for(let c of this.tooltipViews)a.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return n&&(l.forEach((c,u)=>n[u]=c),n.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=a,!0}}function E3e(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const YS=yt.define({combine:e=>{var t,n,r;return{position:gt.ios?"absolute":((t=e.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((n=e.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=e.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||E3e}}}),j$=new WeakMap,iA=Cr.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(YS);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new $X(e,sA,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(YS);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=nb,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(e=r.destroy)===null||e===void 0||e.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(gt.safari){let a=s.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(e=s.width/this.parent.offsetWidth,t=s.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=eA(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let l=this.manager.tooltipViews[a];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(YS).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=e,a=[];for(let l=0;l<this.manager.tooltips.length;l++){let c=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:d}=u,h=e.pos[l],m=e.size[l];if(!h||c.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){d.style.top=nb;continue}let p=c.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,g=p?7:0,y=m.right-m.left,x=(t=j$.get(u))!==null&&t!==void 0?t:m.bottom-m.top,v=u.offset||T3e,w=this.view.textDirection==zn.LTR,b=m.width>r.right-r.left?w?r.left:r.right-m.width:w?Math.max(r.left,Math.min(h.left-(p?14:0)+v.x,r.right-y)):Math.min(Math.max(r.left,h.left-y+(p?14:0)-v.x),r.right-y),j=this.above[l];!c.strictSide&&(j?h.top-x-g-v.y<r.top:h.bottom+x+g+v.y>r.bottom)&&j==r.bottom-h.bottom>h.top-r.top&&(j=this.above[l]=!j);let _=(j?h.top-r.top:r.bottom-h.bottom)-g;if(_<x&&u.resize!==!1){if(_<this.view.defaultLineHeight){d.style.top=nb;continue}j$.set(u,x),d.style.height=(x=_)/s+"px"}else d.style.height&&(d.style.height="");let k=j?h.top-x-g-v.y:h.bottom+g+v.y,C=b+y;if(u.overlap!==!0)for(let O of a)O.left<C&&O.right>b&&O.top<k+x&&O.bottom>k&&(k=j?O.top-x-2-g:O.bottom+g+2);if(this.position=="absolute"?(d.style.top=(k-e.parent.top)/s+"px",k$(d,(b-e.parent.left)/i)):(d.style.top=k/s+"px",k$(d,b/i)),p){let O=h.left+(w?v.x:-v.x)-(b+14-7);p.style.left=O/i+"px"}u.overlap!==!0&&a.push({left:b,top:k,right:C,bottom:k+x}),d.classList.toggle("cm-tooltip-above",j),d.classList.toggle("cm-tooltip-below",!j),u.positioned&&u.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=nb}},{eventObservers:{scroll(){this.maybeMeasure()}}});function k$(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}const M3e=ut.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),T3e={x:0,y:0},sA=yt.define({enables:[iA,M3e]}),dw=yt.define({combine:e=>e.reduce((t,n)=>t.concat(n),[])});class U1{static create(t){return new U1(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new $X(t,dw,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(t,n){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let n of this.manager.tooltipViews)n.mount&&n.mount(t);this.mounted=!0}positioned(t){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let n of this.manager.tooltipViews)(t=n.destroy)===null||t===void 0||t.call(n)}passProp(t){let n;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const A3e=sA.compute([dw],e=>{let t=e.facet(dw);return t.length===0?null:{pos:Math.min(...t.map(n=>n.pos)),end:Math.max(...t.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:U1.create,above:t[0].above,arrow:t.some(n=>n.arrow)}});class z3e{constructor(t,n,r,i,s){this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:n}=this,r=t.docView.tile.nearest(n.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=t.posAtCoords(n),i==null)return;let l=t.coordsAtPos(i);if(!l||n.y<l.top||n.y>l.bottom||n.x<l.left-t.defaultCharacterWidth||n.x>l.right+t.defaultCharacterWidth)return;let c=t.bidiSpans(t.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),u=c&&c.dir==zn.RTL?-1:1;s=n.x<l.left?-u:u}let a=this.source(t,i,s);if(a!=null&&a.then){let l=this.pending={pos:i};a.then(c=>{this.pending==l&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Ds(t.state,c,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let t=this.view.plugin(iA),n=t?t.manager.tooltips.findIndex(r=>r.create==U1.create):-1;return n>-1?t.manager.tooltipViews[n]:null}mousemove(t){var n,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!D3e(s.dom,t)||this.pending){let{pos:a}=i[0]||this.pending,l=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:a;(a==l?this.view.posAtCoords(this.lastMove)!=a:!R3e(this.view,a,l,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let n=r=>{t.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const rb=4;function D3e(e,t){let{left:n,right:r,top:i,bottom:s}=e.getBoundingClientRect(),a;if(a=e.querySelector(".cm-tooltip-arrow")){let l=a.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return t.clientX>=n-rb&&t.clientX<=r+rb&&t.clientY>=i-rb&&t.clientY<=s+rb}function R3e(e,t,n,r,i,s){let a=e.scrollDOM.getBoundingClientRect(),l=e.documentTop+e.documentPadding.top+e.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,l)<i)return!1;let c=e.posAtCoords({x:r,y:i},!1);return c>=t&&c<=n}function I3e(e,t={}){let n=Zt.define(),r=Ti.define({create(){return[]},update(i,s){if(i.length&&(t.hideOnChange&&(s.docChanged||s.selection)?i=[]:t.hideOn&&(i=i.filter(a=>!t.hideOn(s,a))),s.docChanged)){let a=[];for(let l of i){let c=s.changes.mapPos(l.pos,-1,is.TrackDel);if(c!=null){let u=Object.assign(Object.create(null),l);u.pos=c,u.end!=null&&(u.end=s.changes.mapPos(u.end)),a.push(u)}}i=a}for(let a of s.effects)a.is(n)&&(i=a.value),a.is(L3e)&&(i=[]);return i},provide:i=>dw.from(i)});return{active:r,extension:[r,Cr.define(i=>new z3e(i,e,r,n,t.hoverTime||300)),A3e]}}function FX(e,t){let n=e.plugin(iA);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const L3e=Zt.define(),S$=yt.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function ky(e,t){let n=e.plugin(BX),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const BX=Cr.fromClass(class{constructor(e){this.input=e.state.facet(Sy),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(e));let t=e.state.facet(S$);this.top=new ib(e,!0,t.topContainer),this.bottom=new ib(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(S$);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new ib(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new ib(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Sy);if(n!=this.input){let r=n.filter(c=>c),i=[],s=[],a=[],l=[];for(let c of r){let u=this.specs.indexOf(c),d;u<0?(d=c(e.view),l.push(d)):(d=this.panels[u],d.update&&d.update(e)),i.push(d),(d.top?s:a).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let c of l)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>ut.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class ib{constructor(t,n,r){this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let n of this.panels)n.destroy&&t.indexOf(n)<0&&n.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let t=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;t!=n.dom;)t=N$(t);t=t.nextSibling}else this.dom.insertBefore(n.dom,t);for(;t;)t=N$(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function N$(e){let t=e.nextSibling;return e.remove(),t}const Sy=yt.define({enables:BX});class Oc extends $u{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Oc.prototype.elementClass="";Oc.prototype.toDOM=void 0;Oc.prototype.mapMode=is.TrackBefore;Oc.prototype.startSide=Oc.prototype.endSide=-1;Oc.prototype.point=!0;const u_=yt.define(),$3e=yt.define(),F3e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>cn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},bg=yt.define();function B3e(e){return[qX(),bg.of({...F3e,...e})]}const C$=yt.define({combine:e=>e.some(t=>t)});function qX(e){return[q3e]}const q3e=Cr.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(bg).map(t=>new P$(e,t)),this.fixed=!e.state.facet(C$);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(e.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(C$)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=cn.iter(this.view.state.facet(u_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new W3e(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let a=!0;for(let l of s.type)if(l.type==Pi.Text&&a){z2(n,r,l.from);for(let c of i)c.line(this.view,l,r);a=!1}else if(l.widget)for(let c of i)c.widget(this.view,l)}else if(s.type==Pi.Text){z2(n,r,s.from);for(let a of i)a.line(this.view,s,r)}else if(s.widget)for(let a of i)a.widget(this.view,s);for(let s of i)s.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(bg),n=e.state.facet(bg),r=e.docChanged||e.heightChanged||e.viewportChanged||!cn.eq(e.startState.facet(u_),e.state.facet(u_),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let i of this.gutters)i.update(e)&&(r=!0);else{r=!0;let i=[];for(let s of n){let a=t.indexOf(s);a<0?i.push(new P$(this.view,s)):(this.gutters[a].update(e),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>ut.scrollMargins.of(t=>{let n=t.plugin(e);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*t.scaleX,i=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==zn.LTR?{left:r,right:i}:{right:r,left:i}})});function O$(e){return Array.isArray(e)?e:[e]}function z2(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class W3e{constructor(t,n,r){this.gutter=t,this.height=r,this.i=0,this.cursor=cn.iter(t.markers,n.from)}addElement(t,n,r){let{gutter:i}=this,s=(n.top-this.height)/t.scaleY,a=n.height/t.scaleY;if(this.i==i.elements.length){let l=new WX(t,a,s,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(t,a,s,r);this.height=n.bottom,this.i++}line(t,n,r){let i=[];z2(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(t,n,i);s&&i.unshift(s);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(t,n,i)}widget(t,n){let r=this.gutter.config.widgetMarker(t,n.widget,n),i=r?[r]:null;for(let s of t.state.facet($3e)){let a=s(t,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(t,n,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let n=t.elements.pop();t.dom.removeChild(n.dom),n.destroy()}}}class P${constructor(t,n){this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();a=(c.top+c.bottom)/2}else a=i.clientY;let l=t.lineBlockAtHeight(a-t.documentTop);n.domEventHandlers[r](t,l,i)&&i.preventDefault()});this.markers=O$(n.markers(t)),n.initialSpacer&&(this.spacer=new WX(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let n=this.markers;if(this.markers=O$(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!cn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class WX{constructor(t,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}update(t,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),U3e(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let l=a,c=s<n.length?n[s++]:null,u=!1;if(c){let d=c.elementClass;d&&(r+=" "+d);for(let h=a;h<this.markers.length;h++)if(this.markers[h].compare(c)){l=h,u=!0;break}}else l=this.markers.length;for(;a<l;){let d=this.markers[a++];if(d.toDOM){d.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!c)break;c.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(c.toDOM(t),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function U3e(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}const V3e=yt.define(),H3e=yt.define(),jf=yt.define({combine(e){return Ml(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,n){let r=Object.assign({},t);for(let i in n){let s=r[i],a=n[i];r[i]=s?(l,c,u)=>s(l,c,u)||a(l,c,u):a}return r}})}});class GS extends Oc{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function QS(e,t){return e.state.facet(jf).formatNumber(t,e.state)}const K3e=bg.compute([jf],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(V3e)},lineMarker(t,n,r){return r.some(i=>i.toDOM)?null:new GS(QS(t,t.state.doc.lineAt(n.from).number))},widgetMarker:(t,n,r)=>{for(let i of t.state.facet(H3e)){let s=i(t,n,r);if(s)return s}return null},lineMarkerChange:t=>t.startState.facet(jf)!=t.state.facet(jf),initialSpacer(t){return new GS(QS(t,E$(t.state.doc.lines)))},updateSpacer(t,n){let r=QS(n.view,E$(n.view.state.doc.lines));return r==t.number?t:new GS(r)},domEventHandlers:e.facet(jf).domEventHandlers,side:"before"}));function UX(e={}){return[jf.of(e),qX(),K3e]}function E$(e){let t=9;for(;t<e;)t=t*10+9;return t}const Y3e=new class extends Oc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},G3e=u_.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(Y3e.range(i)))}return cn.of(t)});function VX(){return G3e}const HX=1024;let Q3e=0;class XS{constructor(t,n){this.from=t,this.to=n}}class rn{constructor(t={}){this.id=Q3e++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=ps.match(t)),n=>{let r=t(n);return r===void 0?null:[this,r]}}}rn.closedBy=new rn({deserialize:e=>e.split(" ")});rn.openedBy=new rn({deserialize:e=>e.split(" ")});rn.group=new rn({deserialize:e=>e.split(" ")});rn.isolate=new rn({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});rn.contextHash=new rn({perNode:!0});rn.lookAhead=new rn({perNode:!0});rn.mounted=new rn({perNode:!0});class hw{constructor(t,n,r){this.tree=t,this.overlay=n,this.parser=r}static get(t){return t&&t.props&&t.props[rn.mounted.id]}}const X3e=Object.create(null);class ps{constructor(t,n,r,i=0){this.name=t,this.props=n,this.id=r,this.flags=i}static define(t){let n=t.props&&t.props.length?Object.create(null):X3e,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new ps(t.name||"",n,t.id,r);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let n=this.prop(rn.group);return n?n.indexOf(t)>-1:!1}return this.id==t}static match(t){let n=Object.create(null);for(let r in t)for(let i of r.split(" "))n[i]=t[r];return r=>{for(let i=r.prop(rn.group),s=-1;s<(i?i.length:0);s++){let a=n[s<0?r.name:i[s]];if(a)return a}}}}ps.none=new ps("",Object.create(null),0,8);class V1{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let r of this.types){let i=null;for(let s of t){let a=s(r);if(a){i||(i=Object.assign({},r.props));let l=a[1],c=a[0];c.combine&&c.id in i&&(l=c.combine(i[c.id],l)),i[c.id]=l}}n.push(i?new ps(r.name,i,r.id,r.flags):r)}return new V1(n)}}const sb=new WeakMap,M$=new WeakMap;var li;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(li||(li={}));class Dn{constructor(t,n,r,i,s){if(this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,l]of s)this.props[typeof a=="number"?a:a.id]=l}}toString(){let t=hw.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t=0){return new R2(this.topNode,t)}cursorAt(t,n=0,r=0){let i=sb.get(this)||this.topNode,s=new R2(i);return s.moveTo(t,n),sb.set(this,s._tree),s}get topNode(){return new Ba(this,0,0,null)}resolve(t,n=0){let r=Ny(sb.get(this)||this.topNode,t,n,!1);return sb.set(this,r),r}resolveInner(t,n=0){let r=Ny(M$.get(this)||this.topNode,t,n,!0);return M$.set(this,r),r}resolveStack(t,n=0){return eLe(this,t,n)}iterate(t){let{enter:n,leave:r,from:i=0,to:s=this.length}=t,a=t.mode||0,l=(a&li.IncludeAnonymous)>0;for(let c=this.cursor(a|li.IncludeAnonymous);;){let u=!1;if(c.from<=s&&c.to>=i&&(!l&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;u=!0}for(;u&&r&&(l||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:lA(ps.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Dn(this.type,n,r,i,this.propValues),t.makeTree||((n,r,i)=>new Dn(ps.none,n,r,i)))}static build(t){return tLe(t)}}Dn.empty=new Dn(ps.none,[],[],0);class aA{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new aA(this.buffer,this.index)}}class Wu{constructor(t,n,r){this.buffer=t,this.length=n,this.set=r}get type(){return ps.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],r=this.buffer[t+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),t+=4,r==t)return s;let a=[];for(;t<r;)a.push(this.childString(t)),t=this.buffer[t+3];return s+"("+a.join(",")+")"}findChild(t,n,r,i,s){let{buffer:a}=this,l=-1;for(let c=t;c!=n&&!(KX(s,i,a[c+1],a[c+2])&&(l=c,r>0));c=a[c+3]);return l}slice(t,n,r){let i=this.buffer,s=new Uint16Array(n-t),a=0;for(let l=t,c=0;l<n;){s[c++]=i[l++],s[c++]=i[l++]-r;let u=s[c++]=i[l++]-r;s[c++]=i[l++]-t,a=Math.max(a,u)}return new Wu(s,a,this.set)}}function KX(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Ny(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let a=!r&&e instanceof Ba&&e.index<0?null:e.parent;if(!a)return e;e=a}let s=r?0:li.IgnoreOverlays;if(r)for(let a=e,l=a.parent;l;a=l,l=a.parent)a instanceof Ba&&a.index<0&&((i=l.enter(t,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(e=l);for(;;){let a=e.enter(t,n,s);if(!a)return e;e=a}}class YX{cursor(t=0){return new R2(this,t)}getChild(t,n=null,r=null){let i=T$(this,t,n,r);return i.length?i[0]:null}getChildren(t,n=null,r=null){return T$(this,t,n,r)}resolve(t,n=0){return Ny(this,t,n,!1)}resolveInner(t,n=0){return Ny(this,t,n,!0)}matchContext(t){return D2(this.parent,t)}enterUnfinishedNodesBefore(t){let n=this.childBefore(t),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ba extends YX{constructor(t,n,r,i){super(),this._tree=t,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,r,i,s=0){for(let a=this;;){for(let{children:l,positions:c}=a._tree,u=n>0?l.length:-1;t!=u;t+=n){let d=l[t],h=c[t]+a.from;if(KX(i,r,h,h+d.length)){if(d instanceof Wu){if(s&li.ExcludeBuffers)continue;let m=d.findChild(0,d.buffer.length,n,r-h,i);if(m>-1)return new yu(new Z3e(a,d,t,h),null,m)}else if(s&li.IncludeAnonymous||!d.type.isAnonymous||oA(d)){let m;if(!(s&li.IgnoreMounts)&&(m=hw.get(d))&&!m.overlay)return new Ba(m.tree,h,t,a);let p=new Ba(d,h,t,a);return s&li.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?d.children.length-1:0,n,r,i)}}}if(s&li.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+n:t=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,n,r=0){let i;if(!(r&li.IgnoreOverlays)&&(i=hw.get(this._tree))&&i.overlay){let s=t-this.from;for(let{from:a,to:l}of i.overlay)if((n>0?a<=s:a<s)&&(n<0?l>=s:l>s))return new Ba(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function T$(e,t,n,r){let i=e.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(t)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function D2(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class Z3e{constructor(t,n,r,i){this.parent=t,this.buffer=n,this.index=r,this.start=i}}class yu extends YX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,n,r){super(),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return s<0?null:new yu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,n,r=0){if(r&li.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return s<0?null:new yu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new yu(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new yu(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];t.push(r.slice(i,s,a)),n.push(0)}return new Dn(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function GX(e){if(!e.length)return null;let t=0,n=e[0];for(let s=1;s<e.length;s++){let a=e[s];(a.from>n.from||a.to<n.to)&&(n=a,t=s)}let r=n instanceof Ba&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new J3e(i,n)}class J3e{constructor(t,n){this.heads=t,this.node=n}get next(){return GX(this.heads)}}function eLe(e,t,n){let r=e.resolveInner(t,n),i=null;for(let s=r instanceof Ba?r:r.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(i||(i=[r])).push(a.resolve(t,n)),s=a}else{let a=hw.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let l=new Ba(a.tree,a.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Ny(l,t,n,!1))}}return i?GX(i):r}class R2{get name(){return this.type.name}constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ba)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,n){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return t?t instanceof Ba?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,r=this.mode){return this.buffer?r&li.ExcludeBuffers?!1:this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&li.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&li.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+t,a=t<0?-1:r._tree.children.length;s!=a;s+=t){let l=r._tree.children[s];if(this.mode&li.IncludeAnonymous||l instanceof Wu||!l.type.isAnonymous||oA(l))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,r=0;if(t&&t.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=t;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new yu(this.buffer,n,this.stack[i]);return this.bufferNode=new yu(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return D2(this.node.parent,t);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=t.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return D2(this._tree,t,i);let a=r[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(t[i]&&t[i]!=a.name)return!1;i--}}return!0}}function oA(e){return e.children.some(t=>t instanceof Wu||!t.type.isAnonymous||oA(t))}function tLe(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=HX,reused:s=[],minRepeatType:a=r.types.length}=e,l=Array.isArray(n)?new aA(n,n.length):n,c=r.types,u=0,d=0;function h(_,k,C,O,M,P){let{id:A,start:R,end:F,size:V}=l,K=d,L=u;if(V<0)if(l.next(),V==-1){let Y=s[A];C.push(Y),O.push(R-_);return}else if(V==-3){u=A;return}else if(V==-4){d=A;return}else throw new RangeError(`Unrecognized record size: ${V}`);let W=c[A],z,T,q=R-_;if(F-R<=i&&(T=x(l.pos-k,M))){let Y=new Uint16Array(T.size-T.skip),ee=l.pos-T.size,pe=Y.length;for(;l.pos>ee;)pe=v(T.start,Y,pe);z=new Wu(Y,F-T.start,r),q=T.start-_}else{let Y=l.pos-V;l.next();let ee=[],pe=[],se=A>=a?A:-1,he=0,Pe=F;for(;l.pos>Y;)se>=0&&l.id==se&&l.size>=0?(l.end<=Pe-i&&(g(ee,pe,R,he,l.end,Pe,se,K,L),he=ee.length,Pe=l.end),l.next()):P>2500?m(R,Y,ee,pe):h(R,Y,ee,pe,se,P+1);if(se>=0&&he>0&&he<ee.length&&g(ee,pe,R,he,R,Pe,se,K,L),ee.reverse(),pe.reverse(),se>-1&&he>0){let J=p(W,L);z=lA(W,ee,pe,0,ee.length,0,F-R,J,J)}else z=y(W,ee,pe,F-R,K-F,L)}C.push(z),O.push(q)}function m(_,k,C,O){let M=[],P=0,A=-1;for(;l.pos>k;){let{id:R,start:F,end:V,size:K}=l;if(K>4)l.next();else{if(A>-1&&F<A)break;A<0&&(A=V-i),M.push(R,F,V),P++,l.next()}}if(P){let R=new Uint16Array(P*4),F=M[M.length-2];for(let V=M.length-3,K=0;V>=0;V-=3)R[K++]=M[V],R[K++]=M[V+1]-F,R[K++]=M[V+2]-F,R[K++]=K;C.push(new Wu(R,M[2]-F,r)),O.push(F-_)}}function p(_,k){return(C,O,M)=>{let P=0,A=C.length-1,R,F;if(A>=0&&(R=C[A])instanceof Dn){if(!A&&R.type==_&&R.length==M)return R;(F=R.prop(rn.lookAhead))&&(P=O[A]+R.length+F)}return y(_,C,O,M,P,k)}}function g(_,k,C,O,M,P,A,R,F){let V=[],K=[];for(;_.length>O;)V.push(_.pop()),K.push(k.pop()+C-M);_.push(y(r.types[A],V,K,P-M,R-P,F)),k.push(M-C)}function y(_,k,C,O,M,P,A){if(P){let R=[rn.contextHash,P];A=A?[R].concat(A):[R]}if(M>25){let R=[rn.lookAhead,M];A=A?[R].concat(A):[R]}return new Dn(_,k,C,O,A)}function x(_,k){let C=l.fork(),O=0,M=0,P=0,A=C.end-i,R={size:0,start:0,skip:0};e:for(let F=C.pos-_;C.pos>F;){let V=C.size;if(C.id==k&&V>=0){R.size=O,R.start=M,R.skip=P,P+=4,O+=4,C.next();continue}let K=C.pos-V;if(V<0||K<F||C.start<A)break;let L=C.id>=a?4:0,W=C.start;for(C.next();C.pos>K;){if(C.size<0)if(C.size==-3||C.size==-4)L+=4;else break e;else C.id>=a&&(L+=4);C.next()}M=W,O+=V,P+=L}return(k<0||O==_)&&(R.size=O,R.start=M,R.skip=P),R.size>4?R:void 0}function v(_,k,C){let{id:O,start:M,end:P,size:A}=l;if(l.next(),A>=0&&O<a){let R=C;if(A>4){let F=l.pos-(A-4);for(;l.pos>F;)C=v(_,k,C)}k[--C]=R,k[--C]=P-_,k[--C]=M-_,k[--C]=O}else A==-3?u=O:A==-4&&(d=O);return C}let w=[],b=[];for(;l.pos>0;)h(e.start||0,e.bufferStart||0,w,b,-1,0);let j=(t=e.length)!==null&&t!==void 0?t:w.length?b[0]+w[0].length:0;return new Dn(c[e.topID],w.reverse(),b.reverse(),j)}const A$=new WeakMap;function d_(e,t){if(!e.isAnonymous||t instanceof Wu||t.type!=e)return 1;let n=A$.get(t);if(n==null){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Dn)){n=1;break}n+=d_(e,r)}A$.set(t,n)}return n}function lA(e,t,n,r,i,s,a,l,c){let u=0;for(let g=r;g<i;g++)u+=d_(e,t[g]);let d=Math.ceil(u*1.5/8),h=[],m=[];function p(g,y,x,v,w){for(let b=x;b<v;){let j=b,_=y[b],k=d_(e,g[b]);for(b++;b<v;b++){let C=d_(e,g[b]);if(k+C>=d)break;k+=C}if(b==j+1){if(k>d){let C=g[j];p(C.children,C.positions,0,C.children.length,y[j]+w);continue}h.push(g[j])}else{let C=y[b-1]+g[b-1].length-_;h.push(lA(e,g,y,j,b,_,C,null,c))}m.push(_+w-s)}}return p(t,n,r,i,0),(l||c)(h,m,a)}class Hd{constructor(t,n,r,i,s=!1,a=!1){this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,n=[],r=!1){let i=[new Hd(0,t.length,t,0,!1,r)];for(let s of n)s.to>t.length&&i.push(s);return i}static applyChanges(t,n,r=128){if(!n.length)return t;let i=[],s=1,a=t.length?t[0]:null;for(let l=0,c=0,u=0;;l++){let d=l<n.length?n[l]:null,h=d?d.fromA:1e9;if(h-c>=r)for(;a&&a.from<h;){let m=a;if(c>=m.from||h<=m.to||u){let p=Math.max(m.from,c)-u,g=Math.min(m.to,h)-u;m=p>=g?null:new Hd(p,g,m.tree,m.offset+u,l>0,!!d)}if(m&&i.push(m),a.to>h)break;a=s<t.length?t[s++]:null}if(!d)break;c=d.toA,u=d.toA-d.toB}return i}}class cA{startParse(t,n,r){return typeof t=="string"&&(t=new nLe(t)),r=r?r.length?r.map(i=>new XS(i.from,i.to)):[new XS(0,0)]:[new XS(0,t.length)],this.createParse(t,n||[],r)}parse(t,n,r){let i=this.startParse(t,n,r);for(;;){let s=i.advance();if(s)return s}}}class nLe{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}}new rn({perNode:!0});let rLe=0,Gl=class I2{constructor(t,n,r,i){this.name=t,this.set=n,this.base=r,this.modified=i,this.id=rLe++}toString(){let{name:t}=this;for(let n of this.modified)n.name&&(t=`${n.name}(${t})`);return t}static define(t,n){let r=typeof t=="string"?t:"?";if(t instanceof I2&&(n=t),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new I2(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(t){let n=new fw(t);return r=>r.modified.indexOf(n)>-1?r:fw.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}},iLe=0;class fw{constructor(t){this.name=t,this.instances=[],this.id=iLe++}static get(t,n){if(!n.length)return t;let r=n[0].instances.find(l=>l.base==t&&sLe(n,l.modified));if(r)return r;let i=[],s=new Gl(t.name,i,t,n);for(let l of n)l.instances.push(s);let a=aLe(n);for(let l of t.set)if(!l.modified.length)for(let c of a)i.push(fw.get(l,c));return s}}function sLe(e,t){return e.length==t.length&&e.every((n,r)=>n==t[r])}function aLe(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((n,r)=>r.length-n.length)}function uA(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],a=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){a=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!m)throw new RangeError("Invalid path: "+i);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),h+=m[0].length,h==i.length)break;let p=i[h++];if(h==i.length&&p=="!"){a=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let c=s.length-1,u=s[c];if(!u)throw new RangeError("Invalid path: "+i);let d=new Cy(r,a,c>0?s.slice(0,c):null);t[u]=d.sort(t[u])}}return QX.add(t)}const QX=new rn({combine(e,t){let n,r,i;for(;e||t;){if(!e||t&&e.depth>=t.depth?(i=t,t=t.next):(i=e,e=e.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Cy(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Cy{constructor(t,n,r,i){this.tags=t,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Cy.empty=new Cy([],2,null);function XX(e,t){let n=Object.create(null);for(let s of e)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:r,all:i=null}=t||{};return{style:s=>{let a=i;for(let l of s)for(let c of l.set){let u=n[c.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function oLe(e,t){let n=null;for(let r of e){let i=r.style(t);i&&(n=n?n+" "+i:i)}return n}function lLe(e,t,n,r=0,i=e.length){let s=new cLe(r,Array.isArray(t)?t:[t],n);s.highlightRange(e.cursor(),r,i,"",s.highlighters),s.flush(i)}class cLe{constructor(t,n,r){this.at=t,this.highlighters=n,this.span=r,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,r,i,s){let{type:a,from:l,to:c}=t;if(l>=r||c<=n)return;a.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(a)));let u=i,d=uLe(t)||Cy.empty,h=oLe(s,d.tags);if(h&&(u&&(u+=" "),u+=h,d.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,l),u),d.opaque)return;let m=t.tree&&t.tree.prop(rn.mounted);if(m&&m.overlay){let p=t.node.enter(m.overlay[0].from+l,1),g=this.highlighters.filter(x=>!x.scope||x.scope(m.tree.type)),y=t.firstChild();for(let x=0,v=l;;x++){let w=x<m.overlay.length?m.overlay[x]:null,b=w?w.from+l:c,j=Math.max(n,v),_=Math.min(r,b);if(j<_&&y)for(;t.from<_&&(this.highlightRange(t,j,_,i,s),this.startSpan(Math.min(_,t.to),u),!(t.to>=b||!t.nextSibling())););if(!w||b>r)break;v=w.to+l,v>n&&(this.highlightRange(p.cursor(),Math.max(n,w.from+l),Math.min(r,v),"",g),this.startSpan(Math.min(r,v),u))}y&&t.parent()}else if(t.firstChild()){m&&(i="");do if(!(t.to<=n)){if(t.from>=r)break;this.highlightRange(t,n,r,i,s),this.startSpan(Math.min(r,t.to),u)}while(t.nextSibling());t.parent()}}}function uLe(e){let t=e.type.prop(QX);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const ot=Gl.define,ab=ot(),ou=ot(),z$=ot(ou),D$=ot(ou),lu=ot(),ob=ot(lu),ZS=ot(lu),Go=ot(),ad=ot(Go),Ho=ot(),Ko=ot(),L2=ot(),Cp=ot(L2),lb=ot(),ve={comment:ab,lineComment:ot(ab),blockComment:ot(ab),docComment:ot(ab),name:ou,variableName:ot(ou),typeName:z$,tagName:ot(z$),propertyName:D$,attributeName:ot(D$),className:ot(ou),labelName:ot(ou),namespace:ot(ou),macroName:ot(ou),literal:lu,string:ob,docString:ot(ob),character:ot(ob),attributeValue:ot(ob),number:ZS,integer:ot(ZS),float:ot(ZS),bool:ot(lu),regexp:ot(lu),escape:ot(lu),color:ot(lu),url:ot(lu),keyword:Ho,self:ot(Ho),null:ot(Ho),atom:ot(Ho),unit:ot(Ho),modifier:ot(Ho),operatorKeyword:ot(Ho),controlKeyword:ot(Ho),definitionKeyword:ot(Ho),moduleKeyword:ot(Ho),operator:Ko,derefOperator:ot(Ko),arithmeticOperator:ot(Ko),logicOperator:ot(Ko),bitwiseOperator:ot(Ko),compareOperator:ot(Ko),updateOperator:ot(Ko),definitionOperator:ot(Ko),typeOperator:ot(Ko),controlOperator:ot(Ko),punctuation:L2,separator:ot(L2),bracket:Cp,angleBracket:ot(Cp),squareBracket:ot(Cp),paren:ot(Cp),brace:ot(Cp),content:Go,heading:ad,heading1:ot(ad),heading2:ot(ad),heading3:ot(ad),heading4:ot(ad),heading5:ot(ad),heading6:ot(ad),contentSeparator:ot(Go),list:ot(Go),quote:ot(Go),emphasis:ot(Go),strong:ot(Go),link:ot(Go),monospace:ot(Go),strikethrough:ot(Go),inserted:ot(),deleted:ot(),changed:ot(),invalid:ot(),meta:lb,documentMeta:ot(lb),annotation:ot(lb),processingInstruction:ot(lb),definition:Gl.defineModifier("definition"),constant:Gl.defineModifier("constant"),function:Gl.defineModifier("function"),standard:Gl.defineModifier("standard"),local:Gl.defineModifier("local"),special:Gl.defineModifier("special")};for(let e in ve){let t=ve[e];t instanceof Gl&&(t.name=e)}XX([{tag:ve.link,class:"tok-link"},{tag:ve.heading,class:"tok-heading"},{tag:ve.emphasis,class:"tok-emphasis"},{tag:ve.strong,class:"tok-strong"},{tag:ve.keyword,class:"tok-keyword"},{tag:ve.atom,class:"tok-atom"},{tag:ve.bool,class:"tok-bool"},{tag:ve.url,class:"tok-url"},{tag:ve.labelName,class:"tok-labelName"},{tag:ve.inserted,class:"tok-inserted"},{tag:ve.deleted,class:"tok-deleted"},{tag:ve.literal,class:"tok-literal"},{tag:ve.string,class:"tok-string"},{tag:ve.number,class:"tok-number"},{tag:[ve.regexp,ve.escape,ve.special(ve.string)],class:"tok-string2"},{tag:ve.variableName,class:"tok-variableName"},{tag:ve.local(ve.variableName),class:"tok-variableName tok-local"},{tag:ve.definition(ve.variableName),class:"tok-variableName tok-definition"},{tag:ve.special(ve.variableName),class:"tok-variableName2"},{tag:ve.definition(ve.propertyName),class:"tok-propertyName tok-definition"},{tag:ve.typeName,class:"tok-typeName"},{tag:ve.namespace,class:"tok-namespace"},{tag:ve.className,class:"tok-className"},{tag:ve.macroName,class:"tok-macroName"},{tag:ve.propertyName,class:"tok-propertyName"},{tag:ve.operator,class:"tok-operator"},{tag:ve.comment,class:"tok-comment"},{tag:ve.meta,class:"tok-meta"},{tag:ve.invalid,class:"tok-invalid"},{tag:ve.punctuation,class:"tok-punctuation"}]);var JS;const zd=new rn;function ZX(e){return yt.define({combine:e?t=>t.concat(e):void 0})}const dLe=new rn;class Da{constructor(t,n,r=[],i=""){this.data=t,this.name=i,mn.prototype.hasOwnProperty("tree")||Object.defineProperty(mn.prototype,"tree",{get(){return Ki(this)}}),this.parser=n,this.extension=[Uu.of(this),mn.languageData.of((s,a,l)=>{let c=R$(s,a,l),u=c.type.prop(zd);if(!u)return[];let d=s.facet(u),h=c.type.prop(dLe);if(h){let m=c.resolve(a-c.from,l);for(let p of h)if(p.test(m,s)){let g=s.facet(p.facet);return p.type=="replace"?g:g.concat(d)}}return d})].concat(r)}isActiveAt(t,n,r=-1){return R$(t,n,r).type.prop(zd)==this.data}findRegions(t){let n=t.facet(Uu);if((n==null?void 0:n.data)==this.data)return[{from:0,to:t.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(zd)==this.data){r.push({from:a,to:a+s.length});return}let l=s.prop(rn.mounted);if(l){if(l.tree.prop(zd)==this.data){if(l.overlay)for(let c of l.overlay)r.push({from:c.from+a,to:c.to+a});else r.push({from:a,to:a+s.length});return}else if(l.overlay){let c=r.length;if(i(l.tree,l.overlay[0].from+a),r.length>c)return}}for(let c=0;c<s.children.length;c++){let u=s.children[c];u instanceof Dn&&i(u,s.positions[c]+a)}};return i(Ki(t),0),r}get allowsNesting(){return!0}}Da.setState=Zt.define();function R$(e,t,n){let r=e.facet(Uu),i=Ki(e).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(t,n,li.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Oy extends Da{constructor(t,n,r){super(t,n,[],r),this.parser=n}static define(t){let n=ZX(t.languageData);return new Oy(n,t.parser.configure({props:[zd.add(r=>r.isTop?n:void 0)]}),t.name)}configure(t,n){return new Oy(this.data,this.parser.configure(t),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ki(e){let t=e.field(Da.state,!1);return t?t.tree:Dn.empty}class hLe{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,n){let r=this.cursorPos-this.string.length;return t<r||n>=this.cursorPos?this.doc.sliceString(t,n):this.string.slice(t-r,n-r)}}let Op=null;class bm{constructor(t,n,r=[],i,s,a,l,c){this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=l,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(t,n,r){return new bm(t,n,[],Dn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new hLe(this.state.doc),this.fragments)}work(t,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Dn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Hd.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,n;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=t,this.tree=n,this.fragments=this.withoutTempSkipped(Hd.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let n=Op;Op=this;try{return t()}finally{Op=n}}withoutTempSkipped(t){for(let n;n=this.tempSkipped.pop();)t=I$(t,n.from,n.to);return t}changes(t,n){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:l}=this;if(this.takeTree(),!t.empty){let c=[];if(t.iterChangedRanges((u,d,h,m)=>c.push({fromA:u,toA:d,fromB:h,toB:m})),r=Hd.applyChanges(r,c),i=Dn.empty,s=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let d=t.mapPos(u.from,1),h=t.mapPos(u.to,-1);d<h&&l.push({from:d,to:h})}}}return new bm(this.parser,n,r,i,s,a,l,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<t.to&&s>t.from&&(this.fragments=I$(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,n){this.skipped.push({from:t,to:n})}static getSkippingParser(t){return new class extends cA{createParse(n,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let c=Op;if(c){for(let u of i)c.tempSkipped.push(u);t&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,t]):t)}return this.parsedPos=a,new Dn(ps.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let n=this.fragments;return this.treeLen>=t&&n.length&&n[0].from==0&&n[0].to>=t}static get(){return Op}}function I$(e,t,n){return Hd.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class _m{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new _m(n)}static init(t){let n=Math.min(3e3,t.doc.length),r=bm.create(t.facet(Uu).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new _m(r)}}Da.state=Ti.define({create:_m.init,update(e,t){for(let n of t.effects)if(n.is(Da.setState))return n.value;return t.startState.facet(Uu)!=t.state.facet(Uu)?_m.init(t.state):e.apply(t)}});let JX=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(JX=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const eN=typeof navigator<"u"&&(!((JS=navigator.scheduling)===null||JS===void 0)&&JS.isInputPending)?()=>navigator.scheduling.isInputPending():null,fLe=Cr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let n=this.view.state.field(Da.state).context;(n.updateViewport(t.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:t}=this.view,n=t.field(Da.state);(n.tree!=n.context.tree||!n.context.isDone(t.doc.length))&&(this.working=JX(this.work))}work(t){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Da.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!eN?Math.max(25,t.timeRemaining()-5):1e9),l=s.context.treeLen<i&&r.doc.length>i+1e3,c=s.context.work(()=>eN&&eN()||Date.now()>a,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(c||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Da.setState.of(new _m(s.context))})),this.chunkBudget>0&&!(c&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Ds(this.view.state,n)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Uu=yt.define({combine(e){return e.length?e[0]:null},enables:e=>[Da.state,fLe,ut.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class eZ{constructor(t,n=[]){this.language=t,this.support=n,this.extension=[t,n]}}const mLe=yt.define(),H1=yt.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(n=>n!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function mh(e){let t=e.facet(H1);return t.charCodeAt(0)==9?e.tabSize*t.length:t.length}function Py(e,t){let n="",r=e.tabSize,i=e.facet(H1)[0];if(i=="	"){for(;t>=r;)n+="	",t-=r;i=" "}for(let s=0;s<t;s++)n+=i;return n}function dA(e,t){e instanceof mn&&(e=new K1(e));for(let r of e.state.facet(mLe)){let i=r(e,t);if(i!==void 0)return i}let n=Ki(e.state);return n.length>=t?pLe(e,n,t):null}class K1{constructor(t,n={}){this.state=t,this.options=n,this.unit=mh(t)}lineAt(t,n=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==t?{text:"",from:t}:(n<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,n=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,n);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,n=1){let{text:r,from:i}=this.lineAt(t,n),s=this.countColumn(r,t-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(t,n=t.length){return Xm(t,this.state.tabSize,n)}lineIndent(t,n=1){let{text:r,from:i}=this.lineAt(t,n),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Y1=new rn;function pLe(e,t,n){let r=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let a=i;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)s.push(a);for(let a=s.length-1;a>=0;a--)r={node:s[a],next:r}}return tZ(r,e,n)}function tZ(e,t,n){for(let r=e;r;r=r.next){let i=yLe(r.node);if(i)return i(hA.create(t,n,r))}return 0}function gLe(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function yLe(e){let t=e.type.prop(Y1);if(t)return t;let n=e.firstChild,r;if(n&&(r=n.type.prop(rn.closedBy))){let i=e.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>nZ(a,!0,1,void 0,s&&!gLe(a)?i.from:void 0)}return e.parent==null?xLe:null}function xLe(){return 0}class hA extends K1{constructor(t,n,r){super(t.state,t.options),this.base=t,this.pos=n,this.context=r}get node(){return this.context.node}static create(t,n,r){return new hA(t,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let n=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(vLe(r,t))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return tZ(this.context.next,this.base,this.pos)}}function vLe(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function bLe(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,s=e.state.doc.lineAt(n.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=n.to;;){let c=t.childAfter(l);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=a)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}l=c.to}}function L$({closing:e,align:t=!0,units:n=1}){return r=>nZ(r,t,n,e)}function nZ(e,t,n,r,i){let s=e.textAfter,a=s.match(/^\s*/)[0].length,l=r&&s.slice(a,a+r.length)==r||i==e.pos+a,c=t?bLe(e):null;return c?l?e.column(c.from):e.column(c.to):e.baseIndent+(l?0:e.unit*n)}function $$({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const _Le=200;function wLe(){return mn.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+_Le)return e;let s=n.sliceString(i.from,r);if(!t.some(u=>u.test(s)))return e;let{state:a}=e,l=-1,c=[];for(let{head:u}of a.selection.ranges){let d=a.doc.lineAt(u);if(d.from==l)continue;l=d.from;let h=dA(a,d.from);if(h==null)continue;let m=/^\s*/.exec(d.text)[0],p=Py(a,h);m!=p&&c.push({from:d.from,to:d.from+m.length,insert:p})}return c.length?[e,{changes:c,sequential:!0}]:e})}const jLe=yt.define(),fA=new rn;function rZ(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function kLe(e,t,n){let r=Ki(e);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let a=i;a;a=a.next){let l=a.node;if(l.to<=n||l.from>n)continue;if(s&&l.from<t)break;let c=l.type.prop(fA);if(c&&(l.to<r.length-50||r.length==e.doc.length||!SLe(l))){let u=c(l,e);u&&u.from<=n&&u.from>=t&&u.to>n&&(s=u)}}return s}function SLe(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function mw(e,t,n){for(let r of e.facet(jLe)){let i=r(e,t,n);if(i)return i}return kLe(e,t,n)}function iZ(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const G1=Zt.define({map:iZ}),qx=Zt.define({map:iZ});function sZ(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(r=>r.from<=n&&r.to>=n)||t.push(e.lineBlockAt(n));return t}const ph=Ti.define({create(){return $t.none},update(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((n,r)=>e=F$(e,n,r)),e=e.map(t.changes);for(let n of t.effects)if(n.is(G1)&&!NLe(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(lZ),i=r?$t.replace({widget:new ALe(r(t.state,n.value))}):B$;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(qx)&&(e=e.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return t.selection&&(e=F$(e,t.selection.main.head)),e},provide:e=>ut.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push(B$.range(r,i))}return $t.set(t,!0)}});function F$(e,t,n=t){let r=!1;return e.between(t,n,(i,s)=>{i<n&&s>t&&(r=!0)}),r?e.update({filterFrom:t,filterTo:n,filter:(i,s)=>i>=n||s<=t}):e}function pw(e,t,n){var r;let i=null;return(r=e.field(ph,!1))===null||r===void 0||r.between(t,n,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function NLe(e,t,n){let r=!1;return e.between(t,t,(i,s)=>{i==t&&s==n&&(r=!0)}),r}function aZ(e,t){return e.field(ph,!1)?t:t.concat(Zt.appendConfig.of(cZ()))}const CLe=e=>{for(let t of sZ(e)){let n=mw(e.state,t.from,t.to);if(n)return e.dispatch({effects:aZ(e.state,[G1.of(n),oZ(e,n)])}),!0}return!1},OLe=e=>{if(!e.state.field(ph,!1))return!1;let t=[];for(let n of sZ(e)){let r=pw(e.state,n.from,n.to);r&&t.push(qx.of(r),oZ(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function oZ(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return ut.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const PLe=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),s=mw(t,i.from,i.to);s&&n.push(G1.of(s)),r=(s?e.lineBlockAt(s.to):i).to+1}return n.length&&e.dispatch({effects:aZ(e.state,n)}),!!n.length},ELe=e=>{let t=e.state.field(ph,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(r,i)=>{n.push(qx.of({from:r,to:i}))}),e.dispatch({effects:n}),!0},MLe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:CLe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:OLe},{key:"Ctrl-Alt-[",run:PLe},{key:"Ctrl-Alt-]",run:ELe}],TLe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},lZ=yt.define({combine(e){return Ml(e,TLe)}});function cZ(e){return[ph,RLe]}function uZ(e,t){let{state:n}=e,r=n.facet(lZ),i=a=>{let l=e.lineBlockAt(e.posAtDOM(a.target)),c=pw(e.state,l.from,l.to);c&&e.dispatch({effects:qx.of(c)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const B$=$t.replace({widget:new class extends Tl{toDOM(e){return uZ(e,null)}}});class ALe extends Tl{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return uZ(t,this.value)}}const zLe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class tN extends Oc{constructor(t,n){super(),this.config=t,this.open=n}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=t.state.phrase(this.open?"Fold line":"Unfold line"),n}}function DLe(e={}){let t={...zLe,...e},n=new tN(t,!0),r=new tN(t,!1),i=Cr.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Uu)!=a.state.facet(Uu)||a.startState.field(ph,!1)!=a.state.field(ph,!1)||Ki(a.startState)!=Ki(a.state)||t.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let l=new Nc;for(let c of a.viewportLineBlocks){let u=pw(a.state,c.from,c.to)?r:mw(a.state,c.from,c.to)?n:null;u&&l.add(c.from,c.from,u)}return l.finish()}}),{domEventHandlers:s}=t;return[i,B3e({class:"cm-foldGutter",markers(a){var l;return((l=a.plugin(i))===null||l===void 0?void 0:l.markers)||cn.empty},initialSpacer(){return new tN(t,!1)},domEventHandlers:{...s,click:(a,l,c)=>{if(s.click&&s.click(a,l,c))return!0;let u=pw(a.state,l.from,l.to);if(u)return a.dispatch({effects:qx.of(u)}),!0;let d=mw(a.state,l.from,l.to);return d?(a.dispatch({effects:G1.of(d)}),!0):!1}}}),cZ()]}const RLe=ut.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Wx{constructor(t,n){this.specs=t;let r;function i(l){let c=Fu.newName();return(r||(r=Object.create(null)))["."+c]=l,c}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof Da?l=>l.prop(zd)==a.data:a?l=>l==a:void 0,this.style=XX(t.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=r?new Fu(r):null,this.themeType=n.themeType}static define(t,n){return new Wx(t,n||{})}}const $2=yt.define(),dZ=yt.define({combine(e){return e.length?[e[0]]:null}});function nN(e){let t=e.facet($2);return t.length?t:e.facet(dZ)}function hZ(e,t){let n=[LLe],r;return e instanceof Wx&&(e.module&&n.push(ut.styleModule.of(e.module)),r=e.themeType),t!=null&&t.fallback?n.push(dZ.of(e)):r?n.push($2.computeN([ut.darkTheme],i=>i.facet(ut.darkTheme)==(r=="dark")?[e]:[])):n.push($2.of(e)),n}class ILe{constructor(t){this.markCache=Object.create(null),this.tree=Ki(t.state),this.decorations=this.buildDeco(t,nN(t.state)),this.decoratedTo=t.viewport.to}update(t){let n=Ki(t.state),r=nN(t.state),i=r!=nN(t.startState),{viewport:s}=t.view,a=t.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&a>=s.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=a):(n!=this.tree||t.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(t.view,r),this.decoratedTo=s.to)}buildDeco(t,n){if(!n||!this.tree.length)return $t.none;let r=new Nc;for(let{from:i,to:s}of t.visibleRanges)lLe(this.tree,n,(a,l,c)=>{r.add(a,l,this.markCache[c]||(this.markCache[c]=$t.mark({class:c})))},i,s);return r.finish()}}const LLe=Ch.high(Cr.fromClass(ILe,{decorations:e=>e.decorations})),$Le=Wx.define([{tag:ve.meta,color:"#404740"},{tag:ve.link,textDecoration:"underline"},{tag:ve.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ve.emphasis,fontStyle:"italic"},{tag:ve.strong,fontWeight:"bold"},{tag:ve.strikethrough,textDecoration:"line-through"},{tag:ve.keyword,color:"#708"},{tag:[ve.atom,ve.bool,ve.url,ve.contentSeparator,ve.labelName],color:"#219"},{tag:[ve.literal,ve.inserted],color:"#164"},{tag:[ve.string,ve.deleted],color:"#a11"},{tag:[ve.regexp,ve.escape,ve.special(ve.string)],color:"#e40"},{tag:ve.definition(ve.variableName),color:"#00f"},{tag:ve.local(ve.variableName),color:"#30a"},{tag:[ve.typeName,ve.namespace],color:"#085"},{tag:ve.className,color:"#167"},{tag:[ve.special(ve.variableName),ve.macroName],color:"#256"},{tag:ve.definition(ve.propertyName),color:"#00c"},{tag:ve.comment,color:"#940"},{tag:ve.invalid,color:"#f00"}]),FLe=ut.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),fZ=1e4,mZ="()[]{}",pZ=yt.define({combine(e){return Ml(e,{afterCursor:!0,brackets:mZ,maxScanDistance:fZ,renderMatch:WLe})}}),BLe=$t.mark({class:"cm-matchingBracket"}),qLe=$t.mark({class:"cm-nonmatchingBracket"});function WLe(e){let t=[],n=e.matched?BLe:qLe;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const ULe=Ti.define({create(){return $t.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(pZ);for(let i of t.state.selection.ranges){if(!i.empty)continue;let s=cl(t.state,i.head,-1,r)||i.head>0&&cl(t.state,i.head-1,1,r)||r.afterCursor&&(cl(t.state,i.head,1,r)||i.head<t.state.doc.length&&cl(t.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,t.state)))}return $t.set(n,!0)},provide:e=>ut.decorations.from(e)}),VLe=[ULe,FLe];function HLe(e={}){return[pZ.of(e),VLe]}const KLe=new rn;function F2(e,t,n){let r=e.prop(t<0?rn.openedBy:rn.closedBy);if(r)return r;if(e.name.length==1){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function B2(e){let t=e.type.prop(KLe);return t?t(e.node):e}function cl(e,t,n,r={}){let i=r.maxScanDistance||fZ,s=r.brackets||mZ,a=Ki(e),l=a.resolveInner(t,n);for(let c=l;c;c=c.parent){let u=F2(c.type,n,s);if(u&&c.from<c.to){let d=B2(c);if(d&&(n>0?t>=d.from&&t<d.to:t>d.from&&t<=d.to))return YLe(e,t,n,c,d,u,s)}}return GLe(e,t,n,a,l.type,i,s)}function YLe(e,t,n,r,i,s,a){let l=r.parent,c={from:i.from,to:i.to},u=0,d=l==null?void 0:l.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(u==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let h=B2(d);return{start:c,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(F2(d.type,n,a))u++;else if(F2(d.type,-n,a)){if(u==0){let h=B2(d);return{start:c,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function GLe(e,t,n,r,i,s,a){let l=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),c=a.indexOf(l);if(c<0||c%2==0!=n>0)return null;let u={from:n<0?t-1:t,to:n>0?t+1:t},d=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let m=0;!d.next().done&&m<=s;){let p=d.value;n<0&&(m+=p.length);let g=t+m*n;for(let y=n>0?0:p.length-1,x=n>0?p.length:-1;y!=x;y+=n){let v=a.indexOf(p[y]);if(!(v<0||r.resolveInner(g+y,1).type!=i))if(v%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:g+y,to:g+y+1},matched:v>>1==c>>1};h--}}n>0&&(m+=p.length)}return d.done?{start:u,matched:!1}:null}function q$(e,t,n,r=0,i=0){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));let s=i;for(let a=r;a<t;a++)e.charCodeAt(a)==9?s+=n-s%n:s++;return s}class gZ{constructor(t,n,r,i){this.string=t,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let n=this.string.charAt(this.pos),r;if(typeof t=="string"?r=n==t:r=n&&(t instanceof RegExp?t.test(n):t(n)),r)return++this.pos,n}eatWhile(t){let n=this.pos;for(;this.eat(t););return this.pos>n}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=q$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return(t=this.overrideIndent)!==null&&t!==void 0?t:q$(this.string,null,this.tabSize)}match(t,n,r){if(typeof t=="string"){let i=a=>r?a.toLowerCase():a,s=this.string.substr(this.pos,t.length);return i(s)==i(t)?(n!==!1&&(this.pos+=t.length),!0):null}else{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function QLe(e){return{name:e.name||"",token:e.token,blankLine:e.blankLine||(()=>{}),startState:e.startState||(()=>!0),copyState:e.copyState||XLe,indent:e.indent||(()=>null),languageData:e.languageData||{},tokenTable:e.tokenTable||gA,mergeTokens:e.mergeTokens!==!1}}function XLe(e){if(typeof e!="object")return e;let t={};for(let n in e){let r=e[n];t[n]=r instanceof Array?r.slice():r}return t}const W$=new WeakMap;class mA extends Da{constructor(t){let n=ZX(t.languageData),r=QLe(t),i,s=new class extends cA{createParse(a,l,c){return new JLe(i,a,l,c)}};super(n,s,[],t.name),this.topNode=n$e(n,this),i=this,this.streamParser=r,this.stateAfter=new rn({perNode:!0}),this.tokenTable=t.tokenTable?new bZ(r.tokenTable):t$e}static define(t){return new mA(t)}getIndent(t){let n,{overrideIndentation:r}=t.options;r&&(n=W$.get(t.state),n!=null&&n<t.pos-1e4&&(n=void 0));let i=pA(this,t.node.tree,t.node.from,t.node.from,n??t.pos),s,a;if(i?(a=i.state,s=i.pos+1):(a=this.streamParser.startState(t.unit),s=t.node.from),t.pos-s>1e4)return null;for(;s<t.pos;){let c=t.state.doc.lineAt(s),u=Math.min(t.pos,c.to);if(c.length){let d=r?r(c.from):-1,h=new gZ(c.text,t.state.tabSize,t.unit,d<0?void 0:d);for(;h.pos<u-c.from;)xZ(this.streamParser.token,h,a)}else this.streamParser.blankLine(a,t.unit);if(u==t.pos)break;s=c.to+1}let l=t.lineAt(t.pos);return r&&n==null&&W$.set(t.state,l.from),this.streamParser.indent(a,/^\s*(.*)/.exec(l.text)[1],t)}get allowsNesting(){return!1}}function pA(e,t,n,r,i){let s=n>=r&&n+t.length<=i&&t.prop(e.stateAfter);if(s)return{state:e.streamParser.copyState(s),pos:n+t.length};for(let a=t.children.length-1;a>=0;a--){let l=t.children[a],c=n+t.positions[a],u=l instanceof Dn&&c<i&&pA(e,l,c,r,i);if(u)return u}return null}function yZ(e,t,n,r,i){if(i&&n<=0&&r>=t.length)return t;!i&&n==0&&t.type==e.topNode&&(i=!0);for(let s=t.children.length-1;s>=0;s--){let a=t.positions[s],l=t.children[s],c;if(a<r&&l instanceof Dn){if(!(c=yZ(e,l,n-a,r-a,i)))break;return i?new Dn(t.type,t.children.slice(0,s).concat(c),t.positions.slice(0,s+1),a+c.length):c}}return null}function ZLe(e,t,n,r,i){for(let s of t){let a=s.from+(s.openStart?25:0),l=s.to-(s.openEnd?25:0),c=a<=n&&l>n&&pA(e,s.tree,0-s.offset,n,l),u;if(c&&c.pos<=r&&(u=yZ(e,s.tree,n+s.offset,c.pos+s.offset,!1)))return{state:c.state,tree:u}}return{state:e.streamParser.startState(i?mh(i):4),tree:Dn.empty}}let JLe=class{constructor(t,n,r,i){this.lang=t,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=bm.get(),a=i[0].from,{state:l,tree:c}=ZLe(t,r,a,this.to,s==null?void 0:s.state);this.state=l,this.parsedPos=this.chunkStart=a+c.length;for(let u=0;u<c.children.length;u++)this.chunks.push(c.children[u]),this.chunkPos.push(c.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&i.some(u=>u.from<=s.viewport.from&&u.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(mh(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let t=bm.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(t&&(r=Math.min(r,t.viewport.to));this.parsedPos<r;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let n=this.input.chunk(t);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return t+n.length<=this.to?n:n.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,n=this.lineAfter(t),r=t+n.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),i++,i==this.ranges.length))break;let a=this.ranges[i].from,l=this.lineAfter(a);n+=l,r=a+l.length}return{line:n,end:r}}skipGapsTo(t,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=t+n;if(r>0?i>s:i>=s)break;let a=this.ranges[++this.rangeIndex].from;n+=a-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,n,r,i){let s=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let l=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,s+=this.chunk.length-l}let a=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&a>=0&&this.chunk[a]==t&&this.chunk[a+2]==n?this.chunk[a+2]=r:this.chunk.push(t,n,r,s),i}parseLine(t){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,a=new gZ(n,t?t.state.tabSize:4,t?mh(t.state):2);if(a.eol())s.blankLine(this.state,a.indentUnit);else for(;!a.eol();){let l=xZ(s.token,a,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+a.start,this.parsedPos+a.pos,i)),a.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=Dn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:e$e,topID:0,maxBufferLength:512,reused:this.chunkReused});t=new Dn(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Dn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function xZ(e,t,n){t.start=t.pos;for(let r=0;r<10;r++){let i=e(t,n);if(t.pos>t.start)return i}throw new Error("Stream parser failed to advance stream.")}const gA=Object.create(null),Ey=[ps.none],e$e=new V1(Ey),U$=[],V$=Object.create(null),vZ=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])vZ[e]=_Z(gA,t);class bZ{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),vZ)}resolve(t){return t?this.table[t]||(this.table[t]=_Z(this.extra,t)):0}}const t$e=new bZ(gA);function rN(e,t){U$.indexOf(e)>-1||(U$.push(e),console.warn(t))}function _Z(e,t){let n=[];for(let l of t.split(" ")){let c=[];for(let u of l.split(".")){let d=e[u]||ve[u];d?typeof d=="function"?c.length?c=c.map(d):rN(u,`Modifier ${u} used at start of tag`):c.length?rN(u,`Tag ${u} used as modifier`):c=Array.isArray(d)?d:[d]:rN(u,`Unknown highlighting tag ${u}`)}for(let u of c)n.push(u)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map(l=>l.id),s=V$[i];if(s)return s.id;let a=V$[i]=ps.define({id:Ey.length,name:r,props:[uA({[r]:n})]});return Ey.push(a),a.id}function n$e(e,t){let n=ps.define({id:Ey.length,name:"Document",props:[zd.add(()=>e),Y1.add(()=>r=>t.getIndent(r))],top:!0});return Ey.push(n),n}zn.RTL,zn.LTR;const r$e=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=xA(e.state,n.from);return r.line?i$e(e):r.block?a$e(e):!1};function yA(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return i?(r(n.update(i)),!0):!1}}const i$e=yA(c$e,0),s$e=yA(wZ,0),a$e=yA((e,t)=>wZ(e,t,l$e(t)),0);function xA(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const Pp=50;function o$e(e,{open:t,close:n},r,i){let s=e.sliceDoc(r-Pp,r),a=e.sliceDoc(i,i+Pp),l=/\s*$/.exec(s)[0].length,c=/^\s*/.exec(a)[0].length,u=s.length-l;if(s.slice(u-t.length,u)==t&&a.slice(c,c+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+c,margin:c&&1}};let d,h;i-r<=2*Pp?d=h=e.sliceDoc(r,i):(d=e.sliceDoc(r,r+Pp),h=e.sliceDoc(i-Pp,i));let m=/^\s*/.exec(d)[0].length,p=/\s*$/.exec(h)[0].length,g=h.length-p-n.length;return d.slice(m,m+t.length)==t&&h.slice(g,g+n.length)==n?{open:{pos:r+m+t.length,margin:/\s/.test(d.charAt(m+t.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function l$e(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let s=t.length-1;s>=0&&t[s].to>r.from?t[s].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}function wZ(e,t,n=t.selection.ranges){let r=n.map(s=>xA(t,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,a)=>o$e(t,r[a],s.from,s.to));if(e!=2&&!i.every(s=>s))return{changes:t.changes(n.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(e!=1&&i.some(s=>s)){let s=[];for(let a=0,l;a<i.length;a++)if(l=i[a]){let c=r[a],{open:u,close:d}=l;s.push({from:u.pos-c.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:s}}return null}function c$e(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of n){let l=r.length,c=1e9,u=xA(t,s).line;if(u){for(let d=s;d<=a;){let h=t.doc.lineAt(d);if(h.from>i&&(s==a||a>h.from)){i=h.from;let m=/^\s*/.exec(h.text)[0].length,p=m==h.length,g=h.text.slice(m,m+u.length)==u?m:-1;m<h.text.length&&m<c&&(c=m),r.push({line:h,comment:g,token:u,indent:m,empty:p,single:!1})}d=h.to+1}if(c<1e9)for(let d=l;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=c);r.length==l+1&&(r[l].single=!0)}}if(e!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:c,indent:u,empty:d,single:h}of r)(h||!d)&&s.push({from:l.from+u,insert:c+" "});let a=t.changes(s);return{changes:a,selection:t.selection.map(a,1)}}else if(e!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:l,token:c}of r)if(l>=0){let u=a.from+l,d=u+c.length;a.text[d-a.from]==" "&&d++,s.push({from:u,to:d})}return{changes:s}}return null}const q2=El.define(),u$e=El.define(),d$e=yt.define(),jZ=yt.define({combine(e){return Ml(e,{minDepth:100,newGroupDelay:500,joinToEvent:(t,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,n)=>(r,i)=>t(r,i)||n(r,i)})}}),kZ=Ti.define({create(){return ul.empty},update(e,t){let n=t.state.facet(jZ),r=t.annotation(q2);if(r){let c=Rs.fromTransaction(t,r.selection),u=r.side,d=u==0?e.undone:e.done;return c?d=gw(d,d.length,n.minDepth,c):d=CZ(d,t.startState.selection),new ul(u==0?r.rest:d,u==0?d:r.rest)}let i=t.annotation(u$e);if((i=="full"||i=="before")&&(e=e.isolate()),t.annotation(Hr.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let s=Rs.fromTransaction(t),a=t.annotation(Hr.time),l=t.annotation(Hr.userEvent);return s?e=e.addChanges(s,a,l,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,l,n.newGroupDelay)),(i=="full"||i=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new ul(e.done.map(Rs.fromJSON),e.undone.map(Rs.fromJSON))}});function h$e(e={}){return[kZ,jZ.of(e),ut.domEventHandlers({beforeinput(t,n){let r=t.inputType=="historyUndo"?SZ:t.inputType=="historyRedo"?W2:null;return r?(t.preventDefault(),r(n)):!1}})]}function Q1(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(kZ,!1);if(!i)return!1;let s=i.pop(e,n,t);return s?(r(s),!0):!1}}const SZ=Q1(0,!1),W2=Q1(1,!1),f$e=Q1(0,!0),m$e=Q1(1,!0);class Rs{constructor(t,n,r,i,s){this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(t){return new Rs(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new Rs(t.changes&&qr.fromJSON(t.changes),[],t.mapped&&gl.fromJSON(t.mapped),t.startSelection&&Ae.fromJSON(t.startSelection),t.selectionsAfter.map(Ae.fromJSON))}static fromTransaction(t,n){let r=Ra;for(let i of t.startState.facet(d$e)){let s=i(t);s.length&&(r=r.concat(s))}return!r.length&&t.changes.empty?null:new Rs(t.changes.invert(t.startState.doc),r,void 0,n||t.startState.selection,Ra)}static selection(t){return new Rs(void 0,Ra,void 0,void 0,t)}}function gw(e,t,n,r){let i=t+1>n+20?t-n-1:0,s=e.slice(i,t);return s.push(r),s}function p$e(e,t){let n=[],r=!1;return e.iterChangedRanges((i,s)=>n.push(i,s)),t.iterChangedRanges((i,s,a,l)=>{for(let c=0;c<n.length;){let u=n[c++],d=n[c++];l>=u&&a<=d&&(r=!0)}}),r}function g$e(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((n,r)=>n.empty!=t.ranges[r].empty).length===0}function NZ(e,t){return e.length?t.length?e.concat(t):e:t}const Ra=[],y$e=200;function CZ(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-y$e));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),gw(e,e.length-1,1e9,n.setSelAfter(r)))}else return[Rs.selection([t])]}function x$e(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function iN(e,t){if(!e.length)return e;let n=e.length,r=Ra;for(;n;){let i=v$e(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=e.slice(0,n);return s[n-1]=i,s}else t=i.mapped,n--,r=i.selectionsAfter}return r.length?[Rs.selection(r)]:Ra}function v$e(e,t,n){let r=NZ(e.selectionsAfter.length?e.selectionsAfter.map(l=>l.map(t)):Ra,n);if(!e.changes)return Rs.selection(r);let i=e.changes.map(t),s=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(s):s;return new Rs(i,Zt.mapEffects(e.effects,t),a,e.startSelection.map(s),r)}const b$e=/^(input\.type|delete)($|\.)/;class ul{constructor(t,n,r=0,i=void 0){this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ul(this.done,this.undone):this}addChanges(t,n,r,i,s){let a=this.done,l=a[a.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!r||b$e.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,p$e(l.changes,t.changes))||r=="input.type.compose")?a=gw(a,a.length-1,i.minDepth,new Rs(t.changes.compose(l.changes),NZ(Zt.mapEffects(t.effects,l.changes),l.effects),l.mapped,l.startSelection,Ra)):a=gw(a,a.length,i.minDepth,t),new ul(a,Ra,n,r)}addSelection(t,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ra;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&g$e(s[s.length-1],t)?this:new ul(CZ(this.done,t),this.undone,n,r)}addMapping(t){return new ul(iN(this.done,t),iN(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],a=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:q2.of({side:t,rest:x$e(i),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?Ra:i.slice(0,i.length-1);return s.mapped&&(l=iN(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:q2.of({side:t,rest:l,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}ul.empty=new ul(Ra,Ra);const _$e=[{key:"Mod-z",run:SZ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:W2,preventDefault:!0},{linux:"Ctrl-Shift-z",run:W2,preventDefault:!0},{key:"Mod-u",run:f$e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:m$e,preventDefault:!0}];function Zm(e,t){return Ae.create(e.ranges.map(t),e.mainIndex)}function Io(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Lo({state:e,dispatch:t},n){let r=Zm(e.selection,n);return r.eq(e.selection,!0)?!1:(t(Io(e,r)),!0)}function X1(e,t){return Ae.cursor(t?e.to:e.from)}function OZ(e,t){return Lo(e,n=>n.empty?e.moveByChar(n,t):X1(n,t))}function Gi(e){return e.textDirectionAt(e.state.selection.main.head)==zn.LTR}const PZ=e=>OZ(e,!Gi(e)),EZ=e=>OZ(e,Gi(e));function MZ(e,t){return Lo(e,n=>n.empty?e.moveByGroup(n,t):X1(n,t))}const w$e=e=>MZ(e,!Gi(e)),j$e=e=>MZ(e,Gi(e));function k$e(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Z1(e,t,n){let r=Ki(e).resolveInner(t.head),i=n?rn.closedBy:rn.openedBy;for(let c=t.head;;){let u=n?r.childAfter(c):r.childBefore(c);if(!u)break;k$e(e,u,i)?r=u:c=n?u.to:u.from}let s=r.type.prop(i),a,l;return s&&(a=n?cl(e,r.from,1):cl(e,r.to,-1))&&a.matched?l=n?a.end.to:a.end.from:l=n?r.to:r.from,Ae.cursor(l,n?-1:1)}const S$e=e=>Lo(e,t=>Z1(e.state,t,!Gi(e))),N$e=e=>Lo(e,t=>Z1(e.state,t,Gi(e)));function TZ(e,t){return Lo(e,n=>{if(!n.empty)return X1(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}const AZ=e=>TZ(e,!1),zZ=e=>TZ(e,!0);function DZ(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,i;if(t){for(let s of e.state.facet(ut.scrollMargins)){let a=s(e);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=e.scrollDOM.clientHeight-n-r}else i=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,i-5)}}function RZ(e,t){let n=DZ(e),{state:r}=e,i=Zm(r.selection,a=>a.empty?e.moveVertically(a,t,n.height):X1(a,t));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let a=e.coordsAtPos(r.selection.main.head),l=e.scrollDOM.getBoundingClientRect(),c=l.top+n.marginTop,u=l.bottom-n.marginBottom;a&&a.top>c&&a.bottom<u&&(s=ut.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-c}))}return e.dispatch(Io(r,i),{effects:s}),!0}const H$=e=>RZ(e,!1),U2=e=>RZ(e,!0);function Ju(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&t.head!=r.from+s&&(i=Ae.cursor(r.from+s))}return i}const C$e=e=>Lo(e,t=>Ju(e,t,!0)),O$e=e=>Lo(e,t=>Ju(e,t,!1)),P$e=e=>Lo(e,t=>Ju(e,t,!Gi(e))),E$e=e=>Lo(e,t=>Ju(e,t,Gi(e))),M$e=e=>Lo(e,t=>Ae.cursor(e.lineBlockAt(t.head).from,1)),T$e=e=>Lo(e,t=>Ae.cursor(e.lineBlockAt(t.head).to,-1));function A$e(e,t,n){let r=!1,i=Zm(e.selection,s=>{let a=cl(e,s.head,-1)||cl(e,s.head,1)||s.head>0&&cl(e,s.head-1,1)||s.head<e.doc.length&&cl(e,s.head+1,-1);if(!a||!a.end)return s;r=!0;let l=a.start.from==s.head?a.end.to:a.end.from;return Ae.cursor(l)});return r?(t(Io(e,i)),!0):!1}const z$e=({state:e,dispatch:t})=>A$e(e,t);function io(e,t){let n=Zm(e.state.selection,r=>{let i=t(r);return Ae.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(Io(e.state,n)),!0)}function IZ(e,t){return io(e,n=>e.moveByChar(n,t))}const LZ=e=>IZ(e,!Gi(e)),$Z=e=>IZ(e,Gi(e));function FZ(e,t){return io(e,n=>e.moveByGroup(n,t))}const D$e=e=>FZ(e,!Gi(e)),R$e=e=>FZ(e,Gi(e)),I$e=e=>io(e,t=>Z1(e.state,t,!Gi(e))),L$e=e=>io(e,t=>Z1(e.state,t,Gi(e)));function BZ(e,t){return io(e,n=>e.moveVertically(n,t))}const qZ=e=>BZ(e,!1),WZ=e=>BZ(e,!0);function UZ(e,t){return io(e,n=>e.moveVertically(n,t,DZ(e).height))}const K$=e=>UZ(e,!1),Y$=e=>UZ(e,!0),$$e=e=>io(e,t=>Ju(e,t,!0)),F$e=e=>io(e,t=>Ju(e,t,!1)),B$e=e=>io(e,t=>Ju(e,t,!Gi(e))),q$e=e=>io(e,t=>Ju(e,t,Gi(e))),W$e=e=>io(e,t=>Ae.cursor(e.lineBlockAt(t.head).from)),U$e=e=>io(e,t=>Ae.cursor(e.lineBlockAt(t.head).to)),G$=({state:e,dispatch:t})=>(t(Io(e,{anchor:0})),!0),Q$=({state:e,dispatch:t})=>(t(Io(e,{anchor:e.doc.length})),!0),X$=({state:e,dispatch:t})=>(t(Io(e,{anchor:e.selection.main.anchor,head:0})),!0),Z$=({state:e,dispatch:t})=>(t(Io(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),V$e=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),H$e=({state:e,dispatch:t})=>{let n=J1(e).map(({from:r,to:i})=>Ae.range(r,Math.min(i+1,e.doc.length)));return t(e.update({selection:Ae.create(n),userEvent:"select"})),!0},K$e=({state:e,dispatch:t})=>{let n=Zm(e.selection,r=>{let i=Ki(e),s=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=s.node.from&&a.node.to<=s.node.to&&(s=a)}for(let a=s;a;a=a.next){let{node:l}=a;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&a.next)return Ae.range(l.to,l.from)}return r});return n.eq(e.selection)?!1:(t(Io(e,n)),!0)};function VZ(e,t){let{state:n}=e,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let a=n.doc.lineAt(s.head);if(t?a.to<e.state.doc.length:a.from>0)for(let l=s;;){let c=e.moveVertically(l,t);if(c.head<a.from||c.head>a.to){i.some(u=>u.head==c.head)||i.push(c);break}else{if(c.head==l.head)break;l=c}}}return i.length==r.ranges.length?!1:(e.dispatch(Io(n,Ae.create(i,i.length-1))),!0)}const Y$e=e=>VZ(e,!1),G$e=e=>VZ(e,!0),Q$e=({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Ae.create([n.main]):n.main.empty||(r=Ae.create([Ae.cursor(n.main.head)])),r?(t(Io(e,r)),!0):!1};function Ux(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange(s=>{let{from:a,to:l}=s;if(a==l){let c=t(s);c<a?(n="delete.backward",c=cb(e,c,!1)):c>a&&(n="delete.forward",c=cb(e,c,!0)),a=Math.min(a,c),l=Math.max(l,c)}else a=cb(e,a,!1),l=cb(e,l,!0);return a==l?{range:s}:{changes:{from:a,to:l},range:Ae.cursor(a,a<s.head?-1:1)}});return i.changes.empty?!1:(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ut.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function cb(e,t,n){if(e instanceof ut)for(let r of e.state.facet(ut.atomicRanges).map(i=>i(e)))r.between(t,t,(i,s)=>{i<t&&s>t&&(t=n?s:i)});return t}const HZ=(e,t,n)=>Ux(e,r=>{let i=r.from,{state:s}=e,a=s.doc.lineAt(i),l,c;if(n&&!t&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(l=a.text.slice(0,i-a.from))){if(l[l.length-1]=="	")return i-1;let u=Xm(l,s.tabSize),d=u%mh(s)||mh(s);for(let h=0;h<d&&l[l.length-1-h]==" ";h++)i--;c=i}else c=Vr(a.text,i-a.from,t,t)+a.from,c==i&&a.number!=(t?s.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(c-a.from,i-a.from))&&(c=Vr(a.text,c-a.from,!1,!1)+a.from);return c}),V2=e=>HZ(e,!1,!0),KZ=e=>HZ(e,!0,!1),YZ=(e,t)=>Ux(e,n=>{let r=n.head,{state:i}=e,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let l=null;;){if(r==(t?s.to:s.from)){r==n.head&&s.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let c=Vr(s.text,r-s.from,t)+s.from,u=s.text.slice(Math.min(r,c)-s.from,Math.max(r,c)-s.from),d=a(u);if(l!=null&&d!=l)break;(u!=" "||r!=n.head)&&(l=d),r=c}return r}),GZ=e=>YZ(e,!1),X$e=e=>YZ(e,!0),Z$e=e=>Ux(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),J$e=e=>Ux(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),eFe=e=>Ux(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),tFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:_n.of(["",""])},range:Ae.cursor(r.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},nFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{if(!r.empty||r.from==0||r.from==e.doc.length)return{range:r};let i=r.from,s=e.doc.lineAt(i),a=i==s.from?i-1:Vr(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:Vr(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:l,insert:e.doc.slice(i,l).append(e.doc.slice(a,i))},range:Ae.cursor(l)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function J1(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),s=e.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=e.doc.lineAt(r.to-1)),n>=i.number){let a=t[t.length-1];a.to=s.to,a.ranges.push(r)}else t.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return t}function QZ(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let s of J1(e)){if(n?s.to==e.doc.length:s.from==0)continue;let a=e.doc.lineAt(n?s.to+1:s.from-1),l=a.length+1;if(n){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+e.lineBreak});for(let c of s.ranges)i.push(Ae.range(Math.min(e.doc.length,c.anchor+l),Math.min(e.doc.length,c.head+l)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:e.lineBreak+a.text});for(let c of s.ranges)i.push(Ae.range(c.anchor-l,c.head-l))}}return r.length?(t(e.update({changes:r,scrollIntoView:!0,selection:Ae.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0):!1}const rFe=({state:e,dispatch:t})=>QZ(e,t,!1),iFe=({state:e,dispatch:t})=>QZ(e,t,!0);function XZ(e,t,n){if(e.readOnly)return!1;let r=[];for(let s of J1(e))n?r.push({from:s.from,insert:e.doc.slice(s.from,s.to)+e.lineBreak}):r.push({from:s.to,insert:e.lineBreak+e.doc.slice(s.from,s.to)});let i=e.changes(r);return t(e.update({changes:i,selection:e.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const sFe=({state:e,dispatch:t})=>XZ(e,t,!1),aFe=({state:e,dispatch:t})=>XZ(e,t,!0),oFe=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(J1(t).map(({from:i,to:s})=>(i>0?i--:s<t.doc.length&&s++,{from:i,to:s}))),r=Zm(t.selection,i=>{let s;if(e.lineWrapping){let a=e.lineBlockAt(i.head),l=e.coordsAtPos(i.head,i.assoc||1);l&&(s=a.bottom+e.documentTop-l.bottom+e.defaultLineHeight/2)}return e.moveVertically(i,!0,s)}).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function lFe(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=Ki(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),s;return r&&i&&r.to<=t&&i.from>=t&&(s=r.type.prop(rn.closedBy))&&s.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const J$=ZZ(!1),cFe=ZZ(!0);function ZZ(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:s,to:a}=i,l=t.doc.lineAt(s),c=!e&&s==a&&lFe(t,s);e&&(s=a=(a<=l.to?l:t.doc.lineAt(a)).to);let u=new K1(t,{simulateBreak:s,simulateDoubleBreak:!!c}),d=dA(u,s);for(d==null&&(d=Xm(/^\s*/.exec(t.doc.lineAt(s).text)[0],t.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;c?{from:s,to:a}=c:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let h=["",Py(t,d)];return c&&h.push(Py(t,u.lineIndent(l.from,-1))),{changes:{from:s,to:a,insert:_n.of(h)},range:Ae.cursor(s+1+h[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function vA(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let l=e.doc.lineAt(a);l.number>n&&(r.empty||r.to>l.from)&&(t(l,i,r),n=l.number),a=l.to+1}let s=e.changes(i);return{changes:i,range:Ae.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const uFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new K1(e,{overrideIndentation:s=>{let a=n[s];return a??-1}}),i=vA(e,(s,a,l)=>{let c=dA(r,s.from);if(c==null)return;/\S/.test(s.text)||(c=0);let u=/^\s*/.exec(s.text)[0],d=Py(e,c);(u!=d||l.from<s.from+u.length)&&(n[s.from]=c,a.push({from:s.from,to:s.from+u.length,insert:d}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},JZ=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(vA(e,(n,r)=>{r.push({from:n.from,insert:e.facet(H1)})}),{userEvent:"input.indent"})),!0),eJ=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(vA(e,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Xm(i,e.tabSize),a=0,l=Py(e,Math.max(0,s-mh(e)));for(;a<i.length&&a<l.length&&i.charCodeAt(a)==l.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:l.slice(a)})}),{userEvent:"delete.dedent"})),!0),dFe=e=>(e.setTabFocusMode(),!0),hFe=[{key:"Ctrl-b",run:PZ,shift:LZ,preventDefault:!0},{key:"Ctrl-f",run:EZ,shift:$Z},{key:"Ctrl-p",run:AZ,shift:qZ},{key:"Ctrl-n",run:zZ,shift:WZ},{key:"Ctrl-a",run:M$e,shift:W$e},{key:"Ctrl-e",run:T$e,shift:U$e},{key:"Ctrl-d",run:KZ},{key:"Ctrl-h",run:V2},{key:"Ctrl-k",run:Z$e},{key:"Ctrl-Alt-h",run:GZ},{key:"Ctrl-o",run:tFe},{key:"Ctrl-t",run:nFe},{key:"Ctrl-v",run:U2}],fFe=[{key:"ArrowLeft",run:PZ,shift:LZ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:w$e,shift:D$e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:P$e,shift:B$e,preventDefault:!0},{key:"ArrowRight",run:EZ,shift:$Z,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:j$e,shift:R$e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:E$e,shift:q$e,preventDefault:!0},{key:"ArrowUp",run:AZ,shift:qZ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:G$,shift:X$},{mac:"Ctrl-ArrowUp",run:H$,shift:K$},{key:"ArrowDown",run:zZ,shift:WZ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Q$,shift:Z$},{mac:"Ctrl-ArrowDown",run:U2,shift:Y$},{key:"PageUp",run:H$,shift:K$},{key:"PageDown",run:U2,shift:Y$},{key:"Home",run:O$e,shift:F$e,preventDefault:!0},{key:"Mod-Home",run:G$,shift:X$},{key:"End",run:C$e,shift:$$e,preventDefault:!0},{key:"Mod-End",run:Q$,shift:Z$},{key:"Enter",run:J$,shift:J$},{key:"Mod-a",run:V$e},{key:"Backspace",run:V2,shift:V2,preventDefault:!0},{key:"Delete",run:KZ,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:GZ,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:X$e,preventDefault:!0},{mac:"Mod-Backspace",run:J$e,preventDefault:!0},{mac:"Mod-Delete",run:eFe,preventDefault:!0}].concat(hFe.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),mFe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:S$e,shift:I$e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:N$e,shift:L$e},{key:"Alt-ArrowUp",run:rFe},{key:"Shift-Alt-ArrowUp",run:sFe},{key:"Alt-ArrowDown",run:iFe},{key:"Shift-Alt-ArrowDown",run:aFe},{key:"Mod-Alt-ArrowUp",run:Y$e},{key:"Mod-Alt-ArrowDown",run:G$e},{key:"Escape",run:Q$e},{key:"Mod-Enter",run:cFe},{key:"Alt-l",mac:"Ctrl-l",run:H$e},{key:"Mod-i",run:K$e,preventDefault:!0},{key:"Mod-[",run:eJ},{key:"Mod-]",run:JZ},{key:"Mod-Alt-\\",run:uFe},{key:"Shift-Mod-k",run:oFe},{key:"Shift-Mod-\\",run:z$e},{key:"Mod-/",run:r$e},{key:"Alt-A",run:s$e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:dFe}].concat(fFe),pFe={key:"Tab",run:JZ,shift:eJ},eF=typeof String.prototype.normalize=="function"?e=>e.normalize("NFKD"):e=>e;class wm{constructor(t,n,r=0,i=t.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=s?l=>s(eF(l)):eF,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Os(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let n=UT(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=nl(t);let i=this.normalize(n);if(i.length)for(let s=0,a=r;;s++){let l=i.charCodeAt(s),c=this.match(l,a,this.bufferPos+this.bufferStart);if(s==i.length-1){if(c)return this.value=c,this;break}a==r&&s<n.length&&n.charCodeAt(s)==l&&a++}}}match(t,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let a=this.matches[s],l=!1;this.query.charCodeAt(a)==t&&(a==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(wm.prototype[Symbol.iterator]=function(){return this});const tJ={from:-1,to:-1,match:/.*/.exec("")},bA="gm"+(/x/.unicode==null?"":"u");class nJ{constructor(t,n,r,i=0,s=t.length){if(this.text=t,this.to=s,this.curLine="",this.done=!1,this.value=tJ,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new rJ(t,n,r,i,s);this.re=new RegExp(n,bA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let a=t.lineAt(i);this.curLineStart=a.from,this.matchPos=yw(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=yw(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const sN=new WeakMap;class Wf{constructor(t,n){this.from=t,this.text=n}get to(){return this.from+this.text.length}static get(t,n,r){let i=sN.get(t);if(!i||i.from>=r||i.to<=n){let l=new Wf(n,t.sliceString(n,r));return sN.set(t,l),l}if(i.from==n&&i.to==r)return i;let{text:s,from:a}=i;return a>n&&(s=t.sliceString(n,a)+s,a=n),i.to<r&&(s+=t.sliceString(i.to,r)),sN.set(t,new Wf(a,s)),new Wf(n,s.slice(n-a,r-a))}}class rJ{constructor(t,n,r,i,s){this.text=t,this.to=s,this.done=!1,this.value=tJ,this.matchPos=yw(t,i),this.re=new RegExp(n,bA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Wf.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==t&&(this.re.lastIndex=t+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=yw(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Wf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(nJ.prototype[Symbol.iterator]=rJ.prototype[Symbol.iterator]=function(){return this});function gFe(e){try{return new RegExp(e,bA),!0}catch{return!1}}function yw(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function H2(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=En("input",{class:"cm-textfield",name:"line",value:t}),r=En("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),e.dispatch({effects:_g.of(!1)}),e.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},En("label",e.state.phrase("Go to line"),": ",n)," ",En("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),En("button",{name:"close",onclick:()=>{e.dispatch({effects:_g.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:a}=e,l=a.doc.lineAt(a.selection.main.head),[,c,u,d,h]=s,m=d?+d.slice(1):0,p=u?+u:l.number;if(u&&h){let x=p/100;c&&(x=x*(c=="-"?-1:1)+l.number/a.doc.lines),p=Math.round(a.doc.lines*x)}else u&&c&&(p=p*(c=="-"?-1:1)+l.number);let g=a.doc.line(Math.max(1,Math.min(a.doc.lines,p))),y=Ae.cursor(g.from+Math.max(0,Math.min(m,g.length)));e.dispatch({effects:[_g.of(!1),ut.scrollIntoView(y.from,{y:"center"})],selection:y}),e.focus()}return{dom:r}}const _g=Zt.define(),tF=Ti.define({create(){return!0},update(e,t){for(let n of t.effects)n.is(_g)&&(e=n.value);return e},provide:e=>Sy.from(e,t=>t?H2:null)}),yFe=e=>{let t=ky(e,H2);if(!t){let n=[_g.of(!0)];e.state.field(tF,!1)==null&&n.push(Zt.appendConfig.of([tF,xFe])),e.dispatch({effects:n}),t=ky(e,H2)}return t&&t.dom.querySelector("input").select(),!0},xFe=ut.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),vFe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},bFe=yt.define({combine(e){return Ml(e,vFe,{highlightWordAroundCursor:(t,n)=>t||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function _Fe(e){return[NFe,SFe]}const wFe=$t.mark({class:"cm-selectionMatch"}),jFe=$t.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function nF(e,t,n,r){return(n==0||e(t.sliceDoc(n-1,n))!=rr.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=rr.Word)}function kFe(e,t,n,r){return e(t.sliceDoc(n,n+1))==rr.Word&&e(t.sliceDoc(r-1,r))==rr.Word}const SFe=Cr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(bFe),{state:n}=e,r=n.selection;if(r.ranges.length>1)return $t.none;let i=r.main,s,a=null;if(i.empty){if(!t.highlightWordAroundCursor)return $t.none;let c=n.wordAt(i.head);if(!c)return $t.none;a=n.charCategorizer(i.head),s=n.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<t.minSelectionLength||c>200)return $t.none;if(t.wholeWords){if(s=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(nF(a,n,i.from,i.to)&&kFe(a,n,i.from,i.to)))return $t.none}else if(s=n.sliceDoc(i.from,i.to),!s)return $t.none}let l=[];for(let c of e.visibleRanges){let u=new wm(n.doc,s,c.from,c.to);for(;!u.next().done;){let{from:d,to:h}=u.value;if((!a||nF(a,n,d,h))&&(i.empty&&d<=i.from&&h>=i.to?l.push(jFe.range(d,h)):(d>=i.to||h<=i.from)&&l.push(wFe.range(d,h)),l.length>t.maxMatches))return $t.none}}return $t.set(l)}},{decorations:e=>e.decorations}),NFe=ut.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),CFe=({state:e,dispatch:t})=>{let{selection:n}=e,r=Ae.create(n.ranges.map(i=>e.wordAt(i.head)||Ae.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(t(e.update({selection:r})),!0)};function OFe(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let a=!1,l=new wm(e.doc,t,r[r.length-1].to);;)if(l.next(),l.done){if(a)return null;l=new wm(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(c=>c.from==l.value.from))continue;if(s){let c=e.wordAt(l.value.from);if(!c||c.from!=l.value.from||c.to!=l.value.to)continue}return l.value}}const PFe=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(s=>s.from===s.to))return CFe({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(s=>e.sliceDoc(s.from,s.to)!=r))return!1;let i=OFe(e,r);return i?(t(e.update({selection:e.selection.addRange(Ae.range(i.from,i.to),!1),effects:ut.scrollIntoView(i.to)})),!0):!1},Jm=yt.define({combine(e){return Ml(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new BFe(t),scrollToMatch:t=>ut.scrollIntoView(t)})}});class iJ{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||gFe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new AFe(this):new MFe(this)}getCursor(t,n=0,r){let i=t.doc?t:mn.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?sf(this,i,n,r):rf(this,i,n,r)}}class sJ{constructor(t){this.spec=t}}function rf(e,t,n,r){return new wm(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:i=>i.toLowerCase(),e.wholeWord?EFe(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function EFe(e,t){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=e.sliceString(s,Math.min(e.length,r+2))),(t(xw(i,n-s))!=rr.Word||t(vw(i,n-s))!=rr.Word)&&(t(vw(i,r-s))!=rr.Word||t(xw(i,r-s))!=rr.Word))}class MFe extends sJ{constructor(t){super(t)}nextMatch(t,n,r){let i=rf(this.spec,t,r,t.doc.length).nextOverlapping();if(i.done){let s=Math.min(t.doc.length,n+this.spec.unquoted.length);i=rf(this.spec,t,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(t,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),a=rf(this.spec,t,s,i),l=null;for(;!a.nextOverlapping().done;)l=a.value;if(l)return l;if(s==n)return null;i-=1e4}}prevMatch(t,n,r){let i=this.prevMatchInRange(t,0,n);return i||(i=this.prevMatchInRange(t,Math.max(0,r-this.spec.unquoted.length),t.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,n){let r=rf(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let s=rf(this.spec,t,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function sf(e,t,n,r){return new nJ(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?TFe(t.charCategorizer(t.selection.main.head)):void 0},n,r)}function xw(e,t){return e.slice(Vr(e,t,!1),t)}function vw(e,t){return e.slice(t,Vr(e,t))}function TFe(e){return(t,n,r)=>!r[0].length||(e(xw(r.input,r.index))!=rr.Word||e(vw(r.input,r.index))!=rr.Word)&&(e(vw(r.input,r.index+r[0].length))!=rr.Word||e(xw(r.input,r.index+r[0].length))!=rr.Word)}class AFe extends sJ{nextMatch(t,n,r){let i=sf(this.spec,t,r,t.doc.length).next();return i.done&&(i=sf(this.spec,t,0,n).next()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),a=sf(this.spec,t,s,r),l=null;for(;!a.next().done;)l=a.value;if(l&&(s==n||l.from>s+10))return l;if(s==n)return null}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return t.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<t.match.length)return t.match[s]+r.slice(i)}return n})}matchAll(t,n){let r=sf(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let s=sf(this.spec,t,Math.max(0,n-250),Math.min(r+250,t.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const My=Zt.define(),_A=Zt.define(),Pu=Ti.define({create(e){return new aN(K2(e).create(),null)},update(e,t){for(let n of t.effects)n.is(My)?e=new aN(n.value.create(),e.panel):n.is(_A)&&(e=new aN(e.query,n.value?wA:null));return e},provide:e=>Sy.from(e,t=>t.panel)});class aN{constructor(t,n){this.query=t,this.panel=n}}const zFe=$t.mark({class:"cm-searchMatch"}),DFe=$t.mark({class:"cm-searchMatch cm-searchMatch-selected"}),RFe=Cr.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(Pu))}update(e){let t=e.state.field(Pu);(t!=e.startState.field(Pu)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return $t.none;let{view:n}=this,r=new Nc;for(let i=0,s=n.visibleRanges,a=s.length;i<a;i++){let{from:l,to:c}=s[i];for(;i<a-1&&c>s[i+1].from-2*250;)c=s[++i].to;e.highlight(n.state,l,c,(u,d)=>{let h=n.state.selection.ranges.some(m=>m.from==u&&m.to==d);r.add(u,d,h?DFe:zFe)})}return r.finish()}},{decorations:e=>e.decorations});function Vx(e){return t=>{let n=t.state.field(Pu,!1);return n&&n.query.spec.valid?e(t,n):lJ(t)}}const bw=Vx((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Ae.single(r.from,r.to),s=e.state.facet(Jm);return e.dispatch({selection:i,effects:[jA(e,r),s.scrollToMatch(i.main,e)],userEvent:"select.search"}),oJ(e),!0}),_w=Vx((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let s=Ae.single(i.from,i.to),a=e.state.facet(Jm);return e.dispatch({selection:s,effects:[jA(e,i),a.scrollToMatch(s.main,e)],userEvent:"select.search"}),oJ(e),!0}),IFe=Vx((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!n||!n.length?!1:(e.dispatch({selection:Ae.create(n.map(r=>Ae.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),LFe=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],a=0;for(let l=new wm(e.doc,e.sliceDoc(r,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==r&&(a=s.length),s.push(Ae.range(l.value.from,l.value.to))}return t(e.update({selection:Ae.create(s,a),userEvent:"select.search.matches"})),!0},rF=Vx((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=t.nextMatch(n,r,r);if(!s)return!1;let a=s,l=[],c,u,d=[];a.from==r&&a.to==i&&(u=n.toText(t.getReplacement(a)),l.push({from:a.from,to:a.to,insert:u}),a=t.nextMatch(n,a.from,a.to),d.push(ut.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let h=e.state.changes(l);return a&&(c=Ae.single(a.from,a.to).map(h),d.push(jA(e,a)),d.push(n.facet(Jm).scrollToMatch(c.main,e))),e.dispatch({changes:h,selection:c,effects:d,userEvent:"input.replace"}),!0}),$Fe=Vx((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:t.getReplacement(i)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:ut.announce.of(r),userEvent:"input.replace.all"}),!0});function wA(e){return e.state.facet(Jm).createPanel(e)}function K2(e,t){var n,r,i,s,a;let l=e.selection.main,c=l.empty||l.to>l.from+100?"":e.sliceDoc(l.from,l.to);if(t&&!c)return t;let u=e.facet(Jm);return new iJ({search:((n=t==null?void 0:t.literal)!==null&&n!==void 0?n:u.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=t==null?void 0:t.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(a=t==null?void 0:t.wholeWord)!==null&&a!==void 0?a:u.wholeWord})}function aJ(e){let t=ky(e,wA);return t&&t.dom.querySelector("[main-field]")}function oJ(e){let t=aJ(e);t&&t==e.root.activeElement&&t.select()}const lJ=e=>{let t=e.state.field(Pu,!1);if(t&&t.panel){let n=aJ(e);if(n&&n!=e.root.activeElement){let r=K2(e.state,t.query.spec);r.valid&&e.dispatch({effects:My.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[_A.of(!0),t?My.of(K2(e.state,t.query.spec)):Zt.appendConfig.of(WFe)]});return!0},cJ=e=>{let t=e.state.field(Pu,!1);if(!t||!t.panel)return!1;let n=ky(e,wA);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:_A.of(!1)}),!0},FFe=[{key:"Mod-f",run:lJ,scope:"editor search-panel"},{key:"F3",run:bw,shift:_w,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:bw,shift:_w,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:cJ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:LFe},{key:"Mod-Alt-g",run:yFe},{key:"Mod-d",run:PFe,preventDefault:!0}];class BFe{constructor(t){this.view=t;let n=this.query=t.state.field(Pu).query.spec;this.commit=this.commit.bind(this),this.searchField=En("input",{value:n.search,placeholder:Qs(t,"Find"),"aria-label":Qs(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=En("input",{value:n.replace,placeholder:Qs(t,"Replace"),"aria-label":Qs(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=En("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=En("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=En("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,a){return En("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.dom=En("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>bw(t),[Qs(t,"next")]),r("prev",()=>_w(t),[Qs(t,"previous")]),r("select",()=>IFe(t),[Qs(t,"all")]),En("label",null,[this.caseField,Qs(t,"match case")]),En("label",null,[this.reField,Qs(t,"regexp")]),En("label",null,[this.wordField,Qs(t,"by word")]),...t.state.readOnly?[]:[En("br"),this.replaceField,r("replace",()=>rF(t),[Qs(t,"replace")]),r("replaceAll",()=>$Fe(t),[Qs(t,"replace all")])],En("button",{name:"close",onclick:()=>cJ(t),"aria-label":Qs(t,"close"),type:"button"},[""])])}commit(){let t=new iJ({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:My.of(t)}))}keydown(t){G4e(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?_w:bw)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),rF(this.view))}update(t){for(let n of t.transactions)for(let r of n.effects)r.is(My)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Jm).top}}function Qs(e,t){return e.state.phrase(t)}const ub=30,db=/[\s\.,:;?!]/;function jA(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,s=Math.max(r.from,t-ub),a=Math.min(i,n+ub),l=e.state.sliceDoc(s,a);if(s!=r.from){for(let c=0;c<ub;c++)if(!db.test(l[c+1])&&db.test(l[c])){l=l.slice(c);break}}if(a!=i){for(let c=l.length-1;c>l.length-ub;c--)if(!db.test(l[c-1])&&db.test(l[c])){l=l.slice(0,c);break}}return ut.announce.of(`${e.state.phrase("current match")}. ${l} ${e.state.phrase("on line")} ${r.number}.`)}const qFe=ut.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),WFe=[Pu,Ch.low(RFe),qFe];class uJ{constructor(t,n,r,i){this.state=t,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let n=Ki(this.state).resolveInner(this.pos,-1);for(;n&&t.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(t){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(dJ(t,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(t,n,r){t=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function iF(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function UFe(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=iF(t)+iF(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function VFe(e){let t=e.map(i=>typeof i=="string"?{label:i}:i),[n,r]=t.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:UFe(t);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:t,validFor:n}:null}}class sF{constructor(t,n,r,i){this.completion=t,this.source=n,this.match=r,this.score=i}}function Kd(e){return e.selection.main.from}function dJ(e,t){var n;let{source:r}=e,i=t&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?e:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=e.flags)!==null&&n!==void 0?n:e.ignoreCase?"i":"")}const hJ=El.define();function HFe(e,t,n,r){let{main:i}=e.selection,s=n-i.from,a=r-i.from;return{...e.changeByRange(l=>{if(l!=i&&n!=r&&e.sliceDoc(l.from+s,l.from+a)!=e.sliceDoc(n,r))return{range:l};let c=e.toText(t);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+a,insert:c},range:Ae.cursor(l.from+s+c.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const aF=new WeakMap;function KFe(e){if(!Array.isArray(e))return e;let t=aF.get(e);return t||aF.set(e,t=VFe(e)),t}const ww=Zt.define(),Ty=Zt.define();class YFe{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<t.length;){let r=Os(t,n),i=nl(r);this.chars.push(r);let s=t.slice(n,n+i),a=s.toUpperCase();this.folded.push(Os(a==s?s.toLowerCase():a,0)),n+=i}this.astral=t.length!=this.chars.length}ret(t,n){return this.score=t,this.matched=n,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:a}=this;if(n.length==1){let w=Os(t,0),b=nl(w),j=b==t.length?0:-100;if(w!=n[0])if(w==r[0])j+=-200;else return null;return this.ret(j,[0,b])}let l=t.indexOf(this.pattern);if(l==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=n.length,u=0;if(l<0){for(let w=0,b=Math.min(t.length,200);w<b&&u<c;){let j=Os(t,w);(j==n[u]||j==r[u])&&(i[u++]=w),w+=nl(j)}if(u<c)return null}let d=0,h=0,m=!1,p=0,g=-1,y=-1,x=/[a-z]/.test(t),v=!0;for(let w=0,b=Math.min(t.length,200),j=0;w<b&&h<c;){let _=Os(t,w);l<0&&(d<c&&_==n[d]&&(s[d++]=w),p<c&&(_==n[p]||_==r[p]?(p==0&&(g=w),y=w+1,p++):p=0));let k,C=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(k=UT(_))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!w||C==1&&x||j==0&&C!=0)&&(n[h]==_||r[h]==_&&(m=!0)?a[h++]=w:a.length&&(v=!1)),j=C,w+=nl(_)}return h==c&&a[0]==0&&v?this.result(-100+(m?-200:0),a,t):p==c&&g==0?this.ret(-200-t.length+(y==t.length?0:-100),[0,y]):l>-1?this.ret(-700-t.length,[l,l+this.pattern.length]):p==c?this.ret(-900-t.length,[g,y]):h==c?this.result(-100+(m?-200:0)+-700+(v?0:-1100),a,t):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,t)}result(t,n,r){let i=[],s=0;for(let a of n){let l=a+(this.astral?nl(Os(r,a)):1);s&&i[s-1]==a?i[s-1]=l:(i[s++]=a,i[s++]=l)}return this.ret(t-r.length,i)}}class GFe{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let n=t.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}}const ui=yt.define({combine(e){return Ml(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:QFe,filterStrict:!1,compareCompletions:(t,n)=>(t.sortText||t.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,n)=>t&&n,closeOnBlur:(t,n)=>t&&n,icons:(t,n)=>t&&n,tooltipClass:(t,n)=>r=>oF(t(r),n(r)),optionClass:(t,n)=>r=>oF(t(r),n(r)),addToOptions:(t,n)=>t.concat(n),filterStrict:(t,n)=>t||n})}});function oF(e,t){return e?t?e+" "+t:e:t}function QFe(e,t,n,r,i,s){let a=e.textDirection==zn.RTL,l=a,c=!1,u="top",d,h,m=t.left-i.left,p=i.right-t.right,g=r.right-r.left,y=r.bottom-r.top;if(l&&m<Math.min(g,p)?l=!1:!l&&p<Math.min(g,m)&&(l=!0),g<=(l?m:p))d=Math.max(i.top,Math.min(n.top,i.bottom-y))-t.top,h=Math.min(400,l?m:p);else{c=!0,h=Math.min(400,(a?t.right:i.right-t.left)-30);let w=i.bottom-t.bottom;w>=y||w>t.top?d=n.bottom-t.top:(u="bottom",d=t.bottom-n.top)}let x=(t.bottom-t.top)/s.offsetHeight,v=(t.right-t.left)/s.offsetWidth;return{style:`${u}: ${d/x}px; max-width: ${h/v}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":l?"left":"right")}}function XFe(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),t.push({render(n,r,i,s){let a=document.createElement("span");a.className="cm-completionLabel";let l=n.displayLabel||n.label,c=0;for(let u=0;u<s.length;){let d=s[u++],h=s[u++];d>c&&a.appendChild(document.createTextNode(l.slice(c,d)));let m=a.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(l.slice(d,h))),m.className="cm-completionMatchedText",c=h}return c<l.length&&a.appendChild(document.createTextNode(l.slice(c))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),t.sort((n,r)=>n.position-r.position).map(n=>n.render)}function oN(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let i=Math.floor(t/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class ZFe{constructor(t,n,r){this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=t.state.field(n),{options:s,selected:a}=i.open,l=t.state.facet(ui);this.optionContent=XFe(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=oN(s.length,a,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",c=>{let{options:u}=t.state.field(n).open;for(let d=c.target,h;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(h=/-(\d+)$/.exec(d.id))&&+h[1]<u.length){this.applyCompletion(t,u[+h[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let u=t.state.field(this.stateField,!1);u&&u.tooltip&&t.state.facet(ui).closeOnBlur&&c.relatedTarget!=t.contentDOM&&t.dispatch({effects:Ty.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(t,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var n;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:s,selected:a,disabled:l}=r.open;(!i.open||i.open.options!=s)&&(this.range=oN(s.length,a,t.state.facet(ui).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),l!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(t){let n=this.tooltipClass(t);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),n=t.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=oN(n.options.length,n.selected,this.view.state.facet(ui).maxRenderedOptions),this.showOptions(n.options,t.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(i);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(l,i)}).catch(l=>Ds(this.view.state,l,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(t,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:s}=t;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&eBe(this.list,n),n}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(ui).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let s=null;for(let a=r.from;a<r.to;a++){let{completion:l,match:c}=t[a],{section:u}=l;if(u){let m=typeof u=="string"?u:u.name;if(m!=s&&(a>r.from||r.from==0))if(s=m,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=m}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+a,d.setAttribute("role","option");let h=this.optionClass(l);h&&(d.className=h);for(let m of this.optionContent){let p=m(l,this.view.state,this.view,c);p&&d.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function JFe(e,t){return n=>new ZFe(n,e,t)}function eBe(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}function lF(e){return(e.boost||0)*100+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function tBe(e,t){let n=[],r=null,i=null,s=d=>{n.push(d);let{section:h}=d.completion;if(h){r||(r=[]);let m=typeof h=="string"?h:h.name;r.some(p=>p.name==m)||r.push(typeof h=="string"?{name:m}:h)}},a=t.facet(ui);for(let d of e)if(d.hasResult()){let h=d.result.getMatch;if(d.result.filter===!1)for(let m of d.result.options)s(new sF(m,d.source,h?h(m):[],1e9-n.length));else{let m=t.sliceDoc(d.from,d.to),p,g=a.filterStrict?new GFe(m):new YFe(m);for(let y of d.result.options)if(p=g.match(y.label)){let x=y.displayLabel?h?h(y,p.matched):[]:p.matched,v=p.score+(y.boost||0);if(s(new sF(y,d.source,x,v)),typeof y.section=="object"&&y.section.rank==="dynamic"){let{name:w}=y.section;i||(i=Object.create(null)),i[w]=Math.max(v,i[w]||-1e9)}}}}if(r){let d=Object.create(null),h=0,m=(p,g)=>(p.rank==="dynamic"&&g.rank==="dynamic"?i[g.name]-i[p.name]:0)||(typeof p.rank=="number"?p.rank:1e9)-(typeof g.rank=="number"?g.rank:1e9)||(p.name<g.name?-1:1);for(let p of r.sort(m))h-=1e5,d[p.name]=h;for(let p of n){let{section:g}=p.completion;g&&(p.score+=d[typeof g=="string"?g:g.name])}}let l=[],c=null,u=a.compareCompletions;for(let d of n.sort((h,m)=>m.score-h.score||u(h.completion,m.completion))){let h=d.completion;!c||c.label!=h.label||c.detail!=h.detail||c.type!=null&&h.type!=null&&c.type!=h.type||c.apply!=h.apply||c.boost!=h.boost?l.push(d):lF(d.completion)>lF(c)&&(l[l.length-1]=d),c=d.completion}return l}class kf{constructor(t,n,r,i,s,a){this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new kf(this.options,cF(n,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,n,r,i,s,a){if(i&&!a&&t.some(u=>u.isPending))return i.setDisabled();let l=tBe(t,n);if(!l.length)return i&&t.some(u=>u.isPending)?i.setDisabled():null;let c=n.facet(ui).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let u=i.options[i.selected].completion;for(let d=0;d<l.length;d++)if(l[d].completion==u){c=d;break}}return new kf(l,cF(r,c),{pos:t.reduce((u,d)=>d.hasResult()?Math.min(u,d.from):u,1e8),create:oBe,above:s.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(t){return new kf(this.options,this.attrs,{...this.tooltip,pos:t.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new kf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class jw{constructor(t,n,r){this.active=t,this.id=n,this.open=r}static start(){return new jw(sBe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:n}=t,r=n.facet(ui),s=(r.override||n.languageDataAt("autocomplete",Kd(n)).map(KFe)).map(c=>(this.active.find(d=>d.source==c)||new Ia(c,this.active.some(d=>d.state!=0)?1:0)).update(t,r));s.length==this.active.length&&s.every((c,u)=>c==this.active[u])&&(s=this.active);let a=this.open,l=t.effects.some(c=>c.is(kA));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||s.some(c=>c.hasResult()&&t.changes.touchesRange(c.from,c.to))||!nBe(s,this.active)||l?a=kf.build(s,n,this.id,a,r,l):a&&a.disabled&&!s.some(c=>c.isPending)&&(a=null),!a&&s.every(c=>!c.isPending)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new Ia(c.source,0):c));for(let c of t.effects)c.is(mJ)&&(a=a&&a.setSelected(c.value,this.id));return s==this.active&&a==this.open?this:new jw(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?rBe:iBe}}function nBe(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;let i=n==e.length,s=r==t.length;if(i||s)return i==s;if(e[n++].result!=t[r++].result)return!1}}const rBe={"aria-autocomplete":"list"},iBe={};function cF(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const sBe=[];function fJ(e,t){if(e.isUserEvent("input.complete")){let r=e.annotation(hJ);if(r&&t.activateOnCompletion(r))return 12}let n=e.isUserEvent("input.type");return n&&t.activateOnTyping?5:n?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class Ia{constructor(t,n,r=!1){this.source=t,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(t,n){let r=fJ(t,n),i=this;(r&8||r&16&&this.touches(t))&&(i=new Ia(i.source,0)),r&4&&i.state==0&&(i=new Ia(this.source,1)),i=i.updateFor(t,r);for(let s of t.effects)if(s.is(ww))i=new Ia(i.source,1,s.value);else if(s.is(Ty))i=new Ia(i.source,0);else if(s.is(kA))for(let a of s.value)a.source==i.source&&(i=a);return i}updateFor(t,n){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(Kd(t.state))}}class Uf extends Ia{constructor(t,n,r,i,s,a){super(t,3,n),this.limit=r,this.result=i,this.from=s,this.to=a}hasResult(){return!0}updateFor(t,n){var r;if(!(n&3))return this.map(t.changes);let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let s=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),l=Kd(t.state);if(l>a||!i||n&2&&(Kd(t.startState)==this.from||l<this.limit))return new Ia(this.source,n&4?1:0);let c=t.changes.mapPos(this.limit);return aBe(i.validFor,t.state,s,a)?new Uf(this.source,this.explicit,c,i,s,a):i.update&&(i=i.update(i,s,a,new uJ(t.state,l,!1)))?new Uf(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:Kd(t.state)):new Ia(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Uf(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Ia(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function aBe(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return typeof e=="function"?e(i,n,r,t):dJ(e,!0).test(i)}const kA=Zt.define({map(e,t){return e.map(n=>n.map(t))}}),mJ=Zt.define(),Ps=Ti.define({create(){return jw.start()},update(e,t){return e.update(t)},provide:e=>[sA.from(e,t=>t.tooltip),ut.contentAttributes.from(e,t=>t.attrs)]});function SA(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(Ps).active.find(i=>i.source==t.source);return r instanceof Uf?(typeof n=="string"?e.dispatch({...HFe(e.state,n,r.from,r.to),annotations:hJ.of(t.completion)}):n(e,t.completion,r.from,r.to),!0):!1}const oBe=JFe(Ps,SA);function hb(e,t="option"){return n=>{let r=n.state.field(Ps,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(ui).interactionDelay)return!1;let i=1,s;t=="page"&&(s=FX(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:a-1;return l<0?l=t=="page"?0:a-1:l>=a&&(l=t=="page"?a-1:0),n.dispatch({effects:mJ.of(l)}),!0}}const lBe=e=>{let t=e.state.field(Ps,!1);return e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(ui).interactionDelay?!1:SA(e,t.open.options[t.open.selected])},lN=e=>e.state.field(Ps,!1)?(e.dispatch({effects:ww.of(!0)}),!0):!1,cBe=e=>{let t=e.state.field(Ps,!1);return!t||!t.active.some(n=>n.state!=0)?!1:(e.dispatch({effects:Ty.of(null)}),!0)};class uBe{constructor(t,n){this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const dBe=50,hBe=1e3,fBe=Cr.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(Ps).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(Ps),n=e.state.facet(ui);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Ps)==t)return;let r=e.transactions.some(s=>{let a=fJ(s,n);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(r||a.context.abortOnDocChange&&e.docChanged||a.updates.length+e.transactions.length>dBe&&Date.now()-a.time>hBe){for(let l of a.context.abortListeners)try{l()}catch(c){Ds(this.view.state,c)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(s=>s.effects.some(a=>a.is(ww)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of e.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(Ps);for(let n of t.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ui).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=Kd(t),r=new uJ(t,n,e.explicit,this.view),i=new uBe(e,r);this.running.push(i),Promise.resolve(e.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ty.of(null)}),Ds(this.view.state,s)})}scheduleAccept(){this.running.every(e=>e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ui).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(ui),r=this.view.state.field(Ps);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Kd(s.updates.length?s.updates[0].startState:this.view.state),c=Math.min(l,s.done.from+(s.active.explicit?0:1)),u=new Uf(s.active.source,s.active.explicit,c,s.done,s.done.from,(e=s.done.to)!==null&&e!==void 0?e:l);for(let d of s.updates)u=u.update(d,n);if(u.hasResult()){t.push(u);continue}}let a=r.active.find(l=>l.source==s.active.source);if(a&&a.isPending)if(s.done==null){let l=new Ia(s.active.source,0);for(let c of s.updates)l=l.update(c,n);l.isPending||t.push(l)}else this.startQuery(a)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:kA.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(Ps,!1);if(t&&t.tooltip&&this.view.state.facet(ui).closeOnBlur){let n=t.open&&FX(this.view,t.open.tooltip);(!n||!n.dom.contains(e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ty.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ww.of(!1)}),20),this.composing=0}}}),mBe=typeof navigator=="object"&&/Win/.test(navigator.platform),pBe=Ch.highest(ut.domEventHandlers({keydown(e,t){let n=t.state.field(Ps,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&!(mBe&&e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(e.key)>-1&&SA(t,r),!1}})),gBe=ut.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ay={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Dd=Zt.define({map(e,t){let n=t.mapPos(e,-1,is.TrackAfter);return n??void 0}}),NA=new class extends $u{};NA.startSide=1;NA.endSide=-1;const pJ=Ti.define({create(){return cn.empty},update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of t.effects)n.is(Dd)&&(e=e.update({add:[NA.range(n.value,n.value+1)]}));return e}});function yBe(){return[vBe,pJ]}const cN="()[]{}<>";function gJ(e){for(let t=0;t<cN.length;t+=2)if(cN.charCodeAt(t)==e)return cN.charAt(t+1);return UT(e<128?e:e+1)}function yJ(e,t){return e.languageDataAt("closeBrackets",t)[0]||Ay}const xBe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vBe=ut.inputHandler.of((e,t,n,r)=>{if((xBe?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||r.length==2&&nl(Os(r,0))==1||t!=i.from||n!=i.to)return!1;let s=wBe(e.state,r);return s?(e.dispatch(s),!0):!1}),bBe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=yJ(e,e.selection.main.head).brackets||Ay.brackets,i=null,s=e.changeByRange(a=>{if(a.empty){let l=jBe(e.doc,a.head);for(let c of r)if(c==l&&ek(e.doc,a.head)==gJ(Os(c,0)))return{changes:{from:a.head-c.length,to:a.head+c.length},range:Ae.cursor(a.head-c.length)}}return{range:i=a}});return i||t(e.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},_Be=[{key:"Backspace",run:bBe}];function wBe(e,t){let n=yJ(e,e.selection.main.head),r=n.brackets||Ay.brackets;for(let i of r){let s=gJ(Os(i,0));if(t==i)return s==i?NBe(e,i,r.indexOf(i+i+i)>-1,n):kBe(e,i,s,n.before||Ay.before);if(t==s&&xJ(e,e.selection.main.from))return SBe(e,i,s)}return null}function xJ(e,t){let n=!1;return e.field(pJ).between(0,e.doc.length,r=>{r==t&&(n=!0)}),n}function ek(e,t){let n=e.sliceString(t,t+2);return n.slice(0,nl(Os(n,0)))}function jBe(e,t){let n=e.sliceString(t-2,t);return nl(Os(n,0))==n.length?n:n.slice(1)}function kBe(e,t,n,r){let i=null,s=e.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:n,from:a.to}],effects:Dd.of(a.to+t.length),range:Ae.range(a.anchor+t.length,a.head+t.length)};let l=ek(e.doc,a.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:t+n,from:a.head},effects:Dd.of(a.head+t.length),range:Ae.cursor(a.head+t.length)}:{range:i=a}});return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function SBe(e,t,n){let r=null,i=e.changeByRange(s=>s.empty&&ek(e.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Ae.cursor(s.head+n.length)}:r={range:s});return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function NBe(e,t,n,r){let i=r.stringPrefixes||Ay.stringPrefixes,s=null,a=e.changeByRange(l=>{if(!l.empty)return{changes:[{insert:t,from:l.from},{insert:t,from:l.to}],effects:Dd.of(l.to+t.length),range:Ae.range(l.anchor+t.length,l.head+t.length)};let c=l.head,u=ek(e.doc,c),d;if(u==t){if(uF(e,c))return{changes:{insert:t+t,from:c},effects:Dd.of(c+t.length),range:Ae.cursor(c+t.length)};if(xJ(e,c)){let m=n&&e.sliceDoc(c,c+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+m.length,insert:m},range:Ae.cursor(c+m.length)}}}else{if(n&&e.sliceDoc(c-2*t.length,c)==t+t&&(d=dF(e,c-2*t.length,i))>-1&&uF(e,d))return{changes:{insert:t+t+t+t,from:c},effects:Dd.of(c+t.length),range:Ae.cursor(c+t.length)};if(e.charCategorizer(c)(u)!=rr.Word&&dF(e,c,i)>-1&&!CBe(e,c,t,i))return{changes:{insert:t+t,from:c},effects:Dd.of(c+t.length),range:Ae.cursor(c+t.length)}}return{range:s=l}});return s?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function uF(e,t){let n=Ki(e).resolveInner(t+1);return n.parent&&n.from==t}function CBe(e,t,n,r){let i=Ki(e).resolveInner(t,-1),s=r.reduce((a,l)=>Math.max(a,l.length),0);for(let a=0;a<5;a++){let l=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),c=l.indexOf(n);if(!c||c>-1&&r.indexOf(l.slice(0,c))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+c;){if(e.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let u=i.to==t&&i.parent;if(!u)break;i=u}return!1}function dF(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=rr.Word)return t;for(let i of n){let s=t-i.length;if(e.sliceDoc(s,t)==i&&r(e.sliceDoc(s-1,s))!=rr.Word)return s}return-1}function OBe(e={}){return[pBe,Ps,ui.of(e),fBe,PBe,gBe]}const vJ=[{key:"Ctrl-Space",run:lN},{mac:"Alt-`",run:lN},{mac:"Alt-i",run:lN},{key:"Escape",run:cBe},{key:"ArrowDown",run:hb(!0)},{key:"ArrowUp",run:hb(!1)},{key:"PageDown",run:hb(!0,"page")},{key:"PageUp",run:hb(!1,"page")},{key:"Enter",run:lBe}],PBe=Ch.highest(W1.computeN([ui],e=>e.facet(ui).defaultKeymap?[vJ]:[]));class hF{constructor(t,n,r){this.from=t,this.to=n,this.diagnostic=r}}class _d{constructor(t,n,r){this.diagnostics=t,this.panel=n,this.selected=r}static init(t,n,r){let i=r.facet(zy).markerFilter;i&&(t=i(t,r));let s=t.slice().sort((p,g)=>p.from-g.from||p.to-g.to),a=new Nc,l=[],c=0,u=r.doc.iter(),d=0,h=r.doc.length;for(let p=0;;){let g=p==s.length?null:s[p];if(!g&&!l.length)break;let y,x;if(l.length)y=c,x=l.reduce((b,j)=>Math.min(b,j.to),g&&g.from>y?g.from:1e8);else{if(y=g.from,y>h)break;x=g.to,l.push(g),p++}for(;p<s.length;){let b=s[p];if(b.from==y&&(b.to>b.from||b.to==y))l.push(b),p++,x=Math.min(b.to,x);else{x=Math.min(b.from,x);break}}x=Math.min(x,h);let v=!1;if(l.some(b=>b.from==y&&(b.to==x||x==h))&&(v=y==x,!v&&x-y<10)){let b=y-(d+u.value.length);b>0&&(u.next(b),d=y);for(let j=y;;){if(j>=x){v=!0;break}if(!u.lineBreak&&d+u.value.length>j)break;j=d+u.value.length,d+=u.value.length,u.next()}}let w=qBe(l);if(v)a.add(y,y,$t.widget({widget:new LBe(w),diagnostics:l.slice()}));else{let b=l.reduce((j,_)=>_.markClass?j+" "+_.markClass:j,"");a.add(y,x,$t.mark({class:"cm-lintRange cm-lintRange-"+w+b,diagnostics:l.slice(),inclusiveEnd:l.some(j=>j.to>x)}))}if(c=x,c==h)break;for(let b=0;b<l.length;b++)l[b].to<=c&&l.splice(b--,1)}let m=a.finish();return new _d(m,n,jm(m))}}function jm(e,t=null,n=0){let r=null;return e.between(n,1e9,(i,s,{spec:a})=>{if(!(t&&a.diagnostics.indexOf(t)<0))if(!r)r=new hF(i,s,t||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new hF(r.from,s,r.diagnostic)}}),r}function EBe(e,t){let n=t.pos,r=t.end||n,i=e.state.facet(zy).hideOn(e,n,r);if(i!=null)return i;let s=e.startState.doc.lineAt(t.pos);return!!(e.effects.some(a=>a.is(bJ))||e.changes.touchesRange(s.from,Math.max(s.to,r)))}function MBe(e,t){return e.field(oa,!1)?t:t.concat(Zt.appendConfig.of(WBe))}const bJ=Zt.define(),CA=Zt.define(),_J=Zt.define(),oa=Ti.define({create(){return new _d($t.none,null,null)},update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),r=null,i=e.panel;if(e.selected){let s=t.changes.mapPos(e.selected.from,1);r=jm(n,e.selected.diagnostic,s)||jm(n,null,s)}!n.size&&i&&t.state.facet(zy).autoPanel&&(i=null),e=new _d(n,i,r)}for(let n of t.effects)if(n.is(bJ)){let r=t.state.facet(zy).autoPanel?n.value.length?Dy.open:null:e.panel;e=_d.init(n.value,r,t.state)}else n.is(CA)?e=new _d(e.diagnostics,n.value?Dy.open:null,e.selected):n.is(_J)&&(e=new _d(e.diagnostics,e.panel,n.value));return e},provide:e=>[Sy.from(e,t=>t.panel),ut.decorations.from(e,t=>t.diagnostics)]}),TBe=$t.mark({class:"cm-lintRange cm-lintRange-active"});function ABe(e,t,n){let{diagnostics:r}=e.state.field(oa),i,s=-1,a=-1;r.between(t-(n<0?1:0),t+(n>0?1:0),(c,u,{spec:d})=>{if(t>=c&&t<=u&&(c==u||(t>c||n>0)&&(t<u||n<0)))return i=d.diagnostics,s=c,a=u,!1});let l=e.state.facet(zy).tooltipFilter;return i&&l&&(i=l(i,e.state)),i?{pos:s,end:a,above:e.state.doc.lineAt(s).to<a,create(){return{dom:zBe(e,i)}}}:null}function zBe(e,t){return En("ul",{class:"cm-tooltip-lint"},t.map(n=>jJ(e,n,!1)))}const DBe=e=>{let t=e.state.field(oa,!1);(!t||!t.panel)&&e.dispatch({effects:MBe(e.state,[CA.of(!0)])});let n=ky(e,Dy.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},fF=e=>{let t=e.state.field(oa,!1);return!t||!t.panel?!1:(e.dispatch({effects:CA.of(!1)}),!0)},RBe=e=>{let t=e.state.field(oa,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},IBe=[{key:"Mod-Shift-m",run:DBe,preventDefault:!0},{key:"F8",run:RBe}],zy=yt.define({combine(e){return{sources:e.map(t=>t.source).filter(t=>t!=null),...Ml(e.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:mF,tooltipFilter:mF,needsRefresh:(t,n)=>t?n?r=>t(r)||n(r):t:n,hideOn:(t,n)=>t?n?(r,i,s)=>t(r,i,s)||n(r,i,s):t:n,autoPanel:(t,n)=>t||n})}}});function mF(e,t){return e?t?(n,r)=>t(e(n,r),r):e:t}function wJ(e){let t=[];if(e)e:for(let{name:n}of e){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!t.some(s=>s.toLowerCase()==i.toLowerCase())){t.push(i);continue e}}t.push("")}return t}function jJ(e,t,n){var r;let i=n?wJ(t.actions):[];return En("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},En("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),(r=t.actions)===null||r===void 0?void 0:r.map((s,a)=>{let l=!1,c=p=>{if(p.preventDefault(),l)return;l=!0;let g=jm(e.state.field(oa).diagnostics,t);g&&s.apply(e,g.from,g.to)},{name:u}=s,d=i[a]?u.indexOf(i[a]):-1,h=d<0?u:[u.slice(0,d),En("u",u.slice(d,d+1)),u.slice(d+1)],m=s.markClass?" "+s.markClass:"";return En("button",{type:"button",class:"cm-diagnosticAction"+m,onclick:c,onmousedown:c,"aria-label":` Action: ${u}${d<0?"":` (access key "${i[a]})"`}.`},h)}),t.source&&En("div",{class:"cm-diagnosticSource"},t.source))}class LBe extends Tl{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return En("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class pF{constructor(t,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=jJ(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Dy{constructor(t){this.view=t,this.items=[];let n=i=>{if(i.keyCode==27)fF(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=wJ(s.actions);for(let l=0;l<a.length;l++)if(a[l].toUpperCase().charCodeAt(0)==i.keyCode){let c=jm(this.view.state.field(oa).diagnostics,s);c&&s.actions[l].apply(t,c.from,c.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=En("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=En("div",{class:"cm-panel-lint"},this.list,En("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>fF(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(oa).selected;if(!t)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==t.diagnostic)return n;return-1}update(){let{diagnostics:t,selected:n}=this.view.state.field(oa),r=0,i=!1,s=null,a=new Set;for(t.between(0,this.view.state.doc.length,(l,c,{spec:u})=>{for(let d of u.diagnostics){if(a.has(d))continue;a.add(d);let h=-1,m;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==d){h=p;break}h<0?(m=new pF(this.view,d),this.items.splice(r,0,m),i=!0):(m=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),n&&m.diagnostic==n.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),s=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new pF(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let u=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/u:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function n(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)n();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)n()}moveSelection(t){if(this.selectedIndex<0)return;let n=this.view.state.field(oa),r=jm(n.diagnostics,this.items[t].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:_J.of(r)})}static open(t){return new Dy(t)}}function $Be(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function fb(e){return $Be(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const FBe=ut.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:fb("#d11")},".cm-lintRange-warning":{backgroundImage:fb("orange")},".cm-lintRange-info":{backgroundImage:fb("#999")},".cm-lintRange-hint":{backgroundImage:fb("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function BBe(e){return e=="error"?4:e=="warning"?3:e=="info"?2:1}function qBe(e){let t="hint",n=1;for(let r of e){let i=BBe(r.severity);i>n&&(n=i,t=r.severity)}return t}const WBe=[oa,ut.decorations.compute([oa],e=>{let{selected:t,panel:n}=e.field(oa);return!t||!n||t.from==t.to?$t.none:$t.set([TBe.range(t.from,t.to)])}),I3e(ABe,{hideOn:EBe}),FBe];var gF=function(t){t===void 0&&(t={});var{crosshairCursor:n=!1}=t,r=[];t.closeBracketsKeymap!==!1&&(r=r.concat(_Be)),t.defaultKeymap!==!1&&(r=r.concat(mFe)),t.searchKeymap!==!1&&(r=r.concat(FFe)),t.historyKeymap!==!1&&(r=r.concat(_$e)),t.foldKeymap!==!1&&(r=r.concat(MLe)),t.completionKeymap!==!1&&(r=r.concat(vJ)),t.lintKeymap!==!1&&(r=r.concat(IBe));var i=[];return t.lineNumbers!==!1&&i.push(UX()),t.highlightActiveLineGutter!==!1&&i.push(VX()),t.highlightSpecialChars!==!1&&i.push(h3e()),t.history!==!1&&i.push(h$e()),t.foldGutter!==!1&&i.push(DLe()),t.drawSelection!==!1&&i.push(t3e()),t.dropCursor!==!1&&i.push(a3e()),t.allowMultipleSelections!==!1&&i.push(mn.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&i.push(wLe()),t.syntaxHighlighting!==!1&&i.push(hZ($Le,{fallback:!0})),t.bracketMatching!==!1&&i.push(HLe()),t.closeBrackets!==!1&&i.push(yBe()),t.autocompletion!==!1&&i.push(OBe()),t.rectangularSelection!==!1&&i.push(N3e()),n!==!1&&i.push(P3e()),t.highlightActiveLine!==!1&&i.push(x3e()),t.highlightSelectionMatches!==!1&&i.push(_Fe()),t.tabSize&&typeof t.tabSize=="number"&&i.push(H1.of(" ".repeat(t.tabSize))),i.concat([W1.of(r.flat())]).filter(Boolean)};const UBe="#e5c07b",yF="#e06c75",VBe="#56b6c2",HBe="#ffffff",h_="#abb2bf",Y2="#7d8799",KBe="#61afef",YBe="#98c379",xF="#d19a66",GBe="#c678dd",QBe="#21252b",vF="#2c313a",bF="#282c34",uN="#353a42",XBe="#3E4451",_F="#528bff",ZBe=ut.theme({"&":{color:h_,backgroundColor:bF},".cm-content":{caretColor:_F},".cm-cursor, .cm-dropCursor":{borderLeftColor:_F},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:XBe},".cm-panels":{backgroundColor:QBe,color:h_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:bF,color:Y2,border:"none"},".cm-activeLineGutter":{backgroundColor:vF},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:uN},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:uN,borderBottomColor:uN},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:vF,color:h_}}},{dark:!0}),JBe=Wx.define([{tag:ve.keyword,color:GBe},{tag:[ve.name,ve.deleted,ve.character,ve.propertyName,ve.macroName],color:yF},{tag:[ve.function(ve.variableName),ve.labelName],color:KBe},{tag:[ve.color,ve.constant(ve.name),ve.standard(ve.name)],color:xF},{tag:[ve.definition(ve.name),ve.separator],color:h_},{tag:[ve.typeName,ve.className,ve.number,ve.changed,ve.annotation,ve.modifier,ve.self,ve.namespace],color:UBe},{tag:[ve.operator,ve.operatorKeyword,ve.url,ve.escape,ve.regexp,ve.link,ve.special(ve.string)],color:VBe},{tag:[ve.meta,ve.comment],color:Y2},{tag:ve.strong,fontWeight:"bold"},{tag:ve.emphasis,fontStyle:"italic"},{tag:ve.strikethrough,textDecoration:"line-through"},{tag:ve.link,color:Y2,textDecoration:"underline"},{tag:ve.heading,fontWeight:"bold",color:yF},{tag:[ve.atom,ve.bool,ve.special(ve.variableName)],color:xF},{tag:[ve.processingInstruction,ve.string,ve.inserted],color:YBe},{tag:ve.invalid,color:HBe}]),kJ=[ZBe,hZ(JBe)];var e5e=ut.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),t5e=function(t){t===void 0&&(t={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:a="",basicSetup:l=!0}=t,c=[];switch(n&&c.unshift(W1.of([pFe])),l&&(typeof l=="boolean"?c.unshift(gF()):c.unshift(gF(l))),a&&c.unshift(w3e(a)),s){case"light":c.push(e5e);break;case"dark":c.push(kJ);break;case"none":break;default:c.push(s);break}return r===!1&&c.push(ut.editable.of(!1)),i&&c.push(mn.readOnly.of(!0)),[...c]},n5e=e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(t=>!t.empty)});class r5e{constructor(t,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(t)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var t=this.callbacks.slice();this.callbacks.length=0,t.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class wF{constructor(){this.interval=null,this.latches=new Set}add(t){this.latches.add(t),this.start()}remove(t){this.latches.delete(t),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(t=>{t.tick(),t.isDone&&this.remove(t)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var dN=null,i5e=()=>typeof window>"u"?new wF:(dN||(dN=new wF),dN),jF=El.define(),s5e=200,a5e=[];function o5e(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:a,extensions:l=a5e,autoFocus:c,theme:u="light",height:d=null,minHeight:h=null,maxHeight:m=null,width:p=null,minWidth:g=null,maxWidth:y=null,placeholder:x="",editable:v=!0,readOnly:w=!1,indentWithTab:b=!0,basicSetup:j=!0,root:_,initialState:k}=e,[C,O]=f.useState(),[M,P]=f.useState(),[A,R]=f.useState(),F=f.useState(()=>({current:null}))[0],V=f.useState(()=>({current:null}))[0],K=ut.theme({"&":{height:d,minHeight:h,maxHeight:m,width:p,minWidth:g,maxWidth:y},"& .cm-scroller":{height:"100% !important"}}),L=ut.updateListener.of(T=>{if(T.docChanged&&typeof r=="function"&&!T.transactions.some(ee=>ee.annotation(jF))){F.current?F.current.reset():(F.current=new r5e(()=>{if(V.current){var ee=V.current;V.current=null,ee()}F.current=null},s5e),i5e().add(F.current));var q=T.state.doc,Y=q.toString();r(Y,T)}i&&i(n5e(T))}),W=t5e({theme:u,editable:v,readOnly:w,placeholder:x,indentWithTab:b,basicSetup:j}),z=[L,K,...W];return a&&typeof a=="function"&&z.push(ut.updateListener.of(a)),z=z.concat(l),f.useLayoutEffect(()=>{if(C&&!A){var T={doc:t,selection:n,extensions:z},q=k?mn.fromJSON(k.json,T,k.fields):mn.create(T);if(R(q),!M){var Y=new ut({state:q,parent:C,root:_});P(Y),s&&s(Y,q)}}return()=>{M&&(R(void 0),P(void 0))}},[C,A]),f.useEffect(()=>{e.container&&O(e.container)},[e.container]),f.useEffect(()=>()=>{M&&(M.destroy(),P(void 0)),F.current&&(F.current.cancel(),F.current=null)},[M]),f.useEffect(()=>{c&&M&&M.focus()},[c,M]),f.useEffect(()=>{M&&M.dispatch({effects:Zt.reconfigure.of(z)})},[u,l,d,h,m,p,g,y,x,v,w,b,j,r,a]),f.useEffect(()=>{if(t!==void 0){var T=M?M.state.doc.toString():"";if(M&&t!==T){var q=F.current&&!F.current.isDone,Y=()=>{M&&t!==M.state.doc.toString()&&M.dispatch({changes:{from:0,to:M.state.doc.toString().length,insert:t||""},annotations:[jF.of(!0)]})};q?V.current=Y:Y()}}},[t,M]),{state:A,setState:R,view:M,setView:P,container:C,setContainer:O}}var l5e=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],SJ=f.forwardRef((e,t)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,autoFocus:d,theme:h="light",height:m,minHeight:p,maxHeight:g,width:y,minWidth:x,maxWidth:v,basicSetup:w,placeholder:b,indentWithTab:j,editable:_,readOnly:k,root:C,initialState:O}=e,M=qRe(e,l5e),P=f.useRef(null),{state:A,view:R,container:F,setContainer:V}=o5e({root:C,value:r,autoFocus:d,theme:h,height:m,minHeight:p,maxHeight:g,width:y,minWidth:x,maxWidth:v,basicSetup:w,placeholder:b,indentWithTab:j,editable:_,readOnly:k,selection:i,onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,extensions:s,initialState:O});f.useImperativeHandle(t,()=>({editor:P.current,state:A,view:R}),[P,F,A,R]);var K=f.useCallback(W=>{P.current=W,V(W)},[V]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var L=typeof h=="string"?"cm-theme-"+h:"cm-theme";return o.jsx("div",JO({ref:K,className:""+L+(n?" "+n:"")},M))});SJ.displayName="CodeMirror";var kF={};class kw{constructor(t,n,r,i,s,a,l,c,u,d=0,h){this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=l,this.bufferBase=c,this.curContext=u,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((t,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,n,r=0){let i=t.parser.context;return new kw(t,[],n,r,r,0,[],0,i?new SF(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var n;let r=t>>19,i=t&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),l=s.dynamicPrecedence(i);if(l&&(this.score+=l),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(r-1)*3-(t&262144?6:0),u=c?this.stack[c-2]:this.p.ranges[0].from,d=this.reducePos-u;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=d));let h=c?this.stack[c-1]:0,m=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||t&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,p,m+4,!0)}if(t&262144)this.state=this.stack[c];else{let p=this.stack[c-3];this.state=s.getGoto(p,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,u)}storeNode(t,n,r,i=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,l=this.buffer.length;if(l==0&&a.parent&&(l=a.bufferBase-a.parent.bufferBase,a=a.parent),l>0&&a.buffer[l-4]==0&&a.buffer[l-1]>-1){if(n==r)return;if(a.buffer[l-2]>=n){a.buffer[l-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(t,n,r,i);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let l=!1;for(let c=a;c>0&&this.buffer[c-2]>r;c-=4)if(this.buffer[c-1]>=0){l=!0;break}if(l)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=t,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(t,n,r,i){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=t,{parser:a}=this.p;(i>this.pos||n<=a.maxNode)&&(this.pos=i,a.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}}apply(t,n,r,i){t&65536?this.reduce(t):this.shift(t,n,r,i)}useNode(t,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let r=t.buffer.slice(n),i=t.bufferBase+n;for(;t&&i==t.bufferBase;)t=t.parent;return new kw(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,n){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(t){for(let n=new c5e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,t);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,t)&&i.push(n[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let a=n[s+1];i.some((l,c)=>c&1&&l==a)||i.push(n[s],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:t}=this.p,n=t.stateSlot(this.state,5);if(!(n&65536))return!1;if(!t.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||t.getGoto(this.stack[s],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:t}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),t.allActions(i,a=>{if(!(a&393216))if(a&65536){let l=(a>>19)-s;if(l>1){let c=a&65535,u=this.stack.length-l*3;if(u>=0&&t.getGoto(this.stack[u],c,!1)>=0)return l<<19|65536|c}}else{let l=r(a,s+1);if(l!=null)return l}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=t.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(n)))}reduceContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(n)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let n=new SF(this.curContext.tracker,t);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class SF{constructor(t,n){this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}}class c5e{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let n=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Sw{constructor(t,n,r){this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new Sw(t,n,n-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Sw(this.stack,this.pos,this.index)}}function mb(e,t=Uint16Array){if(typeof e!="string")return e;let n=null;for(let r=0,i=0;r<e.length;){let s=0;for(;;){let a=e.charCodeAt(r++),l=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let c=a-32;if(c>=46&&(c-=46,l=!0),s+=c,l)break;s*=46}n?n[i++]=s:n=new t(s)}return n}class f_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const NF=new f_;class u5e{constructor(t,n){this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=NF,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(t,n){let r=this.range,i=this.rangeIndex,s=this.pos+t;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let n of this.ranges)if(n.to>t)return Math.max(t,n.from);return this.end}peek(t){let n=this.chunkOff+t,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+t,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,l=this.range;for(;l.to<=r;)l=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(t,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,n){this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),n=this.pos+t.length;this.chunk=n>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,n){if(n?(this.token=n,n.start=t,n.lookAhead=t+1,n.value=n.extended=-1):this.token=NF,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,n){if(t>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,n-this.chunkPos);if(t>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,n-this.chunk2Pos);if(t>=this.range.from&&n<=this.range.to)return this.input.read(t,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>t&&(r+=this.input.read(Math.max(i.from,t),Math.min(i.to,n)))}return r}}class Vf{constructor(t,n){this.data=t,this.id=n}token(t,n){let{parser:r}=n.p;d5e(this.data,t,n,this.id,r.data,r.tokenPrecTable)}}Vf.prototype.contextual=Vf.prototype.fallback=Vf.prototype.extend=!1;Vf.prototype.fallback=Vf.prototype.extend=!1;class tk{constructor(t,n={}){this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function d5e(e,t,n,r,i,s){let a=0,l=1<<r,{dialect:c}=n.p.parser;e:for(;l&e[a];){let u=e[a+1];for(let p=a+3;p<u;p+=2)if((e[p+1]&l)>0){let g=e[p];if(c.allows(g)&&(t.token.value==-1||t.token.value==g||h5e(g,t.token.value,i,s))){t.acceptToken(g);break}}let d=t.next,h=0,m=e[a+2];if(t.next<0&&m>h&&e[u+m*3-3]==65535){a=e[u+m*3-1];continue e}for(;h<m;){let p=h+m>>1,g=u+p+(p<<1),y=e[g],x=e[g+1]||65536;if(d<y)m=p;else if(d>=x)h=p+1;else{a=e[g+2],t.advance();continue e}}break}}function CF(e,t,n){for(let r=t,i;(i=e[r])!=65535;r++)if(i==n)return r-t;return-1}function h5e(e,t,n,r){let i=CF(n,r,t);return i<0||CF(n,r,e)<i}const Xs=typeof process<"u"&&kF&&/\bparse\b/.test(kF.LOG);let hN=null;function OF(e,t,n){let r=e.cursor(li.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}class f5e{constructor(t,n){this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?OF(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?OF(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[n]+r.positions[i];if(a>t)return this.nextStart=a,null;if(s instanceof Dn){if(a==t){if(a<this.safeFrom)return null;let l=a+s.length;if(l<=this.safeTo){let c=s.prop(rn.lookAhead);if(!c||l+c<this.fragment.to)return s}}this.index[n]++,a+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+s.length}}}class m5e{constructor(t,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new f_)}getActions(t){let n=0,r=null,{parser:i}=t.p,{tokenizers:s}=i,a=i.stateSlot(t.state,3),l=t.curContext?t.curContext.hash:0,c=0;for(let u=0;u<s.length;u++){if(!(1<<u&a))continue;let d=s[u],h=this.tokens[u];if(!(r&&!d.fallback)&&((d.contextual||h.start!=t.pos||h.mask!=a||h.context!=l)&&(this.updateCachedToken(h,d,t),h.mask=a,h.context=l),h.lookAhead>h.end+25&&(c=Math.max(h.lookAhead,c)),h.value!=0)){let m=n;if(h.extended>-1&&(n=this.addActions(t,h.extended,h.end,n)),n=this.addActions(t,h.value,h.end,n),!d.extend&&(r=h,n>m))break}}for(;this.actions.length>n;)this.actions.pop();return c&&t.setLookAhead(c),!r&&t.pos==this.stream.end&&(r=new f_,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,n=this.addActions(t,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let n=new f_,{pos:r,p:i}=t;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(t,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,t),r),t.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==t.value){let l=s.specializers[a](this.stream.read(t.start,t.end),r);if(l>=0&&r.p.parser.dialect.allows(l>>1)){l&1?t.extended=l>>1:t.value=l>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==t)return i;return this.actions[i++]=t,this.actions[i++]=n,this.actions[i++]=r,i}addActions(t,n,r,i){let{state:s}=t,{parser:a}=t.p,{data:l}=a;for(let c=0;c<2;c++)for(let u=a.stateSlot(s,c?2:1);;u+=3){if(l[u]==65535)if(l[u+1]==1)u=Ql(l,u+2);else{i==0&&l[u+1]==2&&(i=this.putAction(Ql(l,u+2),n,r,i));break}l[u]==n&&(i=this.putAction(Ql(l,u+1),n,r,i))}return i}}class p5e{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new u5e(n,i),this.tokens=new m5e(t,this.stream),this.topTerm=t.top[1];let{from:s}=i[0];this.stacks=[kw.start(this,t.top[0],s)],this.fragments=r.length&&this.stream.end-s>t.bufferLength*4?new f5e(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let l=t[a];for(;;){if(this.tokens.mainToken=null,l.pos>n)r.push(l);else{if(this.advanceStack(l,r,t))continue;{i||(i=[],s=[]),i.push(l);let c=this.tokens.getMainToken(l);s.push(c.value,c.end)}}break}}if(!r.length){let a=i&&x5e(i);if(a)return Xs&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Xs&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return Xs&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((l,c)=>c.score-l.score);r.length>a;)r.pop();r.some(l=>l.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let l=r[a];for(let c=a+1;c<r.length;c++){let u=r[c];if(l.sameState(u)||l.buffer.length>500&&u.buffer.length>500)if((l.score-u.score||l.buffer.length-u.buffer.length)>0)r.splice(c--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,l)=>l.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,n,r){let i=t.pos,{parser:s}=this,a=Xs?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let u=t.curContext&&t.curContext.tracker.strict,d=u?t.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let m=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(t.state,h.type.id):-1;if(m>-1&&h.length&&(!u||(h.prop(rn.contextHash)||0)==d))return t.useNode(h,m),Xs&&console.log(a+this.stackID(t)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Dn)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof Dn&&h.positions[0]==0)h=p;else break}}let l=s.stateSlot(t.state,4);if(l>0)return t.reduce(l),Xs&&console.log(a+this.stackID(t)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let c=this.tokens.getActions(t);for(let u=0;u<c.length;){let d=c[u++],h=c[u++],m=c[u++],p=u==c.length||!r,g=p?t:t.split(),y=this.tokens.mainToken;if(g.apply(d,h,y?y.start:g.pos,m),Xs&&console.log(a+this.stackID(g)+` (via ${d&65536?`reduce of ${s.getName(d&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==t?"":", split"})`),p)return!0;g.pos>i?n.push(g):r.push(g)}return!1}advanceFully(t,n){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return PF(t,n),!0}}runRecovery(t,n,r){let i=null,s=!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a<<1],u=n[(a<<1)+1],d=Xs?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),Xs&&console.log(d+this.stackID(l)+" (restarted)"),this.advanceFully(l,r))))continue;let h=l.split(),m=d;for(let p=0;p<10&&h.forceReduce()&&(Xs&&console.log(m+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));p++)Xs&&(m=this.stackID(h)+" -> ");for(let p of l.recoverByInsert(c))Xs&&console.log(d+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>l.pos?(u==l.pos&&(u++,c=0),l.recoverByDelete(c,u),Xs&&console.log(d+this.stackID(l)+` (via recover-delete ${this.parser.getName(c)})`),PF(l,r)):(!i||i.score<l.score)&&(i=l)}return i}stackToTree(t){return t.close(),Dn.build({buffer:Sw.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let n=(hN||(hN=new WeakMap)).get(t);return n||hN.set(t,n=String.fromCodePoint(this.nextStackID++)),n+t}}function PF(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}class g5e{constructor(t,n,r){this.source=t,this.flags=n,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}}const fN=e=>e;class y5e{constructor(t){this.start=t.start,this.shift=t.shift||fN,this.reduce=t.reduce||fN,this.reuse=t.reuse||fN,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class Ry extends cA{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let n=t.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let l=0;l<t.repeatNodeCount;l++)n.push("");let r=Object.keys(t.topRules).map(l=>t.topRules[l][1]),i=[];for(let l=0;l<n.length;l++)i.push([]);function s(l,c,u){i[l].push([c,c.deserialize(String(u))])}if(t.nodeProps)for(let l of t.nodeProps){let c=l[0];typeof c=="string"&&(c=rn[c]);for(let u=1;u<l.length;){let d=l[u++];if(d>=0)s(d,c,l[u++]);else{let h=l[u+-d];for(let m=-d;m>0;m--)s(l[u++],c,h);u++}}}this.nodeSet=new V1(n.map((l,c)=>ps.define({name:c>=this.minRepeatTerm?void 0:l,id:c,props:i[c],top:r.indexOf(c)>-1,error:c==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(c)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=HX;let a=mb(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(EF),this.states=mb(t.states,Uint32Array),this.data=mb(t.stateData),this.goto=mb(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(l=>typeof l=="number"?new Vf(a,l):l),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,n,r){let i=new p5e(this,t,n,r);for(let s of this.wrappers)i=s(i,t,n,r);return i}getGoto(t,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let a=i[s++],l=a&1,c=i[s++];if(l&&r)return c;for(let u=s+(a>>1);s<u;s++)if(i[s]==t)return c;if(l)return-1}}hasAction(t,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(t,i?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=Ql(r,s+2)];else{if(r[s+1]==2)return Ql(r,s+2);break}if(a==n||a==0)return Ql(r,s+1)}return 0}stateSlot(t,n){return this.states[t*6+n]}stateFlag(t,n){return(this.stateSlot(t,0)&n)>0}validAction(t,n){return!!this.allActions(t,r=>r==n?!0:null)}allActions(t,n){let r=this.stateSlot(t,4),i=r?n(r):void 0;for(let s=this.stateSlot(t,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ql(this.data,s+2);else break;i=n(Ql(this.data,s+1))}return i}nextStates(t){let n=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ql(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,a)=>a&1&&s==i)||n.push(this.data[r],i)}}return n}configure(t){let n=Object.assign(Object.create(Ry.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);n.top=r}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=t.tokenizers.find(s=>s.from==r);return i?i.to:r})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=t.specializers.find(l=>l.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=EF(a),a})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let n=this.dynamicPrecedences;return n==null?0:n[t]||0}parseDialect(t){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(t)for(let s of t.split(" ")){let a=n.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let a=this.dialects[n[s]],l;(l=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new g5e(t,r,i)}static deserialize(t){return new Ry(t)}}function Ql(e,t){return e[t]|e[t+1]<<16}function x5e(e){let t=null;for(let n of e){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function EF(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const v5e=uA({String:ve.string,Number:ve.number,"True False":ve.bool,PropertyName:ve.propertyName,Null:ve.null,", :":ve.separator,"[ ]":ve.squareBracket,"{ }":ve.brace}),b5e=Ry.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[v5e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),_5e=Oy.define({name:"json",parser:b5e.configure({props:[Y1.add({Object:$$({except:/^\s*\}/}),Array:$$({except:/^\s*\]/})}),fA.add({"Object Array":rZ})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function w5e(){return new eZ(_5e)}const af=63,MF=64,j5e=1,k5e=2,NJ=3,S5e=4,CJ=5,N5e=6,C5e=7,OJ=65,O5e=66,P5e=8,E5e=9,M5e=10,T5e=11,A5e=12,PJ=13,z5e=19,D5e=20,R5e=29,I5e=33,L5e=34,$5e=47,F5e=0,OA=1,G2=2,Iy=3,Q2=4;class wd{constructor(t,n,r){this.parent=t,this.depth=n,this.type=r,this.hash=(t?t.hash+t.hash<<8:0)+n+(n<<4)+r}}wd.top=new wd(null,-1,F5e);function wg(e,t){for(let n=0,r=t-e.pos-1;;r--,n++){let i=e.peek(r);if(Pc(i)||i==-1)return n}}function X2(e){return e==32||e==9}function Pc(e){return e==10||e==13}function EJ(e){return X2(e)||Pc(e)}function Rd(e){return e<0||EJ(e)}const B5e=new y5e({start:wd.top,reduce(e,t){return e.type==Iy&&(t==D5e||t==L5e)?e.parent:e},shift(e,t,n,r){if(t==NJ)return new wd(e,wg(r,r.pos),OA);if(t==OJ||t==CJ)return new wd(e,wg(r,r.pos),G2);if(t==af)return e.parent;if(t==z5e||t==I5e)return new wd(e,0,Iy);if(t==PJ&&e.type==Q2)return e.parent;if(t==$5e){let i=/[1-9]/.exec(r.read(r.pos,n.pos));if(i)return new wd(e,e.depth+ +i[0],Q2)}return e},hash(e){return e.hash}});function km(e,t,n=0){return e.peek(n)==t&&e.peek(n+1)==t&&e.peek(n+2)==t&&Rd(e.peek(n+3))}const q5e=new tk((e,t)=>{if(e.next==-1&&t.canShift(MF))return e.acceptToken(MF);let n=e.peek(-1);if((Pc(n)||n<0)&&t.context.type!=Iy){if(km(e,45))if(t.canShift(af))e.acceptToken(af);else return e.acceptToken(j5e,3);if(km(e,46))if(t.canShift(af))e.acceptToken(af);else return e.acceptToken(k5e,3);let r=0;for(;e.next==32;)r++,e.advance();(r<t.context.depth||r==t.context.depth&&t.context.type==OA&&(e.next!=45||!Rd(e.peek(1))))&&e.next!=-1&&!Pc(e.next)&&e.next!=35&&e.acceptToken(af,-r)}},{contextual:!0}),W5e=new tk((e,t)=>{if(t.context.type==Iy){e.next==63&&(e.advance(),Rd(e.next)&&e.acceptToken(C5e));return}if(e.next==45)e.advance(),Rd(e.next)&&e.acceptToken(t.context.type==OA&&t.context.depth==wg(e,e.pos-1)?S5e:NJ);else if(e.next==63)e.advance(),Rd(e.next)&&e.acceptToken(t.context.type==G2&&t.context.depth==wg(e,e.pos-1)?N5e:CJ);else{let n=e.pos;for(;;)if(X2(e.next)){if(e.pos==n)return;e.advance()}else if(e.next==33)MJ(e);else if(e.next==38)Z2(e);else if(e.next==42){Z2(e);break}else if(e.next==39||e.next==34){if(PA(e,!0))break;return}else if(e.next==91||e.next==123){if(!V5e(e))return;break}else{TJ(e,!0,!1,0);break}for(;X2(e.next);)e.advance();if(e.next==58){if(e.pos==n&&t.canShift(R5e))return;let r=e.peek(1);Rd(r)&&e.acceptTokenTo(t.context.type==G2&&t.context.depth==wg(e,n)?O5e:OJ,n)}}},{contextual:!0});function U5e(e){return e>32&&e<127&&e!=34&&e!=37&&e!=44&&e!=60&&e!=62&&e!=92&&e!=94&&e!=96&&e!=123&&e!=124&&e!=125}function TF(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function AF(e,t){return e.next==37?(e.advance(),TF(e.next)&&e.advance(),TF(e.next)&&e.advance(),!0):U5e(e.next)||t&&e.next==44?(e.advance(),!0):!1}function MJ(e){if(e.advance(),e.next==60){for(e.advance();;)if(!AF(e,!0)){e.next==62&&e.advance();break}}else for(;AF(e,!1););}function Z2(e){for(e.advance();!Rd(e.next)&&Nw(e.tag)!="f";)e.advance()}function PA(e,t){let n=e.next,r=!1,i=e.pos;for(e.advance();;){let s=e.next;if(s<0)break;if(e.advance(),s==n)if(s==39)if(e.next==39)e.advance();else break;else break;else if(s==92&&n==34)e.next>=0&&e.advance();else if(Pc(s)){if(t)return!1;r=!0}else if(t&&e.pos>=i+1024)return!1}return!r}function V5e(e){for(let t=[],n=e.pos+1024;;)if(e.next==91||e.next==123)t.push(e.next),e.advance();else if(e.next==39||e.next==34){if(!PA(e,!0))return!1}else if(e.next==93||e.next==125){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>n||Pc(e.next))return!1;e.advance()}}const H5e="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function Nw(e){return e<33?"u":e>125?"s":H5e[e-33]}function mN(e,t){let n=Nw(e);return n!="u"&&!(t&&n=="f")}function TJ(e,t,n,r){if(Nw(e.next)=="s"||(e.next==63||e.next==58||e.next==45)&&mN(e.peek(1),n))e.advance();else return!1;let i=e.pos;for(;;){let s=e.next,a=0,l=r+1;for(;EJ(s);){if(Pc(s)){if(t)return!1;l=0}else l++;s=e.peek(++a)}if(!(s>=0&&(s==58?mN(e.peek(a+1),n):s==35?e.peek(a-1)!=32:mN(s,n)))||!n&&l<=r||l==0&&!n&&(km(e,45,a)||km(e,46,a)))break;if(t&&Nw(s)=="f")return!1;for(let u=a;u>=0;u--)e.advance();if(t&&e.pos>i+1024)return!1}return!0}const K5e=new tk((e,t)=>{if(e.next==33)MJ(e),e.acceptToken(A5e);else if(e.next==38||e.next==42){let n=e.next==38?M5e:T5e;Z2(e),e.acceptToken(n)}else e.next==39||e.next==34?(PA(e,!1),e.acceptToken(E5e)):TJ(e,!1,t.context.type==Iy,t.context.depth)&&e.acceptToken(P5e)}),Y5e=new tk((e,t)=>{let n=t.context.type==Q2?t.context.depth:-1,r=e.pos;e:for(;;){let i=0,s=e.next;for(;s==32;)s=e.peek(++i);if(!i&&(km(e,45,i)||km(e,46,i))||!Pc(s)&&(n<0&&(n=Math.max(t.context.depth+1,i)),i<n))break;for(;;){if(e.next<0)break e;let a=Pc(e.next);if(e.advance(),a)continue e;r=e.pos}}e.acceptTokenTo(PJ,r)}),G5e=uA({DirectiveName:ve.keyword,DirectiveContent:ve.attributeValue,"DirectiveEnd DocEnd":ve.meta,QuotedLiteral:ve.string,BlockLiteralHeader:ve.special(ve.string),BlockLiteralContent:ve.content,Literal:ve.content,"Key/Literal Key/QuotedLiteral":ve.definition(ve.propertyName),"Anchor Alias":ve.labelName,Tag:ve.typeName,Comment:ve.lineComment,": , -":ve.separator,"?":ve.punctuation,"[ ]":ve.squareBracket,"{ }":ve.brace}),Q5e=Ry.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:B5e,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[G5e],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[q5e,W5e,K5e,Y5e,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),X5e=Oy.define({name:"yaml",parser:Q5e.configure({props:[Y1.add({Stream:e=>{for(let t=e.node.resolve(e.pos,-1);t&&t.to>=e.pos;t=t.parent){if(t.name=="BlockLiteralContent"&&t.from<t.to)return e.baseIndentFor(t);if(t.name=="BlockLiteral")return e.baseIndentFor(t)+e.unit;if(t.name=="BlockSequence"||t.name=="BlockMapping")return e.column(t.from,1);if(t.name=="QuotedLiteral")return null;if(t.name=="Literal"){let n=e.column(t.from,1);if(n==e.lineIndent(t.from,1))return n;if(t.to>e.pos)return null}}return null},FlowMapping:L$({closing:"}"}),FlowSequence:L$({closing:"]"})}),fA.add({"FlowMapping FlowSequence":rZ,"Item Pair BlockLiteral":(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function Z5e(){return new eZ(X5e)}const J5e={name:"properties",token:function(e,t){var n=e.sol()||t.afterSection,r=e.eol();if(t.afterSection=!1,n&&(t.nextMultiline?(t.inMultiline=!0,t.nextMultiline=!1):t.position="def"),r&&!t.nextMultiline&&(t.inMultiline=!1,t.position="def"),n)for(;e.eatSpace(););var i=e.next();return n&&(i==="#"||i==="!"||i===";")?(t.position="comment",e.skipToEnd(),"comment"):n&&i==="["?(t.afterSection=!0,e.skipTo("]"),e.eat("]"),"header"):i==="="||i===":"?(t.position="quote",null):(i==="\\"&&t.position==="quote"&&e.eol()&&(t.nextMultiline=!0),t.position)},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}};function AJ({value:e,onChange:t,language:n,height:r=420,readOnly:i=!1,className:s}){const a=f.useMemo(()=>{const c=n==="json"?w5e():n==="yaml"?Z5e():n==="ini"?mA.define(J5e):[];return[UX(),VX(),ut.lineWrapping,c]},[n]),l=f.useMemo(()=>{if(!(typeof document>"u"))return document.documentElement.classList.contains("dark")?kJ:void 0},[]);return o.jsx("div",{className:te("rounded-md border overflow-hidden",s),children:o.jsx(SJ,{value:e,height:`${r}px`,theme:l,editable:!i,basicSetup:{foldGutter:!1,highlightActiveLine:!0,highlightSelectionMatches:!0,indentOnInput:!0,lineNumbers:!1},extensions:a,onChange:c=>t(c)})})}const bn={singbox:"subscribe_template_singbox",clash:"subscribe_template_clash",clashmeta:"subscribe_template_clashmeta",stash:"subscribe_template_stash",surge:"subscribe_template_surge",surfboard:"subscribe_template_surfboard"};function eqe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState("clash"),[p,g]=f.useState({}),y=f.useMemo(()=>[{value:"singbox",label:"Sing-box"},{value:"clash",label:"Clash"},{value:"clashmeta",label:"Clash Meta"},{value:"stash",label:"Stash"},{value:"surge",label:"Surge"},{value:"surfboard",label:"Surfboard"}],[]),x=M=>{const P=String(M??""),A=P.trim();if(!A)return P;try{const R=JSON.parse(A);return JSON.stringify(R,null,2)}catch{return P}},v=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const P=(await Gn.fetch("subscribe_template")).data.data.subscribe_template||{},A={[bn.singbox]:x(P.subscribe_template_singbox??""),[bn.clash]:P.subscribe_template_clash??"",[bn.clashmeta]:P.subscribe_template_clashmeta??"",[bn.stash]:P.subscribe_template_stash??"",[bn.surge]:P.subscribe_template_surge??"",[bn.surfboard]:P.subscribe_template_surfboard??""};n.current=!0,r.current=JSON.stringify({[bn.singbox]:A[bn.singbox]??"",[bn.clash]:A[bn.clash]??"",[bn.clashmeta]:A[bn.clashmeta]??"",[bn.stash]:A[bn.stash]??"",[bn.surge]:A[bn.surge]??"",[bn.surfboard]:A[bn.surfboard]??""}),i.current="",g(A)}catch(M){console.error(M),d(e("common.load_failed"))}finally{a(!1)}},[e]);f.useEffect(()=>{v()},[v]),f.useEffect(()=>{if(h!=="singbox")return;const M=bn.singbox;g(P=>{const A=P[M]??"",R=x(A);return R===A?P:{...P,[M]:R}})},[h]);const w=f.useMemo(()=>({[bn.singbox]:p[bn.singbox]??"",[bn.clash]:p[bn.clash]??"",[bn.clashmeta]:p[bn.clashmeta]??"",[bn.stash]:p[bn.stash]??"",[bn.surge]:p[bn.surge]??"",[bn.surfboard]:p[bn.surfboard]??""}),[p]),b=f.useMemo(()=>JSON.stringify(w),[w]),j=f.useCallback(async M=>{var A,R;t.current&&(window.clearTimeout(t.current),t.current=null);const P=JSON.stringify(M);c(!0),d(e("common.saving"));try{await Gn.save(M),r.current=P,i.current="",d(e("common.saved"))}catch(F){console.error(F),i.current=P,d(((R=(A=F==null?void 0:F.response)==null?void 0:A.data)==null?void 0:R.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&b!==r.current&&b!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,j(w)},1200),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,w,b,j,l]);const _=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:b===r.current?{label:e("common.saved"),className:"text-green-600"}:b===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[b,l,e]),k=bn[h],C=p[k]??"",O=h==="singbox"?"json":h==="clash"||h==="clashmeta"||h==="stash"?"yaml":h==="surge"||h==="surfboard"?"ini":"text";return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.sub_template")}),o.jsx(ha,{children:e("system.sub_template_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:v,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),_&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",_.className),children:[e("common.autosave"),": ",_.label]}),o.jsxs(B,{size:"sm",onClick:()=>j(w),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.sub_template_type"),htmlFor:"sub_template_type",hint:e("system.sub_template_type_hint"),children:o.jsx("div",{id:"sub_template_type",className:"flex flex-wrap gap-2",children:y.map(M=>{const P=h===M.value;return o.jsx(B,{type:"button",size:"sm",variant:P?"default":"outline",onClick:()=>m(M.value),"aria-pressed":P,children:M.label},M.value)})})}),o.jsx(Xe,{label:e("system.sub_template_content"),htmlFor:"sub_template_content",hint:e("system.sub_template_content_hint"),children:o.jsx(AJ,{value:C,language:O,height:520,onChange:M=>g(P=>({...P,[k]:M}))})}),u&&o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function tqe(e){const t=nqe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(iqe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function nqe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=aqe(i),l=sqe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?br(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rqe=Symbol("radix.slottable");function iqe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rqe}function sqe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function aqe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oqe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EA=oqe.reduce((e,t)=>{const n=tqe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),nk="Checkbox",[lqe]=ba(nk),[cqe,MA]=lqe(nk);function uqe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,p]=yl({prop:n,defaultProp:i??!1,onChange:c,caller:nk}),[g,y]=f.useState(null),[x,v]=f.useState(null),w=f.useRef(!1),b=g?!!a||!!g.closest("form"):!0,j={checked:m,disabled:s,setChecked:p,control:g,setControl:y,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Eu(i)?!1:i,isFormControl:b,bubbleInput:x,setBubbleInput:v};return o.jsx(cqe,{scope:t,...j,children:dqe(h)?h(j):r})}var zJ="CheckboxTrigger",DJ=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=MA(zJ,e),y=en(i,d),x=f.useRef(c);return f.useEffect(()=>{const v=s==null?void 0:s.form;if(v){const w=()=>h(x.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[s,h]),o.jsx(EA.button,{type:"button",role:"checkbox","aria-checked":Eu(c)?"mixed":c,"aria-required":u,"data-state":FJ(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:y,onKeyDown:dt(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:dt(n,v=>{h(w=>Eu(w)?!0:!w),g&&p&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});DJ.displayName=zJ;var TA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return o.jsx(uqe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(DJ,{...h,ref:t,__scopeCheckbox:n}),m&&o.jsx($J,{__scopeCheckbox:n})]})})});TA.displayName=nk;var RJ="CheckboxIndicator",IJ=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=MA(RJ,n);return o.jsx(Mi,{present:r||Eu(s.checked)||s.checked===!0,children:o.jsx(EA.span,{"data-state":FJ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});IJ.displayName=RJ;var LJ="CheckboxBubbleInput",$J=f.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:p}=MA(LJ,e),g=en(n,p),y=zT(s),x=kE(r);f.useEffect(()=>{const w=m;if(!w)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,k=!i.current;if(y!==s&&_){const C=new Event("click",{bubbles:k});w.indeterminate=Eu(s),_.call(w,Eu(s)?!1:s),w.dispatchEvent(C)}},[m,y,s,i]);const v=f.useRef(Eu(s)?!1:s);return o.jsx(EA.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$J.displayName=LJ;function dqe(e){return typeof e=="function"}function Eu(e){return e==="indeterminate"}function FJ(e){return Eu(e)?"indeterminate":e?"checked":"unchecked"}const Hn=f.forwardRef(({className:e,...t},n)=>o.jsx(TA,{ref:n,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-input ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(IJ,{className:te("flex items-center justify-center text-current"),children:o.jsx(mE,{className:"h-4 w-4"})})}));Hn.displayName=TA.displayName;function Xc(e){const t=e.trim();if(t==="")return null;const n=Number(t);return Number.isFinite(n)?n:null}function pb(e){const t=e.trim();if(t==="")return null;const n=Number(t);return Number.isFinite(n)?Math.trunc(n):null}function hqe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({invite_force:!1,invite_commission:"10",invite_gen_limit:"5",invite_never_expire:!1,commission_first_time_enable:!0,commission_auto_check_enable:!0,commission_withdraw_limit:"100",commission_withdraw_method:[],withdraw_close_enable:!1,commission_distribution_enable:!1,commission_distribution_l1:"",commission_distribution_l2:"",commission_distribution_l3:""}),p=f.useMemo(()=>["","USDT","Paypal"],[]),g=f.useMemo(()=>({invite_force:h.invite_force,invite_commission:pb(h.invite_commission),invite_gen_limit:pb(h.invite_gen_limit),invite_never_expire:h.invite_never_expire,commission_first_time_enable:h.commission_first_time_enable,commission_auto_check_enable:h.commission_auto_check_enable,commission_withdraw_limit:Xc(h.commission_withdraw_limit),commission_withdraw_method:h.commission_withdraw_method,withdraw_close_enable:h.withdraw_close_enable,commission_distribution_enable:h.commission_distribution_enable,commission_distribution_l1:Xc(h.commission_distribution_l1),commission_distribution_l2:Xc(h.commission_distribution_l2),commission_distribution_l3:Xc(h.commission_distribution_l3)}),[h]),y=f.useMemo(()=>JSON.stringify(g),[g]),x=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const _=(await Gn.fetch("invite")).data.data.invite||{},k={invite_force:!!_.invite_force,invite_commission:String(_.invite_commission??"10"),invite_gen_limit:String(_.invite_gen_limit??"5"),invite_never_expire:!!_.invite_never_expire,commission_first_time_enable:!!_.commission_first_time_enable,commission_auto_check_enable:!!_.commission_auto_check_enable,commission_withdraw_limit:String(_.commission_withdraw_limit??"100"),commission_withdraw_method:Array.isArray(_.commission_withdraw_method)?_.commission_withdraw_method:[],withdraw_close_enable:!!_.withdraw_close_enable,commission_distribution_enable:!!_.commission_distribution_enable,commission_distribution_l1:_.commission_distribution_l1==null?"":String(_.commission_distribution_l1),commission_distribution_l2:_.commission_distribution_l2==null?"":String(_.commission_distribution_l2),commission_distribution_l3:_.commission_distribution_l3==null?"":String(_.commission_distribution_l3)};n.current=!0,r.current=JSON.stringify({invite_force:k.invite_force,invite_commission:pb(k.invite_commission),invite_gen_limit:pb(k.invite_gen_limit),invite_never_expire:k.invite_never_expire,commission_first_time_enable:k.commission_first_time_enable,commission_auto_check_enable:k.commission_auto_check_enable,commission_withdraw_limit:Xc(k.commission_withdraw_limit),commission_withdraw_method:k.commission_withdraw_method,withdraw_close_enable:k.withdraw_close_enable,commission_distribution_enable:k.commission_distribution_enable,commission_distribution_l1:Xc(k.commission_distribution_l1),commission_distribution_l2:Xc(k.commission_distribution_l2),commission_distribution_l3:Xc(k.commission_distribution_l3)}),i.current="",m(k)}catch(j){console.error(j),d(e("common.load_failed"))}finally{a(!1)}},[e]);f.useEffect(()=>{x()},[x]);const v=f.useCallback(async j=>{var k,C;t.current&&(window.clearTimeout(t.current),t.current=null);const _=JSON.stringify(j);c(!0),d(e("common.saving"));try{await Gn.save(j),r.current=_,i.current="",d(e("common.saved"))}catch(O){console.error(O),i.current=_,d(((C=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:C.message)||e("common.save_failed"))}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&y!==r.current&&y!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,v(g)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,g,y,v,l]);const w=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:y===r.current?{label:e("common.saved"),className:"text-green-600"}:y===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[y,l,e]),b=(j,_)=>{m(k=>{const C=new Set(k.commission_withdraw_method);return _?C.add(j):C.delete(j),{...k,commission_withdraw_method:Array.from(C)}})};return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.invite_settings")}),o.jsx(ha,{children:e("system.invite_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",w.className),children:[e("common.autosave"),": ",w.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:x,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>v(g),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-0",children:[o.jsx("div",{className:"text-sm font-semibold",children:e("system.invite_section_title")}),o.jsx(Xe,{label:e("system.invite_force"),htmlFor:"invite_force",hint:e("system.invite_force_hint"),children:o.jsx(Dt,{id:"invite_force",checked:h.invite_force,onCheckedChange:j=>m(_=>({..._,invite_force:j}))})}),o.jsx(Xe,{label:e("system.invite_commission"),htmlFor:"invite_commission",hint:e("system.invite_commission_hint"),children:o.jsx(G,{id:"invite_commission",type:"number",min:0,max:100,step:1,value:h.invite_commission,onChange:j=>m(_=>({..._,invite_commission:j.target.value}))})}),o.jsx(Xe,{label:e("system.invite_gen_limit"),htmlFor:"invite_gen_limit",hint:e("system.invite_gen_limit_hint"),children:o.jsx(G,{id:"invite_gen_limit",type:"number",min:0,step:1,value:h.invite_gen_limit,onChange:j=>m(_=>({..._,invite_gen_limit:j.target.value}))})}),o.jsx(Xe,{label:e("system.invite_never_expire"),htmlFor:"invite_never_expire",hint:e("system.invite_never_expire_hint"),children:o.jsx(Dt,{id:"invite_never_expire",checked:h.invite_never_expire,onCheckedChange:j=>m(_=>({..._,invite_never_expire:j}))})})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx("div",{className:"text-sm font-semibold",children:e("system.commission_section_title")}),o.jsx(Xe,{label:e("system.commission_first_time_enable"),htmlFor:"commission_first_time_enable",hint:e("system.commission_first_time_enable_hint"),children:o.jsx(Dt,{id:"commission_first_time_enable",checked:h.commission_first_time_enable,onCheckedChange:j=>m(_=>({..._,commission_first_time_enable:j}))})}),o.jsx(Xe,{label:e("system.commission_auto_check_enable"),htmlFor:"commission_auto_check_enable",hint:e("system.commission_auto_check_enable_hint"),children:o.jsx(Dt,{id:"commission_auto_check_enable",checked:h.commission_auto_check_enable,onCheckedChange:j=>m(_=>({..._,commission_auto_check_enable:j}))})}),o.jsx(Xe,{label:e("system.withdraw_close_enable"),htmlFor:"withdraw_close_enable",hint:e("system.withdraw_close_enable_hint"),children:o.jsx(Dt,{id:"withdraw_close_enable",checked:h.withdraw_close_enable,onCheckedChange:j=>m(_=>({..._,withdraw_close_enable:j}))})}),o.jsx(Xe,{label:e("system.commission_withdraw_limit"),htmlFor:"commission_withdraw_limit",hint:e("system.commission_withdraw_limit_hint"),children:o.jsx(G,{id:"commission_withdraw_limit",type:"number",min:0,step:"0.01",value:h.commission_withdraw_limit,onChange:j=>m(_=>({..._,commission_withdraw_limit:j.target.value}))})}),o.jsx(Xe,{label:e("system.commission_withdraw_method"),hint:e("system.commission_withdraw_method_hint"),children:o.jsx("div",{className:"grid gap-2",children:p.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:h.commission_withdraw_method.includes(j),onCheckedChange:_=>b(j,_===!0)}),j]},j))})}),o.jsx(Xe,{label:e("system.commission_distribution_enable"),htmlFor:"commission_distribution_enable",hint:e("system.commission_distribution_enable_hint"),children:o.jsx(Dt,{id:"commission_distribution_enable",checked:h.commission_distribution_enable,onCheckedChange:j=>m(_=>({..._,commission_distribution_enable:j}))})}),h.commission_distribution_enable?o.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[o.jsx(Xe,{label:e("system.commission_distribution_l1"),htmlFor:"commission_distribution_l1",hint:e("system.commission_distribution_l1_hint"),children:o.jsx(G,{id:"commission_distribution_l1",type:"number",min:0,step:"0.01",value:h.commission_distribution_l1,onChange:j=>m(_=>({..._,commission_distribution_l1:j.target.value}))})}),o.jsx(Xe,{label:e("system.commission_distribution_l2"),htmlFor:"commission_distribution_l2",hint:e("system.commission_distribution_l2_hint"),children:o.jsx(G,{id:"commission_distribution_l2",type:"number",min:0,step:"0.01",value:h.commission_distribution_l2,onChange:j=>m(_=>({..._,commission_distribution_l2:j.target.value}))})}),o.jsx(Xe,{label:e("system.commission_distribution_l3"),htmlFor:"commission_distribution_l3",hint:e("system.commission_distribution_l3_hint"),children:o.jsx(G,{id:"commission_distribution_l3",type:"number",min:0,step:"0.01",value:h.commission_distribution_l3,onChange:j=>m(_=>({..._,commission_distribution_l3:j.target.value}))})})]}):null,u?o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u}):null]})]})]})}function fqe(){const{t:e}=Ut(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({windows_version:"",windows_download_url:"",macos_version:"",macos_download_url:"",android_version:"",android_download_url:""}),p=f.useCallback(_=>{const k=String(_??"").trim();return k||null},[]),g=f.useCallback(_=>({windows_version:_.windows_version,windows_download_url:_.windows_download_url,macos_version:_.macos_version,macos_download_url:_.macos_download_url,android_version:_.android_version,android_download_url:_.android_download_url}),[]),y=f.useMemo(()=>g(h),[h,g]),x=f.useMemo(()=>({windows_version:p(y.windows_version),windows_download_url:p(y.windows_download_url),macos_version:p(y.macos_version),macos_download_url:p(y.macos_download_url),android_version:p(y.android_version),android_download_url:p(y.android_download_url)}),[p,y]),v=f.useMemo(()=>JSON.stringify(x),[x]),w=f.useCallback(async()=>{t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const k=(await Gn.fetch("app")).data.data.app||{},C={windows_version:k.windows_version??"",windows_download_url:k.windows_download_url??"",macos_version:k.macos_version??"",macos_download_url:k.macos_download_url??"",android_version:k.android_version??"",android_download_url:k.android_download_url??""};n.current=!0,r.current=JSON.stringify({windows_version:p(C.windows_version),windows_download_url:p(C.windows_download_url),macos_version:p(C.macos_version),macos_download_url:p(C.macos_download_url),android_version:p(C.android_version),android_download_url:p(C.android_download_url)}),i.current="",m(C)}catch(_){console.error(_),d(e("common.load_failed"))}finally{a(!1)}},[p,e]);f.useEffect(()=>{w()},[w]);const b=f.useCallback(async _=>{var C,O;t.current&&(window.clearTimeout(t.current),t.current=null);const k=JSON.stringify(_);c(!0),d(e("common.saving"));try{await Gn.save(_);try{const P=(await Gn.fetch("app")).data.data.app||{},A=JSON.stringify({windows_version:p(P.windows_version),windows_download_url:p(P.windows_download_url),macos_version:p(P.macos_version),macos_download_url:p(P.macos_download_url),android_version:p(P.android_version),android_download_url:p(P.android_download_url)});if(r.current=A,A!==k){i.current=k,d(e("common.saved_but_not_applied"));return}}catch(M){console.error(M)}r.current=k,i.current="",d(e("common.saved"))}catch(M){console.error(M),i.current=k,d(((O=(C=M==null?void 0:M.response)==null?void 0:C.data)==null?void 0:O.message)||e("common.save_failed"))}finally{c(!1)}},[p,e]);f.useEffect(()=>{if(n.current&&!(s||l)&&v!==r.current&&v!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,b(x)},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,x,v,b,l]);const j=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:v===r.current?{label:e("common.saved"),className:"text-green-600"}:v===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[v,l,e]);return o.jsxs(It,{children:[o.jsxs(Jn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(er,{children:e("system.app_settings")}),o.jsx(ha,{children:e("system.app_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[j&&o.jsxs("span",{className:te("text-xs whitespace-nowrap",j.className),children:[e("common.autosave"),": ",j.label]}),o.jsx(B,{variant:"outline",size:"sm",onClick:w,disabled:s,className:"h-8",children:o.jsx(gn,{className:te("h-4 w-4",s&&"animate-spin")})}),o.jsxs(B,{size:"sm",onClick:()=>b(x),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Xe,{label:e("system.app_windows_version"),htmlFor:"windows_version",hint:e("system.app_windows_version_hint"),children:o.jsx(G,{id:"windows_version",value:h.windows_version,onChange:_=>m(k=>({...k,windows_version:_.target.value})),placeholder:"1.3.0"})}),o.jsx(Xe,{label:e("system.app_windows_download_url"),htmlFor:"windows_download_url",hint:e("system.app_windows_download_url_hint"),children:o.jsx(G,{id:"windows_download_url",value:h.windows_download_url,onChange:_=>m(k=>({...k,windows_download_url:_.target.value})),placeholder:"https://example.com/windows.exe"})}),o.jsx(Xe,{label:e("system.app_macos_version"),htmlFor:"macos_version",hint:e("system.app_macos_version_hint"),children:o.jsx(G,{id:"macos_version",value:h.macos_version,onChange:_=>m(k=>({...k,macos_version:_.target.value})),placeholder:"1.3.0"})}),o.jsx(Xe,{label:e("system.app_macos_download_url"),htmlFor:"macos_download_url",hint:e("system.app_macos_download_url_hint"),children:o.jsx(G,{id:"macos_download_url",value:h.macos_download_url,onChange:_=>m(k=>({...k,macos_download_url:_.target.value})),placeholder:"https://example.com/macos.pkg"})}),o.jsx(Xe,{label:e("system.app_android_version"),htmlFor:"android_version",hint:e("system.app_android_version_hint"),children:o.jsx(G,{id:"android_version",value:h.android_version,onChange:_=>m(k=>({...k,android_version:_.target.value})),placeholder:"1.3.0"})}),o.jsx(Xe,{label:e("system.app_android_download_url"),htmlFor:"android_download_url",hint:e("system.app_android_download_url_hint"),children:o.jsx(G,{id:"android_download_url",value:h.android_download_url,onChange:_=>m(k=>({...k,android_download_url:_.target.value})),placeholder:"https://example.com/android.apk"})}),u?o.jsx("div",{className:te("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u}):null]})]})}function mqe(){const{t:e}=Ut(),t=new Set(["site","security","subscription","app","invite","telegram","api","smtp","subscribe_template"]),n=new URLSearchParams(window.location.search).get("tab")||"",r=t.has(n)?n:"site";return o.jsx("div",{className:"p-6 space-y-6",children:o.jsx(Qm,{defaultValue:r,className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-6",children:[o.jsx("aside",{className:"md:w-60 md:shrink-0 md:sticky md:top-6 md:self-start",children:o.jsx("div",{className:"rounded-xl border border-border/70 bg-card p-2",children:o.jsxs(Nh,{className:"h-auto w-full flex flex-col items-stretch gap-1 bg-transparent p-0",children:[o.jsxs(gr,{value:"site",className:"w-full justify-start gap-2",children:[o.jsx(Wle,{className:"h-4 w-4"}),e("system.site_settings")]}),o.jsxs(gr,{value:"security",className:"w-full justify-start gap-2",children:[o.jsx(t8,{className:"h-4 w-4"}),e("system.security_settings")]}),o.jsxs(gr,{value:"subscription",className:"w-full justify-start gap-2",children:[o.jsx(V6,{className:"h-4 w-4"}),e("system.subscription_settings")]}),o.jsxs(gr,{value:"app",className:"w-full justify-start gap-2",children:[o.jsx(r8,{className:"h-4 w-4"}),e("system.app_settings")]}),o.jsxs(gr,{value:"invite",className:"w-full justify-start gap-2",children:[o.jsx(DC,{className:"h-4 w-4"}),e("system.invite_settings")]}),o.jsxs(gr,{value:"telegram",className:"w-full justify-start gap-2",children:[o.jsx(gE,{className:"h-4 w-4"}),e("system.telegram_settings")]}),o.jsxs(gr,{value:"api",className:"w-full justify-start gap-2",children:[o.jsx(rj,{className:"h-4 w-4"}),e("system.api_settings")]}),o.jsxs(gr,{value:"smtp",className:"w-full justify-start gap-2",children:[o.jsx(Z6,{className:"h-4 w-4"}),e("system.smtp_settings")]}),o.jsxs(gr,{value:"subscribe_template",className:"w-full justify-start gap-2",children:[o.jsx(Wg,{className:"h-4 w-4"}),e("system.sub_template")]})]})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(ai,{value:"site",className:"space-y-4 mt-0",children:o.jsx(VDe,{})}),o.jsx(ai,{value:"security",className:"space-y-4 mt-0",children:o.jsx(HDe,{})}),o.jsx(ai,{value:"subscription",className:"space-y-4 mt-0",children:o.jsx(KDe,{})}),o.jsx(ai,{value:"app",className:"space-y-4 mt-0",children:o.jsx(fqe,{})}),o.jsx(ai,{value:"invite",className:"space-y-4 mt-0",children:o.jsx(hqe,{})}),o.jsx(ai,{value:"telegram",className:"space-y-4 mt-0",children:o.jsx(YDe,{})}),o.jsx(ai,{value:"api",className:"space-y-4 mt-0",children:o.jsx(FRe,{})}),o.jsx(ai,{value:"smtp",className:"space-y-4 mt-0",children:o.jsx(BRe,{})}),o.jsx(ai,{value:"subscribe_template",className:"space-y-4 mt-0",children:o.jsx(eqe,{})})]})]})})})}const Bl={types:()=>De.get("/plugin/types"),list:e=>De.get("/plugin/getPlugins",{params:e}),upload:e=>{const t=new FormData;return t.append("file",e),De.post("/plugin/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},install:e=>De.post("/plugin/install",{code:e}),uninstall:e=>De.post("/plugin/uninstall",{code:e}),enable:e=>De.post("/plugin/enable",{code:e}),disable:e=>De.post("/plugin/disable",{code:e}),upgrade:e=>De.post("/plugin/upgrade",{code:e}),remove:e=>De.post("/plugin/delete",{code:e}),getConfig:e=>De.get("/plugin/config",{params:{code:e}}),updateConfig:(e,t)=>De.post("/plugin/config",{code:e,config:t})},ql=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t};function pqe(){var fe,X,ke,Q,Se;const{t:e}=Ut(),t=wa(),n=f.useRef(null),[r,i]=f.useState(!1),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(""),[y,x]=f.useState("feature"),[v,w]=f.useState("all"),[b,j]=f.useState([]),_=ls(),[k,C]=f.useState(!1),[O,M]=f.useState(!1),[P,A]=f.useState(!1),[R,F]=f.useState(null),[V,K]=f.useState({}),[L,W]=f.useState({}),[z,T]=f.useState(""),q=f.useCallback(async()=>{m(null);try{const re=await Bl.list();j(re.data.data||[])}catch(re){j([]),m({tone:"error",text:ql(re,e("common.load_failed"))}),console.error(re)}},[e]);f.useEffect(()=>{q()},[q]);const Y=f.useMemo(()=>{const re=p.trim().toLowerCase();return b.filter(Ne=>{const Oe=!re||Ne.name.toLowerCase().includes(re)||Ne.code.toLowerCase().includes(re)||(Ne.description||"").toLowerCase().includes(re)||(Ne.author||"").toLowerCase().includes(re),xe=y==="all"||Ne.type===y,me=v==="all"||v==="installed"&&Ne.is_installed||v==="available"&&!Ne.is_installed;return Oe&&xe&&me})},[b,p,y,v]),ee=async re=>{F(re),C(!0),M(!0),A(!1),T(""),K({}),W({});try{const Oe=(await Bl.getConfig(re.code)).data.data||{};K(Oe);const xe={};for(const[me,H]of Object.entries(Oe))(H==null?void 0:H.type)==="json"&&(H!=null&&H.value)&&typeof H.value=="object"?xe[me]=JSON.stringify(H.value,null,2):(H==null?void 0:H.type)==="text"?xe[me]=(H==null?void 0:H.value)===null||(H==null?void 0:H.value)===void 0?"":String(H.value):xe[me]=H==null?void 0:H.value;W(xe)}catch(Ne){T(ql(Ne,e("common.load_failed"))),console.error(Ne)}finally{M(!1)}},pe=async()=>{if(R&&!P){A(!0),T("");try{const re={};for(const[Oe,xe]of Object.entries(V)){const me=L[Oe];switch(xe==null?void 0:xe.type){case"boolean":re[Oe]=!!me;break;case"number":{const H=typeof me=="number"?me:Number(me);re[Oe]=Number.isFinite(H)?H:0;break}default:re[Oe]=me??""}}const Ne=await Bl.updateConfig(R.code,re);m({tone:"success",text:Ne.data.message||e("common.saved")}),C(!1),await q()}catch(re){T(ql(re,e("common.save_failed"))),console.error(re)}finally{A(!1)}}},se=async re=>{if(!u){d(re.code),m(null);try{const Ne=await Bl.enable(re.code);m({tone:"success",text:Ne.data.message||e("common.saved")}),await q()}catch(Ne){m({tone:"error",text:ql(Ne,e("common.save_failed"))}),console.error(Ne)}finally{d(null)}}},he=async re=>{if(!u){d(re.code),m(null);try{const Ne=await Bl.disable(re.code);m({tone:"success",text:Ne.data.message||e("common.saved")}),await q()}catch(Ne){m({tone:"error",text:ql(Ne,e("common.save_failed"))}),console.error(Ne)}finally{d(null)}}},Pe=async re=>{if(!u){d(re.code),m(null);try{const Ne=await Bl.install(re.code);m({tone:"success",text:Ne.data.message||e("common.saved")}),await q()}catch(Ne){m({tone:"error",text:ql(Ne,e("common.save_failed"))}),console.error(Ne)}finally{d(null)}}},J=async re=>{if(!u){d(re.code),m(null);try{const Ne=await Bl.upgrade(re.code);m({tone:"success",text:Ne.data.message||e("common.saved")}),await q()}catch(Ne){m({tone:"error",text:ql(Ne,e("common.save_failed"))}),console.error(Ne)}finally{d(null)}}},Re=async re=>{if(!(u||!await t({title:e("common.uninstall"),description:e("plugin.confirm_uninstall"),confirmText:e("common.uninstall"),confirmVariant:"destructive"}))){d(re.code),m(null);try{const Oe=await Bl.uninstall(re.code);m({tone:"success",text:Oe.data.message||e("common.saved")}),await q()}catch(Oe){m({tone:"error",text:ql(Oe,e("common.save_failed"))}),console.error(Oe)}finally{d(null)}}},ie=async re=>{if(r)return!1;i(!0),m(null);try{const Ne=await Bl.upload(re);return m({tone:"success",text:Ne.data.message||e("plugin.upload_success")}),await q(),!0}catch(Ne){return m({tone:"error",text:ql(Ne,e("plugin.upload_failed"))}),console.error(Ne),!1}finally{i(!1)}},Ee=async re=>{if(!re)return;await ie(re)&&a(!1)},Te=[{value:"feature",label:e("plugin.tabs.feature")},{value:"payment",label:e("plugin.tabs.payment")},{value:"all",label:e("plugin.tabs.all")}];return o.jsxs("div",{className:"p-6 space-y-6",children:[h&&o.jsx("div",{className:te("text-sm",h.tone==="success"?"text-green-600":"text-red-600"),children:h.text}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"relative w-full md:max-w-sm",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(G,{value:p,onChange:re=>g(re.target.value),placeholder:e("plugin.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(st,{value:v,onValueChange:re=>w(re),children:[o.jsx(nt,{className:"h-9 w-[140px]",children:o.jsx(at,{placeholder:e("plugin.status_filter.all")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("plugin.status_filter.all")}),o.jsx(de,{value:"installed",children:e("plugin.status_filter.installed")}),o.jsx(de,{value:"available",children:e("plugin.status_filter.available")})]})]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",disabled:r,onClick:()=>a(!0),children:[o.jsx(Ug,{className:"h-4 w-4 mr-2"}),e("plugin.upload")]})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Te.map(re=>o.jsx(B,{type:"button",size:"sm",variant:y===re.value?"secondary":"outline",className:"h-8",onClick:()=>x(re.value),children:re.label},re.value))}),o.jsx("div",{className:"space-y-3",children:Y.length===0?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("plugin.empty")})}):Y.map(re=>{const Ne=u===re.code,Oe=re.is_installed?re.is_enabled?"enabled":"disabled":"not_installed",xe=e(`plugin.status.${Oe}`),me=Oe==="enabled"?"bg-foreground text-background":Oe==="disabled"?"border border-border/70 bg-muted/30 text-muted-foreground":"border border-dashed border-border/70 text-muted-foreground",H=re.type==="payment"?e("plugin.type.payment"):e("plugin.type.feature"),$e=[re.code,re.version?`v${re.version}`:"",re.author].filter(Boolean).join("  ");return o.jsx(It,{onContextMenu:ne=>_.openMenu(ne,re),children:o.jsx(Lt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"min-w-0 space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("div",{className:"font-semibold",children:re.name}),o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/30 px-2 py-0.5 text-xs text-muted-foreground",children:H}),o.jsx("span",{className:te("inline-flex items-center rounded-full px-2 py-0.5 text-xs",me),children:xe})]}),$e?o.jsx("div",{className:"text-xs text-muted-foreground",children:$e}):null,re.description?o.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:re.description}):null]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[re.need_upgrade?o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full border border-amber-200 bg-amber-50 text-amber-600 hover:bg-amber-100",onClick:()=>J(re),disabled:Ne,title:e("plugin.upgrade"),children:o.jsx(WD,{className:"h-4 w-4"})}):null,o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:re.is_installed?o.jsxs(o.Fragment,{children:[re.type==="feature"?o.jsx(B,{size:"sm",variant:"outline",disabled:Ne,onClick:()=>ee(re),className:"h-8",children:e("common.config")}):null,re.is_enabled?o.jsx(B,{size:"sm",variant:"destructive",disabled:Ne,onClick:()=>he(re),className:"h-8",children:e("common.disable")}):o.jsx(B,{size:"sm",variant:"default",disabled:Ne,onClick:()=>se(re),className:"h-8 bg-emerald-600 text-white hover:bg-emerald-700",children:e("common.enable")}),o.jsx(B,{size:"sm",variant:"outline",disabled:re.is_enabled||Ne,onClick:()=>Re(re),className:"h-8",children:e("common.uninstall")})]}):o.jsx(B,{size:"sm",variant:"outline",disabled:Ne,onClick:()=>Pe(re),className:"h-8",children:e("common.install")})})]})]})})},re.code)})}),o.jsx(un,{open:s,onOpenChange:a,children:o.jsxs(on,{className:"max-w-md",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("plugin.upload_title")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.upload_desc")}),o.jsx("input",{ref:n,type:"file",accept:".zip",className:"hidden",onChange:re=>{var Oe;const Ne=(Oe=re.target.files)==null?void 0:Oe[0];Ee(Ne),re.target&&(re.target.value="")}}),o.jsxs("div",{className:te("flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border border-dashed border-border/70 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",l&&"border-primary bg-primary/5 text-foreground"),onClick:()=>{var re;return(re=n.current)==null?void 0:re.click()},onDragOver:re=>{re.preventDefault()},onDragEnter:re=>{re.preventDefault(),c(!0)},onDragLeave:re=>{re.preventDefault(),c(!1)},onDrop:re=>{var Ne;re.preventDefault(),c(!1),Ee((Ne=re.dataTransfer.files)==null?void 0:Ne[0])},role:"button",tabIndex:0,children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-border/70 bg-background",children:o.jsx(Ug,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-sm",children:[e("plugin.upload_drop")," ",o.jsx("span",{className:"text-primary",children:e("plugin.upload_click")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plugin.upload_hint")})]})]})]})}),o.jsx(un,{open:k,onOpenChange:C,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:R?e("plugin.config_title",{name:R.name}):e("plugin.config_title_empty")})}),O?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.config_loading")}):z?o.jsx("div",{className:"text-sm text-red-600",children:z}):Object.keys(V).length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.config_empty")}):o.jsx(ds,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-4",children:Object.entries(V).map(([re,Ne])=>{const Oe=Ne.label||re,xe=Ne.description||"",me=Ne.placeholder||"",H=Ne.type||"string",Ce=L[re];return o.jsx("div",{className:"grid gap-2",children:H==="boolean"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{id:`plugin-config-${re}`,checked:!!Ce,onCheckedChange:$e=>W(ne=>({...ne,[re]:$e}))}),o.jsx(Z,{htmlFor:`plugin-config-${re}`,children:Oe})]}),xe?o.jsx("div",{className:"text-xs text-muted-foreground",children:xe}):null]}):H==="number"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Z,{htmlFor:`plugin-config-${re}`,children:Oe}),xe?o.jsx("div",{className:"text-xs text-muted-foreground",children:xe}):null]}),o.jsx(G,{id:`plugin-config-${re}`,type:"number",value:Ce==null?"":String(Ce),placeholder:me,onChange:$e=>W(ne=>({...ne,[re]:$e.target.value}))})]}):H==="text"||H==="json"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Z,{htmlFor:`plugin-config-${re}`,children:Oe}),xe?o.jsx("div",{className:"text-xs text-muted-foreground",children:xe}):null]}),o.jsx(xr,{id:`plugin-config-${re}`,value:Ce==null?"":String(Ce),placeholder:me,onChange:$e=>W(ne=>({...ne,[re]:$e.target.value})),className:"min-h-[120px] font-mono"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Z,{htmlFor:`plugin-config-${re}`,children:Oe}),xe?o.jsx("div",{className:"text-xs text-muted-foreground",children:xe}):null]}),o.jsx(G,{id:`plugin-config-${re}`,value:Ce==null?"":String(Ce),placeholder:me,onChange:$e=>W(ne=>({...ne,[re]:$e.target.value}))})]})},re)})})}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>C(!1),disabled:P,children:e("common.cancel")}),o.jsx(B,{onClick:pe,disabled:O||P||!!z||!R,children:e(P?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:_.open,onOpenChange:_.setOpen,position:_.position,items:[...(fe=_.data)!=null&&fe.need_upgrade?[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(WD,{className:"h-4 w-4 mr-2"}),e("plugin.upgrade")]}),disabled:!_.data||u===_.data.code,onSelect:()=>{_.data&&(_.setOpen(!1),J(_.data))}},{type:"separator"}]:[],...(X=_.data)!=null&&X.is_installed?[...((ke=_.data)==null?void 0:ke.type)==="feature"?[{type:"item",label:e("common.config"),disabled:!_.data||u===_.data.code,onSelect:()=>{_.data&&(_.setOpen(!1),ee(_.data))}}]:[],{type:"item",label:(Q=_.data)!=null&&Q.is_enabled?e("common.disable"):e("common.enable"),destructive:!!((Se=_.data)!=null&&Se.is_enabled),disabled:!_.data||u===_.data.code,onSelect:()=>{_.data&&(_.setOpen(!1),_.data.is_enabled?he(_.data):se(_.data))}},{type:"item",label:e("common.uninstall"),disabled:!_.data||_.data.is_enabled||u===_.data.code,onSelect:()=>{_.data&&(_.setOpen(!1),Re(_.data))}}]:[{type:"item",label:e("common.install"),disabled:!_.data||u===_.data.code,onSelect:()=>{_.data&&(_.setOpen(!1),Pe(_.data))}}]]})]})}const gb={getThemes:()=>De.get("/theme/getThemes"),upload:e=>{const t=new FormData;return t.append("file",e),De.post("/theme/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>De.post("/theme/delete",{name:e}),getThemeConfig:e=>De.post("/theme/getThemeConfig",{name:e}),saveThemeConfig:(e,t)=>De.post("/theme/saveThemeConfig",{name:e,config:t})},Ep=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Yo=e=>String(e??"").trim().toLowerCase();function gqe(){const{t:e}=Ut(),t=f.useRef(null),[n,r]=f.useState(null),[i,s]=f.useState(""),[a,l]=f.useState({}),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,y]=f.useState(!1),[x,v]=f.useState(!1),[w,b]=f.useState(!1),[j,_]=f.useState(!1),[k,C]=f.useState(null),[O,M]=f.useState({}),[P,A]=f.useState(""),R=f.useMemo(()=>{const q=Object.entries(a).map(([ee,pe])=>({key:String(ee),...pe||{}})),Y=new Map;for(const ee of q){const pe=[Yo(ee.name),Yo(ee.description),Yo(ee.version)],se=pe.join("|"),he=pe.some(Boolean)?se:Yo(ee.key);if(!Y.get(he)){Y.set(he,ee);continue}ee.key===i&&Y.set(he,ee)}return Array.from(Y.values()).sort((ee,pe)=>ee.key.localeCompare(pe.key))},[a,i]),F=f.useCallback(async()=>{r(null);try{const q=await gb.getThemes();if(q.data.status!=="success")throw new Error(q.data.message||"request failed");l(q.data.data.themes||{}),s(q.data.data.active||"")}catch(q){r({tone:"error",text:Ep(q,e("common.load_failed"))}),console.error(q)}},[e]);f.useEffect(()=>{F()},[F]);const V=async q=>{if(d)return!1;h(!0),r(null);try{const Y=await gb.upload(q);if(Y.data.status!=="success")throw new Error(Y.data.message||"request failed");return r({tone:"success",text:e("theme.upload_success")}),await F(),!0}catch(Y){return r({tone:"error",text:Ep(Y,e("theme.upload_failed"))}),console.error(Y),!1}finally{h(!1)}},K=async q=>{if(!q)return;await V(q)&&p(!1)},L=async q=>{if(!(!q||c)){u(!0),r(null);try{const Y=await Gn.save({frontend_theme:q});if(Y.data.status!=="success")throw new Error(Y.data.message||"request failed");s(q),r({tone:"success",text:e("theme.apply_success")}),await F()}catch(Y){r({tone:"error",text:Ep(Y,e("common.save_failed"))}),console.error(Y)}finally{u(!1)}}},W=async q=>{C(q),v(!0),b(!0),_(!1),A(""),M({});try{const Y=await gb.getThemeConfig(q.key);if(Y.data.status!=="success")throw new Error(Y.data.message||"request failed");const ee=Y.data.data||{},pe={};for(const se of q.configs||[])ee[se.field_name]!==void 0&&ee[se.field_name]!==null?pe[se.field_name]=ee[se.field_name]:se.default_value!==void 0?pe[se.field_name]=se.default_value:pe[se.field_name]="";M(pe)}catch(Y){A(Ep(Y,e("common.load_failed"))),console.error(Y)}finally{b(!1)}},z=async()=>{if(!(!k||j)){_(!0),A("");try{const q={};for(const ee of k.configs||[])q[ee.field_name]=O[ee.field_name];const Y=await gb.saveThemeConfig(k.key,q);if(Y.data.status!=="success")throw new Error(Y.data.message||"request failed");r({tone:"success",text:e("theme.config_saved")}),v(!1)}catch(q){A(Ep(q,e("common.save_failed"))),console.error(q)}finally{_(!1)}}},T=q=>{const Y=`theme-config-${q.field_name}`,ee=q.label||q.field_name,pe=q.placeholder||"",se=O[q.field_name];if(q.field_type==="select"){const he=q.select_options||{},Pe=Object.entries(he);return o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Y,children:ee}),o.jsxs(st,{value:se==null?"":String(se),onValueChange:J=>M(Re=>({...Re,[q.field_name]:J})),children:[o.jsx(nt,{id:Y,children:o.jsx(at,{placeholder:pe||e("theme.select_placeholder")})}),o.jsx(rt,{children:Pe.map(([J,Re])=>o.jsx(de,{value:J,children:Re},J))})]})]},q.field_name)}return q.field_type==="textarea"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Y,children:ee}),o.jsx(xr,{id:Y,value:se==null?"":String(se),placeholder:pe,onChange:he=>M(Pe=>({...Pe,[q.field_name]:he.target.value})),className:"min-h-[120px]"})]},q.field_name):o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Y,children:ee}),o.jsx(G,{id:Y,value:se==null?"":String(se),placeholder:pe,onChange:he=>M(Pe=>({...Pe,[q.field_name]:he.target.value}))})]},q.field_name)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:o.jsxs(B,{size:"sm",className:"h-9",disabled:d,onClick:()=>p(!0),children:[o.jsx(Ug,{className:"h-4 w-4 mr-2"}),e("theme.upload")]})})}),n&&o.jsx("div",{className:te("text-sm",n.tone==="success"?"text-green-600":"text-red-600"),children:n.text}),R.length===0?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("theme.empty")})}):o.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:R.map(q=>{const Y=q.key===i,ee=(q.name||q.key||"").trim(),pe=!!q.key&&Yo(q.key)!==Yo(ee),se=String(q.description??"").trim(),he=!!se&&Yo(se)!==Yo(ee)&&Yo(se)!==Yo(q.key);return o.jsx(It,{className:"h-full",children:o.jsxs(Lt,{className:"p-4 h-full flex flex-col gap-4",children:[o.jsx("div",{className:"min-w-0",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold truncate",children:ee}),pe?o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:q.key}):null,he?o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:se}):null,q.version?o.jsx("div",{className:"text-xs text-muted-foreground",children:e("theme.version_label",{version:q.version})}):null]})}),o.jsxs("div",{className:"mt-auto flex flex-wrap items-center justify-end gap-2",children:[o.jsx(B,{size:"sm",variant:"outline",className:"h-8",onClick:()=>W(q),children:e("theme.settings")}),Y?o.jsx(B,{size:"sm",variant:"secondary",className:"h-8",disabled:!0,children:e("theme.current_theme")}):o.jsx(B,{size:"sm",className:"h-8",disabled:c,onClick:()=>L(q.key),children:e("theme.apply")})]})]})},q.key)})}),o.jsx(un,{open:m,onOpenChange:p,children:o.jsxs(on,{className:"max-w-md",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("theme.upload_title")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.upload_desc")}),o.jsx("input",{ref:t,type:"file",accept:".zip",className:"hidden",onChange:q=>{var ee;const Y=(ee=q.target.files)==null?void 0:ee[0];K(Y),q.target&&(q.target.value="")}}),o.jsxs("div",{className:te("flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border border-dashed border-border/70 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",g&&"border-primary bg-primary/5 text-foreground"),onClick:()=>{var q;return(q=t.current)==null?void 0:q.click()},onDragOver:q=>{q.preventDefault()},onDragEnter:q=>{q.preventDefault(),y(!0)},onDragLeave:q=>{q.preventDefault(),y(!1)},onDrop:q=>{var Y;q.preventDefault(),y(!1),K((Y=q.dataTransfer.files)==null?void 0:Y[0])},role:"button",tabIndex:0,children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-border/70 bg-background",children:o.jsx(Ug,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-sm",children:[e("theme.upload_drop")," ",o.jsx("span",{className:"text-primary",children:e("theme.upload_click")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("theme.upload_hint")})]})]})]})}),o.jsx(un,{open:x,onOpenChange:v,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:k?e("theme.config_title",{name:k.name||k.key}):e("theme.config_title_empty")})}),w?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.config_loading")}):P?o.jsx("div",{className:"text-sm text-red-600",children:P}):!k||(k.configs||[]).length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.config_empty")}):o.jsx(ds,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-4",children:(k.configs||[]).map(T)})}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>v(!1),disabled:j,children:e("common.cancel")}),o.jsx(B,{onClick:z,disabled:w||j||!!P||!k,children:e(j?"common.saving":"common.save")})]})]})})]})}const Mp={fetch:()=>De.get("/notice/fetch"),save:e=>De.post("/notice/save",e),toggleShow:e=>De.post("/notice/show",{id:e}),drop:e=>De.post("/notice/drop",{id:e}),sort:e=>De.post("/notice/sort",{ids:e})},Tp=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},zF=e=>e.split(/[,\n]/g).map(t=>t.trim()).filter(Boolean);function DF(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link|style)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}function yqe(){var $e;const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState([]),[d,h]=f.useState(!1),[m,p]=f.useState(!1),g=f.useRef([]),[y,x]=f.useState(null),[v,w]=f.useState(null),b=ls(),[j,_]=f.useState(1),[k,C]=f.useState(50),O=f.useMemo(()=>c.some(ne=>Object.prototype.hasOwnProperty.call(ne,"popup")),[c]),M=c.length,P=Math.max(1,Math.ceil(M/k)),A=Math.min(j,P),R=f.useMemo(()=>{if(d)return c;const ne=(A-1)*k;return c.slice(ne,ne+k)},[c,A,k,d]),F=f.useMemo(()=>{if(!d)return!1;const ne=g.current;if(!ne.length)return!1;const je=c.map(Ke=>Ke.id);return ne.join(",")!==je.join(",")},[c,d]),[V,K]=f.useState(!1),[L,W]=f.useState(!1),[z,T]=f.useState({title:"",content:"",content_mode:"markdown",img_url:"",tags:[],show:!0,popup:!1}),[q,Y]=f.useState(""),[ee,pe]=f.useState(""),se=f.useCallback(async()=>{r(!0),l(null);try{const ne=await Mp.fetch();if(ne.data.status!=="success")throw new Error(ne.data.message||"request failed");const je=(ne.data.data||[]).slice();je.sort((Ke,oe)=>{const U=Number.isFinite(Ke.sort)?Number(Ke.sort):null,be=Number.isFinite(oe.sort)?Number(oe.sort):null;return U!==null&&be!==null?U-be:U!==null?-1:be!==null?1:Ke.id-oe.id}),u(je),_(1)}catch(ne){u([]),l({tone:"error",text:Tp(ne,e("common.load_failed"))}),console.error(ne)}finally{r(!1)}},[e]);f.useEffect(()=>{se()},[se]);const he=()=>{T({title:"",content:"",content_mode:"markdown",img_url:"",tags:[],show:!0,popup:!1}),Y(""),pe(""),K(!0)},Pe=ne=>{const je=BJ(ne.content||"");T({id:ne.id,title:ne.title||"",content:(je==null?void 0:je.markdown)??(ne.content||""),content_mode:je?"markdown":"html",img_url:ne.img_url||"",tags:Array.isArray(ne.tags)?ne.tags.filter(Boolean):[],show:!!ne.show,popup:!!ne.popup}),Y(""),pe(""),K(!0)},J=async()=>{if(!L){if(pe(""),!z.title.trim())return pe(e("notice.validation.title_required"));if(!z.content.trim())return pe(e("notice.validation.content_required"));W(!0),l(null);try{const ne=z.content_mode==="markdown"?_qe(z.content):qJ(z.content),je={id:z.id,title:z.title.trim(),content:ne,img_url:z.img_url.trim()||void 0,tags:z.tags.length?z.tags:void 0,show:z.show?1:0};O&&(je.popup=z.popup?1:0);const Ke=await Mp.save(je);if(Ke.data.status!=="success")throw new Error(Ke.data.message||"request failed");l({tone:"success",text:e("notice.saved")}),K(!1),await se()}catch(ne){pe(Tp(ne,e("common.save_failed"))),console.error(ne)}finally{W(!1)}}},Re=async ne=>{if(!i){s(ne),l(null);try{const je=await Mp.toggleShow(ne);if(je.data.status!=="success")throw new Error(je.data.message||"request failed");await se()}catch(je){l({tone:"error",text:Tp(je,e("common.save_failed"))}),console.error(je)}finally{s(null)}}},ie=async ne=>{if(i||!await t({title:e("common.delete"),description:e("notice.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(ne),l(null);const Ke=c;u(oe=>oe.filter(U=>U.id!==ne));try{const oe=await Mp.drop(ne);if(oe.data.status!=="success")throw new Error(oe.data.message||"request failed");pt.success(e("notice.deleted"))}catch(oe){u(Ke),l({tone:"error",text:Tp(oe,e("common.save_failed"))}),console.error(oe)}finally{s(null)}},Ee=()=>{g.current=c.map(ne=>ne.id),h(!0),x(null),w(null),l(null)},Te=async()=>{g.current=[],h(!1),x(null),w(null),l(null),await se()},fe=async()=>{if(!(m||!F)){p(!0),l(null);try{const ne=c.map(Ke=>Ke.id),je=await Mp.sort(ne);if(je.data.status!=="success")throw new Error(je.data.message||"request failed");l({tone:"success",text:e("notice.sort_saved")}),g.current=[],h(!1),x(null),w(null),await se()}catch(ne){l({tone:"error",text:Tp(ne,e("common.save_failed"))}),console.error(ne)}finally{p(!1)}}},X=(ne,je)=>{u(Ke=>{const oe=Ke.findIndex(et=>et.id===ne);if(oe<0)return Ke;const U=Ke.slice(),[be]=U.splice(oe,1),We=Math.max(0,Math.min(U.length,je));return U.splice(We,0,be),U})},ke=ne=>{const je=c.findIndex(Ke=>Ke.id===ne);je<=0||X(ne,je-1)},Q=ne=>{const je=c.findIndex(Ke=>Ke.id===ne);je<0||je>=c.length-1||X(ne,je+1)},Se=ne=>X(ne,0),re=ne=>X(ne,c.length-1),Ne=(ne,je)=>{if(!(!d||m)){x(je),w(null);try{ne.dataTransfer.effectAllowed="move",ne.dataTransfer.setData("text/plain",String(je))}catch{}}},Oe=()=>{x(null),w(null)},xe=(ne,je)=>{var U,be;if(!d||m||y===null||y===je)return;ne.preventDefault();try{ne.dataTransfer.dropEffect="move"}catch{}const Ke=(be=(U=ne.currentTarget)==null?void 0:U.getBoundingClientRect)==null?void 0:be.call(U),oe=Ke&&ne.clientY>Ke.top+Ke.height/2?"below":"above";w({id:je,position:oe})},me=(ne,je)=>{var We,et;if(!d||m)return;ne.preventDefault();const Ke=(()=>{try{return ne.dataTransfer.getData("text/plain")}catch{return""}})(),oe=y??Number.parseInt(Ke||"",10);if(!Number.isFinite(oe)||oe===je){Oe();return}const U=(et=(We=ne.currentTarget)==null?void 0:We.getBoundingClientRect)==null?void 0:et.call(We),be=U&&ne.clientY>U.top+U.height/2?"below":"above";u(tt=>{const Nt=tt.findIndex(Fe=>Fe.id===oe),vt=tt.findIndex(Fe=>Fe.id===je);if(Nt<0||vt<0||Nt===vt)return tt;const Mt=be==="below"?vt+1:vt,sn=tt.slice(),[vn]=sn.splice(Nt,1),Qn=Math.max(0,Math.min(sn.length,Nt<Mt?Mt-1:Mt));return sn.splice(Qn,0,vn),sn}),Oe()},H=f.useCallback(ne=>{const je=zF(ne);je.length&&T(Ke=>{const oe=new Map(Ke.tags.map(U=>[U.trim().toLowerCase(),U.trim()]));for(const U of je){const be=U.toLowerCase();oe.has(be)||oe.set(be,U)}return{...Ke,tags:Array.from(oe.values())}})},[]),Ce=ne=>{T(je=>({...je,tags:je.tags.filter(Ke=>Ke!==ne)}))};return f.useEffect(()=>{_(ne=>Math.min(Math.max(1,ne),P))},[P]),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:he,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("notice.add")]}),d?o.jsxs(o.Fragment,{children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:Te,disabled:n||m,children:e("notice.sort_cancel")}),o.jsxs(B,{size:"sm",className:"h-9",onClick:fe,disabled:n||m||!F,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("notice.sort_save")]})]}):o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Ee,disabled:n||c.length<2,children:[o.jsx(Ns,{className:"h-4 w-4 mr-2"}),e("notice.sort")]}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:se,disabled:n,children:o.jsx(gn,{className:te("h-4 w-4",n&&"animate-spin")})})]})}),a&&o.jsx("div",{className:te("text-sm",a.tone==="success"?"text-green-600":"text-red-600"),children:a.text}),d&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("notice.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:M===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("notice.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:"ID"}),d?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("notice.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("notice.table.show")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("notice.table.title")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("notice.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:R.map((ne,je)=>{const Ke=i===ne.id,oe=d?je:c.findIndex(U=>U.id===ne.id);return o.jsxs("tr",{className:te("hover:bg-muted/30",d&&(v==null?void 0:v.id)===ne.id&&"bg-primary/5",d&&y===ne.id&&"opacity-60"),onContextMenu:U=>b.openMenu(U,ne),onDragOver:d?U=>xe(U,ne.id):void 0,onDrop:d?U=>me(U,ne.id):void 0,onDragLeave:d?()=>{w(U=>(U==null?void 0:U.id)===ne.id?null:U)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:ne.id}),d?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:te("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",m?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!m,onDragStart:U=>Ne(U,ne.id),onDragEnd:Oe,"aria-label":"Drag",children:o.jsx(Zy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:oe+1}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Se(ne.id),disabled:m||oe<=0,"aria-label":"Top",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ke(ne.id),disabled:m||oe<=0,"aria-label":"Up",children:o.jsx(bh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Q(ne.id),disabled:m||oe>=c.length-1,"aria-label":"Down",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>re(ne.id),disabled:m||oe>=c.length-1,"aria-label":"Bottom",children:o.jsx(Qy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!ne.show,disabled:Ke,onCheckedChange:()=>Re(ne.id)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ne.title,children:ne.title})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:Ke,onClick:()=>Pe(ne),title:e("common.edit"),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:Ke,onClick:()=>ie(ne.id),title:e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})}),!d&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(st,{value:String(k),onValueChange:ne=>{const je=Number(ne);C(Number.isFinite(je)&&je>0?je:50),_(1)},children:[o.jsx(nt,{className:"h-8 w-[96px]",children:o.jsx(at,{})}),o.jsx(rt,{children:[10,20,50,100].map(ne=>o.jsx(de,{value:String(ne),children:ne},ne))})]}),o.jsxs("span",{className:"ml-2",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:M})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(1),disabled:n||A<=1,children:e("dashboard.first_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(Math.max(1,A-1)),disabled:n||A<=1,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[A," / ",P]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(Math.min(P,A+1)),disabled:n||A>=P,children:e("dashboard.next_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(P),disabled:n||A>=P,children:e("dashboard.last_page")})]})]}),o.jsx(un,{open:V,onOpenChange:K,children:o.jsxs(on,{className:"max-w-5xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:z.id?e("notice.edit_title"):e("notice.create_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"notice-title",children:e("notice.fields.title")}),o.jsx(G,{id:"notice-title",value:z.title,onChange:ne=>T(je=>({...je,title:ne.target.value})),placeholder:e("notice.fields.title_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("notice.fields.content")}),o.jsx(wqe,{value:z.content,onChange:ne=>T(je=>({...je,content:ne})),mode:z.content_mode,onModeChange:ne=>T(je=>{if(je.content_mode===ne)return je;if(!je.content.trim())return{...je,content_mode:ne};const Ke=ne==="html"?rk(je.content):bqe(je.content);return{...je,content_mode:ne,content:Ke}}),resetKey:`${String(z.id??"new")}-${z.content_mode}`}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("notice.editor_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"notice-img",children:e("notice.fields.background_url")}),o.jsx(G,{id:"notice-img",value:z.img_url,onChange:ne=>T(je=>({...je,img_url:ne.target.value})),placeholder:"https://example.com/background.png"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"notice-show",children:e("notice.fields.show_status")}),o.jsx(Dt,{id:"notice-show",checked:z.show,onCheckedChange:ne=>T(je=>({...je,show:ne}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"notice-remark",children:e("notice.fields.remark")}),o.jsx("div",{className:"rounded-md border px-2 py-2 bg-background",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[z.tags.map(ne=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs text-foreground",children:[ne,o.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>Ce(ne),"aria-label":e("common.delete"),children:o.jsx(Bd,{className:"h-3.5 w-3.5"})})]},ne)),o.jsx("input",{id:"notice-remark",value:q,onChange:ne=>Y(ne.target.value),onKeyDown:ne=>{if(ne.key==="Enter"||ne.key===","){ne.preventDefault(),H(q),Y("");return}ne.key==="Backspace"&&!q&&T(je=>({...je,tags:je.tags.slice(0,-1)}))},onBlur:()=>{q.trim()&&(H(q),Y(""))},onPaste:ne=>{const je=ne.clipboardData.getData("text");if(!je)return;const Ke=zF(je);Ke.length&&(ne.preventDefault(),H(Ke.join(",")),Y(""))},placeholder:e("notice.fields.remark_placeholder"),className:"min-w-[160px] flex-1 bg-transparent text-sm outline-none"})]})})]})]}),(ee||(a==null?void 0:a.tone)==="error")&&o.jsx("div",{className:"text-sm text-red-600",children:ee||(a==null?void 0:a.text)}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>K(!1),disabled:L,children:e("common.cancel")}),o.jsx(B,{onClick:J,disabled:L,children:e(L?"common.saving":"notice.submit")})]})]})}),o.jsx(os,{open:b.open,onOpenChange:b.setOpen,position:b.position,items:[{type:"checkbox",label:e("notice.table.show"),checked:!!(($e=b.data)!=null&&$e.show),disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),Re(b.data.id))}},{type:"separator"},{type:"item",label:e("common.edit"),disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),Pe(b.data))}},{type:"item",label:e("common.delete"),destructive:!0,disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),ie(b.data.id))}}]})]})}function J2(e){return String(e||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function RF(e){return String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}const m_="<!--xboard-md:",eP="-->";function xqe(e){try{return btoa(unescape(encodeURIComponent(e)))}catch{return""}}function vqe(e){try{return decodeURIComponent(escape(atob(e)))}catch{return""}}function BJ(e){const t=e||"";if(t.indexOf(m_)!==0)return null;const r=t.indexOf(eP,m_.length);if(r<0)return null;const i=t.slice(m_.length,r).trim();if(!i)return null;const s=vqe(i);if(!s)return null;const a=t.slice(r+eP.length).trimStart();return{markdown:s,html:a}}function qJ(e){const t=BJ(e||"");return t?t.html:e||""}function rk(e){const n=String(e||"").replace(/\r\n?/g,`
`).split(`
`),r=[],i=a=>{let l=RF(a);return l=l.replace(/`([^`]+)`/g,(c,u)=>`<code>${u}</code>`),l=l.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(c,u,d)=>`<img src="${d}" alt="${u}" />`),l=l.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(c,u,d)=>`<a href="${d}">${u}</a>`),l=l.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),l=l.replace(/__([^_]+)__/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*([^*]+)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/(^|[^_])_([^_]+)_(?!_)/g,"$1<em>$2</em>"),l};let s=0;for(;s<n.length;){const a=n[s],l=a.trim();if(l.startsWith("```")){const d=l.slice(3).trim();s+=1;const h=[];for(;s<n.length&&!n[s].trim().startsWith("```");)h.push(n[s]),s+=1;s<n.length&&(s+=1);const m=RF(h.join(`
`));r.push(`<pre><code${d?` class="language-${J2(d)}"`:""}>${m}</code></pre>`);continue}const c=a.match(/^(#{1,6})\s+(.*)$/);if(c){const d=c[1].length;r.push(`<h${d}>${i(c[2].trim())}</h${d}>`),s+=1;continue}if(/^([-*_])\1\1+\s*$/.test(l)){r.push("<hr />"),s+=1;continue}if(/^\s*>\s?/.test(a)){const d=[];for(;s<n.length&&/^\s*>\s?/.test(n[s]);)d.push(n[s].replace(/^\s*>\s?/,"")),s+=1;const h=rk(d.join(`
`));r.push(`<blockquote>${h}</blockquote>`);continue}if(/^\s*([-*])\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*([-*])\s+/.test(n[s]);)d.push(n[s].replace(/^\s*([-*])\s+/,"")),s+=1;r.push(`<ul>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ul>`);continue}if(/^\s*\d+\.\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*\d+\.\s+/.test(n[s]);)d.push(n[s].replace(/^\s*\d+\.\s+/,"")),s+=1;r.push(`<ol>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ol>`);continue}if(!l){s+=1;continue}const u=[];for(;s<n.length;){const d=n[s],h=d.trim();if(!h||h.startsWith("```")||/^(#{1,6})\s+/.test(d)||/^\s*>\s?/.test(d)||/^\s*([-*])\s+/.test(d)||/^\s*\d+\.\s+/.test(d)||/^([-*_])\1\1+\s*$/.test(h))break;u.push(d),s+=1}r.push(`<p>${u.map(d=>i(d)).join("<br />")}</p>`)}return r.join(`
`)}function bqe(e){let t=qJ(e||"");return t=t.replace(/\r\n?/g,`
`),t=t.replace(/<\s*br\s*\/?>/gi,`
`),t=t.replace(/<\s*(strong|b)[^>]*>/gi,"**"),t=t.replace(/<\/\s*(strong|b)\s*>/gi,"**"),t=t.replace(/<\s*(em|i)[^>]*>/gi,"*"),t=t.replace(/<\/\s*(em|i)\s*>/gi,"*"),t=t.replace(/<\s*a[^>]*href\s*=\s*["']([^"']+)["'][^>]*>([\s\S]*?)<\/\s*a\s*>/gi,(n,r,i)=>`[${String(i||"").replace(/<[^>]+>/g,"")}](${r})`),t=t.replace(/<\s*img[^>]*>/gi,n=>{var s,a;const r=((s=n.match(/\bsrc\s*=\s*["']([^"']+)["']/i))==null?void 0:s[1])||"",i=((a=n.match(/\balt\s*=\s*["']([^"']*)["']/i))==null?void 0:a[1])||"";return r?`![${i}](${r})`:""}),t=t.replace(/<\s*li[^>]*>/gi,"- "),t=t.replace(/<\/\s*li\s*>/gi,`
`),t=t.replace(/<\/\s*(ul|ol)\s*>/gi,`
`),t=t.replace(/<\s*(ul|ol)[^>]*>/gi,""),t=t.replace(/<\s*pre[^>]*>\s*<\s*code[^>]*>/gi,"```\n"),t=t.replace(/<\/\s*code\s*>\s*<\/\s*pre\s*>/gi,"\n```\n\n"),t=t.replace(/<\/\s*p\s*>/gi,`

`),t=t.replace(/<\s*p[^>]*>/gi,""),t=t.replace(/<\/\s*h([1-6])\s*>/gi,`

`),t=t.replace(/<\s*h([1-6])[^>]*>/gi,(n,r)=>`${"#".repeat(Number(r))} `),t=t.replace(/<[^>]+>/g,""),t=t.replace(/\n{3,}/g,`

`).trim(),t}function _qe(e){const t=String(e||""),n=xqe(t),r=rk(t);return n?`${m_}${n}${eP}
${r}`:r}function wqe({value:e,onChange:t,mode:n,onModeChange:r,resetKey:i}){const{t:s}=Ut(),a=f.useRef(null),l=f.useRef(null),[c,u]=f.useState(!1),[d,h]=f.useState(""),[m,p]=f.useState(!1),[g,y]=f.useState("");f.useEffect(()=>{l.current={start:0,end:0},u(!1),h(""),p(!1),y(""),requestAnimationFrame(()=>{const O=a.current;O&&(O.scrollTop=0,O.scrollLeft=0)})},[i]);const x=f.useCallback(()=>{const O=a.current;O&&(l.current={start:O.selectionStart??0,end:O.selectionEnd??0})},[]),v=f.useCallback(()=>{const O=a.current;if(!O)return;O.focus();const M=l.current;if(!M)return;const P=Math.max(0,Math.min(O.value.length,M.start)),A=Math.max(0,Math.min(O.value.length,M.end));O.setSelectionRange(P,A)},[]),w=O=>{O.preventDefault(),x()},b=(O,M)=>{t(O),requestAnimationFrame(()=>{const P=a.current;if(P){if(P.focus(),M){const A=Math.max(0,Math.min(P.value.length,M.start)),R=Math.max(0,Math.min(P.value.length,M.end));P.setSelectionRange(A,R)}x()}})},j=()=>{const O=l.current;if(!O)return{start:e.length,end:e.length};const M=Math.max(0,Math.min(e.length,O.start)),P=Math.max(0,Math.min(e.length,O.end));return{start:M,end:P}},_=(O,M)=>{v();const{start:P,end:A}=j(),R=e.slice(0,P),F=e.slice(P,A),V=e.slice(A),K=`${R}${O}${F}${M}${V}`,L=P+O.length,W=L+F.length;b(K,{start:L,end:W})},k=(O,M)=>{v();const{start:P,end:A}=j(),R=e.slice(0,P),F=e.slice(A),V=`${R}${O}${F}`,K=P+(M??O.length);b(V,{start:K,end:K})},C=f.useMemo(()=>DF(n==="markdown"?rk(e||""):e||""),[n,e]);return o.jsxs("div",{className:"rounded-md border overflow-hidden",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-2 border-b bg-muted/10",children:[o.jsx(Qm,{value:n,onValueChange:O=>r(O),children:o.jsxs(Nh,{className:"h-8",children:[o.jsx(gr,{value:"markdown",className:"h-8 px-3",children:"MD"}),o.jsx(gr,{value:"html",className:"h-8 px-3",children:"HTML"})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Undo",children:o.jsx(i8,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Redo",children:o.jsx(J6,{className:"h-4 w-4"})}),o.jsx("div",{className:"w-px h-6 bg-border mx-1"}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>n==="markdown"?_("**","**"):_("<strong>","</strong>"),"aria-label":"Bold",children:o.jsx(W6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>n==="markdown"?_("*","*"):_("<em>","</em>"),"aria-label":"Italic",children:o.jsx(Y6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>{if(n==="markdown"){const P=`- 
- 
`;k(P,P.length);return}const O=`<ul>
  <li></li>
</ul>
`,M=O.indexOf("</li>");k(O,M>=0?M:void 0)},"aria-label":"Bulleted list",children:o.jsx(X6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>{if(n==="markdown"){const P=`1. 
2. 
`;k(P,P.length);return}const O=`<ol>
  <li></li>
</ol>
`,M=O.indexOf("</li>");k(O,M>=0?M:void 0)},"aria-label":"Numbered list",children:o.jsx(Q6,{className:"h-4 w-4"})}),o.jsxs(wl,{open:c,onOpenChange:u,children:[o.jsx(jl,{asChild:!0,children:o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O=>{w(O),h("")},"aria-label":"Insert link",children:o.jsx(G6,{className:"h-4 w-4"})})}),o.jsx(Mo,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:s("notice.fields.link_url")}),o.jsx(G,{value:d,onChange:O=>h(O.target.value),placeholder:"https://example.com"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{u(!1)},children:s("common.cancel")}),o.jsx(B,{type:"button",size:"sm",disabled:!d.trim(),onClick:()=>{const O=d.trim();if(!O)return;u(!1),v();const{start:M,end:P}=j(),A=e.slice(M,P)||O;if(n==="markdown"){k(`[${A}](${O})`);return}const R=`<a href="${J2(O)}">${A}</a>`;k(R)},children:s("notice.insert")})]})]})})]}),o.jsxs(wl,{open:m,onOpenChange:p,children:[o.jsx(jl,{asChild:!0,children:o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O=>{w(O),y("")},"aria-label":"Insert image",children:o.jsx(K6,{className:"h-4 w-4"})})}),o.jsx(Mo,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:s("notice.fields.img_url")}),o.jsx(G,{value:g,onChange:O=>y(O.target.value),placeholder:"https://example.com/image.png"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>{p(!1)},children:s("common.cancel")}),o.jsx(B,{type:"button",size:"sm",disabled:!g.trim(),onClick:()=>{const O=g.trim();if(!O)return;if(p(!1),v(),n==="markdown"){k(`![](${O})`);return}const M=`<img src="${J2(O)}" alt="" />`;k(M)},children:s("notice.insert")})]})]})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[o.jsx("div",{className:"p-3 border-b md:border-b-0 md:border-r",children:o.jsx(xr,{ref:a,value:e,onChange:O=>t(O.target.value),onSelect:x,onKeyUp:x,onMouseUp:x,onFocus:x,placeholder:s("notice.fields.content_placeholder"),className:"min-h-[260px] resize-none font-mono text-sm leading-6"})}),o.jsxs("div",{className:"p-3 bg-muted/5",children:[o.jsx("style",{children:`
              .notice-preview img { max-width: 100%; height: auto; }
              .notice-preview table { width: 100%; border-collapse: collapse; }
              .notice-preview td, .notice-preview th { border: 1px solid hsl(var(--border)); padding: 6px 8px; }
            `}),o.jsx("div",{className:"notice-preview min-h-[260px] text-sm leading-6",dangerouslySetInnerHTML:{__html:C||""}})]})]})]})}const od={getPaymentMethods:()=>De.get("/payment/getPaymentMethods"),fetch:()=>De.get("/payment/fetch"),getPaymentForm:(e,t)=>De.post("/payment/getPaymentForm",{payment:e,id:t}),save:e=>De.post("/payment/save",e),toggleEnable:e=>De.post("/payment/show",{id:e}),drop:e=>De.post("/payment/drop",{id:e}),sort:e=>De.post("/payment/sort",{ids:e})},Wh=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},jqe=e=>e?Array.isArray(e)?e.map(t=>({value:String(t),label:String(t)})):typeof e=="object"?Object.entries(e).map(([t,n])=>({value:String(t),label:String(n)})):[]:[];function kqe(){const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState(1),[d,h]=f.useState(10),[m,p]=f.useState(!1),[g,y]=f.useState(!1),x=f.useRef([]),[v,w]=f.useState(null),[b,j]=f.useState(null),[_,k]=f.useState([]),[C,O]=f.useState([]),M=_.length,P=Math.max(1,Math.ceil(M/d)),A=Math.min(c,P),R=f.useMemo(()=>{if(m)return _;const ae=(A-1)*d;return _.slice(ae,ae+d)},[_,A,d,m]),F=f.useMemo(()=>{if(!m)return!1;const ae=x.current;if(!ae.length)return!1;const Me=_.map(Ye=>Ye.id);return ae.join(",")!==Me.join(",")},[_,m]),[V,K]=f.useState(!1),[L,W]=f.useState(!1),[z,T]=f.useState(!1),[q,Y]=f.useState(""),[ee,pe]=f.useState(null),[se,he]=f.useState(""),[Pe,J]=f.useState(""),[Re,ie]=f.useState(""),[Ee,Te]=f.useState(""),[fe,X]=f.useState(""),[ke,Q]=f.useState(""),[Se,re]=f.useState(""),[Ne,Oe]=f.useState({}),[xe,me]=f.useState({}),H=f.useCallback(async()=>{r(!0),s(null);try{const[ae,Me]=await Promise.all([od.getPaymentMethods(),od.fetch()]);if(ae.data.status!=="success")throw new Error(ae.data.message||"request failed");if(Me.data.status!=="success")throw new Error(Me.data.message||"request failed");O(ae.data.data||[]);const Ye=(Me.data.data||[]).slice();Ye.sort((Tt,_t)=>{const Gt=Number.isFinite(Tt.sort)?Number(Tt.sort):null,Bt=Number.isFinite(_t.sort)?Number(_t.sort):null;return Gt!==null&&Bt!==null?Gt-Bt:Gt!==null?-1:Bt!==null?1:Tt.id-_t.id}),k(Ye),u(1)}catch(ae){O([]),k([]),s({tone:"error",text:Wh(ae,e("common.load_failed"))}),console.error(ae)}finally{r(!1)}},[e]);f.useEffect(()=>{H()},[H]);const Ce=()=>{x.current=_.map(ae=>ae.id),p(!0),w(null),j(null),s(null)},$e=async()=>{x.current=[],p(!1),w(null),j(null),s(null),await H()},ne=async()=>{if(!(g||!F)){y(!0),s(null);try{const ae=_.map(Ye=>Ye.id),Me=await od.sort(ae);if(Me.data.status!=="success")throw new Error(Me.data.message||"request failed");s({tone:"success",text:e("payment.sort_saved")}),x.current=[],p(!1),w(null),j(null),await H()}catch(ae){s({tone:"error",text:Wh(ae,e("common.save_failed"))}),console.error(ae)}finally{y(!1)}}},je=(ae,Me)=>{k(Ye=>{const Tt=Ye.findIndex(kn=>kn.id===ae);if(Tt<0)return Ye;const _t=Ye.slice(),[Gt]=_t.splice(Tt,1),Bt=Math.max(0,Math.min(_t.length,Me));return _t.splice(Bt,0,Gt),_t})},Ke=ae=>{const Me=_.findIndex(Ye=>Ye.id===ae);Me<=0||je(ae,Me-1)},oe=ae=>{const Me=_.findIndex(Ye=>Ye.id===ae);Me<0||Me>=_.length-1||je(ae,Me+1)},U=ae=>je(ae,0),be=ae=>je(ae,_.length-1),We=(ae,Me)=>{if(!(!m||g)){w(Me),j(null);try{ae.dataTransfer.effectAllowed="move",ae.dataTransfer.setData("text/plain",String(Me))}catch{}}},et=()=>{w(null),j(null)},tt=(ae,Me)=>{var _t,Gt;if(!m||g||v===null||v===Me)return;ae.preventDefault();try{ae.dataTransfer.dropEffect="move"}catch{}const Ye=(Gt=(_t=ae.currentTarget)==null?void 0:_t.getBoundingClientRect)==null?void 0:Gt.call(_t),Tt=Ye&&ae.clientY>Ye.top+Ye.height/2?"below":"above";j({id:Me,position:Tt})},Nt=(ae,Me)=>{var Bt,kn;if(!m||g)return;ae.preventDefault();const Ye=(()=>{try{return ae.dataTransfer.getData("text/plain")}catch{return""}})(),Tt=v??Number.parseInt(Ye||"",10);if(!Number.isFinite(Tt)||Tt===Me){et();return}const _t=(kn=(Bt=ae.currentTarget)==null?void 0:Bt.getBoundingClientRect)==null?void 0:kn.call(Bt),Gt=_t&&ae.clientY>_t.top+_t.height/2?"below":"above";k(Ln=>{const hr=Ln.findIndex(Us=>Us.id===Tt),Lr=Ln.findIndex(Us=>Us.id===Me);if(hr<0||Lr<0||hr===Lr)return Ln;const Pr=Gt==="below"?Lr+1:Lr,gi=Ln.slice(),[yi]=gi.splice(hr,1),ws=Math.max(0,Math.min(gi.length,hr<Pr?Pr-1:Pr));return gi.splice(ws,0,yi),gi}),et()},vt=async()=>{pe(null),he(""),J(""),ie(""),Te(""),X(""),Q(""),re(""),Oe({}),me({}),Y(""),K(!0)},Mt=f.useCallback(async(ae,Me)=>{if(ae){W(!0),Y("");try{const Ye=await od.getPaymentForm(ae,Me);if(Ye.data.status!=="success")throw new Error(Ye.data.message||"request failed");const Tt=Ye.data.data||{};Oe(Tt);const _t={};for(const[Gt,Bt]of Object.entries(Tt))(Bt==null?void 0:Bt.type)==="json"&&(Bt!=null&&Bt.value)&&typeof Bt.value=="object"?_t[Gt]=JSON.stringify(Bt.value,null,2):(Bt==null?void 0:Bt.type)==="text"?_t[Gt]=(Bt==null?void 0:Bt.value)===null||(Bt==null?void 0:Bt.value)===void 0?"":String(Bt.value):_t[Gt]=Bt==null?void 0:Bt.value;me(_t)}catch(Ye){Oe({}),me({}),Y(Wh(Ye,e("payment.form_load_failed"))),console.error(Ye)}finally{W(!1)}}},[e]),sn=async ae=>{pe(ae.id),he(ae.payment),J(ae.payment),ie(ae.name||""),Te(ae.icon||""),X(ae.notify_domain||""),Q(ae.handling_fee_fixed===null||ae.handling_fee_fixed===void 0?"":String(ae.handling_fee_fixed)),re(ae.handling_fee_percent===null||ae.handling_fee_percent===void 0?"":String(ae.handling_fee_percent)),Oe({}),me({}),Y(""),K(!0),await Mt(ae.payment,ae.id)},vn=(ae,Me)=>{switch(ae.type){case"boolean":return!!Me;case"number":{const Ye=typeof Me=="number"?Me:Number(Me);return Number.isFinite(Ye)?Ye:0}case"json":{const Ye=Me==null?"":String(Me).trim();if(!Ye)return"";try{return JSON.parse(Ye)}catch{return Ye}}default:return Me??""}},Qn=async()=>{if(z)return;if(Y(""),!Re.trim())return Y(e("payment.validation.name_required"));if(!Pe)return Y(e("payment.validation.method_required"));const ae={};for(const[Me,Ye]of Object.entries(Ne)){const Tt=xe[Me];if((Ye==null?void 0:Ye.type)==="json"){const _t=Tt==null?"":String(Tt).trim();if(_t)try{JSON.parse(_t)}catch{return Y(e("payment.validation.json_invalid",{key:Ye.label||Me}))}}ae[Me]=vn(Ye,Tt)}T(!0),s(null);try{const Me={id:ee??void 0,name:Re.trim(),icon:Ee.trim()||void 0,payment:Pe,config:ae,notify_domain:fe.trim()||void 0,handling_fee_fixed:ke.trim()?Number(ke):void 0,handling_fee_percent:Se.trim()?Number(Se):void 0},Ye=await od.save(Me);if(Ye.data.status!=="success")throw new Error(Ye.data.message||"request failed");s({tone:"success",text:e("payment.saved")}),K(!1),await H()}catch(Me){Y(Wh(Me,e("common.save_failed"))),console.error(Me)}finally{T(!1)}},Fe=async ae=>{if(!a){l(ae),s(null);try{const Me=await od.toggleEnable(ae);if(Me.data.status!=="success")throw new Error(Me.data.message||"request failed");await H()}catch(Me){s({tone:"error",text:Wh(Me,e("common.save_failed"))}),console.error(Me)}finally{l(null)}}},Ft=async ae=>{if(a||!await t({title:e("common.delete"),description:e("payment.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;l(ae),s(null);const Ye=_;k(Tt=>Tt.filter(_t=>_t.id!==ae));try{const Tt=await od.drop(ae);if(Tt.data.status!=="success")throw new Error(Tt.data.message||"request failed");pt.success(e("payment.deleted"))}catch(Tt){k(Ye),s({tone:"error",text:Wh(Tt,e("common.save_failed"))}),console.error(Tt)}finally{l(null)}},ht=async ae=>{await pl(ae)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},qt=f.useMemo(()=>Object.entries(Ne),[Ne]);f.useEffect(()=>{u(ae=>Math.min(Math.max(1,ae),P))},[P]);const Yt=(ae,Me)=>{const Ye=`payment-config-${ae}`,Tt=Me.label||ae,_t=Me.placeholder||"",Gt=xe[ae],Bt=jqe(Me.options);return Me.type==="boolean"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{id:Ye,checked:!!Gt,onCheckedChange:kn=>me(Ln=>({...Ln,[ae]:kn}))}),o.jsx(Z,{htmlFor:Ye,children:Tt})]},ae):Me.type==="select"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Ye,children:Tt}),o.jsxs(st,{value:Gt==null?"":String(Gt),onValueChange:kn=>me(Ln=>({...Ln,[ae]:kn})),children:[o.jsx(nt,{id:Ye,children:o.jsx(at,{placeholder:_t||e("payment.select_placeholder")})}),o.jsx(rt,{children:Bt.map(kn=>o.jsx(de,{value:kn.value,children:kn.label},kn.value))})]}),Me.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Me.description})]},ae):Me.type==="text"||Me.type==="json"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Ye,children:Tt}),o.jsx(xr,{id:Ye,value:Gt==null?"":String(Gt),placeholder:_t,onChange:kn=>me(Ln=>({...Ln,[ae]:kn.target.value})),className:te("min-h-[120px]",Me.type==="json"&&"font-mono")}),Me.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Me.description})]},ae):Me.type==="number"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Ye,children:Tt}),o.jsx(G,{id:Ye,type:"number",value:Gt==null?"":String(Gt),placeholder:_t,onChange:kn=>me(Ln=>({...Ln,[ae]:kn.target.value}))}),Me.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Me.description})]},ae):o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Ye,children:Tt}),o.jsx(G,{id:Ye,value:Gt==null?"":String(Gt),placeholder:_t,onChange:kn=>me(Ln=>({...Ln,[ae]:kn.target.value}))}),Me.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Me.description})]},ae)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:vt,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("payment.add")]}),m?o.jsxs(o.Fragment,{children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:$e,disabled:n||g,children:e("payment.sort_cancel")}),o.jsxs(B,{size:"sm",className:"h-9",onClick:ne,disabled:n||g||!F,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("payment.sort_save")]})]}):o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Ce,disabled:n||_.length<2,children:[o.jsx(Ns,{className:"h-4 w-4 mr-2"}),e("payment.sort")]}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:H,disabled:n,children:o.jsx(gn,{className:te("h-4 w-4",n&&"animate-spin")})})]})}),i&&o.jsx("div",{className:te("text-sm",i.tone==="success"?"text-green-600":"text-red-600"),children:i.text}),m&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("payment.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:M===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("payment.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[80px]",children:e("payment.table.id")}),m?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("payment.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("payment.table.enable")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("payment.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("payment.table.method")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("payment.table.notify_url")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("payment.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:R.map((ae,Me)=>{const Ye=a===ae.id,Tt=m?Me:_.findIndex(_t=>_t.id===ae.id);return o.jsxs("tr",{className:te("hover:bg-muted/30",m&&(b==null?void 0:b.id)===ae.id&&"bg-primary/5",m&&v===ae.id&&"opacity-60"),onDragOver:m?_t=>tt(_t,ae.id):void 0,onDrop:m?_t=>Nt(_t,ae.id):void 0,onDragLeave:m?()=>{j(_t=>(_t==null?void 0:_t.id)===ae.id?null:_t)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:ae.id}),m?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:te("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",g?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!g,onDragStart:_t=>We(_t,ae.id),onDragEnd:et,"aria-label":"Drag",children:o.jsx(Zy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Tt+1}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>U(ae.id),disabled:g||Tt<=0,"aria-label":"Top",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Ke(ae.id),disabled:g||Tt<=0,"aria-label":"Up",children:o.jsx(bh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>oe(ae.id),disabled:g||Tt>=_.length-1,"aria-label":"Down",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>be(ae.id),disabled:g||Tt>=_.length-1,"aria-label":"Bottom",children:o.jsx(Qy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!ae.enable,disabled:Ye,onCheckedChange:()=>Fe(ae.id)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ae.name,children:ae.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs text-muted-foreground",children:ae.payment})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:ae.notify_url?o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("div",{className:"truncate",title:ae.notify_url,children:ae.notify_url}),o.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>ht(ae.notify_url),"aria-label":e("common.copy"),children:o.jsx(ci,{className:"h-4 w-4"})})]}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:Ye,onClick:()=>sn(ae),title:e("common.edit"),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:Ye,onClick:()=>Ft(ae.id),title:e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},ae.id)})})]})})})}),!m&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(st,{value:String(d),onValueChange:ae=>{const Me=Number(ae);h(Number.isFinite(Me)&&Me>0?Me:10),u(1)},children:[o.jsx(nt,{className:"h-8 w-[96px]",children:o.jsx(at,{})}),o.jsx(rt,{children:[10,20,50,100].map(ae=>o.jsx(de,{value:String(ae),children:ae},ae))})]}),o.jsxs("span",{className:"ml-2",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:M})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>u(1),disabled:n||A<=1,children:e("dashboard.first_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>u(Math.max(1,A-1)),disabled:n||A<=1,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[A," / ",P]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>u(Math.min(P,A+1)),disabled:n||A>=P,children:e("dashboard.next_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>u(P),disabled:n||A>=P,children:e("dashboard.last_page")})]})]}),o.jsx(un,{open:V,onOpenChange:K,children:o.jsxs(on,{className:"max-w-3xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e(ee?"payment.edit_title":"payment.create_title")})}),o.jsx(ds,{className:"max-h-[70vh] pr-4",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("payment.fields.method")}),o.jsxs(st,{value:Pe,onValueChange:async ae=>{J(ae),await Mt(ae,ee&&se&&ae===se?ee:void 0)},disabled:L||z,children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("payment.fields.method_placeholder")})}),o.jsx(rt,{children:C.map(ae=>o.jsx(de,{value:ae,children:ae},ae))})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("payment.fields.method_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"payment-name",children:e("payment.fields.name")}),o.jsx(G,{id:"payment-name",value:Re,onChange:ae=>ie(ae.target.value),placeholder:e("payment.fields.name_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"payment-icon",children:e("payment.fields.icon")}),o.jsx(G,{id:"payment-icon",value:Ee,onChange:ae=>Te(ae.target.value),placeholder:"https://example.com/icon.png"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"payment-notify-domain",children:e("payment.fields.notify_domain")}),o.jsx(G,{id:"payment-notify-domain",value:fe,onChange:ae=>X(ae.target.value),placeholder:"https://notify.example.com"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"payment-fee-fixed",children:e("payment.fields.fee_fixed")}),o.jsx(G,{id:"payment-fee-fixed",type:"number",value:ke,onChange:ae=>Q(ae.target.value),placeholder:"0"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"payment-fee-percent",children:e("payment.fields.fee_percent")}),o.jsx(G,{id:"payment-fee-percent",type:"number",value:Se,onChange:ae=>re(ae.target.value),placeholder:"0"})]})]}),L?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("payment.form_loading")}):Pe&&qt.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("payment.form_empty")}):o.jsx("div",{className:"grid gap-4",children:qt.map(([ae,Me])=>Yt(ae,Me))})]})}),q&&o.jsx("div",{className:"text-sm text-red-600",children:q}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>K(!1),disabled:z,children:e("common.cancel")}),o.jsx(B,{onClick:Qn,disabled:z||L,children:e(z?"common.saving":"common.save")})]})]})})]})}const p_="<!--xboard-md:",tP="-->";function nP(e){return String(e||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function IF(e){return String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Sqe(e){try{return btoa(unescape(encodeURIComponent(e)))}catch{return""}}function Nqe(e){try{return decodeURIComponent(escape(atob(e)))}catch{return""}}function WJ(e){const t=e||"";if(t.indexOf(p_)!==0)return null;const r=t.indexOf(tP,p_.length);if(r<0)return null;const i=t.slice(p_.length,r).trim();if(!i)return null;const s=Nqe(i);if(!s)return null;const a=t.slice(r+tP.length).trimStart();return{markdown:s,html:a}}function AA(e){const t=WJ(e||"");return t?t.html:e||""}function Cw(e){const n=String(e||"").replace(/\r\n?/g,`
`).split(`
`),r=[],i=a=>{let l=IF(a);return l=l.replace(/`([^`]+)`/g,(c,u)=>`<code>${u}</code>`),l=l.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(c,u,d)=>`<img src="${d}" alt="${u}" />`),l=l.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(c,u,d)=>`<a href="${d}">${u}</a>`),l=l.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),l=l.replace(/__([^_]+)__/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*([^*]+)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/(^|[^_])_([^_]+)_(?!_)/g,"$1<em>$2</em>"),l};let s=0;for(;s<n.length;){const a=n[s],l=a.trim();if(l.startsWith("```")){const d=l.slice(3).trim();s+=1;const h=[];for(;s<n.length&&!n[s].trim().startsWith("```");)h.push(n[s]),s+=1;s<n.length&&(s+=1);const m=IF(h.join(`
`));r.push(`<pre><code${d?` class="language-${nP(d)}"`:""}>${m}</code></pre>`);continue}const c=a.match(/^(#{1,6})\s+(.*)$/);if(c){const d=c[1].length;r.push(`<h${d}>${i(c[2].trim())}</h${d}>`),s+=1;continue}if(/^([-*_])\1\1+\s*$/.test(l)){r.push("<hr />"),s+=1;continue}if(/^\s*>\s?/.test(a)){const d=[];for(;s<n.length&&/^\s*>\s?/.test(n[s]);)d.push(n[s].replace(/^\s*>\s?/,"")),s+=1;const h=Cw(d.join(`
`));r.push(`<blockquote>${h}</blockquote>`);continue}if(/^\s*([-*])\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*([-*])\s+/.test(n[s]);)d.push(n[s].replace(/^\s*([-*])\s+/,"")),s+=1;r.push(`<ul>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ul>`);continue}if(/^\s*\d+\.\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*\d+\.\s+/.test(n[s]);)d.push(n[s].replace(/^\s*\d+\.\s+/,"")),s+=1;r.push(`<ol>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ol>`);continue}if(!l){s+=1;continue}const u=[];for(;s<n.length;){const d=n[s],h=d.trim();if(!h||h.startsWith("```")||/^(#{1,6})\s+/.test(d)||/^\s*>\s?/.test(d)||/^\s*([-*])\s+/.test(d)||/^\s*\d+\.\s+/.test(d)||/^([-*_])\1\1+\s*$/.test(h))break;u.push(d),s+=1}r.push(`<p>${u.map(d=>i(d)).join("<br />")}</p>`)}return r.join(`
`)}function Cqe(e){let t=AA(e||"");return t=t.replace(/\r\n?/g,`
`),t=t.replace(/<\s*br\s*\/?>/gi,`
`),t=t.replace(/<\s*(strong|b)[^>]*>/gi,"**"),t=t.replace(/<\/\s*(strong|b)\s*>/gi,"**"),t=t.replace(/<\s*(em|i)[^>]*>/gi,"*"),t=t.replace(/<\/\s*(em|i)\s*>/gi,"*"),t=t.replace(/<\s*a[^>]*href\s*=\s*["']([^"']+)["'][^>]*>([\s\S]*?)<\/\s*a\s*>/gi,(n,r,i)=>`[${String(i||"").replace(/<[^>]+>/g,"")}](${r})`),t=t.replace(/<\s*img[^>]*>/gi,n=>{var s,a;const r=((s=n.match(/\bsrc\s*=\s*["']([^"']+)["']/i))==null?void 0:s[1])||"",i=((a=n.match(/\balt\s*=\s*["']([^"']*)["']/i))==null?void 0:a[1])||"";return r?`![${i}](${r})`:""}),t=t.replace(/<\s*li[^>]*>/gi,"- "),t=t.replace(/<\/\s*li\s*>/gi,`
`),t=t.replace(/<\/\s*(ul|ol)\s*>/gi,`
`),t=t.replace(/<\s*(ul|ol)[^>]*>/gi,""),t=t.replace(/<\s*pre[^>]*>\s*<\s*code[^>]*>/gi,"```\n"),t=t.replace(/<\/\s*code\s*>\s*<\/\s*pre\s*>/gi,"\n```\n\n"),t=t.replace(/<\/\s*p\s*>/gi,`

`),t=t.replace(/<\s*p[^>]*>/gi,""),t=t.replace(/<\/\s*h([1-6])\s*>/gi,`

`),t=t.replace(/<\s*h([1-6])[^>]*>/gi,(n,r)=>`${"#".repeat(Number(r))} `),t=t.replace(/<[^>]+>/g,""),t=t.replace(/\n{3,}/g,`

`).trim(),t}function Oqe(e){const t=String(e||""),n=Sqe(t),r=Cw(t);return n?`${p_}${n}${tP}
${r}`:r}function Pqe(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link|style)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}function Eqe(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}const Zc={fetchList:()=>De.get("/knowledge/fetch"),fetchOne:e=>De.get("/knowledge/fetch",{params:{id:e}}),getCategory:()=>De.get("/knowledge/getCategory"),save:e=>De.post("/knowledge/save",e),toggleShow:e=>De.post("/knowledge/show",{id:e}),sort:e=>De.post("/knowledge/sort",{ids:e}),drop:e=>De.post("/knowledge/drop",{id:e})};function Mqe({value:e,onChange:t,mode:n,onModeChange:r,resetKey:i,placeholder:s,previewType:a="inline",minHeightClassName:l="min-h-[260px]",sourceClassName:c,previewClassName:u,className:d}){const{t:h}=Ut(),m=f.useRef(null),p=f.useRef(null),[g,y]=f.useState(!1),[x,v]=f.useState(""),[w,b]=f.useState(!1),[j,_]=f.useState("");f.useEffect(()=>{p.current={start:0,end:0},y(!1),v(""),b(!1),_(""),requestAnimationFrame(()=>{const L=m.current;L&&(L.scrollTop=0,L.scrollLeft=0)})},[i]);const k=f.useCallback(()=>{const L=m.current;L&&(p.current={start:L.selectionStart??0,end:L.selectionEnd??0})},[]),C=f.useCallback(()=>{const L=m.current;if(!L)return;L.focus();const W=p.current;if(!W)return;const z=Math.max(0,Math.min(L.value.length,W.start)),T=Math.max(0,Math.min(L.value.length,W.end));L.setSelectionRange(z,T)},[]),O=L=>{L.preventDefault(),k()},M=(L,W)=>{t(L),requestAnimationFrame(()=>{const z=m.current;if(z){if(z.focus(),W){const T=Math.max(0,Math.min(z.value.length,W.start)),q=Math.max(0,Math.min(z.value.length,W.end));z.setSelectionRange(T,q)}k()}})},P=()=>{const L=p.current;if(!L)return{start:e.length,end:e.length};const W=Math.max(0,Math.min(e.length,L.start)),z=Math.max(0,Math.min(e.length,L.end));return{start:W,end:z}},A=(L,W)=>{C();const{start:z,end:T}=P(),q=e.slice(0,z),Y=e.slice(z,T),ee=e.slice(T),pe=`${q}${L}${Y}${W}${ee}`,se=z+L.length,he=se+Y.length;M(pe,{start:se,end:he})},R=(L,W)=>{C();const{start:z,end:T}=P(),q=e.slice(0,z),Y=e.slice(T),ee=`${q}${L}${Y}`,pe=z+(W??L.length);M(ee,{start:pe,end:pe})},F=f.useMemo(()=>n==="markdown"?Cw(e||""):AA(e||""),[n,e]),V=f.useMemo(()=>a==="iframe"?Eqe(F||""):Pqe(F||""),[F,a]),K=f.useMemo(()=>a!=="iframe"?"":`<!doctype html><html><head><meta charset="utf-8" />
<style>
  body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; padding: 16px; line-height: 1.7; }
  img { max-width: 100%; height: auto; }
  table { width: 100%; border-collapse: collapse; }
  td, th { border: 1px solid #e5e7eb; padding: 6px 8px; }
  blockquote { border-left: 3px solid #e5e7eb; padding-left: 12px; margin: 12px 0; color: #374151; }
  pre { padding: 12px; background: #0b1220; color: #e5e7eb; overflow: auto; border-radius: 8px; }
  code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
</style>
</head><body>${V||""}</body></html>`,[V,a]);return o.jsxs("div",{className:te("rounded-md border overflow-hidden",d),children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-2 border-b bg-muted/10",children:[o.jsx(Qm,{value:n,onValueChange:L=>{const W=L;if(W===n)return;if(!e.trim()){r(W,e);return}const z=W==="html"?Cw(e):Cqe(e);r(W,z)},children:o.jsxs(Nh,{className:"h-8",children:[o.jsx(gr,{value:"markdown",className:"h-8 px-3",children:"MD"}),o.jsx(gr,{value:"html",className:"h-8 px-3",children:"HTML"})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Undo",children:o.jsx(i8,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Redo",children:o.jsx(J6,{className:"h-4 w-4"})}),o.jsx("div",{className:"w-px h-6 bg-border mx-1"}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?R("## "):A("<h2>","</h2>"),"aria-label":"Heading",children:o.jsx(Hle,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?A("**","**"):A("<strong>","</strong>"),"aria-label":"Bold",children:o.jsx(W6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?A("*","*"):A("<em>","</em>"),"aria-label":"Italic",children:o.jsx(Y6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){R("> ");return}A("<blockquote>","</blockquote>")},"aria-label":"Quote",children:o.jsx(jce,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const{start:L,end:W}=P();if(L!==W){A("```\n","\n```");return}R("```\n\n```",4);return}A("<pre><code>","</code></pre>")},"aria-label":"Code block",children:o.jsx(Nle,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const z=`- 
- 
`;R(z,z.length);return}const L=`<ul>
  <li></li>
</ul>
`,W=L.indexOf("</li>");R(L,W>=0?W:void 0)},"aria-label":"Bulleted list",children:o.jsx(X6,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const z=`1. 
2. 
`;R(z,z.length);return}const L=`<ol>
  <li></li>
</ol>
`,W=L.indexOf("</li>");R(L,W>=0?W:void 0)},"aria-label":"Numbered list",children:o.jsx(Q6,{className:"h-4 w-4"})}),o.jsxs(wl,{open:g,onOpenChange:y,children:[o.jsx(jl,{asChild:!0,children:o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:L=>{O(L),v("")},"aria-label":"Insert link",children:o.jsx(G6,{className:"h-4 w-4"})})}),o.jsx(Mo,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:h("common.link_url")}),o.jsx(G,{value:x,onChange:L=>v(L.target.value),placeholder:"https://example.com"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>y(!1),children:h("common.cancel")}),o.jsx(B,{type:"button",size:"sm",disabled:!x.trim(),onClick:()=>{const L=x.trim();if(!L)return;y(!1),C();const{start:W,end:z}=P(),T=e.slice(W,z)||L;if(n==="markdown"){R(`[${T}](${L})`);return}const q=`<a href="${nP(L)}">${T}</a>`;R(q)},children:h("common.insert")})]})]})})]}),o.jsxs(wl,{open:w,onOpenChange:b,children:[o.jsx(jl,{asChild:!0,children:o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:L=>{O(L),_("")},"aria-label":"Insert image",children:o.jsx(K6,{className:"h-4 w-4"})})}),o.jsx(Mo,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:h("common.image_url")}),o.jsx(G,{value:j,onChange:L=>_(L.target.value),placeholder:"https://example.com/image.png"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!1),children:h("common.cancel")}),o.jsx(B,{type:"button",size:"sm",disabled:!j.trim(),onClick:()=>{const L=j.trim();if(!L)return;if(b(!1),C(),n==="markdown"){R(`![](${L})`);return}const W=`<img src="${nP(L)}" alt="" />`;R(W)},children:h("common.insert")})]})]})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[o.jsx("div",{className:"p-3 border-b md:border-b-0 md:border-r",children:o.jsx(xr,{ref:m,value:e,onChange:L=>t(L.target.value),onSelect:k,onKeyUp:k,onMouseUp:k,onFocus:k,placeholder:s,className:te(l,"resize-none font-mono text-sm leading-6",c)})}),o.jsx("div",{className:"p-3 bg-muted/5",children:a!=="iframe"?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
                  .richtext-preview img { max-width: 100%; height: auto; }
                  .richtext-preview table { width: 100%; border-collapse: collapse; }
                  .richtext-preview td, .richtext-preview th { border: 1px solid hsl(var(--border)); padding: 6px 8px; }
                  .richtext-preview pre { padding: 12px; background: hsl(var(--muted)); border-radius: 8px; overflow: auto; }
                  .richtext-preview blockquote { border-left: 3px solid hsl(var(--border)); padding-left: 12px; margin: 12px 0; color: hsl(var(--muted-foreground)); }
                  .richtext-preview code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
                `}),o.jsx("div",{className:te(l,"richtext-preview text-sm leading-6",u),dangerouslySetInnerHTML:{__html:V||""}})]}):o.jsx("div",{className:te("rounded-md border overflow-hidden bg-background",u),children:o.jsx("iframe",{title:"preview",sandbox:"",className:te("w-full",l),srcDoc:K})})})]})]})}const ld=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},UJ="xboard_admin_knowledge_extra_categories";function Tqe(){try{const e=localStorage.getItem(UJ),t=e?JSON.parse(e):[];return Array.isArray(t)?t.map(String).filter(Boolean):[]}catch{return[]}}function Aqe(e){try{localStorage.setItem(UJ,JSON.stringify(Array.from(new Set(e)).filter(Boolean)))}catch{}}function zqe(){var yn;const{t:e,i18n:t}=Ut(),n=wa(),[r,i]=f.useState(!1),[s,a]=f.useState(null),[l,c]=f.useState(null),u=ls(),[d,h]=f.useState([]),[m,p]=f.useState(""),[g,y]=f.useState({key:"id",dir:"desc"}),[x,v]=f.useState(new Set),[w,b]=f.useState(1),[j,_]=f.useState(10),[k,C]=f.useState(!1),[O,M]=f.useState(!1),[P,A]=f.useState([]),R=f.useRef([]),[F,V]=f.useState(null),[K,L]=f.useState(null),[W,z]=f.useState(()=>Tqe()),[T,q]=f.useState(!1),[Y,ee]=f.useState(!1),[pe,se]=f.useState(""),[he,Pe]=f.useState(""),[J,Re]=f.useState(""),[ie,Ee]=f.useState(""),[Te,fe]=f.useState(""),[X,ke]=f.useState(""),[Q,Se]=f.useState(null),[re,Ne]=f.useState(!1),[Oe,xe]=f.useState(!1),[me,H]=f.useState(!1),[Ce,$e]=f.useState(""),[ne,je]=f.useState({category:"",language:t.language||"zh",title:"",body:"",body_mode:"markdown",show:!0}),Ke=f.useCallback(async()=>{i(!0),c(null);try{const ce=await Zc.fetchList();if(ce.data.status!=="success")throw new Error(ce.data.message||"request failed");h(ce.data.data||[])}catch(ce){h([]),c({tone:"error",text:ld(ce,e("common.load_failed"))}),console.error(ce)}finally{i(!1)}},[e]);f.useEffect(()=>{Ke()},[Ke]);const oe=f.useMemo(()=>{if(!k)return!1;const ce=R.current;if(!ce.length)return!1;const Be=P.map(jt=>jt.id);return ce.join(",")!==Be.join(",")},[P,k]),U=()=>{const ce=d.slice();ce.sort((Be,jt)=>{const ft=Number.isFinite(Be.sort)?Number(Be.sort):null,Wt=Number.isFinite(jt.sort)?Number(jt.sort):null;return ft!==null&&Wt!==null?ft-Wt:ft!==null?-1:Wt!==null?1:Be.id-jt.id}),R.current=ce.map(Be=>Be.id),A(ce),C(!0),V(null),L(null),c(null)},be=async()=>{R.current=[],C(!1),A([]),V(null),L(null),c(null),await Ke()},We=async()=>{if(!(O||!oe)){M(!0),c(null);try{const ce=P.map(jt=>jt.id),Be=await Zc.sort(ce);if(Be.data.status!=="success")throw new Error(Be.data.message||"request failed");c({tone:"success",text:e("knowledge.sort_saved")}),R.current=[],C(!1),A([]),V(null),L(null),await Ke()}catch(ce){c({tone:"error",text:ld(ce,e("common.save_failed"))}),console.error(ce)}finally{M(!1)}}},et=(ce,Be)=>{A(jt=>{const ft=jt.findIndex(sr=>sr.id===ce);if(ft<0)return jt;const Wt=jt.slice(),[Vt]=Wt.splice(ft,1),Zr=Math.max(0,Math.min(Wt.length,Be));return Wt.splice(Zr,0,Vt),Wt})},tt=ce=>{const Be=P.findIndex(jt=>jt.id===ce);Be<=0||et(ce,Be-1)},Nt=ce=>{const Be=P.findIndex(jt=>jt.id===ce);Be<0||Be>=P.length-1||et(ce,Be+1)},vt=ce=>et(ce,0),Mt=ce=>et(ce,P.length-1),sn=(ce,Be)=>{if(!(!k||O)){V(Be),L(null);try{ce.dataTransfer.effectAllowed="move",ce.dataTransfer.setData("text/plain",String(Be))}catch{}}},vn=()=>{V(null),L(null)},Qn=(ce,Be)=>{var Wt,Vt;if(!k||O||F===null||F===Be)return;ce.preventDefault();try{ce.dataTransfer.dropEffect="move"}catch{}const jt=(Vt=(Wt=ce.currentTarget)==null?void 0:Wt.getBoundingClientRect)==null?void 0:Vt.call(Wt),ft=jt&&ce.clientY>jt.top+jt.height/2?"below":"above";L({id:Be,position:ft})},Fe=(ce,Be)=>{var Zr,sr;if(!k||O)return;ce.preventDefault();const jt=(()=>{try{return ce.dataTransfer.getData("text/plain")}catch{return""}})(),ft=F??Number.parseInt(jt||"",10);if(!Number.isFinite(ft)||ft===Be){vn();return}const Wt=(sr=(Zr=ce.currentTarget)==null?void 0:Zr.getBoundingClientRect)==null?void 0:sr.call(Zr),Vt=Wt&&ce.clientY>Wt.top+Wt.height/2?"below":"above";A(Er=>{const Un=Er.findIndex(so=>so.id===ft),qe=Er.findIndex(so=>so.id===Be);if(Un<0||qe<0||Un===qe)return Er;const fn=Vt==="below"?qe+1:qe,Jr=Er.slice(),[ei]=Jr.splice(Un,1),Qi=Math.max(0,Math.min(Jr.length,Un<fn?fn-1:fn));return Jr.splice(Qi,0,ei),Jr}),vn()},Ft=f.useMemo(()=>{const ce=new Map;for(const Be of d){const jt=(Be.category||"").trim();jt&&ce.set(jt,(ce.get(jt)||0)+1)}return ce},[d]),ht=f.useMemo(()=>{const ce=new Set;for(const Be of Ft.keys())ce.add(Be);for(const Be of W)ce.add(String(Be).trim());return Array.from(ce).filter(Boolean).sort((Be,jt)=>Be.localeCompare(jt))},[Ft,W]),qt=f.useMemo(()=>{const ce=m.trim().toLowerCase();return[...d.filter(ft=>!ce||ft.title.toLowerCase().includes(ce)||(ft.category||"").toLowerCase().includes(ce))].sort((ft,Wt)=>{let Vt=0;return g.key==="id"&&(Vt=ft.id-Wt.id),g.key==="title"&&(Vt=ft.title.localeCompare(Wt.title)),g.dir==="asc"?Vt:-Vt})},[d,m,g]),Yt=qt.length,ae=k?P.length:Yt,Me=Math.max(1,Math.ceil(Yt/j)),Ye=Math.min(w,Me),Tt=f.useMemo(()=>{const ce=(Ye-1)*j;return qt.slice(ce,ce+j)},[qt,Ye,j]);f.useEffect(()=>{b(ce=>Math.min(Math.max(1,ce),Me))},[Me]),f.useEffect(()=>{v(ce=>{const Be=new Set,jt=new Set(d.map(ft=>ft.id));for(const ft of ce)jt.has(ft)&&Be.add(ft);return Be})},[d]);const _t=ce=>{y(Be=>Be.key!==ce?{key:ce,dir:"asc"}:{key:ce,dir:Be.dir==="asc"?"desc":"asc"})},Gt=f.useMemo(()=>{if(Tt.length===0)return!1;const ce=Tt.filter(Be=>x.has(Be.id)).length;return ce===0?!1:ce===Tt.length?!0:"indeterminate"},[Tt,x]),Bt=ce=>{v(Be=>{const jt=new Set(Be);for(const ft of Tt)ce?jt.add(ft.id):jt.delete(ft.id);return jt})},kn=()=>{$e(""),je({category:"",language:t.language||"zh",title:"",body:"",body_mode:"markdown",show:!0}),Ne(!0)},Ln=async ce=>{Ne(!0),xe(!0),$e("");try{const Be=await Zc.fetchOne(ce);if(Be.data.status!=="success")throw new Error(Be.data.message||"request failed");const jt=Be.data.data,ft=WJ(jt.body||"");je({id:jt.id,category:jt.category||"",language:jt.language||t.language||"zh",title:jt.title||"",body:(ft==null?void 0:ft.markdown)??(jt.body||""),body_mode:ft?"markdown":"html",show:!!jt.show})}catch(Be){$e(ld(Be,e("common.load_failed"))),console.error(Be)}finally{xe(!1)}},hr=async()=>{if(!me){if($e(""),!ne.category.trim())return $e(e("knowledge.validation.category_required"));if(!ne.language.trim())return $e(e("knowledge.validation.language_required"));if(!ne.title.trim())return $e(e("knowledge.validation.title_required"));if(!ne.body.trim())return $e(e("knowledge.validation.body_required"));H(!0),c(null);try{const ce=ne.body_mode==="markdown"?Oqe(ne.body):AA(ne.body),Be=await Zc.save({id:ne.id,category:ne.category.trim(),language:ne.language.trim(),title:ne.title.trim(),body:ce,show:ne.show});if(Be.data.status!=="success")throw new Error(Be.data.message||"request failed");c({tone:"success",text:e("knowledge.saved")}),Ne(!1),await Ke()}catch(ce){$e(ld(ce,e("common.save_failed"))),console.error(ce)}finally{H(!1)}}},Lr=async ce=>{if(!s){a(ce),c(null);try{const Be=await Zc.toggleShow(ce);if(Be.data.status!=="success")throw new Error(Be.data.message||"request failed");await Ke()}catch(Be){c({tone:"error",text:ld(Be,e("common.save_failed"))}),console.error(Be)}finally{a(null)}}},Pr=async ce=>{if(s||!await n({title:e("common.delete"),description:e("knowledge.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;a(ce),c(null);const jt=d;h(ft=>ft.filter(Wt=>Wt.id!==ce));try{const ft=await Zc.drop(ce);if(ft.data.status!=="success")throw new Error(ft.data.message||"request failed");pt.success(e("knowledge.deleted"))}catch(ft){h(jt),c({tone:"error",text:ld(ft,e("common.save_failed"))}),console.error(ft)}finally{a(null)}},gi=()=>{const ce=he.trim();if(!ce)return;const Be=Array.from(new Set([...W,ce])).sort((jt,ft)=>jt.localeCompare(ft));z(Be),Aqe(Be),Pe("")},yi=async(ce,Be)=>{const jt=ce.trim(),ft=Be.trim();if(!jt||!ft||jt===ft)return;const Wt=d.filter(Vt=>(Vt.category||"").trim()===jt);if(Wt.length!==0){ee(!0),se(""),Se({done:0,total:Wt.length});try{for(let Vt=0;Vt<Wt.length;Vt++){const Zr=Wt[Vt].id,sr=await Zc.fetchOne(Zr);if(sr.data.status!=="success")throw new Error(sr.data.message||"request failed");const Er=sr.data.data,Un=await Zc.save({id:Er.id,category:ft,language:Er.language,title:Er.title,body:Er.body,show:Er.show});if(Un.data.status!=="success")throw new Error(Un.data.message||"request failed");Se({done:Vt+1,total:Wt.length})}await Ke()}catch(Vt){se(ld(Vt,e("common.save_failed"))),console.error(Vt)}finally{ee(!1),setTimeout(()=>Se(null),400)}}},ws=async()=>{!J.trim()||!ie.trim()||!await n({title:e("knowledge.category_rename"),description:e("knowledge.category_rename_confirm",{from:J.trim(),to:ie.trim()}),confirmText:e("knowledge.category_rename_action")})||await yi(J,ie)},Us=async()=>{!Te.trim()||!X.trim()||!await n({title:e("knowledge.category_delete"),description:e("knowledge.category_delete_confirm",{from:Te.trim(),to:X.trim()}),confirmText:e("knowledge.category_delete_action"),confirmVariant:"destructive"})||await yi(Te,X)},Vs=({k:ce})=>g.key!==ce?o.jsx(Ns,{className:"h-4 w-4 opacity-60"}):g.dir==="asc"?o.jsx(pE,{className:"h-4 w-4"}):o.jsx(Tc,{className:"h-4 w-4"});return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:kn,disabled:k,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("knowledge.add")]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:m,onChange:ce=>{p(ce.target.value),b(1)},placeholder:e("knowledge.search_placeholder"),className:"h-9 pl-9",disabled:k})]}),o.jsxs(B,{size:"sm",variant:"outline",className:"h-9",onClick:()=>q(!0),disabled:k,children:[o.jsx(Ile,{className:"h-4 w-4 mr-2"}),e("knowledge.category_manage")]}),k?o.jsxs(o.Fragment,{children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:be,disabled:r||O,children:e("knowledge.sort_cancel")}),o.jsxs(B,{size:"sm",className:"h-9",onClick:We,disabled:r||O||!oe,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("knowledge.sort_save")]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:U,disabled:r||d.length<2,children:[o.jsx(Ns,{className:"h-4 w-4 mr-2"}),e("knowledge.sort")]}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:Ke,disabled:r,children:o.jsx(gn,{className:te("h-4 w-4",r&&"animate-spin")})})]})]}),l&&o.jsx("div",{className:te("text-sm",l.tone==="success"?"text-green-600":"text-red-600"),children:l.text}),k&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:ae===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("knowledge.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:k?o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[110px]",children:"ID"}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[180px]",children:e("knowledge.sort_column")}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[120px]",children:e("knowledge.table.status")}),o.jsx("th",{className:"text-left font-medium px-3 py-3",children:e("knowledge.table.title")}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[220px]",children:e("knowledge.table.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-3 w-[160px]",children:e("knowledge.table.actions")})]}):o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-3 w-[44px]",children:o.jsx(Hn,{checked:Gt,onCheckedChange:ce=>Bt(ce===!0)})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[110px]",children:o.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-foreground",onClick:()=>_t("id"),children:["ID ",o.jsx(Vs,{k:"id"})]})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[120px]",children:e("knowledge.table.status")}),o.jsx("th",{className:"text-left font-medium px-3 py-3",children:o.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-foreground",onClick:()=>_t("title"),children:[e("knowledge.table.title")," ",o.jsx(Vs,{k:"title"})]})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[220px]",children:e("knowledge.table.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-3 w-[160px]",children:e("knowledge.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:(k?P:Tt).map((ce,Be)=>{const jt=s===ce.id,ft=x.has(ce.id),Wt=k?Be:-1;return o.jsxs("tr",{className:te("hover:bg-muted/30",k&&(K==null?void 0:K.id)===ce.id&&"bg-primary/5",k&&F===ce.id&&"opacity-60"),onContextMenu:k?void 0:Vt=>u.openMenu(Vt,ce),onDragOver:k?Vt=>Qn(Vt,ce.id):void 0,onDrop:k?Vt=>Fe(Vt,ce.id):void 0,onDragLeave:k?()=>{L(Vt=>(Vt==null?void 0:Vt.id)===ce.id?null:Vt)}:void 0,children:[k?null:o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx(Hn,{checked:ft,onCheckedChange:Vt=>v(Zr=>{const sr=new Set(Zr);return Vt===!0?sr.add(ce.id):sr.delete(ce.id),sr})})}),o.jsx("td",{className:"px-3 py-3 align-middle tabular-nums",children:ce.id}),k?o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:te("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",O?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!O,onDragStart:Vt=>sn(Vt,ce.id),onDragEnd:vn,"aria-label":"Drag",children:o.jsx(Zy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Wt+1}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>vt(ce.id),disabled:O||Wt<=0,"aria-label":"Top",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>tt(ce.id),disabled:O||Wt<=0,"aria-label":"Up",children:o.jsx(bh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Nt(ce.id),disabled:O||Wt>=P.length-1,"aria-label":"Down",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Mt(ce.id),disabled:O||Wt>=P.length-1,"aria-label":"Bottom",children:o.jsx(Qy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx(Dt,{checked:!!ce.show,disabled:jt||k,onCheckedChange:()=>Lr(ce.id)})}),o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ce.title,children:ce.title})}),o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ce.category,children:ce.category})}),o.jsx("td",{className:"px-3 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:jt||k,onClick:()=>Ln(ce.id),title:e("common.edit"),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:jt||k,onClick:()=>Pr(ce.id),title:e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},ce.id)})})]})})})}),!k&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("knowledge.selected_hint",{selected:x.size,total:Yt})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(st,{value:String(j),onValueChange:ce=>{const Be=Number(ce);_(Number.isFinite(Be)&&Be>0?Be:10),b(1)},children:[o.jsx(nt,{className:"h-8 w-[96px]",children:o.jsx(at,{})}),o.jsx(rt,{children:[10,20,50,100].map(ce=>o.jsx(de,{value:String(ce),children:ce},ce))})]})]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(1),disabled:r||Ye<=1||Yt===0,children:e("dashboard.first_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(Math.max(1,Ye-1)),disabled:r||Ye<=1||Yt===0,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[Ye," / ",Me]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(Math.min(Me,Ye+1)),disabled:r||Ye>=Me||Yt===0,children:e("dashboard.next_page")}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>b(Me),disabled:r||Ye>=Me||Yt===0,children:e("dashboard.last_page")})]})]}),o.jsx(un,{open:T,onOpenChange:q,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("knowledge.category_manage")})}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("knowledge.category_list")}),o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("knowledge.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-2 w-[120px]",children:e("knowledge.category_count")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:ht.length===0?o.jsx("tr",{children:o.jsx("td",{className:"px-3 py-3 text-sm text-muted-foreground",colSpan:2,children:e("knowledge.empty")})}):ht.map(ce=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3",children:ce}),o.jsx("td",{className:"px-3 py-3 text-right tabular-nums",children:Ft.get(ce)||0})]},ce))})]})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.category_manage_hint")})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(Z,{children:e("knowledge.category_add")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(G,{value:he,onChange:ce=>Pe(ce.target.value),placeholder:e("knowledge.category_add_placeholder")}),o.jsx(B,{type:"button",onClick:gi,disabled:!he.trim(),children:e("common.save")})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(Z,{children:e("knowledge.category_rename")}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs(st,{value:J,onValueChange:Re,children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("knowledge.category_from")})}),o.jsx(rt,{children:Array.from(Ft.keys()).map(ce=>o.jsx(de,{value:ce,children:ce},ce))})]}),o.jsx(G,{value:ie,onChange:ce=>Ee(ce.target.value),placeholder:e("knowledge.category_to"),list:"knowledge-category-list"}),o.jsx("datalist",{id:"knowledge-category-list",children:ht.map(ce=>o.jsx("option",{value:ce},ce))})]}),o.jsx(B,{type:"button",variant:"outline",onClick:ws,disabled:Y||!J.trim()||!ie.trim(),children:e("knowledge.category_rename_action")})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(Z,{children:e("knowledge.category_delete")}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs(st,{value:Te,onValueChange:fe,children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("knowledge.category_from")})}),o.jsx(rt,{children:Array.from(Ft.keys()).map(ce=>o.jsx(de,{value:ce,children:ce},ce))})]}),o.jsx(G,{value:X,onChange:ce=>ke(ce.target.value),placeholder:e("knowledge.category_to"),list:"knowledge-category-list"})]}),o.jsx(B,{type:"button",variant:"destructive",onClick:Us,disabled:Y||!Te.trim()||!X.trim(),children:e("knowledge.category_delete_action")})]}),Q?o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("knowledge.category_progress",{done:Q.done,total:Q.total})}):null,pe?o.jsx("div",{className:"text-sm text-red-600",children:pe}):null]}),o.jsx(yr,{children:o.jsx(B,{variant:"outline",onClick:()=>q(!1),disabled:Y,children:e("common.close")})})]})}),o.jsx(un,{open:re,onOpenChange:Ne,children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-5xl translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:ne.id?e("knowledge.edit_title"):e("knowledge.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-24",children:Oe?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("knowledge.loading")}):o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"knowledge-title",children:e("knowledge.fields.title")}),o.jsx(G,{id:"knowledge-title",value:ne.title,onChange:ce=>je(Be=>({...Be,title:ce.target.value})),placeholder:e("knowledge.fields.title_placeholder")})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"knowledge-category",children:e("knowledge.fields.category")}),o.jsx(G,{id:"knowledge-category",value:ne.category,onChange:ce=>je(Be=>({...Be,category:ce.target.value})),placeholder:e("knowledge.fields.category_placeholder"),list:"knowledge-category-edit-list"}),o.jsx("datalist",{id:"knowledge-category-edit-list",children:ht.map(ce=>o.jsx("option",{value:ce},ce))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"knowledge-language",children:e("knowledge.fields.language")}),o.jsxs(st,{value:ne.language,onValueChange:ce=>je(Be=>({...Be,language:ce})),children:[o.jsx(nt,{id:"knowledge-language",children:o.jsx(at,{placeholder:"zh"})}),o.jsxs(rt,{children:[o.jsx(de,{value:"zh",children:e("knowledge.language.zh")}),o.jsx(de,{value:"en",children:e("knowledge.language.en")})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("knowledge.fields.body")}),o.jsx(Mqe,{value:ne.body,onChange:ce=>je(Be=>({...Be,body:ce})),mode:ne.body_mode,onModeChange:(ce,Be)=>je(jt=>({...jt,body_mode:ce,body:Be})),resetKey:`${ne.id??"new"}:${re?"open":"closed"}:${ne.body_mode}`,placeholder:e("knowledge.fields.body_placeholder"),previewType:"iframe",minHeightClassName:"min-h-[360px]",sourceClassName:"text-xs leading-5"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.editor_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"knowledge-show",children:e("knowledge.fields.show")}),o.jsx(Dt,{id:"knowledge-show",checked:ne.show,onCheckedChange:ce=>je(Be=>({...Be,show:ce}))})]}),Ce?o.jsx("div",{className:"text-sm text-red-600",children:Ce}):null]})}),o.jsx("div",{className:"fixed bottom-0 right-0 w-full max-w-5xl border-t bg-background px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>Ne(!1),disabled:me,children:e("common.cancel")}),o.jsx(B,{onClick:hr,disabled:me||Oe,children:e(me?"common.saving":"common.save")})]})})]})}),o.jsx(os,{open:u.open,onOpenChange:u.setOpen,position:u.position,items:[{type:"checkbox",label:e("knowledge.table.status"),checked:!!((yn=u.data)!=null&&yn.show),disabled:!u.data||s===u.data.id,onSelect:()=>{u.data&&(u.setOpen(!1),Lr(u.data.id))}},{type:"separator"},{type:"item",label:e("common.edit"),disabled:!u.data||s===u.data.id,onSelect:()=>{u.data&&(u.setOpen(!1),Ln(u.data.id))}},{type:"item",label:e("common.delete"),destructive:!0,disabled:!u.data||s===u.data.id,onSelect:()=>{u.data&&(u.setOpen(!1),Pr(u.data.id))}}]})]})}function us({page:e,total:t,pageSize:n,onPageChange:r,onPageSizeChange:i,loading:s}){const{t:a}=Ut(),l=Math.max(1,Math.ceil(t/n));return o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between rounded-lg border border-border/70 bg-card px-4 py-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[a("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:t})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground hidden sm:block",children:a("dashboard.per_page")}),o.jsxs(st,{value:`${n}`,onValueChange:c=>{i(Number(c))},children:[o.jsx(nt,{className:"h-8 w-[72px]",children:o.jsx(at,{placeholder:n})}),o.jsx(rt,{side:"top",children:[10,20,50,100].map(c=>o.jsx(de,{value:`${c}`,children:c},c))})]})]}),o.jsxs("div",{className:"flex min-w-[80px] items-center justify-center text-sm font-medium tabular-nums",children:[e," / ",l]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsxs(B,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(1),disabled:e===1||s,children:[o.jsx("span",{className:"sr-only",children:"First"}),o.jsx(tj,{className:"h-4 w-4"})]}),o.jsxs(B,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(e-1),disabled:e===1||s,children:[o.jsx("span",{className:"sr-only",children:"Previous"}),o.jsx(ej,{className:"h-4 w-4"})]}),o.jsxs(B,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(e+1),disabled:e===l||s,children:[o.jsx("span",{className:"sr-only",children:"Next"}),o.jsx(Rm,{className:"h-4 w-4"})]}),o.jsxs(B,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(l),disabled:e===l||s,children:[o.jsx("span",{className:"sr-only",children:"Last"}),o.jsx(nj,{className:"h-4 w-4"})]})]})]})]})}const rP=(1n<<255n)-19n,Dqe=121666n,Mr=e=>{const t=e%rP;return t>=0n?t:t+rP},Jp=e=>Mr(e*e),Rqe=(e,t)=>{let n=1n,r=Mr(e),i=t;for(;i>0n;)i&1n&&(n=Mr(n*r)),r=Jp(r),i>>=1n;return n},Iqe=e=>Rqe(e,rP-2n),Lqe=e=>{let t=0n;for(let n=0;n<e.length;n+=1)t+=BigInt(e[n]??0)<<8n*BigInt(n);return t},$qe=(e,t)=>{const n=new Uint8Array(t);let r=Mr(e);for(let i=0;i<t;i+=1)n[i]=Number(r&0xffn),r>>=8n;return n},Fqe=(e,t)=>e[t>>3]>>(t&7)&1,yb=(e,t,n)=>e?[n,t]:[t,n],VJ=e=>{const t=e.slice();return t[0]&=248,t[31]&=127,t[31]|=64,t},Bqe=(e,t)=>{const n=VJ(e),r=new Uint8Array(32);r.set(t.slice(0,32)),r[31]&=127;const i=Mr(Lqe(r));let s=1n,a=0n,l=i,c=1n,u=0;for(let d=254;d>=0;d-=1){const h=Fqe(n,d);u^=h,[s,l]=yb(u,s,l),[a,c]=yb(u,a,c),u=h;const m=Mr(s+a),p=Jp(m),g=Mr(s-a),y=Jp(g),x=Mr(p-y),v=Mr(l+c),w=Mr(l-c),b=Mr(w*m),j=Mr(v*g);l=Jp(Mr(b+j)),c=Mr(i*Jp(Mr(b-j))),s=Mr(p*y),a=Mr(x*Mr(p+Mr(Dqe*x)))}return[s,l]=yb(u,s,l),[a,c]=yb(u,a,c),$qe(Mr(s*Iqe(a)),32)},qqe=e=>{const t=new Uint8Array(32);return t[0]=9,Bqe(e,t)},Wqe=()=>{const e=new Uint8Array(32);crypto.getRandomValues(e);const t=VJ(e);return{privateKey:t,publicKey:qqe(t)}},Jc=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},xt=e=>e&&typeof e=="object"&&!Array.isArray(e)?e:{},Wl=e=>{if(!e)return null;if(typeof e=="string")try{const t=HJ(e);return xt(t)}catch{return null}return xt(e)},eu=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(Math.trunc(t))},Uqe=e=>String(e??"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'),Ap=e=>`"${Uqe(e)}"`,pN=e=>String(e??"").trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_.-]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""),LF=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<0?"":String(Math.trunc(t))},Vqe=e=>{const t=String(e??"").trim().replace(/\s+/g,"");if(!t)return{ok:!1,clause:"",kind:"empty",normalized:""};if(/^\d+$/.test(t))return{ok:!0,clause:`--dport ${t}`,kind:"single",normalized:t};if(/^\d+[:-]\d+$/.test(t)){const[n,r]=t.split(/[:-]/);if(n===r)return{ok:!0,clause:`--dport ${n}`,kind:"single",normalized:n};const i=`${n}:${r}`;return{ok:!0,clause:`--dport ${i}`,kind:"range",normalized:i}}return/^\d+(,\d+)+$/.test(t)?{ok:!0,clause:`-m multiport --dports ${t}`,kind:"multiport",normalized:t}:{ok:!1,clause:"",kind:"invalid",normalized:t}},Hqe=e=>{const t=Vqe(e.port),n=Number(e.server_port);if(!t.ok||!Number.isFinite(n)||n<=0)return"";const r=Math.trunc(n);return t.kind==="single"&&t.normalized===String(r)?"":["# IPv4",`IFACE="$(ip -o -4 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE" ] && IFACE="eth0"',`iptables -t nat -C PREROUTING -i "$IFACE" -p udp ${t.clause} -j REDIRECT --to-ports ${r} 2>/dev/null || iptables -t nat -A PREROUTING -i "$IFACE" -p udp ${t.clause} -j REDIRECT --to-ports ${r}`,"","# IPv6",`IFACE6="$(ip -o -6 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE6" ] && IFACE6="$IFACE"',`ip6tables -t nat -C PREROUTING -i "$IFACE6" -p udp ${t.clause} -j REDIRECT --to-ports ${r} 2>/dev/null || ip6tables -t nat -A PREROUTING -i "$IFACE6" -p udp ${t.clause} -j REDIRECT --to-ports ${r}`].join(`
`)},Kqe=(e=16)=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789",n=new Uint8Array(e);return crypto.getRandomValues(n),Array.from(n,r=>t[r%t.length]).join("")},Yqe=e=>Array.from(e,t=>t.toString(16).padStart(2,"0")).join(""),Gqe=e=>{const t=new Uint8Array(e);return crypto.getRandomValues(t),Yqe(t)},$F=e=>{let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t)},FF=[{value:"vmess",label:"vmess"},{value:"vless",label:"vless"},{value:"trojan",label:"trojan"},{value:"shadowsocks",label:"shadowsocks"},{value:"hysteria",label:"hysteria"},{value:"tuic",label:"tuic"},{value:"anytls",label:"anytls"},{value:"socks",label:"socks"},{value:"naive",label:"naive"},{value:"http",label:"http"},{value:"mieru",label:"mieru"}],zp={vmess:{label:"vmess",className:"border-indigo-200 bg-indigo-50 text-indigo-700"},vless:{label:"vless",className:"border-sky-200 bg-sky-50 text-sky-700"},trojan:{label:"trojan",className:"border-red-200 bg-red-50 text-red-600"},shadowsocks:{label:"shadowsocks",className:"border-emerald-200 bg-emerald-50 text-emerald-700"},hysteria:{label:"hysteria",className:"border-amber-200 bg-amber-50 text-amber-700"},tuic:{label:"tuic",className:"border-teal-200 bg-teal-50 text-teal-700"},anytls:{label:"anytls",className:"border-slate-200 bg-slate-50 text-slate-700"},socks:{label:"socks",className:"border-cyan-200 bg-cyan-50 text-cyan-700"},naive:{label:"naive",className:"border-purple-200 bg-purple-50 text-purple-700"},http:{label:"http",className:"border-orange-200 bg-orange-50 text-orange-700"},mieru:{label:"mieru",className:"border-fuchsia-200 bg-fuchsia-50 text-fuchsia-700"}},Qo=["stop=8","0=30-30","1=100-400","2=400-500,c,500-1000,c,500-1000,c,500-1000,c,500-1000","3=9-9,500-1000","4=500-1000","5=500-1000","6=500-1000","7=500-1000"],Dp=e=>{switch(e){case"shadowsocks":return{cipher:"aes-128-gcm"};case"vmess":return{tls:0,network:"tcp"};case"vless":return{tls:0,network:"tcp"};case"trojan":return{network:"tcp",server_name:"",allow_insecure:!1};case"tuic":return{version:5,congestion_control:"cubic",udp_relay_mode:"native",alpn:["h3"],tls:{server_name:"",allow_insecure:!1}};case"hysteria":return{version:2,tls:{server_name:"",allow_insecure:!1},obfs:{open:!1,type:"salamander",password:""}};case"naive":return{tls:0,tls_settings:{allow_insecure:!1}};case"http":return{tls:0,tls_settings:{allow_insecure:!1}};case"mieru":return{transport:"tcp",multiplexing:"MULTIPLEXING_LOW"};case"anytls":return{tls:{server_name:"",allow_insecure:!1},padding_scheme:[...Qo]};default:return{}}},HJ=e=>{const t=e.trim();return t?JSON.parse(t):null},Uh=e=>e?e.map(t=>String(t)).filter(Boolean):[],Pa=e=>{const t=typeof e=="string"?e:e==null?"":String(e),n={};for(const r of t.split(";")){const i=r.trim();if(!i)continue;const s=i.indexOf("=");if(s===-1)continue;const a=i.slice(0,s).trim();a&&(n[a]=i.slice(s+1).trim())}return n},Zs=(e,t=[])=>{const n=[],r=new Set,i=a=>{if(!Object.prototype.hasOwnProperty.call(e,a))return;const l=String(e[a]??"").trim();l&&(n.push(`${a}=${l}`),r.add(a))};for(const a of t)i(a);const s=Object.keys(e).filter(a=>!r.has(a)).sort((a,l)=>a.localeCompare(l));for(const a of s)i(a);return n.join(";")},BF=["tcp","ws","grpc","kcp","httpupgrade","xhttp"],Qqe=["none","xtls-rprx-vision","xtls-rprx-direct","xtls-rprx-splice"],Xqe=["firefox","chrome","safari","ios","android","edge"],Zqe=["tcp","grpc","ws"],Jqe=["tcp","ws","grpc","httpupgrade","xhttp","splithttp"],e6e={tcp:[{name:"TCP",value:{header:{type:"none"}}}],ws:[{name:"WebSocket",value:{path:"/",headers:{Host:""}}}],grpc:[{name:"gRPC",value:{serviceName:""}}],kcp:[{name:"mKCP",value:{seed:"",header:{type:"none"}}}],httpupgrade:[{name:"HTTPUpgrade",value:{path:"/",host:""}}]},iP=e=>e6e[e]??[],xb=e=>{var t;return((t=iP(e)[0])==null?void 0:t.value)??null},gN=["aes-128-gcm","aes-192-gcm","aes-256-gcm","chacha20-ietf-poly1305","2022-blake3-aes-128-gcm","2022-blake3-aes-256-gcm"],t6e=["bbr","cubic","new_reno"],n6e=["native","quic"],r6e=["http/1.1","h2","h3"],qF=e=>{const t={...xt(e)},n=String(t.cipher||"").trim();t.cipher=n||"aes-128-gcm";const r=String(t.obfs||"").trim(),i=String(t.plugin||"").trim(),a=(i==="obfs-local"||i==="simple-obfs"?"obfs":i)||(r?"obfs":"");a?t.plugin=a:delete t.plugin;const l=String(t.plugin_opts||"").trim(),c=Pa(l);if(a==="obfs"){const u=String(c.obfs||r||"http").trim()||"http";c.obfs=u,t.obfs=u;const d={...xt(t.obfs_settings)},h=String(c["obfs-host"]??d.host??"").trim(),m=String(c.path??d.path??"").trim();h?(c["obfs-host"]=h,d.host=h):(delete c["obfs-host"],delete d.host),m?(c.path=m,d.path=m):(delete c.path,delete d.path),t.obfs_settings=Object.keys(d).length?d:null;const p=Zs(c,["obfs","obfs-host","path"]);t.plugin_opts=p||null}else if(a==="v2ray-plugin"){const u=String(c.mode||"websocket").trim()||"websocket";c.mode=u,!String(c.path||"").trim()&&u.toLowerCase()==="websocket"&&(c.path="/");const h=String(c.tls||"").trim().toLowerCase();h==="true"||h==="1"?c.tls="true":delete c.tls;const m=Zs(c,["mode","host","path","tls"]);t.plugin_opts=m||null,delete t.obfs,delete t.obfs_settings}else t.plugin_opts=l||null;return t.plugin||delete t.plugin_opts,t};function i6e(){const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState(!1),[d,h]=f.useState(""),m=f.useRef(null),p=f.useRef(""),g=f.useRef(!1),[y,x]=f.useState(null),[v,w]=f.useState(""),[b,j]=f.useState("all"),[_,k]=f.useState("all"),[C,O]=f.useState(1),[M,P]=f.useState(10),[A,R]=f.useState(!1),[F,V]=f.useState([]),[K,L]=f.useState(!1),W=f.useRef([]),[z,T]=f.useState(null),[q,Y]=f.useState(null),[ee,pe]=f.useState(new Set),[se,he]=f.useState(!1),[Pe,J]=f.useState(!1),[Re,ie]=f.useState(""),[Ee,Te]=f.useState(null),[fe,X]=f.useState(!1),[ke,Q]=f.useState("1"),[Se,re]=f.useState(!1),[Ne,Oe]=f.useState(!1),[xe,me]=f.useState([{start:"00:00",end:"23:59",rate:"1"}]),[H,Ce]=f.useState(!1),[$e,ne]=f.useState([]),[je,Ke]=f.useState(""),[oe,U]=f.useState(!1),[be,We]=f.useState([]),[et,tt]=f.useState(""),[Nt,vt]=f.useState([]),[Mt,sn]=f.useState([]),[vn,Qn]=f.useState([]),[Fe,Ft]=f.useState(null),[ht,qt]=f.useState("preset"),[Yt,ae]=f.useState("default"),Me=ls(),Ye=f.useRef(null),[Tt,_t]=f.useState(!1),[Gt,Bt]=f.useState(""),kn=f.useRef(null),[Ln,hr]=f.useState(!1),[Lr,Pr]=f.useState(""),[gi,yi]=f.useState(!1),[ws,Us]=f.useState(!1),[Vs,yn]=f.useState(""),[ce,Be]=f.useState(""),[jt,ft]=f.useState(!1),[Wt,Vt]=f.useState("{}"),[Zr,sr]=f.useState(""),[Er,Un]=f.useState([]),[qe,fn]=f.useState({type:"vmess",node_id:"",name:"",host:"",port:"443",server_port:"443",rate:"1",show:!0,parent_id:"null",group_ids:[],route_ids:[],tagsText:"",protocolSettingsText:JSON.stringify(Dp("vmess"),null,2),rate_time_enable:!1,hy_version:"2",hy_obfs_enabled:!1,hy_obfs_type:"salamander",hy_obfs_password:"",hy_sni:"",hy_up_mbps:"",hy_down_mbps:"",hy_hop_interval:"30"});f.useEffect(()=>{gi||(_t(!1),Bt(""),hr(!1),Pr(""),ft(!1),sr(""))},[gi]),f.useEffect(()=>{if(!c)return;const N=window.setTimeout(()=>{const E=m.current;E&&(E.focus(),E.select(),E.setSelectionRange(0,E.value.length))},0);return()=>window.clearTimeout(N)},[c,d]);const Jr=f.useCallback(async()=>{var N;r(!0),x(null);try{const[E,D,$,le]=await Promise.all([Vl.getNodes(),Lf.fetch(),r_.fetch(),Vl.getOptions().catch(()=>null)]);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");D.data.status==="success"&&sn(D.data.data||[]),Qn($.data.data||[]),vt(E.data.data||[]),le&&((N=le.data)==null?void 0:N.status)==="success"?Ft(le.data.data||null):Ft(null)}catch(E){vt([]),sn([]),Qn([]),Ft(null),x({tone:"error",text:Jc(E,e("common.load_failed"))}),console.error(E)}finally{r(!1)}},[e]);f.useEffect(()=>{Jr()},[Jr]);const ei=f.useMemo(()=>{const N=[...Nt];return N.sort((E,D)=>{const $=Number.isFinite(E.sort)?E.sort:E.id,le=Number.isFinite(D.sort)?D.sort:D.id;return $-le}),N},[Nt]),Qi=f.useMemo(()=>{const N=v.trim().toLowerCase();return ei.filter(E=>b!=="all"&&E.type!==b||_!=="all"&&!(Uh(E.group_ids).includes(_)||(E.groups||[]).some(le=>String(le.id)===_))?!1:N?E.name.toLowerCase().includes(N)||E.host.toLowerCase().includes(N)||String(E.id).includes(N)||E.type.toLowerCase().includes(N):!0)},[ei,v,b,_]),so=Qi.length,Al=Math.max(1,Math.ceil(so/M)),Bc=Math.min(C,Al),ao=f.useMemo(()=>{const N=(Bc-1)*M;return Qi.slice(N,N+M)},[Qi,Bc,M]),qc=A?F:ao;f.useEffect(()=>{O(N=>Math.min(Math.max(1,N),Al))},[Al]),f.useEffect(()=>{pe(N=>{if(N.size===0)return N;const E=new Set(Nt.map($=>$.id)),D=new Set;for(const $ of N)E.has($)&&D.add($);return D})},[Nt]);const Oh=f.useMemo(()=>{if(ao.length===0)return!1;const N=ao.filter(E=>ee.has(E.id)).length;return N===0?!1:N===ao.length?!0:"indeterminate"},[ao,ee]),Wc=N=>{pe(E=>{const D=new Set(E);for(const $ of ao)N?D.add($.id):D.delete($.id);return D})},ja=f.useMemo(()=>{if(!A)return!1;const N=W.current;if(!N.length)return!1;const E=F.map(D=>D.id);return N.join(",")!==E.join(",")},[F,A]),$n=()=>{W.current=ei.map(N=>N.id),V(ei),R(!0),T(null),Y(null),x(null)},Ph=()=>{W.current=[],R(!1),V([]),T(null),Y(null)},Ai=async()=>{if(!(K||!ja)){L(!0),x(null);try{const N=F.map((D,$)=>({id:D.id,order:$+1})),E=await Vl.sort(N);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");x({tone:"success",text:e("server.sort_saved")}),W.current=[],R(!1),V([]),T(null),Y(null),await Jr()}catch(N){x({tone:"error",text:Jc(N,e("common.save_failed"))}),console.error(N)}finally{L(!1)}}},zl=(N,E)=>{V(D=>{const $=D.findIndex(Pt=>Pt.id===N);if($<0)return D;const le=D.slice(),[ze]=le.splice($,1),Le=Math.max(0,Math.min(le.length,E));return le.splice(Le,0,ze),le})},Dl=N=>{const E=F.findIndex(D=>D.id===N);E<=0||zl(N,E-1)},Hs=N=>{const E=F.findIndex(D=>D.id===N);E<0||E>=F.length-1||zl(N,E+1)},Eh=N=>zl(N,0),ed=N=>zl(N,F.length-1),td=(N,E)=>{if(!(!A||K)){T(E),Y(null);try{N.dataTransfer.effectAllowed="move",N.dataTransfer.setData("text/plain",String(E))}catch{}}},Rl=()=>{T(null),Y(null)},nd=(N,E)=>{var le,ze;if(!A||K||z===null||z===E)return;N.preventDefault();try{N.dataTransfer.dropEffect="move"}catch{}const D=(ze=(le=N.currentTarget)==null?void 0:le.getBoundingClientRect)==null?void 0:ze.call(le),$=D&&N.clientY>D.top+D.height/2?"below":"above";Y({id:E,position:$})},rd=(N,E)=>{var Le,Pt;if(!A||K)return;N.preventDefault();const D=(()=>{try{return N.dataTransfer.getData("text/plain")}catch{return""}})(),$=z??Number.parseInt(D||"",10);if(!Number.isFinite($)||$===E){Rl();return}const le=(Pt=(Le=N.currentTarget)==null?void 0:Le.getBoundingClientRect)==null?void 0:Pt.call(Le),ze=le&&N.clientY>le.top+le.height/2?"below":"above";V(ct=>{const Ve=ct.findIndex(Ys=>Ys.id===$),At=ct.findIndex(Ys=>Ys.id===E);if(Ve<0||At<0||Ve===At)return ct;const Et=ze==="below"?At+1:At,tn=ct.slice(),[Fn]=tn.splice(Ve,1),jr=Math.max(0,Math.min(tn.length,Ve<Et?Et-1:Et));return tn.splice(jr,0,Fn),tn}),Rl()},id=()=>{Un(N=>[...N,{start:"00:00",end:"23:59",rate:"1"}])},Uc=(N,E,D)=>{Un($=>$.map((le,ze)=>ze===N?{...le,[E]:D}:le))},Mh=N=>{Un(E=>E.filter((D,$)=>$!==N))},Vc=()=>{me(N=>[...N,{start:"00:00",end:"23:59",rate:"1"}])},Il=(N,E,D)=>{me($=>$.map((le,ze)=>ze===N?{...le,[E]:D}:le))},S=N=>{me(E=>E.filter((D,$)=>$!==N))},I=()=>{ee.size!==0&&(ie(""),Te(null),X(!1),Q("1"),re(!1),Oe(!1),me([{start:"00:00",end:"23:59",rate:"1"}]),Ce(!1),ne([]),Ke(""),U(!1),We([]),tt(""),he(!0))},ue=async()=>{if(Pe)return;ie("");const N=Array.from(ee).sort((Le,Pt)=>Le-Pt);if(N.length===0){ie(e("server.bulk.no_target"));return}if(!fe&&!Se&&!H&&!oe){ie(e("server.bulk.no_fields"));return}let E=null;if(fe){const Le=Number(ke);if(!Number.isFinite(Le)||Le<=0){ie(e("server.validation.rate_required"));return}E=Le}let D;if(Se&&Ne){if(!xe.length){ie(e("server.validation.rate_time_ranges_invalid"));return}const Le=xe.map(ct=>({start:ct.start.trim(),end:ct.end.trim(),rate:Number(ct.rate)}));if(Le.some(ct=>!ct.start||!ct.end||!Number.isFinite(ct.rate)||ct.rate<=0)){ie(e("server.validation.rate_time_ranges_invalid"));return}D=Le}J(!0),Te({done:0,total:N.length}),x(null);let $=0;const le=[];try{for(let Le=0;Le<N.length;Le++){const Pt=N[Le];Te({done:Le,total:N.length});const ct=Nt.find(Bo=>Bo.id===Pt);if(!ct){le.push({id:Pt,message:e("server.bulk.node_not_found")});continue}const Ve=String(ct.port??"").trim(),At=Number(ct.server_port),Et=E!==null?E:Number.isFinite(Number(ct.rate))?Number(ct.rate):1,tn=eu(ct.code??ct.node_id),Fn=tn?Number(tn):null,jr=Fn?String(Fn):null,Ys=ct.parent_id===null||ct.parent_id===void 0?null:Number(ct.parent_id),$o=Array.isArray(ct.tags)&&ct.tags.length?ct.tags:void 0,$l=Wl(ct.protocol_settings)??Dp(ct.type),Fo=H?$e:Uh(ct.group_ids),xi=oe?be:Uh(ct.route_ids),Ss=Se?Ne:!!ct.rate_time_enable,Gs=Se?D:Ss?ct.rate_time_ranges:void 0,Yx={id:ct.id,node_id:Fn,code:jr,type:ct.type,name:String(ct.name||"").trim(),host:String(ct.host||"").trim(),port:Ve,server_port:At,rate:Et,show:ct.show?1:0,parent_id:Ys,group_ids:Fo.map(String),route_ids:xi.map(String),tags:$o,protocol_settings:$l,rate_time_enable:Ss,rate_time_ranges:Gs};try{const Bo=await Vl.save(Yx);if(Bo.data.status!=="success")throw new Error(Bo.data.message||"request failed");$+=1}catch(Bo){le.push({id:ct.id,message:Jc(Bo,e("common.save_failed"))})}finally{Te({done:Le+1,total:N.length})}}$>0&&await Jr()}finally{J(!1),Te(null)}if(le.length===0){pt.success(e("server.bulk.updated",{success:$,total:N.length})),he(!1),pe(new Set);return}const ze=le[0];ie(e("server.bulk.failed_one",{id:ze.id,message:ze.message})),pt.error(e("server.bulk.partial_failed",{failed:le.length,total:N.length}))},ge=N=>{yn(""),Be(""),_t(!1),Bt(""),hr(!1),Pr(""),Un([{start:"00:00",end:"23:59",rate:"1"}]);const E=Dp(N),D=N==="shadowsocks"?qF(E):E,$=xt(D==null?void 0:D.tls),le=xt(D==null?void 0:D.obfs),ze=xt(D==null?void 0:D.bandwidth);if(N==="shadowsocks"){const Le=String((D==null?void 0:D.cipher)||"").trim(),Pt=Le?gN.includes(Le):!0;qt(Pt?"preset":"custom")}else qt("preset");if(N==="anytls"){const Le=D==null?void 0:D.padding_scheme,Pt=Array.isArray(Le)?Le.map(Ve=>String(Ve??"").trim()):[],ct=Pt.length===Qo.length&&Pt.every((Ve,At)=>Ve===Qo[At]);ae(ct?"default":"custom")}else ae("default");fn({type:N,node_id:"",name:"",host:"",port:"443",server_port:"443",rate:"1",show:!0,parent_id:"null",group_ids:[],route_ids:[],tagsText:"",protocolSettingsText:JSON.stringify(D,null,2),rate_time_enable:!1,hy_version:String((D==null?void 0:D.version)??2),hy_obfs_enabled:!!le.open,hy_obfs_type:String(le.type||"salamander"),hy_obfs_password:String(le.password||""),hy_sni:String($.server_name||""),hy_up_mbps:eu(ze.up),hy_down_mbps:eu(ze.down),hy_hop_interval:String((D==null?void 0:D.hop_interval)??30)}),yi(!0)},ye=N=>{yn(""),Be(""),_t(!1),Bt(""),hr(!1),Pr("");const E=N.type||"vmess",D=Wl(N.protocol_settings)??Dp(E),$=E==="shadowsocks"?qF(D):D,le=xt($==null?void 0:$.tls),ze=xt($==null?void 0:$.obfs),Le=xt($==null?void 0:$.bandwidth);if(E==="shadowsocks"){const ct=String(($==null?void 0:$.cipher)||"").trim(),Ve=ct?gN.includes(ct):!0;qt(Ve?"preset":"custom")}else qt("preset");if(E==="anytls"){const ct=$==null?void 0:$.padding_scheme,Ve=Array.isArray(ct)?ct.map(Et=>String(Et??"").trim()):[],At=Ve.length===Qo.length&&Ve.every((Et,tn)=>Et===Qo[tn]);ae(At?"default":"custom")}else ae("default");const Pt=Array.isArray(N.rate_time_ranges)?N.rate_time_ranges:[];Un(Pt.length?Pt.map(ct=>({start:String((ct==null?void 0:ct.start)||"00:00"),end:String((ct==null?void 0:ct.end)||"23:59"),rate:String((ct==null?void 0:ct.rate)??1)})):[{start:"00:00",end:"23:59",rate:"1"}]),fn({id:N.id,type:E,node_id:eu(N.code??N.node_id),name:N.name||"",host:N.host||"",port:String(N.port??""),server_port:String(N.server_port??""),rate:String(N.rate??1),show:!!N.show,parent_id:N.parent_id===null||N.parent_id===void 0?"null":String(N.parent_id),group_ids:Uh(N.group_ids),route_ids:Uh(N.route_ids),tagsText:(N.tags||[]).join(", "),protocolSettingsText:JSON.stringify($,null,2),rate_time_enable:!!N.rate_time_enable,hy_version:String(($==null?void 0:$.version)??2),hy_obfs_enabled:!!ze.open,hy_obfs_type:String(ze.type||"salamander"),hy_obfs_password:String(ze.password||""),hy_sni:String(le.server_name||""),hy_up_mbps:eu(Le.up),hy_down_mbps:eu(Le.down),hy_hop_interval:String(($==null?void 0:$.hop_interval)??30)}),yi(!0)},Ie=async()=>{if(ws)return;if(yn(""),!qe.name.trim())return yn(e("server.validation.name_required"));if(!qe.host.trim())return yn(e("server.validation.host_required"));if(!qe.port.trim())return yn(e("server.validation.port_required"));if(!qe.server_port.trim())return yn(e("server.validation.server_port_required"));const N=Number(qe.rate);if(!Number.isFinite(N)||N<=0)return yn(e("server.validation.rate_required"));let E;try{if(E=HJ(qe.protocolSettingsText)??{},E&&typeof E!="object")return yn(e("server.validation.protocol_settings_invalid"))}catch{return yn(e("server.validation.protocol_settings_invalid"))}if(qe.type==="hysteria"){const Ve=xt(E),At=Number(qe.hy_version);if(![1,2].includes(At))return yn(e("server.validation.hy_version_invalid"));const Et=Number(qe.hy_hop_interval);if(!Number.isFinite(Et)||!Number.isInteger(Et)||Et<=0)return yn(e("server.validation.hy_hop_interval_invalid"));const tn=qe.hy_up_mbps.trim(),Fn=qe.hy_down_mbps.trim();if(tn){const Gs=Number(tn);if(!Number.isFinite(Gs)||!Number.isInteger(Gs)||Gs<=0)return yn(e("server.validation.hy_up_mbps_invalid"))}if(Fn){const Gs=Number(Fn);if(!Number.isFinite(Gs)||!Number.isInteger(Gs)||Gs<=0)return yn(e("server.validation.hy_down_mbps_invalid"))}const jr=qe.hy_sni.trim(),Ys=qe.hy_obfs_enabled,$o=qe.hy_obfs_type.trim()||"salamander",$l=qe.hy_obfs_password.trim();if(Ys&&!$l)return yn(e("server.validation.hy_obfs_password_required"));const Fo={...xt(Ve.tls),server_name:jr};"allow_insecure"in Fo||(Fo.allow_insecure=!1);const xi={...xt(Ve.obfs),open:Ys};Ys?(xi.type=$o,xi.password=$l):(delete xi.type,delete xi.password);const Ss={...xt(Ve.bandwidth)};tn?Ss.up=Number(tn):Ss.up=null,Fn?Ss.down=Number(Fn):Ss.down=null,E={...Ve,version:At,tls:Fo,obfs:xi,hop_interval:Et,bandwidth:Ss}}let D;if(qe.rate_time_enable){if(!Er.length)return yn(e("server.validation.rate_time_ranges_invalid"));const Ve=Er.map(Et=>({start:Et.start.trim(),end:Et.end.trim(),rate:Number(Et.rate)}));if(Ve.some(Et=>!Et.start||!Et.end||!Number.isFinite(Et.rate)||Et.rate<=0))return yn(e("server.validation.rate_time_ranges_invalid"));D=Ve}const $=qe.tagsText.trim()?qe.tagsText.split(/[,\n]/g).map(Ve=>Ve.trim()).filter(Boolean):void 0;let le=null;if(qe.parent_id!=="null"){const Ve=Number(qe.parent_id);if(!Number.isFinite(Ve)||!Number.isInteger(Ve)||Ve<=0||qe.id&&Ve===qe.id)return yn(e("server.validation.parent_id_invalid"));const At=Nt.find(Et=>Et.id===Ve);if(!At||At.type!==qe.type)return yn(e("server.validation.parent_id_invalid"));le=Ve}const ze=qe.node_id.trim();let Le=null;if(ze){const Ve=Number(ze);if(!Number.isFinite(Ve)||!Number.isInteger(Ve)||Ve<=0)return yn(e("server.validation.node_id_invalid"));Le=Ve}const Pt=Le?String(Le):null,ct={id:qe.id,node_id:Le,code:Pt,type:qe.type,name:qe.name.trim(),host:qe.host.trim(),port:qe.port.trim(),server_port:Number(qe.server_port),rate:N,show:qe.show?1:0,parent_id:le,group_ids:qe.group_ids.map(String),route_ids:qe.route_ids.map(String),tags:$,protocol_settings:E,rate_time_enable:qe.rate_time_enable,rate_time_ranges:D};Us(!0),x(null);try{const Ve=await Vl.save(ct);if(Ve.data.status!=="success")throw new Error(Ve.data.message||"request failed");x({tone:"success",text:e("server.saved")}),yi(!1),await Jr()}catch(Ve){yn(Jc(Ve,e("common.save_failed"))),console.error(Ve)}finally{Us(!1)}},Je=async N=>{if(!i){s(N.id),x(null);try{const E=await Vl.update({id:N.id,show:N.show?0:1});if(E.data.status!=="success")throw new Error(E.data.message||"request failed");await Jr()}catch(E){x({tone:"error",text:Jc(E,e("common.save_failed"))}),console.error(E)}finally{s(null)}}},Ze=async N=>{if(i||!await t({title:e("common.delete"),description:e("server.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(N),x(null);const D=Nt;vt($=>$.filter(le=>le.id!==N));try{const $=await Vl.drop(N);if($.data.status!=="success")throw new Error($.data.message||"request failed");pt.success(e("server.deleted"))}catch($){vt(D),x({tone:"error",text:Jc($,e("common.save_failed"))}),console.error($)}finally{s(null)}},Ge=async N=>{if(!i){s(N),x(null);try{const E=await Vl.copy(N);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");pt.success(e("server.copied")),await Jr()}catch(E){x({tone:"error",text:Jc(E,e("common.save_failed"))}),console.error(E)}finally{s(null)}}},Qe=f.useCallback(async()=>{if(!g.current){g.current=!0;try{const E=(await Gn.fetch("server")).data.data.server||{};p.current=String(E.server_token||"").trim()}catch(N){console.error(N)}finally{g.current=!1}}},[]),it=f.useCallback(async N=>{if(a===null){l(N.id);try{const E=p.current;if(!E){g.current?pt.info(e("common.loading")):pt.error(e("system.v2node_docker_missing_token")),Qe();return}const $=String(localStorage.getItem("xboard_v2node_api_host")??"").trim()||d6(),le=String(localStorage.getItem("xboard_v2node_tls_cert_url")??"").trim(),ze=String(localStorage.getItem("xboard_v2node_tls_key_url")??"").trim(),Le=!!(le&&ze);if(!Le&&(le||ze)){pt.error(e("system.v2node_docker_tls_url_invalid"));return}const Pt=eu((N==null?void 0:N.code)??(N==null?void 0:N.node_id))||String(N.id),ct=String(localStorage.getItem("app_name")||"Xboard").trim()||"Xboard",Ve=bQ(ct,{toneType:"none",nonZh:"consecutive",separator:"_",v:!0}),At=pN(Ve)||"xboard",Et=pN(N.type),tn=pN(Pt),jr=["v2node",Et,tn,At].filter(Boolean).join("_").replace(/_+/g,"_"),$o=[`docker run -d --name ${jr.length>128?jr.slice(0,128):jr} --restart unless-stopped --network host \\`,`  -e V2NODE_API_HOST=${Ap($)} \\`,`  -e V2NODE_NODE_ID=${Ap(Pt)} \\`,`  -e V2NODE_API_KEY=${Ap(E)} \\`,'  -e V2NODE_TIMEOUT="15" \\'];Le&&($o.push(`  -e V2NODE_TLS_CERT_URL=${Ap(le)} \\`),$o.push(`  -e V2NODE_TLS_KEY_URL=${Ap(ze)} \\`)),$o.push("  ghcr.io/studycloud111/v2node:main");const $l=$o.join(`
`),Fo=String(localStorage.getItem("xboard_v2node_other_command")??"").trimEnd(),xi=[];Fo.trim()&&xi.push(Fo.trimEnd()),xi.push($l.trimEnd());const Ss=Wl(N.protocol_settings),Gs=Number((Ss==null?void 0:Ss.version)??2);if(N.type==="hysteria"&&Gs===2){const FA=Hqe(N);FA&&xi.push(FA.trimEnd())}const Bo=xi.filter(Boolean).join(`
`),ik=await GO(Bo);ik.ok&&ik.method==="clipboard"?pt.success(e("server.install_command_copied")):ik.ok?(pt.info(e("server.install_command_copied_fallback")),h(Bo),u(!0)):(pt.error(e("common.copy_failed")),h(Bo),u(!0))}catch(E){console.error(E),pt.error(Jc(E,e("common.copy_failed")))}finally{l(null)}}},[a,Qe,e]);f.useEffect(()=>{Qe()},[Qe]);const pn=f.useMemo(()=>{const N=new Map;for(const E of Mt)N.set(String(E.id),E.name);return N},[Mt]),ti=f.useMemo(()=>{const N=new Map;for(const E of vn)N.set(String(E.id),E.remarks||String(E.id));return N},[vn]),Xn=f.useMemo(()=>{const N=Gt.trim().toLowerCase();return N?Mt.filter(E=>E.name.toLowerCase().includes(N)||String(E.id).includes(N)):Mt},[Mt,Gt]),_r=f.useMemo(()=>{const N=Lr.trim().toLowerCase();return N?vn.filter(E=>(E.remarks||"").toLowerCase().includes(N)||String(E.id).includes(N)):vn},[vn,Lr]),Ks=f.useMemo(()=>{const N=je.trim().toLowerCase();return N?Mt.filter(E=>E.name.toLowerCase().includes(N)||String(E.id).includes(N)):Mt},[Mt,je]),ka=f.useMemo(()=>{const N=et.trim().toLowerCase();return N?vn.filter(E=>(E.remarks||"").toLowerCase().includes(N)||String(E.id).includes(N)):vn},[vn,et]),js=(N,E)=>{if(N.is_online===1)return E>0?"bg-emerald-500":"bg-yellow-500";if(N.is_online===0)return"bg-red-500";const D=String(N.available_status||"").toLowerCase();return D.includes("online")||D.includes("available")?E>0?"bg-emerald-500":"bg-yellow-500":"bg-red-500"},wt=f.useMemo(()=>Wl(qe.protocolSettingsText),[qe.protocolSettingsText]),wr=f.useMemo(()=>qe.protocolSettingsText.trim()!==""&&wt===null,[qe.protocolSettingsText,wt]),ep=f.useMemo(()=>{const N=qe.type;return N==="vmess"||N==="vless"||N==="trojan"||N==="shadowsocks"||N==="hysteria"||N==="tuic"||N==="anytls"},[qe.type]),mt=f.useCallback(N=>{fn(E=>{const $={...Wl(E.protocolSettingsText)??Dp(E.type)};return N($),{...E,protocolSettingsText:JSON.stringify($,null,2)}})},[]),Ll=f.useCallback(N=>{if(wr||!wt)return null;const E=xt(wt.tls_settings),$=String(E.cert_mode??"").trim()||"file",le=String(E.reject_unknown_sni??"0").trim()==="1",ze=`${N}-cert-file`,Le=`${N}-key-file`,Pt=`${N}-dns-provider`,ct=`${N}-dns-env`;return o.jsxs("div",{className:"grid gap-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.v2node.tls_cert_title")}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.v2node.cert_mode")}),o.jsxs(st,{value:$,onValueChange:Ve=>mt(At=>{const Et=Ve==="dns"||Ve==="http"||Ve==="self"?Ve:"file",tn={...xt(At.tls_settings)};tn.cert_mode=Et,At.tls_settings=tn}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"file",children:e("server.v2node.cert_mode_file")}),o.jsx(de,{value:"dns",children:e("server.v2node.cert_mode_dns")}),o.jsx(de,{value:"http",children:e("server.v2node.cert_mode_http")}),o.jsx(de,{value:"self",children:e("server.v2node.cert_mode_self")})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[o.jsx("div",{className:"break-words text-sm font-medium",children:e("server.v2node.reject_unknown_sni")}),o.jsx("div",{className:"break-words text-xs text-muted-foreground",children:e("server.v2node.reject_unknown_sni_hint")})]}),o.jsx(Dt,{className:"shrink-0",checked:le,onCheckedChange:Ve=>mt(At=>{const Et={...xt(At.tls_settings)};Et.reject_unknown_sni=Ve?"1":"0",At.tls_settings=Et})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:ze,children:e("server.v2node.cert_file")}),o.jsx(G,{id:ze,value:String(E.cert_file??""),onChange:Ve=>{const At=Ve.target.value;mt(Et=>{const tn={...xt(Et.tls_settings)},Fn=At.trim();Fn?tn.cert_file=Fn:delete tn.cert_file,Et.tls_settings=tn})},placeholder:"/etc/v2node/{protocol}{nodeid}.cer"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Le,children:e("server.v2node.key_file")}),o.jsx(G,{id:Le,value:String(E.key_file??""),onChange:Ve=>{const At=Ve.target.value;mt(Et=>{const tn={...xt(Et.tls_settings)},Fn=At.trim();Fn?tn.key_file=Fn:delete tn.key_file,Et.tls_settings=tn})},placeholder:"/etc/v2node/{protocol}{nodeid}.key"})]})]}),$==="dns"?o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:Pt,children:e("server.v2node.provider")}),o.jsx(G,{id:Pt,value:String(E.provider??""),onChange:Ve=>{const At=Ve.target.value;mt(Et=>{const tn={...xt(Et.tls_settings)},Fn=At.trim();Fn?tn.provider=Fn:delete tn.provider,Et.tls_settings=tn})},placeholder:"cloudflare"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:ct,children:e("server.v2node.dns_env")}),o.jsx(xr,{id:ct,value:String(E.dns_env??""),onChange:Ve=>{const At=Ve.target.value;mt(Et=>{const tn={...xt(Et.tls_settings)},Fn=At.trim();Fn?tn.dns_env=Fn:delete tn.dns_env,Et.tls_settings=tn})},placeholder:"CF_DNS_API_TOKEN=xxx,CF_ZONE_API_TOKEN=yyy",className:"min-h-[88px]"})]})]}):null]})},[mt,wt,wr,e]),Ht=f.useCallback(()=>{Be("");const N=Gqe(8);mt(E=>{const D={...xt(E.reality_settings??E.tls_settings)};D.short_id=N,E.reality_settings=D})},[mt]),oo=f.useCallback(()=>{Be("");try{const{privateKey:N,publicKey:E}=Wqe(),D=$F(E).replace(/=+$/g,""),$=$F(N).replace(/=+$/g,"");mt(le=>{const ze={...xt(le.reality_settings??le.tls_settings)};ze.public_key=D,ze.private_key=$,le.reality_settings=ze})}catch(N){Be(e("server.vless.key_pair_error")),console.error(N)}},[mt,e]),Xi=f.useCallback(()=>{sr("");const N=xt(wt==null?void 0:wt.network_settings);Vt(JSON.stringify(N,null,2)),ft(!0)},[wt]),Hx=f.useCallback(()=>{sr("");const N=Wt.trim();let E={};if(N)try{E=JSON.parse(N)}catch{sr(e("server.network_settings.validation.invalid_json"));return}if(!E||typeof E!="object"||Array.isArray(E)){sr(e("server.network_settings.validation.must_be_object"));return}mt(D=>{D.network_settings=E}),ft(!1)},[Wt,mt,e]),Jt=f.useMemo(()=>{if(qe.type!=="shadowsocks"||wt===null)return null;const N=wt.cipher,E=typeof N=="string"?N:N==null?"":String(N),D=wt.plugin;let $=typeof D=="string"?D:D==null?"":String(D);$=$.trim(),($==="obfs-local"||$==="simple-obfs")&&($="obfs");const le=wt.obfs,ze=typeof le=="string"?le:le==null?"":String(le),Le=$||(String(ze).trim()?"obfs":""),Pt=wt.plugin_opts,ct=typeof Pt=="string"?Pt:Pt==null?"":String(Pt),Ve=Pa(ct),At=xt(wt.obfs_settings),Et=String(Ve.obfs||ze||"http").trim()||"http",tn=String(Ve["obfs-host"]??At.host??"").trim(),Fn=String(Ve.path??At.path??"").trim(),jr=String(Ve.mode||"websocket").trim()||"websocket",Ys=String(Ve.host||"").trim(),$o=String(Ve.path||(jr.toLowerCase()==="websocket"?"/":"")).trim(),$l=String(Ve.tls||"").trim().toLowerCase(),Fo=$l==="true"||$l==="1",xi=xt(wt.network_settings),Ss=!!xi.acceptProxyProtocol,Gs=String(xi.Host??xi.host??"").trim(),Yx=String(xi.path??"").trim();return{cipher:E.trim(),plugin:Le,pluginOpts:ct,obfsMode:Et,obfsHost:tn,obfsPath:Fn,v2rayMode:jr,v2rayHost:Ys,v2rayPath:$o,v2rayTls:Fo,v2nodeAcceptProxyProtocol:Ss,v2nodeHttpHost:Gs,v2nodeHttpPath:Yx}},[qe.type,wt]),Th=f.useMemo(()=>Array.from(gN),[]),Kx=f.useMemo(()=>{var le;const N=(le=Fe==null?void 0:Fe.shadowsocks)!=null&&le.plugins&&Fe.shadowsocks.plugins.length?Fe.shadowsocks.plugins:["none","obfs","v2ray-plugin"],E=new Set;for(const ze of N){const Le=String(ze||"").trim();Le&&E.add(Le)}E.add("none");for(const ze of Nt){if(ze.type!=="shadowsocks")continue;const Le=Wl(ze.protocol_settings);let Pt=typeof(Le==null?void 0:Le.plugin)=="string"?String(Le.plugin).trim():"";(Pt==="obfs-local"||Pt==="simple-obfs")&&(Pt="obfs"),E.add(Pt||"none")}const D=String((Jt==null?void 0:Jt.plugin)||"").trim();E.add(D||"none");const $=Array.from(E).filter(Boolean);return $.sort((ze,Le)=>ze==="none"?-1:Le==="none"?1:ze.localeCompare(Le)),$},[Nt,Fe,Jt==null?void 0:Jt.plugin]),Zi=f.useMemo(()=>{var le;const N=(le=Fe==null?void 0:Fe.shadowsocks)!=null&&le.obfs_modes&&Fe.shadowsocks.obfs_modes.length?Fe.shadowsocks.obfs_modes:["http","tls"],E=[],D=new Set,$=ze=>{const Le=String(ze||"").trim();!Le||D.has(Le)||(D.add(Le),E.push(Le))};for(const ze of N)$(ze);return $(Jt==null?void 0:Jt.obfsMode),E},[Fe,Jt==null?void 0:Jt.obfsMode]),tee=f.useMemo(()=>{var le;const N=(le=Fe==null?void 0:Fe.shadowsocks)!=null&&le.v2ray_modes&&Fe.shadowsocks.v2ray_modes.length?Fe.shadowsocks.v2ray_modes:["websocket","quic"],E=[],D=new Set,$=ze=>{const Le=String(ze||"").trim();!Le||D.has(Le)||(D.add(Le),E.push(Le))};for(const ze of N)$(ze);return $(Jt==null?void 0:Jt.v2rayMode),E},[Fe,Jt==null?void 0:Jt.v2rayMode]),Ji=f.useMemo(()=>{if(qe.type!=="vmess"||wt===null)return null;const N=Number.isFinite(Number(wt.tls))?Number(wt.tls):0,E=wt.network;let D=typeof E=="string"?E:E==null?"":String(E);D=D.trim()||"tcp",D.toLowerCase()==="websocket"&&(D="ws");const $=xt(wt.tls_settings);return{tls:N,network:D,tlsSettings:$}},[qe.type,wt]),Hc=f.useMemo(()=>{if(qe.type!=="tuic"||wt===null)return null;const N=Number.isFinite(Number(wt.version))?Number(wt.version):5,E=xt(wt.tls),D=!!wt.zero_rtt_handshake,$=wt.congestion_control,ze=(typeof $=="string"?$.trim():$==null?"":String($).trim()).toLowerCase().replace(/[\s-]+/g,"_"),Le=ze==="bbr"?"bbr":ze==="cubic"?"cubic":ze==="new_reno"||ze==="newreno"?"new_reno":"",Pt=wt.udp_relay_mode,Ve=(typeof Pt=="string"?Pt.trim():Pt==null?"":String(Pt).trim()).toLowerCase(),At=Ve==="quic"?"quic":Ve==="native"?"native":"",Et=wt.alpn,tn=Array.isArray(Et)?Et:Et?[Et]:[],jr=String(tn[0]??"").trim().toLowerCase().replace(/\s+/g,"");return{version:N===4?4:5,congestionControl:Le||"cubic",udpRelayMode:At||"native",alpn:(jr==="http/1.1"||jr==="http1.1"?"http/1.1":jr==="h2"||jr==="http/2"||jr==="http2"?"h2":jr==="h3"||jr==="http/3"||jr==="http3"?"h3":"")||"h3",zeroRttHandshake:D,tls:E}},[qe.type,wt]),tp=f.useMemo(()=>{if(qe.type!=="anytls"||wt===null)return null;const N=xt(wt.tls),E=wt.network;let D=typeof E=="string"?E:E==null?"":String(E);D=D.trim()||"tcp",D.toLowerCase()==="websocket"&&(D="ws");const $=xt(wt.network_settings),le=wt.padding_scheme,ze=Array.isArray(le)?le.map(Le=>String(Le??"").trim()).filter(Boolean):le?[String(le).trim()].filter(Boolean):[];return{tls:N,network:D,networkSettings:$,scheme:ze.length?ze:[...Qo]}},[qe.type,wt]),Qt=f.useMemo(()=>{if(qe.type!=="vless"||wt===null)return null;const N=Number.isFinite(Number(wt.tls))?Number(wt.tls):0,E=String(wt.network||"tcp"),D=wt.flow,$=typeof D=="string"?D:D==null?"":String(D),le=wt.client_fingerprint,ze=typeof le=="string"?le.trim():le==null?"":String(le).trim(),Le=xt(wt.tls_settings),Pt=wt.encryption,ct=typeof Pt=="string"?Pt.trim():Pt==null?"":String(Pt).trim(),Ve=xt(wt.encryption_settings),At=N===2?wt.reality_settings??wt.tls_settings:wt.reality_settings,Et=xt(At);return{tls:N,network:E,flow:$,clientFingerprint:ze,tlsSettings:Le,encryption:ct,encryptionSettings:Ve,realitySettings:Et}},[qe.type,wt]),ks=f.useMemo(()=>{if(qe.type!=="trojan"||wt===null)return null;const N=String(wt.network||"tcp"),E=wt.server_name,D=typeof E=="string"?E:E==null?"":String(E),$=!!wt.allow_insecure;return{network:N,serverName:D,allowInsecure:$}},[qe.type,wt]),nee=f.useMemo(()=>{const N=[],E=new Set,D=$=>{const le=String($||"").trim();!le||E.has(le)||(E.add(le),N.push(le))};for(const $ of BF)D($);for(const $ of Nt){if($.type!=="trojan")continue;const le=Wl($.protocol_settings),ze=typeof(le==null?void 0:le.network)=="string"?String(le.network).trim():"";D(ze)}return D(ks==null?void 0:ks.network),N},[Nt,ks==null?void 0:ks.network]),ree=f.useMemo(()=>{const N=[],E=new Set,D=$=>{const le=String($||"").trim();!le||E.has(le)||(E.add(le),N.push(le))};for(const $ of Zqe)D($);return D(Ji==null?void 0:Ji.network),N},[Ji==null?void 0:Ji.network]),iee=f.useMemo(()=>{var le;const N=(le=Fe==null?void 0:Fe.vless)!=null&&le.networkOptions&&Fe.vless.networkOptions.length?Fe.vless.networkOptions:BF,E=[],D=new Set,$=ze=>{const Le=String(ze||"").trim();!Le||D.has(Le)||(D.add(Le),E.push(Le))};for(const ze of N)$(ze);for(const ze of Nt){if(ze.type!=="vless")continue;const Le=Wl(ze.protocol_settings),Pt=typeof(Le==null?void 0:Le.network)=="string"?String(Le.network).trim():"";$(Pt)}return $(Qt==null?void 0:Qt.network),E},[Nt,Fe,Qt==null?void 0:Qt.network]),see=f.useMemo(()=>{var le;const N=(le=Fe==null?void 0:Fe.vless)!=null&&le.flowOptions&&Fe.vless.flowOptions.length?Fe.vless.flowOptions:Qqe,E=new Set(N.map(ze=>String(ze)));E.add("none");for(const ze of Nt){if(ze.type!=="vless")continue;const Le=Wl(ze.protocol_settings),Pt=typeof(Le==null?void 0:Le.flow)=="string"?String(Le.flow).trim():"";Pt&&E.add(Pt)}const D=String((Qt==null?void 0:Qt.flow)||"").trim();D&&E.add(D);const $=Array.from(E);return $.sort((ze,Le)=>{const Pt=ze.toLowerCase(),ct=Le.toLowerCase();return Pt==="none"?-1:ct==="none"?1:Pt.localeCompare(ct)}),$},[Nt,Fe,Qt==null?void 0:Qt.flow]),RA=N=>eu((N==null?void 0:N.code)??(N==null?void 0:N.node_id)),aee=N=>RA(N)||String(N.id),IA=N=>N.parent_id===null||N.parent_id===void 0?String(N.id):`${N.id}---${N.parent_id}`,LA=N=>{const E=aee(N);if(N.parent_id===null||N.parent_id===void 0)return E;const D=(N==null?void 0:N.parent)||Nt.find(le=>le.id===N.parent_id),$=RA(D)||String(N.parent_id);return`${E}---${$}`},$A=qe.type==="vless"?(Qt==null?void 0:Qt.network)||"tcp":qe.type==="trojan"?(ks==null?void 0:ks.network)||"tcp":qe.type==="vmess"&&(Ji==null?void 0:Ji.network)||"tcp";return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:te("flex flex-col gap-3 md:flex-row md:items-center md:flex-1",A&&"opacity-60"),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:v,onChange:N=>{w(N.target.value),O(1)},placeholder:e("server.search_placeholder"),className:"h-9 pl-9",disabled:A})]}),o.jsxs(st,{value:b,onValueChange:N=>{j(N),O(1)},disabled:A,children:[o.jsx(nt,{className:"h-9 w-[180px]",children:o.jsx(at,{placeholder:e("server.type_filter")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("server.type_all")}),FF.map(N=>o.jsx(de,{value:N.value,children:o.jsx("span",{className:te("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",zp[N.value].className),children:zp[N.value].label})},N.value))]})]}),o.jsxs(st,{value:_,onValueChange:N=>{k(N),O(1)},disabled:A,children:[o.jsx(nt,{className:"h-9 w-[180px]",children:o.jsx(at,{placeholder:e("server.table.group")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("server.table.group")}),Mt.map(N=>o.jsx(de,{value:String(N.id),children:N.name},N.id))]})]})]}),o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:A?o.jsxs(o.Fragment,{children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:Ph,disabled:K,children:e("server.sort_cancel")}),o.jsx(B,{size:"sm",className:"h-9",onClick:Ai,disabled:K||!ja,children:e(K?"common.saving":"server.sort_save")})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs(B,{size:"sm",className:"h-9",children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("server.add")]})}),o.jsx(fa,{align:"start",children:FF.map(N=>o.jsx(an,{onClick:()=>ge(N.value),children:o.jsx("span",{className:te("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",zp[N.value].className),children:N.label})},N.value))})]}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:Jr,disabled:n,children:o.jsx(gn,{className:te("h-4 w-4",n&&"animate-spin")})}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:$n,disabled:n||ei.length<2,children:e("server.sort")}),ee.size?o.jsx(B,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>pe(new Set),"aria-label":e("server.bulk.clear_selection"),title:e("server.bulk.clear_selection"),children:o.jsx(Bd,{className:"h-4 w-4"})}):null,o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:I,disabled:ee.size===0,children:[e("server.bulk.open"),ee.size?` (${ee.size})`:""]})]})})]}),y&&o.jsx("div",{className:te("text-sm",y.tone==="success"?"text-green-600":"text-red-600"),children:y.text}),A&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:qc.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("server.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:A?o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[200px]",children:e("server.sort_column")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("server.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[240px]",children:e("server.table.group")})]}):o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 w-[44px]",children:o.jsx(Hn,{checked:Oh,onCheckedChange:N=>Wc(N===!0)})}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("server.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("server.table.enable")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.address")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("server.table.online")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("server.table.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("server.table.group")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[96px]",children:e("server.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:qc.map((N,E)=>{var Pt,ct;const D=i===N.id,$=`${N.host}:${N.port}`,le=Number(N.online??0),ze=(N.groups||[]).map(Ve=>Ve.name).filter(Boolean).length>0?(N.groups||[]).map(Ve=>Ve.name).filter(Boolean):Uh(N.group_ids).map(Ve=>pn.get(Ve)||Ve),Le=js(N,le);if(A){const Ve=E;return o.jsxs("tr",{className:te("hover:bg-muted/30",(q==null?void 0:q.id)===N.id&&"bg-primary/5",z===N.id&&"opacity-60"),onDragOver:At=>nd(At,N.id),onDrop:At=>rd(At,N.id),onDragLeave:()=>{Y(At=>(At==null?void 0:At.id)===N.id?null:At)},children:[o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:te("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",K?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!K,onDragStart:At=>td(At,N.id),onDragEnd:Rl,"aria-label":"Drag",children:o.jsx(Zy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Ve+1}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Eh(N.id),disabled:K||Ve<=0,"aria-label":"Top",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Dl(N.id),disabled:K||Ve<=0,"aria-label":"Up",children:o.jsx(bh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Hs(N.id),disabled:K||Ve>=F.length-1,"aria-label":"Down",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ed(N.id),disabled:K||Ve>=F.length-1,"aria-label":"Bottom",children:o.jsx(Qy,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium tabular-nums",((Pt=zp[N.type])==null?void 0:Pt.className)||"border-border/70"),title:IA(N),children:LA(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:te("h-2 w-2 rounded-full",Le)}),o.jsx("span",{className:"truncate font-medium text-foreground",children:N.name})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:ze.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:ze.map((At,Et)=>o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:At},`${At}-${Et}`))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})]},N.id)}return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Ve=>Me.openMenu(Ve,N),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Hn,{checked:ee.has(N.id),onCheckedChange:Ve=>pe(At=>{const Et=new Set(At);return Ve===!0?Et.add(N.id):Et.delete(N.id),Et})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium tabular-nums",((ct=zp[N.type])==null?void 0:ct.className)||"border-border/70"),title:IA(N),children:LA(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!N.show,disabled:D,onCheckedChange:()=>Je(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:te("h-2 w-2 rounded-full",Le)}),o.jsx("div",{className:"min-w-0",children:o.jsx("div",{className:"truncate font-medium text-foreground",title:N.name,children:N.name})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"truncate text-sm text-foreground tabular-nums",title:$,children:$}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.backend_port",{port:N.server_port??"-"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(tm,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:le})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:[Number(N.rate??1).toFixed(2)," x"]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:ze.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:ze.map((Ve,At)=>o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:Ve},`${Ve}-${At}`))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:D,children:o.jsx(H6,{className:"h-4 w-4"})})}),o.jsxs(fa,{align:"end",children:[o.jsxs(an,{onSelect:()=>ye(N),children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),o.jsxs(an,{onSelect:()=>it(N),disabled:D||a!==null,children:[o.jsx(GD,{className:"h-4 w-4 mr-2"}),e("server.copy_install_command")]}),o.jsxs(an,{onSelect:()=>Ge(N.id),children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("server.copy")]}),o.jsx(ns,{}),o.jsxs(an,{className:"text-destructive focus:text-destructive",onSelect:()=>Ze(N.id),children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]})]})]})})]},N.id)})})]})})})}),!A&&o.jsx(us,{page:C,total:so,pageSize:M,onPageChange:N=>O(N),onPageSizeChange:N=>{P(N),O(1)},loading:n}),o.jsx(un,{open:c,onOpenChange:u,children:o.jsxs(on,{className:"sm:max-w-[860px]",children:[o.jsxs(dn,{children:[o.jsx(hn,{children:e("server.install_command_preview_title")}),o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.install_command_preview_desc")})]}),o.jsx(xr,{ref:m,value:d,readOnly:!0,className:"min-h-[360px] font-mono text-xs"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),children:e("common.close")}),o.jsx(B,{type:"button",onClick:async()=>{(await GO(d)).ok?pt.success(e("server.install_command_copied")):pt.error(e("common.copy_failed"))},disabled:!d.trim(),children:e("common.copy")})]})]})}),o.jsx(un,{open:se,onOpenChange:N=>{Pe||(he(N),N||(ie(""),Te(null),Ke(""),tt("")))},children:o.jsxs(on,{className:"sm:max-w-[760px]",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("server.bulk.title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.bulk.selected",{count:ee.size})}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Hn,{checked:fe,onCheckedChange:N=>X(N===!0),disabled:Pe}),o.jsx("span",{children:e("server.fields.rate")})]}),o.jsx(G,{type:"number",min:0,step:"0.1",value:ke,onChange:N=>Q(N.target.value),disabled:!fe||Pe,className:"h-9",placeholder:"1"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Hn,{checked:Se,onCheckedChange:N=>re(N===!0),disabled:Pe}),o.jsx("span",{children:e("server.bulk.rate_time")})]}),Se?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-muted/20 p-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.fields.rate_time_enable")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.rate_time_ranges_hint")})]}),o.jsx(Dt,{checked:Ne,onCheckedChange:N=>{Oe(N),N&&xe.length===0&&Vc()},disabled:Pe})]}),Ne?o.jsxs("div",{className:"rounded-md border border-border/70 bg-muted/20 p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rules")}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:Vc,disabled:Pe,children:e("server.rate_time_add")})]}),o.jsx("div",{className:"mt-3 grid gap-3",children:xe.map((N,E)=>o.jsxs("div",{className:"rounded-md border border-border/70 bg-background p-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rule",{index:E+1})}),xe.length>1?o.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>S(E),disabled:Pe,"aria-label":e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})}):null]}),o.jsxs("div",{className:"mt-2 grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx(Z,{children:e("server.rate_time_start")}),o.jsx(G,{value:N.start,onChange:D=>Il(E,"start",D.target.value),disabled:Pe,className:"h-9",placeholder:"00:00"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx(Z,{children:e("server.rate_time_end")}),o.jsx(G,{value:N.end,onChange:D=>Il(E,"end",D.target.value),disabled:Pe,className:"h-9",placeholder:"23:59"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx(Z,{children:e("server.rate_time_rate")}),o.jsx(G,{type:"number",min:0,step:"0.1",value:N.rate,onChange:D=>Il(E,"rate",D.target.value),disabled:Pe,className:"h-9",placeholder:e("server.rate_time_rate_placeholder")})]})]})]},E))})]}):null]}):null]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Hn,{checked:H,onCheckedChange:N=>Ce(N===!0),disabled:Pe}),o.jsx("span",{children:e("server.fields.group_ids")})]}),H?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(G,{value:je,onChange:N=>Ke(N.target.value),disabled:Pe,className:"h-9",placeholder:e("common.search")}),o.jsx("div",{className:"max-h-[240px] overflow-auto rounded-md border border-border/70 bg-background",children:Ks.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:e("common.command_empty")}):Ks.map(N=>{const E=String(N.id),D=$e.includes(E);return o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted/30",children:[o.jsx(Hn,{checked:D,onCheckedChange:$=>ne(le=>{const ze=new Set(le);return $===!0?ze.add(E):ze.delete(E),Array.from(ze)}),disabled:Pe}),o.jsx("span",{className:"min-w-0 truncate",children:N.name}),o.jsxs("span",{className:"ml-auto text-xs text-muted-foreground tabular-nums",children:["#",E]})]},E)})}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>ne(Mt.map(N=>String(N.id))),disabled:Pe||Mt.length===0,children:e("common.select_all")}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>ne([]),disabled:Pe,children:e("server.bulk.clear")})]})]}):null]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Hn,{checked:oe,onCheckedChange:N=>U(N===!0),disabled:Pe}),o.jsx("span",{children:e("server.fields.route_ids")})]}),oe?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(G,{value:et,onChange:N=>tt(N.target.value),disabled:Pe,className:"h-9",placeholder:e("common.search")}),o.jsx("div",{className:"max-h-[240px] overflow-auto rounded-md border border-border/70 bg-background",children:ka.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:e("common.command_empty")}):ka.map(N=>{const E=String(N.id),D=be.includes(E),$=N.remarks||E;return o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted/30",children:[o.jsx(Hn,{checked:D,onCheckedChange:le=>We(ze=>{const Le=new Set(ze);return le===!0?Le.add(E):Le.delete(E),Array.from(Le)}),disabled:Pe}),o.jsx("span",{className:"min-w-0 truncate",children:$}),o.jsxs("span",{className:"ml-auto text-xs text-muted-foreground tabular-nums",children:["#",E]})]},E)})}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>We(vn.map(N=>String(N.id))),disabled:Pe||vn.length===0,children:e("common.select_all")}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>We([]),disabled:Pe,children:e("server.bulk.clear")})]})]}):null]}),Re?o.jsx("div",{className:"text-sm text-red-600",children:Re}):null,Ee?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.bulk.progress",{done:Ee.done,total:Ee.total})}):null,o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",onClick:()=>he(!1),disabled:Pe,children:e("common.cancel")}),o.jsx(B,{type:"button",onClick:ue,disabled:Pe,children:e(Pe?"common.saving":"server.bulk.apply")})]})]})]})}),o.jsx(un,{open:gi,onOpenChange:yi,children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:qe.id?e("server.edit_title"):e("server.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-name",children:e("server.fields.name")}),o.jsx(G,{id:"server-name",value:qe.name,onChange:N=>fn(E=>({...E,name:N.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-rate",children:e("server.fields.rate")}),o.jsx(G,{id:"server-rate",type:"number",min:0,step:"0.1",value:qe.rate,onChange:N=>fn(E=>({...E,rate:N.target.value})),placeholder:"1"})]})]}),o.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.rate_time_desc")})]}),o.jsx(Dt,{checked:qe.rate_time_enable,onCheckedChange:N=>{fn(E=>({...E,rate_time_enable:N})),N&&Er.length===0&&id()}})]})}),qe.rate_time_enable?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rules")}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-8",onClick:id,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("server.rate_time_add")]})]}),o.jsx("div",{className:"mt-3 space-y-3",children:Er.map((N,E)=>o.jsxs("div",{className:"rounded-lg border border-border/70 bg-card p-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rule",{index:E+1})}),o.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>Mh(E),"aria-label":e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.rate_time_start")}),o.jsx(G,{type:"time",value:N.start,onChange:D=>Uc(E,"start",D.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.rate_time_end")}),o.jsx(G,{type:"time",value:N.end,onChange:D=>Uc(E,"end",D.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.rate_time_rate")}),o.jsx(G,{type:"number",min:0,step:"0.1",value:N.rate,onChange:D=>Uc(E,"rate",D.target.value),placeholder:e("server.rate_time_rate_placeholder")})]})]})]},`${N.start}-${N.end}-${E}`))}),o.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:e("server.fields.rate_time_ranges_hint")})]}):null,o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-tags",children:e("server.fields.tags")}),o.jsx(G,{id:"server-tags",value:qe.tagsText,onChange:N=>fn(E=>({...E,tagsText:N.target.value})),placeholder:"tag1, tag2"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.fields.group_ids")}),o.jsxs(wl,{open:Tt,onOpenChange:N=>{_t(N),N||Bt("")},children:[o.jsx(jl,{asChild:!0,children:o.jsx("div",{className:te("min-h-9 w-full cursor-text rounded-md border border-border/70 bg-background px-3 py-2 text-sm shadow-sm transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"),onMouseDown:N=>{var E;N.button===0&&(N.preventDefault(),(E=Ye.current)==null||E.focus(),_t(!0))},children:o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[qe.group_ids.map(N=>o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:[o.jsx("span",{className:"max-w-[180px] truncate",children:pn.get(N)||N}),o.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-full hover:bg-muted/40",onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onClick:E=>{E.preventDefault(),E.stopPropagation(),fn(D=>({...D,group_ids:D.group_ids.filter($=>$!==N)}))},"aria-label":e("common.remove"),title:e("common.remove"),children:o.jsx(Bd,{className:"h-3 w-3"})})]},N)),o.jsx("input",{ref:Ye,value:Gt,onChange:N=>{Bt(N.target.value),Tt||_t(!0)},onFocus:()=>_t(!0),onMouseDown:N=>{N.stopPropagation()},onKeyDown:N=>{if(N.key==="Escape"){_t(!1),Bt(""),N.preventDefault(),N.stopPropagation();return}(N.key==="Backspace"||N.key==="Delete")&&!Gt&&(fn(E=>E.group_ids.length?{...E,group_ids:E.group_ids.slice(0,-1)}:E),N.preventDefault())},className:"min-w-[96px] flex-1 bg-transparent p-0 text-sm outline-none placeholder:text-muted-foreground",placeholder:qe.group_ids.length?"":e("server.fields.group_ids_placeholder")})]})})}),o.jsx(Mo,{align:"start",className:"w-[320px] p-1",onOpenAutoFocus:N=>{var E;N.preventDefault(),(E=Ye.current)==null||E.focus()},onCloseAutoFocus:N=>{N.preventDefault()},children:o.jsx("div",{className:"max-h-[60vh] overflow-auto p-1",children:Mt.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"-"}):Xn.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:e("common.command_empty")}):Xn.map(N=>{const E=String(N.id),D=qe.group_ids.includes(E);return o.jsxs("button",{type:"button",className:te("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm hover:bg-muted/40",D&&"bg-muted/20"),onMouseDown:$=>{$.preventDefault()},onClick:()=>fn($=>{const le=new Set($.group_ids);return le.has(E)?le.delete(E):le.add(E),{...$,group_ids:Array.from(le)}}),children:[o.jsx(Hn,{checked:D,className:"pointer-events-none"}),o.jsxs("span",{className:"flex w-full items-center justify-between gap-2",children:[o.jsx("span",{className:"truncate",children:N.name}),o.jsxs("span",{className:"shrink-0 text-xs text-muted-foreground tabular-nums",children:["ID: ",N.id]})]})]},N.id)})})})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.group_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.fields.route_ids")}),o.jsxs(wl,{open:Ln,onOpenChange:N=>{hr(N),N||Pr("")},children:[o.jsx(jl,{asChild:!0,children:o.jsx("div",{className:te("min-h-9 w-full cursor-text rounded-md border border-border/70 bg-background px-3 py-2 text-sm shadow-sm transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"),onMouseDown:N=>{var E;N.button===0&&(N.preventDefault(),(E=kn.current)==null||E.focus(),hr(!0))},children:o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[qe.route_ids.map(N=>o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:[o.jsx("span",{className:"max-w-[180px] truncate",children:ti.get(N)||N}),o.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-full hover:bg-muted/40",onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onClick:E=>{E.preventDefault(),E.stopPropagation(),fn(D=>({...D,route_ids:D.route_ids.filter($=>$!==N)}))},"aria-label":e("common.remove"),title:e("common.remove"),children:o.jsx(Bd,{className:"h-3 w-3"})})]},N)),o.jsx("input",{ref:kn,value:Lr,onChange:N=>{Pr(N.target.value),Ln||hr(!0)},onFocus:()=>hr(!0),onMouseDown:N=>{N.stopPropagation()},onKeyDown:N=>{if(N.key==="Escape"){hr(!1),Pr(""),N.preventDefault(),N.stopPropagation();return}(N.key==="Backspace"||N.key==="Delete")&&!Lr&&(fn(E=>E.route_ids.length?{...E,route_ids:E.route_ids.slice(0,-1)}:E),N.preventDefault())},className:"min-w-[96px] flex-1 bg-transparent p-0 text-sm outline-none placeholder:text-muted-foreground",placeholder:qe.route_ids.length?"":e("server.fields.route_ids_placeholder")})]})})}),o.jsx(Mo,{align:"start",className:"w-[320px] p-1",onOpenAutoFocus:N=>{var E;N.preventDefault(),(E=kn.current)==null||E.focus()},onCloseAutoFocus:N=>{N.preventDefault()},children:o.jsx("div",{className:"max-h-[60vh] overflow-auto p-1",children:vn.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"-"}):_r.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:e("common.command_empty")}):_r.map(N=>{const E=String(N.id),D=qe.route_ids.includes(E);return o.jsxs("button",{type:"button",className:te("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm hover:bg-muted/40",D&&"bg-muted/20"),onMouseDown:$=>{$.preventDefault()},onClick:()=>fn($=>{const le=new Set($.route_ids);return le.has(E)?le.delete(E):le.add(E),{...$,route_ids:Array.from(le)}}),children:[o.jsx(Hn,{checked:D,className:"pointer-events-none"}),o.jsxs("span",{className:"flex w-full items-center justify-between gap-2",children:[o.jsx("span",{className:"truncate",children:N.remarks||"-"}),o.jsxs("span",{className:"shrink-0 text-xs text-muted-foreground tabular-nums",children:["ID: ",N.id]})]})]},N.id)})})})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.route_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-host",children:e("server.fields.host")}),o.jsx(G,{id:"server-host",value:qe.host,onChange:N=>fn(E=>({...E,host:N.target.value})),placeholder:"1.2.3.4"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-port",children:e("server.fields.port")}),o.jsx(G,{id:"server-port",value:qe.port,onChange:N=>fn(E=>({...E,port:N.target.value})),placeholder:"443  10000-20000"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-server-port",children:e("server.fields.server_port")}),o.jsx(G,{id:"server-server-port",type:"number",value:qe.server_port,onChange:N=>fn(E=>({...E,server_port:N.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.fields.parent_id")}),o.jsxs(st,{value:qe.parent_id,onValueChange:N=>fn(E=>({...E,parent_id:N})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.fields.parent_id_placeholder")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:e("server.fields.parent_id_none")}),Nt.filter(N=>N.type===qe.type&&N.id!==qe.id).sort((N,E)=>N.id-E.id).map(N=>o.jsxs(de,{value:String(N.id),children:[N.name," (ID: ",N.id,")"]},N.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"server-node-id",children:e("server.fields.node_id")}),o.jsx(G,{id:"server-node-id",type:"number",min:0,step:1,value:qe.node_id,onChange:N=>fn(E=>({...E,node_id:N.target.value})),placeholder:e("server.fields.node_id_placeholder")})]})]}),ep?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.reporting.title")}),wr||!wt?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"node-report-min-traffic",children:e("server.v2node.node_report_min_traffic")}),o.jsx(G,{id:"node-report-min-traffic",type:"number",min:0,step:1,value:LF(wt.node_report_min_traffic),onChange:N=>{const E=N.target.value;mt(D=>{const $=E.trim();if(!$){delete D.node_report_min_traffic;return}const le=Number($);!Number.isFinite(le)||le<0||(D.node_report_min_traffic=Math.trunc(le))})},placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.v2node.node_report_min_traffic_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"device-online-min-traffic",children:e("server.v2node.device_online_min_traffic")}),o.jsx(G,{id:"device-online-min-traffic",type:"number",min:0,step:1,value:LF(wt.device_online_min_traffic),onChange:N=>{const E=N.target.value;mt(D=>{const $=E.trim();if(!$){delete D.device_online_min_traffic;return}const le=Number($);!Number.isFinite(le)||le<0||(D.device_online_min_traffic=Math.trunc(le))})},placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.v2node.device_online_min_traffic_hint")})]})]})]}):null,qe.type==="shadowsocks"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.title")}),wr||!Jt?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.shadowsocks.cipher")}),o.jsxs(st,{value:(()=>{if(ht==="custom")return"__custom__";const N=String(Jt.cipher||"").trim();return Th.includes(N)?N:Th[0]})(),onValueChange:N=>{if(N==="__custom__"){qt("custom");return}qt("preset"),mt(E=>{E.cipher=N})},children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.shadowsocks.cipher_placeholder")})}),o.jsxs(rt,{children:[Th.map(N=>o.jsx(de,{value:N,children:N},N)),o.jsx(de,{value:"__custom__",children:e("server.shadowsocks.cipher_custom")})]})]}),ht==="custom"?o.jsx(G,{value:Jt.cipher,onChange:N=>{const E=N.target.value;mt(D=>{D.cipher=E})},onBlur:N=>{const E=N.target.value.trim();mt(D=>{D.cipher=E})},placeholder:e("server.shadowsocks.cipher_placeholder")}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.shadowsocks.plugin")}),o.jsxs(st,{value:(()=>{const N=String(Jt.plugin||"").trim();return N||"none"})(),onValueChange:N=>mt(E=>{if(N==="none"){delete E.plugin,delete E.plugin_opts,delete E.obfs,delete E.obfs_settings;return}E.plugin=N;const D=Pa(E.plugin_opts);if(N==="obfs"){const $=String(D.obfs||E.obfs||"http").trim()||"http";D.obfs=$,E.obfs=$;const le={...xt(E.obfs_settings)},ze=String(D["obfs-host"]??le.host??"").trim(),Le=String(D.path??le.path??"").trim();ze?(D["obfs-host"]=ze,le.host=ze):(delete D["obfs-host"],delete le.host),Le?(D.path=Le,le.path=Le):(delete D.path,delete le.path),E.obfs_settings=Object.keys(le).length?le:null,E.plugin_opts=Zs(D,["obfs","obfs-host","path"])||null;return}if(N==="v2ray-plugin"){const $=String(D.mode||"websocket").trim()||"websocket";D.mode=$,!String(D.path||"").trim()&&$.toLowerCase()==="websocket"&&(D.path="/");const le=String(D.tls||"").trim().toLowerCase();le==="true"||le==="1"?D.tls="true":delete D.tls,E.plugin_opts=Zs(D,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings}}),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.shadowsocks.plugin_placeholder")})}),o.jsx(rt,{children:Kx.map(N=>o.jsx(de,{value:N,children:N==="none"?e("server.shadowsocks.plugin_none"):N==="obfs"?e("server.shadowsocks.plugin_obfs"):N==="v2ray-plugin"?e("server.shadowsocks.plugin_v2ray"):N},N))})]})]})]}),String(Jt.plugin||"").trim()==="obfs"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.obfs_title")}),o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.shadowsocks.obfs_mode")}),o.jsxs(st,{value:Jt.obfsMode,onValueChange:N=>mt(E=>{E.plugin="obfs";const D=Pa(E.plugin_opts);D.obfs=N,E.obfs=N,E.plugin_opts=Zs(D,["obfs","obfs-host","path"])||null}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:Zi.map(N=>o.jsx(de,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-obfs-host",children:e("server.shadowsocks.obfs_host")}),o.jsx(G,{id:"ss-obfs-host",value:Jt.obfsHost,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="obfs";const $=Pa(D.plugin_opts),le={...xt(D.obfs_settings)},ze=E.trim();ze?($["obfs-host"]=ze,le.host=ze):(delete $["obfs-host"],delete le.host),D.obfs_settings=Object.keys(le).length?le:null,D.plugin_opts=Zs($,["obfs","obfs-host","path"])||null})},placeholder:"www.bing.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-obfs-path",children:e("server.shadowsocks.obfs_path")}),o.jsx(G,{id:"ss-obfs-path",value:Jt.obfsPath,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="obfs";const $=Pa(D.plugin_opts),le={...xt(D.obfs_settings)},ze=E.trim();ze?($.path=ze,le.path=ze):(delete $.path,delete le.path),D.obfs_settings=Object.keys(le).length?le:null,D.plugin_opts=Zs($,["obfs","obfs-host","path"])||null})},placeholder:"/"})]})]}),o.jsxs("div",{className:"mt-4 grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-plugin-opts-obfs",children:e("server.shadowsocks.plugin_opts")}),o.jsx(G,{id:"ss-plugin-opts-obfs",value:Jt.pluginOpts,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="obfs";const $=Pa(E),le=String($.obfs||D.obfs||"http").trim()||"http";$.obfs=le,D.obfs=le;const ze={...xt(D.obfs_settings)},Le=String($["obfs-host"]??ze.host??"").trim(),Pt=String($.path??ze.path??"").trim();Le?ze.host=Le:delete ze.host,Pt?ze.path=Pt:delete ze.path,D.obfs_settings=Object.keys(ze).length?ze:null,D.plugin_opts=Zs($,["obfs","obfs-host","path"])||null})},placeholder:e("server.shadowsocks.obfs_hint")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.obfs_hint")})]})]}):null,String(Jt.plugin||"").trim()==="v2ray-plugin"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2ray_title")}),o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.shadowsocks.v2ray_mode")}),o.jsxs(st,{value:Jt.v2rayMode,onValueChange:N=>mt(E=>{E.plugin="v2ray-plugin";const D=Pa(E.plugin_opts);D.mode=N,!String(D.path||"").trim()&&N.toLowerCase()==="websocket"&&(D.path="/"),E.plugin_opts=Zs(D,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:tee.map(N=>o.jsx(de,{value:N,children:N==="websocket"?e("server.shadowsocks.v2ray_mode_websocket"):N==="quic"?e("server.shadowsocks.v2ray_mode_quic"):N},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-v2ray-host",children:e("server.shadowsocks.v2ray_host")}),o.jsx(G,{id:"ss-v2ray-host",value:Jt.v2rayHost,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="v2ray-plugin";const $=Pa(D.plugin_opts),le=E.trim();le?$.host=le:delete $.host,D.plugin_opts=Zs($,["mode","host","path","tls"])||null,delete D.obfs,delete D.obfs_settings})},placeholder:"mydomain.me"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-v2ray-path",children:e("server.shadowsocks.v2ray_path")}),o.jsx(G,{id:"ss-v2ray-path",value:Jt.v2rayPath,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="v2ray-plugin";const $=Pa(D.plugin_opts),le=E.trim();le?$.path=le:delete $.path,!$.path&&String($.mode||"").toLowerCase()==="websocket"&&($.path="/"),D.plugin_opts=Zs($,["mode","host","path","tls"])||null,delete D.obfs,delete D.obfs_settings})},placeholder:"/"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2ray_tls")})}),o.jsx(Dt,{checked:Jt.v2rayTls,onCheckedChange:N=>mt(E=>{E.plugin="v2ray-plugin";const D=Pa(E.plugin_opts);N?D.tls="true":delete D.tls,E.plugin_opts=Zs(D,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings})})]})]}),o.jsxs("div",{className:"mt-4 grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-plugin-opts-v2ray",children:e("server.shadowsocks.plugin_opts")}),o.jsx(G,{id:"ss-plugin-opts-v2ray",value:Jt.pluginOpts,onChange:N=>{const E=N.target.value;mt(D=>{D.plugin="v2ray-plugin";const $=Pa(E),le=String($.mode||"websocket").trim()||"websocket";$.mode=le;const ze=String($.tls||"").trim().toLowerCase();ze==="true"||ze==="1"?$.tls="true":delete $.tls,!$.path&&le.toLowerCase()==="websocket"&&($.path="/"),D.plugin_opts=Zs($,["mode","host","path","tls"])||null,delete D.obfs,delete D.obfs_settings})},placeholder:e("server.shadowsocks.v2ray_hint")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.v2ray_hint")})]})]}):null,(()=>{const N=String(Jt.plugin||"").trim();return!N||N==="obfs"||N==="v2ray-plugin"?null:o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.plugin_opts")}),o.jsx("div",{className:"mt-3 grid gap-2",children:o.jsx(G,{value:Jt.pluginOpts,onChange:E=>{const D=E.target.value;mt($=>{$.plugin=N,$.plugin_opts=D.trim()?D:null})},placeholder:e("server.shadowsocks.plugin_opts_placeholder")})})]})})(),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2node_network_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2node_accept_proxy_protocol")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.v2node_accept_proxy_protocol_hint")})]}),o.jsx(Dt,{checked:Jt.v2nodeAcceptProxyProtocol,onCheckedChange:N=>mt(E=>{const D={...xt(E.network_settings)};N?D.acceptProxyProtocol=!0:delete D.acceptProxyProtocol,Object.keys(D).length?E.network_settings=D:delete E.network_settings})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-v2node-http-host",children:e("server.shadowsocks.v2node_http_host")}),o.jsx(G,{id:"ss-v2node-http-host",value:Jt.v2nodeHttpHost,onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.network_settings)},le=E.trim();le?$.Host=le:(delete $.Host,delete $.host),Object.keys($).length?D.network_settings=$:delete D.network_settings})},placeholder:"www.example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"ss-v2node-http-path",children:e("server.shadowsocks.v2node_http_path")}),o.jsx(G,{id:"ss-v2node-http-path",value:Jt.v2nodeHttpPath,onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.network_settings)},le=E.trim();le?$.path=le:delete $.path,Object.keys($).length?D.network_settings=$:delete D.network_settings})},placeholder:"/"})]})]})]})]})]})]}):null,qe.type==="vmess"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.title")}),wr||!Ji?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vmess.security")}),o.jsxs(st,{value:String(Ji.tls),onValueChange:N=>{const E=Number(N);mt(D=>{if(D.tls=Number.isFinite(E)?E:0,D.network||(D.network="tcp"),D.tls===0){delete D.tls_settings;return}const $={...xt(D.tls_settings)};"server_name"in $||($.server_name=""),"allow_insecure"in $||($.allow_insecure=!1),D.tls_settings=$})},children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.vmess.security")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("server.vmess.security_none")}),o.jsx(de,{value:"1",children:e("server.vmess.security_tls")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vmess.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(st,{value:Ji.network,onValueChange:N=>mt(E=>{E.network=N;const D=xt(E.network_settings);if(!Object.keys(D).length){const $=xb(N);$&&(E.network_settings=$)}}),children:[o.jsx(nt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(rt,{children:ree.map(N=>o.jsx(de,{value:N,children:N==="ws"?"websocket":N},N))})]}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",onClick:Xi,children:e("server.network_settings.edit_protocol")})]})]})]}),Ji.tls===1?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vmess-tls-sni",children:e("server.vmess.sni")}),o.jsx(G,{id:"vmess-tls-sni",value:String(Ji.tlsSettings.server_name||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.tls_settings)};$.server_name=E,"allow_insecure"in $||($.allow_insecure=!1),D.tls_settings=$})},placeholder:e("server.vmess.sni_placeholder")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.allow_insecure")})}),o.jsx(Dt,{checked:!!Ji.tlsSettings.allow_insecure,onCheckedChange:N=>mt(E=>{const D={...xt(E.tls_settings)};D.allow_insecure=N,"server_name"in D||(D.server_name=""),E.tls_settings=D})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Ll("vmess-tls")})]})]}):null]})]}):null,qe.type==="tuic"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.title")}),wr||!Hc?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.tuic.version")}),o.jsxs(st,{value:String(Hc.version),onValueChange:N=>mt(E=>{const D=Number(N);E.version=D===4?4:5}),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.tuic.version")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"5",children:e("server.tuic.version_v5")}),o.jsx(de,{value:"4",children:e("server.tuic.version_v4")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.tuic.congestion_control")}),o.jsxs(st,{value:Hc.congestionControl,onValueChange:N=>mt(E=>{E.congestion_control=N}),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.tuic.congestion_control")})}),o.jsx(rt,{children:t6e.map(N=>o.jsx(de,{value:N,children:e(N==="bbr"?"server.tuic.congestion_control_bbr":N==="cubic"?"server.tuic.congestion_control_cubic":"server.tuic.congestion_control_new_reno")},N))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"tuic-sni",children:e("server.tuic.sni")}),o.jsx(G,{id:"tuic-sni",value:String(Hc.tls.server_name||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.tls)};$.server_name=E,"allow_insecure"in $||($.allow_insecure=!1),D.tls=$})},placeholder:e("server.tuic.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.sni_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.allow_insecure_hint")})]}),o.jsx(Dt,{checked:!!Hc.tls.allow_insecure,onCheckedChange:N=>mt(E=>{const D={...xt(E.tls)};D.allow_insecure=N,"server_name"in D||(D.server_name=""),E.tls=D})})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.zero_rtt_handshake")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.zero_rtt_handshake_hint")})]}),o.jsx(Dt,{checked:Hc.zeroRttHandshake,onCheckedChange:N=>mt(E=>{E.zero_rtt_handshake=N})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Ll("tuic-tls")})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.tuic.alpn")}),o.jsxs(st,{value:Hc.alpn,onValueChange:N=>mt(E=>{E.alpn=[N]}),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.tuic.alpn")})}),o.jsx(rt,{children:r6e.map(N=>o.jsx(de,{value:N,children:e(N==="http/1.1"?"server.tuic.alpn_http1":N==="h2"?"server.tuic.alpn_http2":"server.tuic.alpn_http3")},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.tuic.udp_relay_mode")}),o.jsxs(st,{value:Hc.udpRelayMode,onValueChange:N=>mt(E=>{E.udp_relay_mode=N}),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.tuic.udp_relay_mode")})}),o.jsx(rt,{children:n6e.map(N=>o.jsx(de,{value:N,children:e(N==="native"?"server.tuic.udp_relay_mode_native":"server.tuic.udp_relay_mode_quic")},N))})]})]})]})]})]}):null,qe.type==="anytls"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.title")}),wr||!tp?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.anytls.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(st,{value:tp.network,onValueChange:N=>mt(E=>{E.network=N;const D=xt(E.network_settings);if(!Object.keys(D).length){const $=xb(N);$&&(E.network_settings=$)}}),children:[o.jsx(nt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(rt,{children:Array.from(Jqe).map(N=>o.jsx(de,{value:N,children:N==="ws"?"websocket":N},N))})]}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",onClick:Xi,children:e("server.network_settings.edit_protocol")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.transport_hint")})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"anytls-sni",children:e("server.anytls.sni")}),o.jsx(G,{id:"anytls-sni",value:String(tp.tls.server_name||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.tls)};$.server_name=E,"allow_insecure"in $||($.allow_insecure=!1),D.tls=$})},placeholder:e("server.anytls.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.sni_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.allow_insecure_hint")})]}),o.jsx(Dt,{checked:!!tp.tls.allow_insecure,onCheckedChange:N=>mt(E=>{const D={...xt(E.tls)};D.allow_insecure=N,"server_name"in D||(D.server_name=""),E.tls=D})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Ll("anytls-tls")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.padding_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.padding_desc")})]}),o.jsxs(st,{value:Yt,onValueChange:N=>{const E=N==="custom"?"custom":"default";if(ae(E),E==="default"){mt(D=>{D.padding_scheme=[...Qo]});return}mt(D=>{const $=D.padding_scheme;(!Array.isArray($)||$.length===0)&&(D.padding_scheme=[...Qo])})},children:[o.jsx(nt,{className:"w-[200px]",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"default",children:e("server.anytls.padding_default")}),o.jsx(de,{value:"custom",children:e("server.anytls.padding_custom")})]})]})]}),o.jsxs("div",{className:"mt-3 grid gap-2",children:[o.jsx(xr,{value:(Yt==="default"?[...Qo]:tp.scheme).join(`
`),onChange:N=>{if(Yt!=="custom")return;const E=N.target.value.split(/\r?\n/).map(D=>D.trim()).filter(Boolean);mt(D=>{D.padding_scheme=E.length?E:[...Qo]})},disabled:Yt!=="custom",placeholder:e("server.anytls.padding_placeholder"),className:"min-h-[160px] font-mono text-xs"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.padding_hint")})]})]})]})]}):null,qe.type==="vless"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.title")}),wr||!Qt?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vless.security")}),o.jsxs(st,{value:String(Qt.tls),onValueChange:N=>{const E=Number(N);mt(D=>{if(D.tls=Number.isFinite(E)?E:0,D.network||(D.network="tcp"),D.tls===0){delete D.tls_settings,delete D.reality_settings;return}if(D.tls===1){const $={...xt(D.tls_settings)};delete $.public_key,delete $.private_key,delete $.short_id,delete $.server_port,"server_name"in $||($.server_name=""),"allow_insecure"in $||($.allow_insecure=!1),D.tls_settings=$,delete D.reality_settings;return}if(D.tls===2){const $={...xt(D.reality_settings??D.tls_settings)};"server_name"in $||($.server_name=""),"server_port"in $||($.server_port=443),"public_key"in $||($.public_key=""),"private_key"in $||($.private_key=""),"short_id"in $||($.short_id=""),"allow_insecure"in $||($.allow_insecure=!1),delete D.tls_settings,D.reality_settings=$}})},children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("server.vless.security_none")}),o.jsx(de,{value:"1",children:e("server.vless.security_tls")}),o.jsx(de,{value:"2",children:e("server.vless.security_reality")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vless.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(st,{value:Qt.network,onValueChange:N=>mt(E=>{E.network=N;const D=xt(E.network_settings);if(!Object.keys(D).length){const $=xb(N);$&&(E.network_settings=$)}}),children:[o.jsx(nt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(rt,{children:iee.map(N=>o.jsx(de,{value:N,children:N},N))})]}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",disabled:wr||!Qt,onClick:Xi,children:e("server.network_settings.edit_protocol")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vless.flow")}),o.jsxs(st,{value:(()=>{const N=String(Qt.flow||"").trim();return!N||N.toLowerCase()==="none"?"none":N})(),onValueChange:N=>mt(E=>{N==="none"?delete E.flow:E.flow=N}),children:[o.jsx(nt,{title:(()=>{const N=String(Qt.flow||"").trim();return!N||N.toLowerCase()==="none"?"none":N})(),children:o.jsx(at,{placeholder:e("server.vless.flow_placeholder")})}),o.jsx(rt,{children:see.map(N=>o.jsx(de,{value:N,title:N,children:N.toLowerCase()==="none"?e("server.vless.flow_none"):N},N))})]})]}),Qt.tls!==0?o.jsxs("div",{className:"grid gap-2 md:max-w-[320px]",children:[o.jsx(Z,{children:e("server.vless.client_fingerprint")}),o.jsxs(st,{value:Qt.clientFingerprint||"firefox",onValueChange:N=>mt(E=>{E.client_fingerprint=N}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:Array.from(Xqe).map(N=>o.jsx(de,{value:N,children:N},N))})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.client_fingerprint_hint")})]}):null,o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.encryption_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.vless.encryption")}),o.jsxs(st,{value:Qt.encryption?Qt.encryption:"none",onValueChange:N=>mt(E=>{if(N==="none"){delete E.encryption,delete E.encryption_settings;return}E.encryption=N;const D={...xt(E.encryption_settings)};"mode"in D||(D.mode=""),"ticket"in D||(D.ticket=""),"server_padding"in D||(D.server_padding=""),"private_key"in D||(D.private_key=""),E.encryption_settings=D}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"none",children:e("server.vless.encryption_none")}),o.jsx(de,{value:"mlkem768x25519plus",children:e("server.vless.encryption_mlkem768x25519plus")})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.encryption_hint")})]}),Qt.encryption?o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-encryption-mode",children:e("server.vless.encryption_mode")}),o.jsx(G,{id:"vless-encryption-mode",value:String(Qt.encryptionSettings.mode??""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.encryption_settings)};$.mode=E,D.encryption_settings=$})},placeholder:"mode"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-encryption-ticket",children:e("server.vless.encryption_ticket")}),o.jsx(G,{id:"vless-encryption-ticket",value:String(Qt.encryptionSettings.ticket??""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.encryption_settings)};$.ticket=E,D.encryption_settings=$})},placeholder:"ticket"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-encryption-server-padding",children:e("server.vless.encryption_server_padding")}),o.jsx(G,{id:"vless-encryption-server-padding",value:String(Qt.encryptionSettings.server_padding??""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.encryption_settings)};$.server_padding=E,D.encryption_settings=$})},placeholder:"server_padding"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-encryption-private-key",children:e("server.vless.encryption_private_key")}),o.jsx(G,{id:"vless-encryption-private-key",value:String(Qt.encryptionSettings.private_key??""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.encryption_settings)};$.private_key=E,D.encryption_settings=$})},placeholder:"private_key"})]})]})]}):null]})]}),Qt.tls===1?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-tls-sni",children:e("server.vless.sni")}),o.jsx(G,{id:"vless-tls-sni",value:String(Qt.tlsSettings.server_name||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.tls_settings)};$.server_name=E,"allow_insecure"in $||($.allow_insecure=!1),D.tls_settings=$})},placeholder:e("server.vless.sni_placeholder")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.allow_insecure")})}),o.jsx(Dt,{checked:!!Qt.tlsSettings.allow_insecure,onCheckedChange:N=>mt(E=>{const D={...xt(E.tls_settings)};D.allow_insecure=N,"server_name"in D||(D.server_name=""),E.tls_settings=D})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Ll("vless-tls")})]})]}):null,Qt.tls===2?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.reality_title")}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:oo,children:e("server.vless.key_pair_generate")})]}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-server-name",children:e("server.vless.reality_server_name")}),o.jsx(G,{id:"vless-reality-server-name",value:String(Qt.realitySettings.server_name||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)};$.server_name=E,"allow_insecure"in $||($.allow_insecure=!1),"server_port"in $||($.server_port=443),D.reality_settings=$})},placeholder:e("server.vless.reality_server_name_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-server-port",children:e("server.vless.reality_server_port")}),o.jsx(G,{id:"vless-reality-server-port",type:"number",min:1,step:1,value:String(Qt.realitySettings.server_port??443),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)},le=Number(E);$.server_port=Number.isFinite(le)&&le>0?Math.trunc(le):443,"allow_insecure"in $||($.allow_insecure=!1),"server_name"in $||($.server_name=""),D.reality_settings=$})}})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-dest",children:e("server.vless.reality_dest")}),o.jsx(G,{id:"vless-reality-dest",value:String(Qt.realitySettings.dest||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)},le=E.trim();le?$.dest=le:delete $.dest,D.reality_settings=$})},placeholder:String(Qt.realitySettings.server_name||"")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-xver",children:e("server.vless.reality_xver")}),o.jsx(G,{id:"vless-reality-xver",type:"number",min:0,step:1,value:String(Qt.realitySettings.xver??0),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)},le=Number(E);!Number.isFinite(le)||le<0||($.xver=String(Math.trunc(le)),D.reality_settings=$)})}})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-mldsa65-seed",children:e("server.vless.reality_mldsa65Seed")}),o.jsx(G,{id:"vless-reality-mldsa65-seed",value:String(Qt.realitySettings.mldsa65Seed||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)},le=E.trim();le?$.mldsa65Seed=le:delete $.mldsa65Seed,D.reality_settings=$})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-public-key",children:e("server.vless.reality_public_key")}),o.jsx(G,{id:"vless-reality-public-key",value:String(Qt.realitySettings.public_key||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)};$.public_key=E,D.reality_settings=$})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"vless-reality-private-key",children:e("server.vless.reality_private_key")}),o.jsx(G,{id:"vless-reality-private-key",value:String(Qt.realitySettings.private_key||""),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)};$.private_key=E,D.reality_settings=$})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(Z,{htmlFor:"vless-reality-short-id",children:e("server.vless.reality_short_id")}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:Ht,children:e("server.vless.short_id_generate")})]}),o.jsx(G,{id:"vless-reality-short-id",value:String(Qt.realitySettings.short_id||""),placeholder:e("server.vless.short_id_placeholder"),onChange:N=>{const E=N.target.value;mt(D=>{const $={...xt(D.reality_settings??D.tls_settings)};$.short_id=E,D.reality_settings=$})}}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.short_id_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.allow_insecure")})}),o.jsx(Dt,{checked:!!Qt.realitySettings.allow_insecure,onCheckedChange:N=>mt(E=>{const D={...xt(E.reality_settings??E.tls_settings)};D.allow_insecure=N,E.reality_settings=D})})]})]})]}):null,ce?o.jsx("div",{className:"text-sm text-red-600",children:ce}):null]})]}):null,qe.type==="trojan"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.trojan.title")}),wr||!ks?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-x-4",children:[o.jsx(Z,{className:"order-1 md:order-1",children:e("server.trojan.transport")}),o.jsx(Z,{className:"order-3 md:order-2",htmlFor:"trojan-sni",children:e("server.trojan.sni")}),o.jsx("div",{className:"order-2 md:order-3",children:o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(st,{value:ks.network,onValueChange:N=>mt(E=>{E.network=N;const D=xt(E.network_settings);if(!Object.keys(D).length){const $=xb(N);$&&(E.network_settings=$)}}),children:[o.jsx(nt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(rt,{children:nee.map(N=>o.jsx(de,{value:N,children:N},N))})]}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",disabled:wr||!ks,onClick:Xi,children:e("server.network_settings.edit_protocol")})]})}),o.jsxs("div",{className:"order-4 grid gap-2 md:order-4",children:[o.jsx(G,{id:"trojan-sni",value:ks.serverName,onChange:N=>{const E=N.target.value;mt(D=>{D.server_name=E,"allow_insecure"in D||(D.allow_insecure=!1)})},placeholder:e("server.trojan.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.trojan.sni_hint")})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.trojan.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.trojan.allow_insecure_hint")})]}),o.jsx(Dt,{checked:ks.allowInsecure,onCheckedChange:N=>mt(E=>{E.allow_insecure=N,"server_name"in E||(E.server_name="")})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Ll("trojan-tls")})]})]}):null,qe.type==="hysteria"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.hy.title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.hy.version")}),o.jsxs(st,{value:qe.hy_version,onValueChange:N=>fn(E=>({...E,hy_version:N})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("server.hy.version_placeholder")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"1",children:"v1"}),o.jsx(de,{value:"2",children:"v2"})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.hy.obfs_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.obfs_desc")})]}),o.jsx(Dt,{checked:qe.hy_obfs_enabled,onCheckedChange:N=>fn(E=>({...E,hy_obfs_enabled:N}))})]}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("server.hy.obfs_type")}),o.jsxs(st,{value:qe.hy_obfs_type,onValueChange:N=>fn(E=>({...E,hy_obfs_type:N})),disabled:!qe.hy_obfs_enabled,children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:o.jsx(de,{value:"salamander",children:"salamander"})})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"hy-obfs-password",children:e("server.hy.obfs_password")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(G,{id:"hy-obfs-password",value:qe.hy_obfs_password,onChange:N=>fn(E=>({...E,hy_obfs_password:N.target.value})),placeholder:e("server.hy.obfs_password_placeholder"),disabled:!qe.hy_obfs_enabled}),o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-9 shrink-0",onClick:()=>{const N=Kqe(16);fn(E=>({...E,hy_obfs_enabled:!0,hy_obfs_password:N}))},children:e("server.hy.obfs_password_generate")})]})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"hy-sni",children:e("server.hy.sni")}),o.jsx(G,{id:"hy-sni",value:qe.hy_sni,onChange:N=>fn(E=>({...E,hy_sni:N.target.value})),placeholder:e("server.hy.sni_placeholder")})]}),wr||!wt?o.jsx("div",{className:"text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsx("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:Ll("hy-tls")}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"hy-up",children:e("server.hy.up_mbps")}),o.jsx(G,{id:"hy-up",type:"number",min:0,step:1,value:qe.hy_up_mbps,onChange:N=>fn(E=>({...E,hy_up_mbps:N.target.value})),placeholder:e("server.hy.up_mbps_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.up_mbps_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"hy-down",children:e("server.hy.down_mbps")}),o.jsx(G,{id:"hy-down",type:"number",min:0,step:1,value:qe.hy_down_mbps,onChange:N=>fn(E=>({...E,hy_down_mbps:N.target.value})),placeholder:e("server.hy.down_mbps_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.down_mbps_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"hy-hop",children:e("server.hy.hop_interval")}),o.jsx(G,{id:"hy-hop",type:"number",min:1,step:1,value:qe.hy_hop_interval,onChange:N=>fn(E=>({...E,hy_hop_interval:N.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.hop_interval_hint")})]})]})]}):null]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[Vs&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:Vs}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>yi(!1),disabled:ws,children:e("common.cancel")}),o.jsx(B,{onClick:Ie,disabled:ws,children:e(ws?"common.saving":"common.save")})]})]})]})}),o.jsx(un,{open:jt,onOpenChange:ft,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("server.network_settings.edit_protocol_config")})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:iP($A).map(N=>o.jsx(B,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>{sr(""),Vt(JSON.stringify(N.value,null,2))},children:e("server.network_settings.use_template",{template:N.name})},N.name))}),o.jsx(AJ,{value:Wt,onChange:Vt,language:"json",height:320}),Zr?o.jsx("div",{className:"text-sm text-red-600",children:Zr}):o.jsx("div",{className:"text-xs text-muted-foreground",children:iP($A).length?e("server.network_settings.json_config_placeholder_with_template"):e("server.network_settings.json_config_placeholder")}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",onClick:()=>ft(!1),children:e("common.cancel")}),o.jsx(B,{type:"button",onClick:Hx,children:e("common.save")})]})]})]})}),o.jsx(os,{open:Me.open,onOpenChange:Me.setOpen,position:Me.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!Me.data||i===Me.data.id,onSelect:()=>{Me.data&&(Me.setOpen(!1),ye(Me.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(GD,{className:"h-4 w-4 mr-2"}),e("server.copy_install_command")]}),disabled:!Me.data||i===Me.data.id||a!==null,onSelect:()=>{Me.data&&(Me.setOpen(!1),it(Me.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("server.copy")]}),disabled:!Me.data||i===Me.data.id,onSelect:()=>{Me.data&&(Me.setOpen(!1),Ge(Me.data.id))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!Me.data||i===Me.data.id,onSelect:()=>{Me.data&&(Me.setOpen(!1),Ze(Me.data.id))}}]})]})}const yN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t};function s6e(){const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(1),[g,y]=f.useState(10),[x,v]=f.useState(!1),[w,b]=f.useState(!1),[j,_]=f.useState(""),[k,C]=f.useState({name:""}),O=ls(),M=f.useCallback(async()=>{r(!0),l(null);try{const T=await Lf.fetch();if(T.data.status!=="success")throw new Error(T.data.message||"request failed");u(T.data.data||[])}catch(T){u([]),l({tone:"error",text:yN(T,e("common.load_failed"))}),console.error(T)}finally{r(!1)}},[e]);f.useEffect(()=>{M()},[M]);const P=f.useMemo(()=>{const T=d.trim().toLowerCase();return c.filter(q=>T?String(q.id).includes(T)||(q.name||"").toLowerCase().includes(T):!0)},[c,d]),A=P.length,R=Math.max(1,Math.ceil(A/g)),F=Math.min(m,R),V=f.useMemo(()=>{const T=(F-1)*g;return P.slice(T,T+g)},[P,F,g]);f.useEffect(()=>{p(T=>Math.min(Math.max(1,T),R))},[R]);const K=()=>{C({name:""}),_(""),v(!0)},L=T=>{C({id:T.id,name:T.name||""}),_(""),v(!0)},W=async()=>{if(!w){if(_(""),!k.name.trim())return _(e("group.validation.name_required"));b(!0),l(null);try{const T=await Lf.save({id:k.id,name:k.name.trim()});if(T.data.status!=="success")throw new Error(T.data.message||"request failed");l({tone:"success",text:e("group.saved")}),v(!1),await M()}catch(T){_(yN(T,e("common.save_failed"))),console.error(T)}finally{b(!1)}}},z=async T=>{if(i||!await t({title:e("common.delete"),description:e("group.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(T),l(null);const Y=c;u(ee=>ee.filter(pe=>pe.id!==T));try{const ee=await Lf.drop(T);if(ee.data.status!=="success")throw new Error(ee.data.message||"request failed");pt.success(e("group.deleted"))}catch(ee){u(Y),l({tone:"error",text:yN(ee,e("common.save_failed"))}),console.error(ee)}finally{s(null)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:d,onChange:T=>{h(T.target.value),p(1)},placeholder:e("group.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:K,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("group.add")]}),o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:M,disabled:n,children:o.jsx(gn,{className:te("h-4 w-4",n&&"animate-spin")})})]})]}),a&&o.jsx("div",{className:te("text-sm",a.tone==="success"?"text-green-600":"text-red-600"),children:a.text}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:A===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("group.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("group.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("group.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("group.table.users")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("group.table.servers")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("group.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:V.map(T=>{const q=i===T.id;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Y=>O.openMenu(Y,T),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-md border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:T.id})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:T.name,children:T.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(tm,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:T.users_count??0})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rj,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:T.server_count??0})]})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:q,onClick:()=>L(T),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:q,onClick:()=>z(T.id),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},T.id)})})]})})})}),o.jsx(us,{page:m,total:A,pageSize:g,onPageChange:T=>p(T),onPageSizeChange:T=>{y(T),p(1)},loading:n}),o.jsx(un,{open:x,onOpenChange:v,children:o.jsxs(on,{className:"max-w-xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:k.id?e("group.edit_title"):e("group.create_title")})}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"group-name",children:e("group.fields.name")}),o.jsx(G,{id:"group-name",value:k.name,onChange:T=>C(q=>({...q,name:T.target.value}))})]}),j&&o.jsx("div",{className:"text-sm text-red-600",children:j}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>v(!1),disabled:w,children:e("common.cancel")}),o.jsx(B,{onClick:W,disabled:w,children:e(w?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:O.open,onOpenChange:O.setOpen,position:O.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!O.data||i===O.data.id,onSelect:()=>{O.data&&(O.setOpen(!1),L(O.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!O.data||i===O.data.id,onSelect:()=>{O.data&&(O.setOpen(!1),z(O.data.id))}}]})]})}const xN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},a6e=e=>e.split(/\n|,/g).map(t=>t.trim()).filter(Boolean),WF=["dns","route","route_ip","default_out"],vN=["route","route_ip","default_out"],o6e=(e,t)=>e(t==="protocol"?"route.fields.match_placeholder_protocol":t==="block_port"?"route.fields.match_placeholder_port":t==="route_ip"||t==="block_ip"?"route.fields.match_placeholder_ip":"route.fields.match_placeholder_domain");function l6e(){const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(1),[g,y]=f.useState(10),[x,v]=f.useState(!1),[w,b]=f.useState(!1),[j,_]=f.useState(""),k=ls(),[C,O]=f.useState({remarks:"",action:"block",action_value:"",matchText:""}),M=f.useCallback(async()=>{r(!0),l(null);try{const T=await r_.fetch();u(T.data.data||[]),p(1)}catch(T){u([]),l({tone:"error",text:xN(T,e("common.load_failed"))}),console.error(T)}finally{r(!1)}},[e]);f.useEffect(()=>{M()},[M]);const P=f.useMemo(()=>{const T=d.trim().toLowerCase();return c.filter(q=>!!(!T||String(q.id).includes(T)||(q.remarks||"").toLowerCase().includes(T)||(q.action||"").toLowerCase().includes(T)||(q.action_value||"").toLowerCase().includes(T)||(q.match||[]).some(Y=>(Y||"").toLowerCase().includes(T))))},[c,d]),A=P.length,R=Math.max(1,Math.ceil(A/g)),F=Math.min(m,R),V=f.useMemo(()=>{const T=(F-1)*g;return P.slice(T,T+g)},[P,F,g]);f.useEffect(()=>{p(T=>Math.min(Math.max(1,T),R))},[R]);const K=()=>{O({remarks:"",action:"block",action_value:"",matchText:""}),_(""),v(!0)},L=T=>{O({id:T.id,remarks:T.remarks||"",action:T.action,action_value:T.action_value||"",matchText:(T.match||[]).join(`
`)}),_(""),v(!0)},W=async()=>{if(w)return;if(_(""),!C.remarks.trim())return _(e("route.validation.remarks_required"));const T=C.action!=="default_out",q=a6e(C.matchText);if(T&&q.length===0)return _(e("route.validation.match_required"));const Y=WF.includes(C.action),ee=Y?C.action_value.trim():"";if(Y&&!ee)return _(e("route.validation.action_value_required"));b(!0),l(null);try{const pe={id:C.id,remarks:C.remarks.trim(),match:T?q:[],action:C.action,action_value:Y?ee:null},se=await r_.save(pe);if(se.data.status!=="success")throw new Error(se.data.message||"request failed");l({tone:"success",text:e("route.saved")}),v(!1),await M()}catch(pe){_(xN(pe,e("common.save_failed"))),console.error(pe)}finally{b(!1)}},z=async T=>{if(i||!await t({title:e("common.delete"),description:e("route.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(T),l(null);const Y=c;u(ee=>ee.filter(pe=>pe.id!==T));try{if(!(await r_.drop(T)).data.data)throw new Error("request failed");pt.success(e("route.deleted"))}catch(ee){u(Y),l({tone:"error",text:xN(ee,e("common.save_failed"))}),console.error(ee)}finally{s(null)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:d,onChange:T=>{h(T.target.value),p(1)},placeholder:e("route.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:K,disabled:n,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("route.add")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:M,disabled:n,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),a&&o.jsx("div",{className:te("text-sm",a.tone==="success"?"text-green-600":"text-red-600"),children:a.text}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:A===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("route.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[100px]",children:e("route.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("route.table.remarks")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("route.table.action")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("route.table.action_value")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[160px]",children:e("route.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:V.map(T=>{const q=i===T.id,Y=T.action==="dns"?e("route.action_dns"):T.action==="block_ip"?e("route.action_block_ip"):T.action==="block_port"?e("route.action_block_port"):T.action==="protocol"?e("route.action_protocol"):T.action==="route"?e("route.action_route"):T.action==="route_ip"?e("route.action_route_ip"):T.action==="default_out"?e("route.action_default_out"):e("route.action_block"),ee=T.action==="dns"?T.action_value||"":vN.includes(T.action)?T.action_value?e("route.action_value_configured"):"":e("route.action_block_value"),pe=T.action==="dns"?"blue":vN.includes(T.action)?"emerald":"red",se=Array.isArray(T.match)?T.match.length:0;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:he=>k.openMenu(he,T),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-md border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:T.id})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium text-foreground",title:T.remarks,children:T.remarks}),o.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:e("route.match_count",{count:se})})]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",pe==="blue"?"border-blue-200 bg-blue-50 text-blue-700":pe==="emerald"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-600"),children:Y})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium tabular-nums",pe==="blue"?"border-slate-200 bg-slate-50 text-slate-700":pe==="emerald"?"border-emerald-200/70 bg-emerald-50 text-emerald-700":"border-red-200/70 bg-red-50 text-red-600"),children:ee})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:q,onClick:()=>L(T),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:q,onClick:()=>z(T.id),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},T.id)})})]})})})}),o.jsx(us,{page:m,total:A,pageSize:g,onPageChange:T=>p(T),onPageSizeChange:T=>{y(T),p(1)},loading:n}),o.jsx(un,{open:x,onOpenChange:v,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:C.id?e("route.edit_title"):e("route.create_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"route-remarks",children:e("route.fields.remarks")}),o.jsx(G,{id:"route-remarks",value:C.remarks,onChange:T=>O(q=>({...q,remarks:T.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"route-action",children:e("route.fields.action")}),o.jsxs(st,{value:C.action,onValueChange:T=>O(q=>({...q,action:T})),children:[o.jsx(nt,{id:"route-action",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"block",children:e("route.action_block")}),o.jsx(de,{value:"block_ip",children:e("route.action_block_ip")}),o.jsx(de,{value:"block_port",children:e("route.action_block_port")}),o.jsx(de,{value:"protocol",children:e("route.action_protocol")}),o.jsx(de,{value:"dns",children:e("route.action_dns")}),o.jsx(de,{value:"route",children:e("route.action_route")}),o.jsx(de,{value:"route_ip",children:e("route.action_route_ip")}),o.jsx(de,{value:"default_out",children:e("route.action_default_out")})]})]})]}),WF.includes(C.action)&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"route-action-value",children:e("route.fields.action_value")}),vN.includes(C.action)?o.jsx(xr,{id:"route-action-value",value:C.action_value,onChange:T=>O(q=>({...q,action_value:T.target.value})),placeholder:e("route.fields.action_value_placeholder_outbound"),className:"min-h-[200px]"}):o.jsx(G,{id:"route-action-value",value:C.action_value,onChange:T=>O(q=>({...q,action_value:T.target.value})),placeholder:e("route.fields.action_value_placeholder_dns")})]}),C.action!=="default_out"&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"route-match",children:e("route.fields.match")}),o.jsx(xr,{id:"route-match",value:C.matchText,onChange:T=>O(q=>({...q,matchText:T.target.value})),placeholder:o6e(e,C.action),className:"min-h-[160px]"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("route.match_hint")})]})]}),j&&o.jsx("div",{className:"text-sm text-red-600",children:j}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>v(!1),disabled:w,children:e("common.cancel")}),o.jsx(B,{onClick:W,disabled:w,children:e(w?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:k.open,onOpenChange:k.setOpen,position:k.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!k.data||i===k.data.id,onSelect:()=>{k.data&&(k.setOpen(!1),L(k.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!k.data||i===k.data.id,onSelect:()=>{k.data&&(k.setOpen(!1),z(k.data.id))}}]})]})}const il={fetch:()=>De.get("/plan/fetch"),save:e=>De.post("/plan/save",e),drop:e=>De.post("/plan/drop",{id:e}),update:e=>De.post("/plan/update",e),sort:e=>De.post("/plan/sort",{ids:e})},Rp=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Vh=[{key:"monthly",labelKey:"plan.period.monthly"},{key:"quarterly",labelKey:"plan.period.quarterly"},{key:"half_yearly",labelKey:"plan.period.half_yearly"},{key:"yearly",labelKey:"plan.period.yearly"},{key:"two_yearly",labelKey:"plan.period.two_yearly"},{key:"three_yearly",labelKey:"plan.period.three_yearly"},{key:"onetime",labelKey:"plan.period.onetime"},{key:"reset_traffic",labelKey:"plan.period.reset_traffic"}],c6e=[{value:"null",labelKey:"plan.reset.follow_system"},{value:"0",labelKey:"plan.reset.first_day_month"},{value:"1",labelKey:"plan.reset.monthly"},{value:"2",labelKey:"plan.reset.never"},{value:"3",labelKey:"plan.reset.first_day_year"},{value:"4",labelKey:"plan.reset.yearly"}],u6e=e=>e.split(/[,\n]/g).map(t=>t.trim()).filter(Boolean);function d6e(){var je,Ke,oe;const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),c=ls(),[u,d]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState(!1),[y,x]=f.useState(!1),v=f.useRef([]),[w,b]=f.useState(null),[j,_]=f.useState(null),[k,C]=f.useState(""),[O,M]=f.useState(1),[P,A]=f.useState(10),[R,F]=f.useState(!1),[V,K]=f.useState(!1),[L,W]=f.useState(""),[z,T]=f.useState({name:"",content:"",group_id:"null",transfer_enable:"100",speed_limit:"",device_limit:"",capacity_limit:"",reset_traffic_method:"null",tagsText:"",prices:Object.fromEntries(Vh.map(U=>[U.key,""])),force_update:!1}),q=f.useCallback(async()=>{r(!0),l(null);try{const[U,be]=await Promise.all([il.fetch(),Lf.fetch()]);if(U.data.status!=="success")throw new Error(U.data.message||"request failed");be.data.status==="success"&&m(be.data.data||[]);const We=(U.data.data||[]).slice();We.sort((et,tt)=>{const Nt=Number.isFinite(et.sort)?Number(et.sort):null,vt=Number.isFinite(tt.sort)?Number(tt.sort):null;return Nt!==null&&vt!==null?Nt-vt:Nt!==null?-1:vt!==null?1:et.id-tt.id}),d(We),M(1)}catch(U){d([]),m([]),l({tone:"error",text:Rp(U,e("common.load_failed"))}),console.error(U)}finally{r(!1)}},[e]);f.useEffect(()=>{q()},[q]);const Y=f.useMemo(()=>{if(!p)return!1;const U=v.current;if(!U.length)return!1;const be=u.map(We=>We.id);return U.join(",")!==be.join(",")},[u,p]),ee=()=>{v.current=u.map(U=>U.id),g(!0),b(null),_(null),l(null)},pe=async()=>{v.current=[],g(!1),b(null),_(null),l(null),await q()},se=async()=>{if(!(y||!Y)){x(!0),l(null);try{const U=u.map(We=>We.id),be=await il.sort(U);if(be.data.status!=="success")throw new Error(be.data.message||"request failed");l({tone:"success",text:e("plan.sort_saved")}),v.current=[],g(!1),b(null),_(null),await q()}catch(U){l({tone:"error",text:Rp(U,e("common.save_failed"))}),console.error(U)}finally{x(!1)}}},he=(U,be)=>{d(We=>{const et=We.findIndex(Mt=>Mt.id===U);if(et<0)return We;const tt=We.slice(),[Nt]=tt.splice(et,1),vt=Math.max(0,Math.min(tt.length,be));return tt.splice(vt,0,Nt),tt})},Pe=U=>{const be=u.findIndex(We=>We.id===U);be<=0||he(U,be-1)},J=U=>{const be=u.findIndex(We=>We.id===U);be<0||be>=u.length-1||he(U,be+1)},Re=U=>he(U,0),ie=U=>he(U,u.length-1),Ee=(U,be)=>{if(!(!p||y)){b(be),_(null);try{U.dataTransfer.effectAllowed="move",U.dataTransfer.setData("text/plain",String(be))}catch{}}},Te=()=>{b(null),_(null)},fe=(U,be)=>{var tt,Nt;if(!p||y||w===null||w===be)return;U.preventDefault();try{U.dataTransfer.dropEffect="move"}catch{}const We=(Nt=(tt=U.currentTarget)==null?void 0:tt.getBoundingClientRect)==null?void 0:Nt.call(tt),et=We&&U.clientY>We.top+We.height/2?"below":"above";_({id:be,position:et})},X=(U,be)=>{var vt,Mt;if(!p||y)return;U.preventDefault();const We=(()=>{try{return U.dataTransfer.getData("text/plain")}catch{return""}})(),et=w??Number.parseInt(We||"",10);if(!Number.isFinite(et)||et===be){Te();return}const tt=(Mt=(vt=U.currentTarget)==null?void 0:vt.getBoundingClientRect)==null?void 0:Mt.call(vt),Nt=tt&&U.clientY>tt.top+tt.height/2?"below":"above";d(sn=>{const vn=sn.findIndex(Yt=>Yt.id===et),Qn=sn.findIndex(Yt=>Yt.id===be);if(vn<0||Qn<0||vn===Qn)return sn;const Fe=Nt==="below"?Qn+1:Qn,Ft=sn.slice(),[ht]=Ft.splice(vn,1),qt=Math.max(0,Math.min(Ft.length,vn<Fe?Fe-1:Fe));return Ft.splice(qt,0,ht),Ft}),Te()},ke=()=>{W(""),T({name:"",content:"",group_id:"null",transfer_enable:"100",speed_limit:"",device_limit:"",capacity_limit:"",reset_traffic_method:"null",tagsText:"",prices:Object.fromEntries(Vh.map(U=>[U.key,""])),force_update:!1}),F(!0)},Q=U=>{const be=Object.fromEntries(Vh.map(We=>[We.key,""]));for(const[We,et]of Object.entries(U.prices||{}))be[We]=String(et);W(""),T({id:U.id,name:U.name||"",content:U.content||"",group_id:U.group_id===null||U.group_id===void 0?"null":String(U.group_id),transfer_enable:String(U.transfer_enable??""),speed_limit:U.speed_limit===null||U.speed_limit===void 0?"":String(U.speed_limit),device_limit:U.device_limit===null||U.device_limit===void 0?"":String(U.device_limit),capacity_limit:U.capacity_limit===null||U.capacity_limit===void 0?"":String(U.capacity_limit),reset_traffic_method:U.reset_traffic_method===null||U.reset_traffic_method===void 0?"null":String(U.reset_traffic_method),tagsText:(U.tags||[]).join(", "),prices:be,force_update:!1}),F(!0)},Se=async()=>{if(V)return;if(W(""),!z.name.trim())return W(e("plan.validation.name_required"));const U=Number(z.transfer_enable);if(!Number.isFinite(U)||U<1)return W(e("plan.validation.transfer_required"));const be={};for(const et of Vh){const tt=z.prices[et.key];tt!=null&&String(tt).trim()!==""&&(be[et.key]=tt)}const We={id:z.id,name:z.name.trim(),content:z.content.trim()||void 0,transfer_enable:Math.trunc(U),group_id:z.group_id==="null"?null:Number(z.group_id),speed_limit:z.speed_limit.trim()?Number(z.speed_limit):null,device_limit:z.device_limit.trim()?Number(z.device_limit):null,capacity_limit:z.capacity_limit.trim()?Number(z.capacity_limit):null,reset_traffic_method:z.reset_traffic_method==="null"?null:Number(z.reset_traffic_method),tags:z.tagsText.trim()?u6e(z.tagsText):null,prices:be,force_update:z.force_update?1:0};K(!0),l(null);try{const et=await il.save(We);if(et.data.status!=="success")throw new Error(et.data.message||"request failed");l({tone:"success",text:e("plan.saved")}),F(!1),await q()}catch(et){W(Rp(et,e("common.save_failed"))),console.error(et)}finally{K(!1)}},re=async U=>{if(i||!await t({title:e("common.delete"),description:e("plan.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(U),l(null);const We=u;d(et=>et.filter(tt=>tt.id!==U));try{const et=await il.drop(U);if(et.data.status!=="success")throw new Error(et.data.message||"request failed");pt.success(e("plan.deleted"))}catch(et){d(We),l({tone:"error",text:Rp(et,e("common.save_failed"))}),console.error(et)}finally{s(null)}},Ne=async(U,be)=>{if(!i){s(U.id),l(null);try{const We=await il.update({id:U.id,[be]:!U[be]});if(We.data.status!=="success")throw new Error(We.data.message||"request failed");await q()}catch(We){l({tone:"error",text:Rp(We,e("common.save_failed"))}),console.error(We)}finally{s(null)}}},Oe=f.useMemo(()=>U=>{var We;const be=[];return(We=U.group)!=null&&We.name&&be.push(`${e("plan.group")}: ${U.group.name}`),be.push(`${e("plan.traffic")}: ${U.transfer_enable}`),U.speed_limit!==null&&U.speed_limit!==void 0&&be.push(`${e("plan.speed")}: ${U.speed_limit}`),U.device_limit!==null&&U.device_limit!==void 0&&be.push(`${e("plan.device")}: ${U.device_limit}`),be.join("  ")},[e]),xe=f.useMemo(()=>{const U=k.trim().toLowerCase();return U?u.filter(be=>{var We;return!!(String(be.id).includes(U)||(be.name||"").toLowerCase().includes(U)||(be.content||"").toLowerCase().includes(U)||(((We=be.group)==null?void 0:We.name)||"").toLowerCase().includes(U))}):u},[u,k]),me=p?u.length:xe.length,H=Math.max(1,Math.ceil(me/P)),Ce=Math.min(O,H),$e=f.useMemo(()=>{if(p)return u;const U=(Ce-1)*P;return xe.slice(U,U+P)},[xe,Ce,P,u,p]);f.useEffect(()=>{M(U=>Math.min(Math.max(1,U),H))},[H]);const ne=f.useCallback(U=>{const be=U.prices||{},We={monthly:"/",quarterly:"/",half_yearly:"/",yearly:"/",two_yearly:"/2",three_yearly:"/3",onetime:"",reset_traffic:""};return Vh.map(tt=>({key:tt.key,label:e(tt.labelKey),value:be[tt.key]})).filter(tt=>tt.value!==void 0&&tt.value!==null&&Number(tt.value)>0).map(tt=>{const Nt=We[tt.key]||"";return{label:tt.label,value:`${tt.value}${Nt}`}})},[e]);return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:k,onChange:U=>{C(U.target.value),M(1)},placeholder:e("plan.search_placeholder"),className:"h-9 pl-9",disabled:p})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:ke,disabled:n,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("plan.add")]}),p?o.jsxs(o.Fragment,{children:[o.jsx(B,{variant:"outline",size:"sm",className:"h-9",onClick:pe,disabled:n||y,children:e("plan.sort_cancel")}),o.jsxs(B,{size:"sm",className:"h-9",onClick:se,disabled:n||y||!Y,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("plan.sort_save")]})]}):o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:ee,disabled:n||u.length<2,children:[o.jsx(Ns,{className:"h-4 w-4 mr-2"}),e("plan.sort")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:q,disabled:n,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),a&&o.jsx("div",{className:te("text-sm",a.tone==="success"?"text-green-600":"text-red-600"),children:a.text}),p&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:me===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("plan.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("plan.table.id")}),p?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("plan.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.show")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.purchase")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.renew")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("plan.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("plan.table.stats")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("plan.table.group")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[260px]",children:e("plan.table.price")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[120px]",children:e("plan.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:$e.map((U,be)=>{var Nt,vt;const We=i===U.id,et=ne(U),tt=p?be:u.findIndex(Mt=>Mt.id===U.id);return o.jsxs("tr",{className:te("hover:bg-muted/30",p&&(j==null?void 0:j.id)===U.id&&"bg-primary/5",p&&w===U.id&&"opacity-60"),onContextMenu:Mt=>c.openMenu(Mt,U),onDragOver:p?Mt=>fe(Mt,U.id):void 0,onDrop:p?Mt=>X(Mt,U.id):void 0,onDragLeave:p?()=>{_(Mt=>(Mt==null?void 0:Mt.id)===U.id?null:Mt)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:U.id}),p?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:te("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",y?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!y,onDragStart:Mt=>Ee(Mt,U.id),onDragEnd:Te,"aria-label":"Drag",children:o.jsx(Zy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:tt+1}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Re(U.id),disabled:y||tt<=0,"aria-label":"Top",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Pe(U.id),disabled:y||tt<=0,"aria-label":"Up",children:o.jsx(bh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>J(U.id),disabled:y||tt>=u.length-1,"aria-label":"Down",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(B,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ie(U.id),disabled:y||tt>=u.length-1,"aria-label":"Bottom",children:o.jsx(Qy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!U.show,onCheckedChange:()=>Ne(U,"show"),disabled:We})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!U.sell,onCheckedChange:()=>Ne(U,"sell"),disabled:We})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!U.renew,onCheckedChange:()=>Ne(U,"renew"),disabled:We})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium",title:U.name,children:U.name}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",title:Oe(U),children:Oe(U)})]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"tabular-nums",children:e("plan.users",{total:U.users_count??0,active:U.active_users_count??0})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((Nt=U.group)==null?void 0:Nt.name)||"",children:((vt=U.group)==null?void 0:vt.name)||""})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:et.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.no_prices")}):o.jsxs("div",{className:"space-y-0.5",children:[et.slice(0,4).map(Mt=>o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:Mt.label}),o.jsx("span",{className:"tabular-nums",children:Mt.value})]},Mt.label)),et.length>4?o.jsx("div",{className:"text-xs text-muted-foreground",children:""}):null]})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:We,onClick:()=>Q(U),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:We,onClick:()=>re(U.id),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},U.id)})})]})})})}),!p&&o.jsx(us,{page:O,total:me,pageSize:P,onPageChange:U=>M(U),onPageSizeChange:U=>{A(U),M(1)},loading:n}),o.jsx(un,{open:R,onOpenChange:F,children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:z.id?e("plan.edit_title"):e("plan.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-name",children:e("plan.fields.name")}),o.jsx(G,{id:"plan-name",value:z.name,onChange:U=>T(be=>({...be,name:U.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-content",children:e("plan.fields.content")}),o.jsx(xr,{id:"plan-content",value:z.content,onChange:U=>T(be=>({...be,content:U.target.value})),className:"min-h-[120px]"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("plan.fields.group")}),o.jsxs(st,{value:z.group_id,onValueChange:U=>T(be=>({...be,group_id:U})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("plan.fields.group_placeholder")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:e("plan.no_group")}),h.map(U=>o.jsx(de,{value:String(U.id),children:U.name},U.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-transfer",children:e("plan.fields.transfer")}),o.jsx(G,{id:"plan-transfer",type:"number",value:z.transfer_enable,onChange:U=>T(be=>({...be,transfer_enable:U.target.value})),placeholder:"100"})]})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-speed",children:e("plan.fields.speed")}),o.jsx(G,{id:"plan-speed",type:"number",value:z.speed_limit,onChange:U=>T(be=>({...be,speed_limit:U.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-device",children:e("plan.fields.device")}),o.jsx(G,{id:"plan-device",type:"number",value:z.device_limit,onChange:U=>T(be=>({...be,device_limit:U.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-capacity",children:e("plan.fields.capacity")}),o.jsx(G,{id:"plan-capacity",type:"number",value:z.capacity_limit,onChange:U=>T(be=>({...be,capacity_limit:U.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("plan.fields.reset")}),o.jsxs(st,{value:z.reset_traffic_method,onValueChange:U=>T(be=>({...be,reset_traffic_method:U})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("plan.fields.reset_placeholder")})}),o.jsx(rt,{children:c6e.map(U=>o.jsx(de,{value:U.value,children:e(U.labelKey)},U.value))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"plan-tags",children:e("plan.fields.tags")}),o.jsx(G,{id:"plan-tags",value:z.tagsText,onChange:U=>T(be=>({...be,tagsText:U.target.value})),placeholder:"vip, promo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("plan.fields.prices")}),o.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Vh.map(U=>o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:`plan-price-${U.key}`,children:e(U.labelKey)}),o.jsx(G,{id:`plan-price-${U.key}`,type:"number",value:z.prices[U.key],onChange:be=>T(We=>({...We,prices:{...We.prices,[U.key]:be.target.value}})),placeholder:"0"})]},U.key))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.price_hint")})]}),!!z.id&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{checked:z.force_update,onCheckedChange:U=>T(be=>({...be,force_update:U}))}),o.jsx("span",{className:"text-sm",children:e("plan.fields.force_update")})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[L&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:L}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>F(!1),disabled:V,children:e("common.cancel")}),o.jsx(B,{onClick:Se,disabled:V,children:e(V?"common.saving":"common.save")})]})]})]})}),o.jsx(os,{open:c.open,onOpenChange:c.setOpen,position:c.position,items:[{type:"checkbox",label:e("plan.table.show"),checked:!!((je=c.data)!=null&&je.show),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),Ne(c.data,"show"))}},{type:"checkbox",label:e("plan.table.purchase"),checked:!!((Ke=c.data)!=null&&Ke.sell),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),Ne(c.data,"sell"))}},{type:"checkbox",label:e("plan.table.renew"),checked:!!((oe=c.data)!=null&&oe.renew),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),Ne(c.data,"renew"))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),Q(c.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),re(c.data.id))}}]})]})}const Hh={fetch:e=>De.post("/order/fetch",e),detail:e=>De.post("/order/detail",{id:e}),paid:e=>De.post("/order/paid",{trade_no:e}),cancel:e=>De.post("/order/cancel",{trade_no:e}),update:(e,t)=>De.post("/order/update",{trade_no:e,...t}),assign:e=>De.post("/order/assign",e)},Kh=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},cd=e=>(Number(e??0)/100).toFixed(2),h6e=e=>{const t=e.commission_balance,n=e.actual_commission_balance;return n==null?t:n>0?n:t!=null&&t>0?t:n},bN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},f6e=[{value:"month_price",labelKey:"plan.period.monthly"},{value:"quarter_price",labelKey:"plan.period.quarterly"},{value:"half_year_price",labelKey:"plan.period.half_yearly"},{value:"year_price",labelKey:"plan.period.yearly"},{value:"two_year_price",labelKey:"plan.period.two_yearly"},{value:"three_year_price",labelKey:"plan.period.three_yearly"},{value:"onetime_price",labelKey:"plan.period.onetime"},{value:"reset_price",labelKey:"plan.period.reset_traffic"}];function m6e(){var Ke;const{t:e}=Ut(),t=wa(),n=Ja(),r=xh(),i=f.useMemo(()=>{const oe=new URLSearchParams(n.search);return{assignEmail:oe.get("assign_email")||"",userId:oe.get("user_id")||"",isCommission:oe.get("is_commission")||"",commissionStatus:oe.get("commission_status")||""}},[n.search]),[s,a]=f.useState(!1),[l,c]=f.useState(null),[u,d]=f.useState(null),h=ls(),[m,p]=f.useState(1),[g,y]=f.useState(10),[x,v]=f.useState(0),w=f.useMemo(()=>Math.max(1,Math.ceil(x/g)),[x,g]),[b,j]=f.useState(""),[_,k]=f.useState(i.userId),[C,O]=f.useState(()=>{const oe=i.isCommission.trim().toLowerCase();return oe==="1"||oe==="true"||oe==="yes"||oe==="on"}),[M,P]=f.useState(()=>i.commissionStatus.trim()),[A,R]=f.useState([]),[F,V]=f.useState([]),[K,L]=f.useState(!1),[W,z]=f.useState(!1),[T,q]=f.useState(null),[Y,ee]=f.useState(""),[pe,se]=f.useState(!1),[he,Pe]=f.useState(!1),[J,Re]=f.useState(""),[ie,Ee]=f.useState({email:"",plan_id:"",period:"month_price",amount:"0"}),Te=f.useMemo(()=>new Map(F.map(oe=>[oe.id,oe.name])),[F]),fe=async oe=>{await pl(oe)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},X=f.useCallback(oe=>!!oe&&(l==null?void 0:l.trade_no)===oe,[l]),ke=f.useCallback(oe=>{switch(oe){case 0:return{label:e("order.status.pending"),Icon:AC,className:"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-900/60 dark:bg-amber-950/30 dark:text-amber-300"};case 1:return{label:e("order.status.processing"),Icon:Uk,iconClassName:"animate-spin",className:"border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-900/60 dark:bg-sky-950/30 dark:text-sky-300"};case 2:return{label:e("order.status.cancelled"),Icon:Fd,className:"border-red-200 bg-red-50 text-red-700 dark:border-red-900/60 dark:bg-red-950/30 dark:text-red-300"};case 3:return{label:e("order.status.completed"),Icon:Tf,className:"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/60 dark:bg-emerald-950/30 dark:text-emerald-300"};case 4:return{label:e("order.status.discounted"),Icon:Zoe,className:"border-violet-200 bg-violet-50 text-violet-700 dark:border-violet-900/60 dark:bg-violet-950/30 dark:text-violet-300"};default:return{label:String(oe),Icon:xv,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"}}},[e]),Q=f.useCallback(oe=>{if(oe==null)return{label:"",Icon:vle,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"};switch(oe){case 0:return{label:e("order.commission.pending"),Icon:AC,className:"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-900/60 dark:bg-amber-950/30 dark:text-amber-300"};case 1:return{label:e("order.commission.checking"),Icon:xv,className:"border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-900/60 dark:bg-sky-950/30 dark:text-sky-300"};case 2:return{label:e("order.commission.valid"),Icon:Tf,className:"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/60 dark:bg-emerald-950/30 dark:text-emerald-300"};case 3:return{label:e("order.commission.invalid"),Icon:YD,className:"border-red-200 bg-red-50 text-red-700 dark:border-red-900/60 dark:bg-red-950/30 dark:text-red-300"};default:return{label:String(oe),Icon:xv,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"}}},[e]),Se=f.useCallback(async oe=>{a(!0),oe!=null&&oe.preserveMessage||d(null);try{const U=[];b.trim()&&U.push({id:"trade_no",value:b.trim()}),_.trim()&&U.push({id:"user_id",value:`eq:${_.trim()}`}),M.trim()!==""&&U.push({id:"commission_status",value:`eq:${M.trim()}`});const be={current:m,pageSize:g};C&&(be.is_commission=!0),U.length&&(be.filter=U);const We=await Hh.fetch(be);R(We.data.data||[]),v(We.data.total||0)}catch(U){R([]),v(0),d({tone:"error",text:Kh(U,e("common.load_failed"))}),console.error(U)}finally{a(!1)}},[e,m,g,b,_,C,M]),re=f.useCallback(async()=>{try{const oe=await il.fetch();oe.data.status==="success"&&V(oe.data.data||[])}catch(oe){V([]),console.error(oe)}},[]);f.useEffect(()=>{re()},[re]),f.useEffect(()=>{k(i.userId),i.userId&&p(1)},[i.userId]),f.useEffect(()=>{const oe=i.isCommission.trim().toLowerCase(),U=oe==="1"||oe==="true"||oe==="yes"||oe==="on",be=i.commissionStatus.trim();O(U),P(be),(U||be)&&p(1)},[i.isCommission,i.commissionStatus]),f.useEffect(()=>{var oe;i.assignEmail&&(Re(""),Ee({email:i.assignEmail,plan_id:(oe=F[0])!=null&&oe.id?String(F[0].id):"",period:"month_price",amount:"0"}),se(!0))},[i.assignEmail,F]),f.useEffect(()=>{Se()},[Se]),f.useEffect(()=>{p(oe=>Math.min(Math.max(1,oe),w))},[w]);const Ne=async oe=>{L(!0),z(!0),ee(""),q(null);try{const U=await Hh.detail(oe);if(U.data.status!=="success")throw new Error(U.data.message||"request failed");q(U.data.data)}catch(U){ee(Kh(U,e("common.load_failed"))),console.error(U)}finally{z(!1)}},Oe=oe=>{oe&&(L(!1),r(`/dashboard/user/list?q=${encodeURIComponent(oe)}`))},xe=async oe=>{if(!(!oe||l)){d(null),c({trade_no:oe,action:"paid"});try{const U=await Hh.paid(oe);if(U.data.status!=="success")throw new Error(U.data.message||"request failed");d({tone:"success",text:e("order.paid")}),await Se({preserveMessage:!0})}catch(U){d({tone:"error",text:Kh(U,e("common.save_failed"))}),console.error(U)}finally{c(null)}}},me=async oe=>{if(!(!oe||l||!await t({title:e("order.cancel"),description:e("order.confirm_cancel"),confirmText:e("order.cancel"),confirmVariant:"destructive"}))){d(null),c({trade_no:oe,action:"cancel"});try{const be=await Hh.cancel(oe);if(be.data.status!=="success")throw new Error(be.data.message||"request failed");d({tone:"success",text:e("order.cancelled")}),await Se({preserveMessage:!0})}catch(be){d({tone:"error",text:Kh(be,e("common.save_failed"))}),console.error(be)}finally{c(null)}}},H=async(oe,U)=>{if(!(!oe.trade_no||l)){d(null),c({trade_no:oe.trade_no,action:"commission"});try{const be=await Hh.update(oe.trade_no,{commission_status:U});if(be.data.status!=="success")throw new Error(be.data.message||"request failed");R(We=>We.map(et=>et.id===oe.id?{...et,commission_status:U}:et)),d({tone:"success",text:e("order.updated")}),(T==null?void 0:T.id)===oe.id&&q(We=>We&&{...We,commission_status:U})}catch(be){d({tone:"error",text:Kh(be,e("common.save_failed"))}),console.error(be)}finally{c(null)}}},Ce=()=>{var oe;Re(""),Ee({email:"",plan_id:(oe=F[0])!=null&&oe.id?String(F[0].id):"",period:"month_price",amount:"0"}),se(!0)},$e=async()=>{if(he)return;if(Re(""),!ie.email.trim())return Re(e("order.validation.email_required"));if(!ie.plan_id)return Re(e("order.validation.plan_required"));const oe=Number(ie.amount);if(!Number.isFinite(oe)||oe<0)return Re(e("order.validation.amount_invalid"));const U=Math.round(oe*100);Pe(!0),d(null);try{const be=await Hh.assign({email:ie.email.trim(),plan_id:Number(ie.plan_id),period:ie.period,total_amount:U});if(be.data.status!=="success")throw new Error(be.data.message||"request failed");d({tone:"success",text:e("order.assigned",{trade_no:be.data.data})}),se(!1),await Se({preserveMessage:!0})}catch(be){Re(Kh(be,e("common.save_failed"))),console.error(be)}finally{Pe(!1)}},ne=f.useCallback(oe=>{switch(oe){case 1:return e("order.type.new_purchase");case 2:return e("order.type.renewal");case 3:return e("order.type.upgrade");case 4:return e("order.type.reset_traffic");default:return String(oe)}},[e]),je=f.useCallback(oe=>{switch(oe){case"month_price":return e("plan.period.monthly");case"quarter_price":return e("plan.period.quarterly");case"half_year_price":return e("plan.period.half_yearly");case"year_price":return e("plan.period.yearly");case"two_year_price":return e("plan.period.two_yearly");case"three_year_price":return e("plan.period.three_yearly");case"onetime_price":return e("plan.period.onetime");case"reset_price":return e("plan.period.reset_traffic");default:return oe}},[e]);return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:b,onChange:oe=>{j(oe.target.value),p(1)},placeholder:e("order.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:Ce,disabled:s,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("order.add")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:()=>Se(),disabled:s,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",s&&"animate-spin")}),e("common.refresh")]})]})]}),u&&o.jsx("div",{className:te("text-sm",u.tone==="success"?"text-green-600":"text-red-600"),children:u.text}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:A.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("order.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("order.table.trade_no")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("order.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("order.table.plan")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("order.table.period")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("order.table.amount")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[150px]",children:e("order.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("order.table.commission_amount")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[150px]",children:e("order.table.commission_status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("order.table.created_at")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:A.map(oe=>{var Mt;const U=((Mt=oe.plan)==null?void 0:Mt.name)||Te.get(oe.plan_id)||String(oe.plan_id),be=h6e(oe),We=Number(be??0)>0,et=!We||be===null||be===void 0?"":`${cd(be)}`,tt=ke(oe.status),Nt=Q(oe.commission_status),vt=X(oe.trade_no);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:sn=>h.openMenu(sn,oe),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:o.jsx(B,{variant:"link",size:"sm",className:"h-auto p-0 font-medium tabular-nums max-w-full",onClick:()=>Ne(oe.id),disabled:s,children:o.jsx("span",{className:"truncate",title:oe.trade_no,children:oe.trade_no})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ne(oe.type),children:ne(oe.type)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:U,children:U})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:je(oe.period),children:je(oe.period)})}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:["",cd(oe.total_amount)]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:oe.status===0?o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 disabled:opacity-50 disabled:cursor-not-allowed",tt.className),disabled:s||vt,title:tt.label,children:[o.jsx(tt.Icon,{className:te("h-3.5 w-3.5",tt.iconClassName)}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:tt.label})]})}),o.jsxs(fa,{align:"start",children:[o.jsxs(an,{onSelect:()=>xe(oe.trade_no),disabled:vt,children:[o.jsx(Tf,{className:"h-4 w-4 mr-2"}),e("order.mark_paid"),vt&&(l==null?void 0:l.action)==="paid"&&o.jsx(Uk,{className:"h-4 w-4 ml-auto animate-spin"})]}),o.jsxs(an,{onSelect:()=>me(oe.trade_no),disabled:vt,className:"text-destructive focus:text-destructive",children:[o.jsx(Fd,{className:"h-4 w-4 mr-2"}),e("order.cancel"),vt&&(l==null?void 0:l.action)==="cancel"&&o.jsx(Uk,{className:"h-4 w-4 ml-auto animate-spin"})]}),o.jsx(ns,{}),o.jsxs(an,{onSelect:()=>Ne(oe.id),disabled:vt,children:[o.jsx(Wg,{className:"h-4 w-4 mr-2"}),e("order.detail_title")]})]})]}):o.jsxs("span",{className:te("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium",tt.className),title:tt.label,children:[o.jsx(tt.Icon,{className:te("h-3.5 w-3.5",tt.iconClassName)}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:tt.label})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:et}),o.jsx("td",{className:"px-4 py-3 align-middle",children:We?oe.commission_status===0?o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 disabled:opacity-50 disabled:cursor-not-allowed",Nt.className),disabled:s||vt,title:Nt.label,children:[o.jsx(Nt.Icon,{className:te("h-3.5 w-3.5",vt&&(l==null?void 0:l.action)==="commission"&&"animate-spin")}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Nt.label})]})}),o.jsxs(fa,{align:"start",children:[o.jsxs(an,{onSelect:()=>H(oe,1),disabled:vt,children:[o.jsx(xv,{className:"h-4 w-4 mr-2"}),e("order.commission.checking")]}),o.jsxs(an,{onSelect:()=>H(oe,3),disabled:vt,children:[o.jsx(YD,{className:"h-4 w-4 mr-2"}),e("order.commission.invalid")]})]})]}):o.jsxs("span",{className:te("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium",Nt.className),title:Nt.label,children:[o.jsx(Nt.Icon,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Nt.label})]}):null}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:bN(oe.created_at)})]},oe.id)})})]})})})}),o.jsx(us,{page:m,total:x,pageSize:g,onPageChange:oe=>p(oe),onPageSizeChange:oe=>{y(oe),p(1)},loading:s}),o.jsx(un,{open:K,onOpenChange:L,children:o.jsxs(on,{className:"max-w-3xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("order.detail_title")})}),W?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.loading")}):Y?o.jsx("div",{className:"text-sm text-red-600",children:Y}):T?o.jsx("div",{className:"space-y-4",children:(()=>{var be,We;const oe=((be=T.plan)==null?void 0:be.name)||Te.get(T.plan_id)||String(T.plan_id),U=ke(T.status);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.trade_no")}),o.jsx("div",{className:"font-medium tabular-nums break-all",children:T.trade_no})]}),o.jsx("div",{className:"shrink-0",children:o.jsxs("span",{className:te("inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium",U.className),children:[o.jsx(U.Icon,{className:te("h-4 w-4",U.iconClassName)}),U.label]})})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.basic_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.user_email")}),(We=T.user)!=null&&We.email?o.jsx(B,{variant:"link",size:"sm",className:"h-auto p-0 max-w-full justify-start",onClick:()=>Oe(T.user.email),children:o.jsx("span",{className:"truncate",children:T.user.email})}):o.jsx("div",{className:"truncate",children:""})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.period_label")}),o.jsx("div",{className:"truncate",children:je(T.period)})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.table.plan")}),o.jsx("div",{className:"truncate",children:oe})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.callback_no")}),o.jsx("div",{className:"truncate tabular-nums",children:T.callback_no||""})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.amount_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.table.amount")}),o.jsxs("div",{className:"tabular-nums",children:["",cd(T.total_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.balance_payment")}),o.jsxs("div",{className:"tabular-nums",children:["",cd(T.balance_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.discount_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",cd(T.discount_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.refund_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",cd(T.refund_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.offset_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",cd(T.surplus_amount)]})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.time_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.created_at")}),o.jsx("div",{className:"tabular-nums",children:bN(T.created_at)})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.updated_at")}),o.jsx("div",{className:"tabular-nums",children:bN(T.updated_at)})]})]})]})]})})()}):o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.empty_detail")})]})}),o.jsx(un,{open:pe,onOpenChange:se,children:o.jsxs(on,{className:"max-w-xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("order.add_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"assign-email",children:e("order.assign_email")}),o.jsx(G,{id:"assign-email",value:ie.email,onChange:oe=>Ee(U=>({...U,email:oe.target.value})),placeholder:"user@example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("order.assign_plan")}),o.jsxs(st,{value:ie.plan_id,onValueChange:oe=>Ee(U=>({...U,plan_id:oe})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("order.assign_plan")})}),o.jsx(rt,{children:F.map(oe=>o.jsx(de,{value:String(oe.id),children:oe.name},oe.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[o.jsx(Z,{htmlFor:"assign-period",children:e("order.assign_period")}),o.jsx(Z,{htmlFor:"assign-amount",children:e("order.assign_amount")}),o.jsxs(st,{value:ie.period,onValueChange:oe=>Ee(U=>({...U,period:oe})),children:[o.jsx(nt,{id:"assign-period",children:o.jsx(at,{})}),o.jsx(rt,{children:f6e.map(oe=>o.jsx(de,{value:oe.value,children:e(oe.labelKey)},oe.value))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(G,{id:"assign-amount",type:"number",value:ie.amount,onChange:oe=>Ee(U=>({...U,amount:oe.target.value})),placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("order.assign_amount_hint")})]})]})]}),J&&o.jsx("div",{className:"text-sm text-red-600",children:J}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>se(!1),disabled:he,children:e("common.cancel")}),o.jsx(B,{onClick:$e,disabled:he,children:e(he?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:h.open,onOpenChange:h.setOpen,position:h.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("order.trade_no")]}),disabled:!((Ke=h.data)!=null&&Ke.trade_no),onSelect:()=>{var oe;(oe=h.data)!=null&&oe.trade_no&&(h.setOpen(!1),fe(h.data.trade_no))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Wg,{className:"h-4 w-4 mr-2"}),e("order.detail_title")]}),disabled:!h.data,onSelect:()=>{h.data&&(h.setOpen(!1),Ne(h.data.id))}}]})]})}const Ip={fetch:e=>De.post("/coupon/fetch",e),generate:e=>De.post("/coupon/generate",e),generateCsv:e=>De.post("/coupon/generate",e,{responseType:"blob"}),toggleShow:e=>De.post("/coupon/show",{id:e}),drop:e=>De.post("/coupon/drop",{id:e})},vb=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},bb=e=>String(e).padStart(2,"0"),_b=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${bb(t.getMonth()+1)}-${bb(t.getDate())}T${bb(t.getHours())}:${bb(t.getMinutes())}`},UF=e=>{const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},VF=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},p6e=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},g6e=[{value:"monthly",labelKey:"plan.period.monthly"},{value:"quarterly",labelKey:"plan.period.quarterly"},{value:"half_yearly",labelKey:"plan.period.half_yearly"},{value:"yearly",labelKey:"plan.period.yearly"},{value:"two_yearly",labelKey:"plan.period.two_yearly"},{value:"three_yearly",labelKey:"plan.period.three_yearly"},{value:"onetime",labelKey:"plan.period.onetime"},{value:"reset_traffic",labelKey:"plan.period.reset_traffic"}];function y6e(){var Te,fe;const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),c=ls(),[u,d]=f.useState(1),[h,m]=f.useState(20),[p,g]=f.useState(0),y=f.useMemo(()=>Math.max(1,Math.ceil(p/h)),[p,h]),[x,v]=f.useState("name"),[w,b]=f.useState(""),[j,_]=f.useState({type:"all",show:"all"}),[k,C]=f.useState([]),[O,M]=f.useState([]),[P,A]=f.useState(!1),[R,F]=f.useState(!1),[V,K]=f.useState(""),[L,W]=f.useState({generate_count:"1",name:"",code:"",type:"1",value:"",started_at:"",ended_at:"",limit_use:"",limit_use_with_user:"",limit_plan_ids:[],limit_period:[]}),z=f.useCallback(async()=>{try{const X=await il.fetch();X.data.status==="success"&&M(X.data.data||[])}catch(X){M([]),console.error(X)}},[]),T=f.useCallback(async()=>{r(!0),l(null);try{const X=[];w.trim()&&X.push({id:x,value:w.trim()}),j.type!=="all"&&X.push({id:"type",value:j.type}),j.show!=="all"&&X.push({id:"show",value:j.show});const ke={current:u,pageSize:h};X.length&&(ke.filter=X);const Q=await Ip.fetch(ke);C(Q.data.data||[]),g(Q.data.total||0)}catch(X){C([]),g(0),l({tone:"error",text:vb(X,e("common.load_failed"))}),console.error(X)}finally{r(!1)}},[e,u,h,j,w,x]);f.useEffect(()=>{z()},[z]),f.useEffect(()=>{T()},[T]),f.useEffect(()=>{d(X=>Math.min(Math.max(1,X),y))},[y]);const q=X=>X.type===1?e("coupon.type.amount"):e("coupon.type.percent"),Y=X=>X.type===1?`${(X.value/100).toFixed(2)}`:`${X.value}%`,ee=()=>{const X=Math.floor(Date.now()/1e3),ke=X+30*86400;K(""),W({generate_count:"1",name:"",code:"",type:"1",value:"",started_at:_b(X),ended_at:_b(ke),limit_use:"",limit_use_with_user:"",limit_plan_ids:[],limit_period:[]}),A(!0)},pe=X=>{K(""),W({id:X.id,generate_count:"1",name:X.name||"",code:X.code||"",type:String(X.type),value:X.type===1?String((X.value/100).toFixed(2)):String(X.value),started_at:_b(X.started_at),ended_at:_b(X.ended_at),limit_use:X.limit_use===null||X.limit_use===void 0?"":String(X.limit_use),limit_use_with_user:X.limit_use_with_user===null||X.limit_use_with_user===void 0?"":String(X.limit_use_with_user),limit_plan_ids:X.limit_plan_ids||[],limit_period:X.limit_period||[]}),A(!0)},se=async X=>{if(!i){s(X.id),l(null);try{const ke=await Ip.toggleShow(X.id);if(ke.data.status!=="success")throw new Error(ke.data.message||"request failed");C(Q=>Q.map(Se=>Se.id===X.id?{...Se,show:!Se.show}:Se))}catch(ke){l({tone:"error",text:vb(ke,e("common.save_failed"))}),console.error(ke)}finally{s(null)}}},he=async X=>{if(!await t({title:e("common.delete"),description:e("coupon.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;l(null);const Q=k;C(Se=>Se.filter(re=>re.id!==X.id));try{const Se=await Ip.drop(X.id);if(Se.data.status!=="success")throw new Error(Se.data.message||"request failed");pt.success(e("coupon.deleted")),await T()}catch(Se){C(Q),l({tone:"error",text:vb(Se,e("common.save_failed"))}),console.error(Se)}},Pe=async X=>{await pl(X)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},J=f.useCallback(X=>{const ke=Math.floor(Date.now()/1e3);if(X.ended_at&&X.ended_at<ke){const re=Math.max(0,Math.floor((ke-X.ended_at)/86400));return e("coupon.expired_days",{days:re})}const Q=VF(X.started_at),Se=VF(X.ended_at);return`${Q}  ${Se}`},[e]),Re=f.useCallback(X=>X.limit_use===null||X.limit_use===void 0?e("coupon.unlimited_times"):String(X.limit_use),[e]),ie=f.useCallback(X=>{const ke=[];return X.limit_plan_ids&&X.limit_plan_ids.length&&ke.push(`${e("coupon.limits.plans")}: ${X.limit_plan_ids.length}`),X.limit_period&&X.limit_period.length&&ke.push(`${e("coupon.limits.periods")}: ${X.limit_period.length}`),X.limit_use_with_user!==null&&X.limit_use_with_user!==void 0&&ke.push(`${e("coupon.limits.per_user")}: ${X.limit_use_with_user}`),ke.length?ke.join("  "):e("coupon.none")},[e]),Ee=async()=>{if(R)return;if(K(""),!L.name.trim())return K(e("coupon.validation.name_required"));const X=UF(L.started_at),ke=UF(L.ended_at);if(!X||!ke)return K(e("coupon.validation.time_required"));if(ke<=X)return K(e("coupon.validation.time_order"));const Q=Number(L.type),Se=Number(L.value);if(!Number.isFinite(Se)||Se<=0)return K(e("coupon.validation.value_required"));const re=Q===1?Math.round(Se*100):Math.trunc(Se),Ne=Math.trunc(Number(L.generate_count||"1"));if(!Number.isFinite(Ne)||Ne<1)return K(e("coupon.validation.generate_count_invalid"));if(Ne>500)return K(e("coupon.validation.generate_count_max"));const Oe={id:L.id,name:L.name.trim(),type:Q,value:re,started_at:X,ended_at:ke,limit_use:L.limit_use.trim()?Math.trunc(Number(L.limit_use)):null,limit_use_with_user:L.limit_use_with_user.trim()?Math.trunc(Number(L.limit_use_with_user)):null,limit_plan_ids:L.limit_plan_ids.length?L.limit_plan_ids:null,limit_period:L.limit_period.length?L.limit_period:null};!L.id&&L.code.trim()&&(Oe.code=L.code.trim()),F(!0),l(null);try{if(!L.id&&Ne>1){const me=await Ip.generateCsv({...Oe,generate_count:Ne}),H=me.data instanceof Blob?me.data:new Blob([me.data],{type:"text/csv;charset=utf-8"});p6e(H,`coupons_${Date.now()}.csv`),l({tone:"success",text:e("coupon.generated_csv")}),A(!1),await T();return}const xe=await Ip.generate(Oe);if(xe.data.status!=="success")throw new Error(xe.data.message||"request failed");l({tone:"success",text:e(L.id?"coupon.saved":"coupon.created")}),A(!1),await T()}catch(xe){K(vb(xe,e("common.save_failed"))),console.error(xe)}finally{F(!1)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:w,onChange:X=>{b(X.target.value),d(1)},placeholder:e("coupon.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(st,{value:x,onValueChange:X=>{v(X),d(1)},children:[o.jsx(nt,{className:"h-9 w-[110px]",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"name",children:e("coupon.search_field.name")}),o.jsx(de,{value:"code",children:e("coupon.search_field.code")})]})]}),o.jsxs(st,{value:j.type,onValueChange:X=>{_(ke=>({...ke,type:X})),d(1)},children:[o.jsx(nt,{className:"h-9 w-[132px]",children:o.jsx(at,{placeholder:e("coupon.filter_type")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("coupon.type.all")}),o.jsx(de,{value:"1",children:e("coupon.type.amount")}),o.jsx(de,{value:"2",children:e("coupon.type.percent")})]})]}),o.jsxs(st,{value:j.show,onValueChange:X=>{_(ke=>({...ke,show:X})),d(1)},children:[o.jsx(nt,{className:"h-9 w-[132px]",children:o.jsx(at,{placeholder:e("coupon.filter_show")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("coupon.show.all")}),o.jsx(de,{value:"1",children:e("coupon.show.on")}),o.jsx(de,{value:"0",children:e("coupon.show.off")})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:ee,disabled:n,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("coupon.add")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:T,disabled:n,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),a&&o.jsx("div",{className:te("text-sm",a.tone==="success"?"text-green-600":"text-red-600"),children:a.text}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:k.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("coupon.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("coupon.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("coupon.table.enabled")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("coupon.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("coupon.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("coupon.table.code")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("coupon.table.remaining")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("coupon.table.limits")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("coupon.table.validity")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("coupon.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:k.map(X=>{const ke=i===X.id;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Q=>c.openMenu(Q,X),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:X.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!X.show,onCheckedChange:()=>se(X),disabled:ke})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate font-medium",title:X.name,children:X.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"truncate",title:`${q(X)}: ${Y(X)}`,children:[q(X),": ",Y(X)]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"truncate tabular-nums",title:X.code,children:X.code||e("coupon.none")}),!!X.code&&o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Pe(X.code),disabled:n,title:e("common.copy"),children:o.jsx(ci,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Re(X)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ie(X),children:ie(X)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:J(X),children:J(X)})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>pe(X),disabled:ke,children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>he(X),disabled:ke,children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},X.id)})})]})})})}),o.jsx(us,{page:u,total:p,pageSize:h,onPageChange:X=>d(X),onPageSizeChange:X=>{m(X),d(1)},loading:n}),o.jsx(un,{open:P,onOpenChange:A,children:o.jsxs(on,{className:"max-w-3xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:L.id?e("coupon.edit_title"):e("coupon.create_title")})}),o.jsx(ds,{className:"max-h-[70vh] pr-4",children:o.jsxs("div",{className:"grid gap-4",children:[!L.id&&o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-generate",children:e("coupon.fields.generate_count")}),o.jsx(G,{id:"coupon-generate",type:"number",value:L.generate_count,onChange:X=>W(ke=>({...ke,generate_count:X.target.value})),placeholder:"1"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.generate_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-code",children:e("coupon.fields.code")}),o.jsx(G,{id:"coupon-code",value:L.code,onChange:X=>W(ke=>({...ke,code:X.target.value})),placeholder:e("coupon.fields.code_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.code_hint")})]})]}),L.id&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.code")}),o.jsx(G,{value:L.code,disabled:!0})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-name",children:e("coupon.fields.name")}),o.jsx(G,{id:"coupon-name",value:L.name,onChange:X=>W(ke=>({...ke,name:X.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.type")}),o.jsxs(st,{value:L.type,onValueChange:X=>W(ke=>({...ke,type:X})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"1",children:e("coupon.type.amount")}),o.jsx(de,{value:"2",children:e("coupon.type.percent")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-value",children:L.type==="1"?e("coupon.fields.amount_yuan"):e("coupon.fields.percent")}),o.jsx(G,{id:"coupon-value",type:"number",value:L.value,onChange:X=>W(ke=>({...ke,value:X.target.value})),placeholder:L.type==="1"?"10.00":"80"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-limit-use",children:e("coupon.fields.limit_use")}),o.jsx(G,{id:"coupon-limit-use",type:"number",value:L.limit_use,onChange:X=>W(ke=>({...ke,limit_use:X.target.value})),placeholder:e("coupon.fields.unlimited_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{htmlFor:"coupon-limit-user",children:e("coupon.fields.limit_user")}),o.jsx(G,{id:"coupon-limit-user",type:"number",value:L.limit_use_with_user,onChange:X=>W(ke=>({...ke,limit_use_with_user:X.target.value})),placeholder:e("coupon.fields.unlimited_placeholder")})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.started_at")}),o.jsx(G,{type:"datetime-local",value:L.started_at,onChange:X=>W(ke=>({...ke,started_at:X.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.ended_at")}),o.jsx(G,{type:"datetime-local",value:L.ended_at,onChange:X=>W(ke=>({...ke,ended_at:X.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.limit_plan_ids")}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:O.map(X=>{const ke=L.limit_plan_ids.includes(X.id);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:ke,onCheckedChange:Q=>W(Se=>({...Se,limit_plan_ids:Q?[...Se.limit_plan_ids,X.id]:Se.limit_plan_ids.filter(re=>re!==X.id)}))}),o.jsxs("span",{children:[X.name," ",o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(ID: ",X.id,")"]})]})]},X.id)})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.limit_plan_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("coupon.fields.limit_period")}),o.jsx("div",{className:"grid gap-2 md:grid-cols-4",children:g6e.map(X=>{const ke=L.limit_period.includes(X.value);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:ke,onCheckedChange:Q=>W(Se=>({...Se,limit_period:Q?[...Se.limit_period,X.value]:Se.limit_period.filter(re=>re!==X.value)}))}),o.jsx("span",{children:e(X.labelKey)})]},X.value)})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.limit_period_hint")})]})]})}),V&&o.jsx("div",{className:"text-sm text-red-600",children:V}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>A(!1),disabled:R,children:e("common.cancel")}),o.jsx(B,{onClick:Ee,disabled:R,children:e(R?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:c.open,onOpenChange:c.setOpen,position:c.position,items:[{type:"checkbox",label:e("coupon.table.enabled"),checked:!!((Te=c.data)!=null&&Te.show),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),se(c.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("common.copy")]}),disabled:!((fe=c.data)!=null&&fe.code),onSelect:()=>{var X;(X=c.data)!=null&&X.code&&(c.setOpen(!1),Pe(c.data.code))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),pe(c.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!c.data||i===c.data.id,onSelect:()=>{c.data&&(c.setOpen(!1),he(c.data))}}]})]})}const Fi={types:()=>De.get("/gift-card/types"),templates:e=>De.post("/gift-card/templates",e),createTemplate:e=>De.post("/gift-card/create-template",e),updateTemplate:e=>De.post("/gift-card/update-template",e),deleteTemplate:e=>De.post("/gift-card/delete-template",{id:e}),generateCodes:e=>De.post("/gift-card/generate-codes",e),generateCodesCsv:e=>De.post("/gift-card/generate-codes",e,{responseType:"blob"}),codes:e=>De.post("/gift-card/codes",e),toggleCode:e=>De.post("/gift-card/toggle-code",e),exportCodes:e=>De.get("/gift-card/export-codes",{params:{batch_id:e},responseType:"blob"}),updateCode:e=>De.post("/gift-card/update-code",e),deleteCode:e=>De.post("/gift-card/delete-code",{id:e}),usages:e=>De.post("/gift-card/usages",e),statistics:e=>De.post("/gift-card/statistics",e)},Ca=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},xu=e=>String(e).padStart(2,"0"),_N=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${xu(t.getMonth()+1)}-${xu(t.getDate())}T${xu(t.getHours())}:${xu(t.getMinutes())}`},wN=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},Yh=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},jN=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},HF=e=>{if(!e)return null;const t=/filename\\*?=(?:UTF-8''|\"?)([^\";]+)\"?/i.exec(e);if(!t)return null;try{return decodeURIComponent(t[1])}catch{return t[1]}},KJ=1024*1024*1024,wb=()=>({id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,weight:"1",balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:""}),YJ=e=>e.replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1"),KF=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":YJ((t/100).toFixed(2))},YF=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":YJ((t/KJ).toFixed(2))},zA=e=>{const t=e.trim();if(!t)return null;const n=Number(t);return Number.isFinite(n)?n:null},x6e=e=>{const t=zA(e);return t===null?null:Math.trunc(t)},tu=e=>{const t=x6e(e);return t===null||t<=0?null:t},GF=e=>{const t=zA(e);return t===null||t<0?null:Math.round(t*100)},QF=e=>{const t=zA(e);return t===null||t<0?null:Math.round(t*KJ)};function XF({value:e,onChange:t,options:n,placeholder:r,disabled:i}){const{t:s}=Ut(),[a,l]=f.useState(""),c=f.useMemo(()=>new Set(e),[e]),u=f.useMemo(()=>e.length?n.filter(p=>c.has(p.id)).map(p=>p.name).join(", "):"",[n,c,e.length]),d=f.useMemo(()=>{const m=a.trim().toLowerCase();return m?n.filter(p=>`${p.id} ${p.name}`.toLowerCase().includes(m)):n},[n,a]),h=m=>{const p=new Set(e);p.has(m)?p.delete(m):p.add(m),t(Array.from(p).sort((g,y)=>g-y))};return o.jsxs(wl,{children:[o.jsx(jl,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"h-9 w-full justify-between",disabled:i,children:[o.jsx("span",{className:te("truncate text-left",!e.length&&"text-muted-foreground"),title:u,children:e.length?u:r}),o.jsx(Tc,{className:"h-4 w-4 opacity-50"})]})}),o.jsx(Mo,{align:"start",className:"w-[320px] p-3",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(G,{value:a,onChange:m=>l(m.target.value),placeholder:s("common.search"),className:"h-9"}),o.jsx("div",{className:"rounded-lg border border-border/70",children:o.jsx(ds,{className:"h-60",children:o.jsx("div",{className:"grid gap-1 p-2",children:d.length===0?o.jsx("div",{className:"px-2 py-6 text-center text-sm text-muted-foreground",children:s("common.command_empty")}):d.map(m=>o.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-2 py-1.5 text-left hover:bg-muted/30",onClick:()=>h(m.id),children:[o.jsx(Hn,{checked:c.has(m.id),onClick:p=>{p.stopPropagation(),h(m.id)}}),o.jsx("span",{className:"min-w-0 flex-1 truncate text-sm",children:m.name}),o.jsxs("span",{className:"text-xs text-muted-foreground tabular-nums",children:["#",m.id]})]},m.id))})})})]})})]})}function v6e(){var ed,td,Rl,nd,rd,id,Uc,Mh,Vc,Il;const{t:e}=Ut(),t=wa(),[n,r]=f.useState("templates"),[i,s]=f.useState(null),[a,l]=f.useState({}),[c,u]=f.useState([]),[d,h]=f.useState([]),[m,p]=f.useState(!1),[g,y]=f.useState({type:"all",status:"all"}),[x,v]=f.useState(1),[w,b]=f.useState(20),[j,_]=f.useState(null),[k,C]=f.useState(""),[O,M]=f.useState([]),P=ls(),[A,R]=f.useState(!1),[F,V]=f.useState(!1),[K,L]=f.useState(""),[W,z]=f.useState(()=>({name:"",description:"",type:"1",status:!0,icon:"",background_image:"",sort:"0",theme_color:"#1890ff",rewards:{balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:"",random_rewards:[]},conditions:{new_user_max_days:"",new_user_only:!1,paid_user_only:!1,require_invite:!1,allowed_plans:[],banned_plans:[]},limits:{max_use_per_user:"",cooldown_hours:"",invite_reward_rate:""},special:{start_time:"",end_time:"",festival_bonus:""}})),[T,q]=f.useState(!1),[Y,ee]=f.useState(null),[pe,se]=f.useState({status:"all"}),[he,Pe]=f.useState(""),[J,Re]=f.useState(1),[ie,Ee]=f.useState(20),[Te,fe]=f.useState(0),[X,ke]=f.useState([]),Q=ls(),[Se,re]=f.useState(!1),[Ne,Oe]=f.useState(!1),[xe,me]=f.useState(""),[H,Ce]=f.useState({template_id:"",count:"10",prefix:"GC",expires_hours:"",max_usage:"1",download_csv:!0}),[$e,ne]=f.useState(!1),[je,Ke]=f.useState(!1),[oe,U]=f.useState(""),[be,We]=f.useState({expires_at:"",max_usage:"1",status:"0"}),[et,tt]=f.useState(!1),[Nt,vt]=f.useState(1),[Mt,sn]=f.useState(20),[vn,Qn]=f.useState(0),[Fe,Ft]=f.useState([]),[ht,qt]=f.useState(""),Yt=ls(),[ae,Me]=f.useState(!1),[Ye,Tt]=f.useState(null),[_t]=f.useState(()=>{const S=new Date(Date.now()-2592e6);return`${S.getFullYear()}-${xu(S.getMonth()+1)}-${xu(S.getDate())}`}),[Gt]=f.useState(()=>{const S=new Date;return`${S.getFullYear()}-${xu(S.getMonth()+1)}-${xu(S.getDate())}`}),Bt=async S=>{await pl(S)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},kn=f.useCallback(async()=>{try{const S=await Fi.types();S.data.status==="success"&&l(S.data.data||{})}catch(S){l({}),console.error(S)}},[]),Ln=f.useCallback(async()=>{try{const S=await il.fetch();S.data.status==="success"&&h(S.data.data||[])}catch(S){h([]),console.error(S)}},[]),hr=f.useCallback(S=>{if(!Number.isFinite(S)||S<=0)return"0";const I=S/(1024*1024*1024);if(I>=1)return`${I.toFixed(I>=10?0:2)} GB`;const ue=S/(1024*1024);return`${ue.toFixed(ue>=10?0:2)} MB`},[]),Lr=f.useCallback(S=>{if(!S||typeof S!="object")return"";const I=[],ue=Number(S.balance??0);Number.isFinite(ue)&&ue>0&&I.push(`${e("giftcard.rewards.balance")}: ${(ue/100).toFixed(2)}`);const ge=Number(S.transfer_enable??0);Number.isFinite(ge)&&ge>0&&I.push(`${e("giftcard.rewards.traffic")}: ${hr(ge)}`);const ye=Number(S.device_limit??0);Number.isFinite(ye)&&ye>0&&I.push(`${e("giftcard.rewards.devices")}: ${ye}`);const Ie=Number(S.expire_days??0);Number.isFinite(Ie)&&Ie>0&&I.push(`${e("giftcard.rewards.expire_days")}: ${Ie}`),S.reset_package&&I.push(e("giftcard.rewards.reset_package"));const Je=S.plan_id;Je!=null&&String(Je).trim()&&I.push(`${e("giftcard.rewards.plan")}: ${Je}`);const Ze=Array.isArray(S.random_rewards)?S.random_rewards:[];if(Ze.length){const Ge=Ze.map(Qe=>{if(!Qe||typeof Qe!="object")return null;const it=Number(Qe.weight??0),pn=[],ti=Number(Qe.balance??0);Number.isFinite(ti)&&ti>0&&pn.push(`${e("giftcard.rewards.balance")}:${(ti/100).toFixed(2)}`);const Xn=Number(Qe.transfer_enable??0);Number.isFinite(Xn)&&Xn>0&&pn.push(`${e("giftcard.rewards.traffic")}:${hr(Xn)}`);const _r=Number(Qe.device_limit??0);Number.isFinite(_r)&&_r>0&&pn.push(`${e("giftcard.rewards.devices")}:${_r}`);const Ks=Number(Qe.expire_days??0);Number.isFinite(Ks)&&Ks>0&&pn.push(`${e("giftcard.rewards.expire_days")}:${Ks}`);const ka=pn.join(",");return Number.isFinite(it)&&it>0?ka?`${it}(${ka})`:String(it):ka||null}).filter(Boolean);if(Ge.length){const Qe=Ge.slice(0,2),it=Ge.length-Qe.length;I.push(`${e("giftcard.editor.labels.random_reward_pool")}: ${Qe.join("")}${it>0?`+${it}`:""}`)}}if(I.length)return I.join("");try{return JSON.stringify(S)}catch{return String(S)}},[e,hr]),Pr=f.useMemo(()=>{const S=k.trim().toLowerCase();return S?O.filter(I=>{const ue=a[String(I.type)]||I.type_name||String(I.type),ge=Lr(I.rewards);return String(I.id).includes(S)||(I.name||"").toLowerCase().includes(S)||(I.description||"").toLowerCase().includes(S)||ue.toLowerCase().includes(S)||ge.toLowerCase().includes(S)}):O},[O,k,a,Lr]),gi=Pr.length,yi=Math.max(1,Math.ceil(gi/w)),ws=Math.min(x,yi),Us=f.useMemo(()=>{const S=(ws-1)*w;return Pr.slice(S,S+w)},[Pr,ws,w]);f.useEffect(()=>{v(S=>Math.min(Math.max(1,S),yi))},[yi]);const Vs=f.useCallback(async()=>{p(!0),s(null);try{const S={page:1,per_page:1e3};g.type!=="all"&&(S.type=Number(g.type)),g.status!=="all"&&(S.status=Number(g.status));const I=await Fi.templates(S);M(I.data.data||[]),v(1)}catch(S){M([]),v(1),s({tone:"error",text:Ca(S,e("common.load_failed"))}),console.error(S)}finally{p(!1)}},[e,g]),yn=f.useCallback(async()=>{try{const S=await Fi.templates({page:1,per_page:1e3});u(S.data.data||[])}catch(S){u([]),console.error(S)}},[]),ce=f.useCallback(async()=>{q(!0),s(null);try{const S={page:J,per_page:ie},I=he.trim();I&&(S.keyword=I),pe.status!=="all"&&(S.status=Number(pe.status));const ue=await Fi.codes(S);ke(ue.data.data||[]),fe(ue.data.total||0)}catch(S){ke([]),fe(0),s({tone:"error",text:Ca(S,e("common.load_failed"))}),console.error(S)}finally{q(!1)}},[e,J,ie,pe,he]),Be=f.useCallback(async()=>{tt(!0),s(null);try{const S={page:Nt,per_page:Mt},I=await Fi.usages(S);Ft(I.data.data||[]),Qn(I.data.total||0)}catch(S){Ft([]),Qn(0),s({tone:"error",text:Ca(S,e("common.load_failed"))}),console.error(S)}finally{tt(!1)}},[e,Nt,Mt]),jt=f.useMemo(()=>{const S=ht.trim().toLowerCase();return S?Fe.filter(I=>!!(String(I.id).includes(S)||(I.code||"").toLowerCase().includes(S)||(I.user_email||"").toLowerCase().includes(S)||(I.template_name||"").toLowerCase().includes(S))):Fe},[Fe,ht]),ft=f.useCallback(async()=>{Me(!0),s(null);try{const S=await Fi.statistics({start_date:_t,end_date:Gt});if(S.data.status!=="success")throw new Error(S.data.message||"request failed");Tt(S.data.data)}catch(S){Tt(null),s({tone:"error",text:Ca(S,e("common.load_failed"))}),console.error(S)}finally{Me(!1)}},[e,_t,Gt]);f.useEffect(()=>{kn()},[kn]),f.useEffect(()=>{Ln()},[Ln]),f.useEffect(()=>{yn()},[yn]),f.useEffect(()=>{n==="templates"&&Vs()},[n,Vs]),f.useEffect(()=>{n==="codes"&&ce()},[n,ce]),f.useEffect(()=>{n==="usages"&&Be()},[n,Be]),f.useEffect(()=>{n==="statistics"&&ft()},[n,ft]);const Wt=()=>{L("");const S=Object.keys(a)[0]?String(Object.keys(a)[0]):"1";z({name:"",description:"",type:S,status:!0,icon:"",background_image:"",sort:"0",theme_color:"#1890ff",rewards:{balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:"",random_rewards:S==="3"?[wb()]:[]},conditions:{new_user_max_days:"",new_user_only:!1,paid_user_only:!1,require_invite:!1,allowed_plans:[],banned_plans:[]},limits:{max_use_per_user:"",cooldown_hours:"",invite_reward_rate:""},special:{start_time:"",end_time:"",festival_bonus:""}}),R(!0)},Vt=S=>{L("");const I=S.rewards??{},ue=S.conditions??{},ge=S.limits??{},ye=S.special_config??{},Ie=String(S.type??"1"),Je=(ge==null?void 0:ge.invite_reward_rate)??(I==null?void 0:I.invite_reward_rate),Ge=(Array.isArray(I==null?void 0:I.random_rewards)?I.random_rewards:[]).map(Qe=>!Qe||typeof Qe!="object"?null:{id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,weight:Qe.weight!=null?String(Qe.weight):"1",balance_yuan:KF(Qe.balance),traffic_gb:YF(Qe.transfer_enable),expire_days:Qe.expire_days!=null&&Number(Qe.expire_days)>0?String(Math.trunc(Number(Qe.expire_days))):"",device_limit:Qe.device_limit!=null&&Number(Qe.device_limit)>0?String(Math.trunc(Number(Qe.device_limit))):""}).filter(Boolean);z({id:S.id,name:S.name||"",description:S.description||"",type:Ie,status:!!S.status,icon:S.icon||"",background_image:S.background_image||"",sort:String(S.sort??0),theme_color:S.theme_color||"#1890ff",rewards:{balance_yuan:KF(I.balance),traffic_gb:YF(I.transfer_enable),expire_days:I.expire_days!=null&&Number(I.expire_days)>0?String(Math.trunc(Number(I.expire_days))):"",device_limit:I.device_limit!=null&&Number(I.device_limit)>0?String(Math.trunc(Number(I.device_limit))):"",random_rewards:Ie==="3"&&Ge.length===0?[wb()]:Ge},conditions:{new_user_max_days:ue.new_user_max_days!=null&&Number(ue.new_user_max_days)>0?String(Math.trunc(Number(ue.new_user_max_days))):"",new_user_only:!!ue.new_user_only,paid_user_only:!!ue.paid_user_only,require_invite:!!ue.require_invite,allowed_plans:Array.isArray(ue.allowed_plans)?ue.allowed_plans.map(Qe=>Math.trunc(Number(Qe))).filter(Qe=>Number.isFinite(Qe)&&Qe>0):[],banned_plans:Array.isArray(ue.banned_plans)?ue.banned_plans.map(Qe=>Math.trunc(Number(Qe))).filter(Qe=>Number.isFinite(Qe)&&Qe>0):[]},limits:{max_use_per_user:ge.max_use_per_user!=null&&Number(ge.max_use_per_user)>0?String(Math.trunc(Number(ge.max_use_per_user))):"",cooldown_hours:ge.cooldown_hours!=null&&Number(ge.cooldown_hours)>0?String(Math.trunc(Number(ge.cooldown_hours))):"",invite_reward_rate:Je!=null&&String(Je).trim()?String(Je):""},special:{start_time:_N(ye.start_time??null),end_time:_N(ye.end_time??null),festival_bonus:ye.festival_bonus!=null&&String(ye.festival_bonus).trim()?String(ye.festival_bonus):""}}),R(!0)},Zr=async S=>{if(!j){_(S.id),s(null);try{const I=!S.status,ue=await Fi.updateTemplate({id:S.id,status:I});if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");M(ge=>ge.map(ye=>ye.id===S.id?{...ye,status:I}:ye))}catch(I){s({tone:"error",text:Ca(I,e("common.save_failed"))}),console.error(I)}finally{_(null)}}},sr=async()=>{if(F)return;if(L(""),!W.name.trim())return L(e("giftcard.validation.name_required"));const I=Math.trunc(Number(W.type))===3;let ue=null;const ge=W.limits.invite_reward_rate.trim();if(ge){const Ht=Number(ge);if(!Number.isFinite(Ht)||Ht<0||Ht>1)return L(e("giftcard.validation.invite_reward_rate_invalid"));ue=Ht}const ye={};ue!==null&&(ye.invite_reward_rate=ue);const Ie=W.rewards.balance_yuan.trim();if(Ie){const Ht=GF(Ie);if(Ht===null)return L(e("giftcard.validation.number_invalid"));Ht>0&&(ye.balance=Ht)}const Je=W.rewards.traffic_gb.trim();if(Je){const Ht=QF(Je);if(Ht===null)return L(e("giftcard.validation.number_invalid"));Ht>0&&(ye.transfer_enable=Ht)}const Ze=W.rewards.expire_days.trim();if(Ze){const Ht=tu(Ze);if(Ht===null)return L(e("giftcard.validation.number_invalid"));ye.expire_days=Ht}const Ge=W.rewards.device_limit.trim();if(Ge){const Ht=tu(Ge);if(Ht===null)return L(e("giftcard.validation.number_invalid"));ye.device_limit=Ht}const Qe=[];if(W.rewards.random_rewards.length)for(const Ht of W.rewards.random_rewards){const oo=tu(Ht.weight);if(oo===null)return L(e("giftcard.validation.random_reward_weight_invalid"));const Xi={weight:oo},Hx=Ht.balance_yuan.trim();if(Hx){const Zi=GF(Hx);if(Zi===null)return L(e("giftcard.validation.number_invalid"));Zi>0&&(Xi.balance=Zi)}const Jt=Ht.traffic_gb.trim();if(Jt){const Zi=QF(Jt);if(Zi===null)return L(e("giftcard.validation.number_invalid"));Zi>0&&(Xi.transfer_enable=Zi)}const Th=Ht.expire_days.trim();if(Th){const Zi=tu(Th);if(Zi===null)return L(e("giftcard.validation.number_invalid"));Xi.expire_days=Zi}const Kx=Ht.device_limit.trim();if(Kx){const Zi=tu(Kx);if(Zi===null)return L(e("giftcard.validation.number_invalid"));Xi.device_limit=Zi}if(Object.keys(Xi).length<=1)return L(e("giftcard.validation.random_reward_empty"));Qe.push(Xi)}if(I&&Qe.length===0)return L(e("giftcard.validation.random_rewards_required"));if(Qe.length&&(ye.random_rewards=Qe),!Object.keys(ye).some(Ht=>Ht!=="invite_reward_rate"))return L(e("giftcard.validation.rewards_required"));const pn={};if(W.conditions.new_user_only){pn.new_user_only=!0;const Ht=W.conditions.new_user_max_days.trim();if(Ht){const oo=tu(Ht);if(oo===null)return L(e("giftcard.validation.number_invalid"));pn.new_user_max_days=oo}}W.conditions.paid_user_only&&(pn.paid_user_only=!0),W.conditions.require_invite&&(pn.require_invite=!0),W.conditions.allowed_plans.length&&(pn.allowed_plans=W.conditions.allowed_plans),W.conditions.banned_plans.length&&(pn.banned_plans=W.conditions.banned_plans);const ti=Object.keys(pn).length?pn:null,Xn={},_r=W.limits.max_use_per_user.trim();if(_r){const Ht=tu(_r);if(Ht===null)return L(e("giftcard.validation.number_invalid"));Xn.max_use_per_user=Ht}const Ks=W.limits.cooldown_hours.trim();if(Ks){const Ht=tu(Ks);if(Ht===null)return L(e("giftcard.validation.number_invalid"));Xn.cooldown_hours=Ht}ue!==null&&(Xn.invite_reward_rate=ue);const ka=Object.keys(Xn).length?Xn:null,js={},wt=W.special.start_time.trim(),wr=W.special.end_time.trim(),ep=W.special.festival_bonus.trim();if(wt||wr||ep){if(!wt||!wr)return L(e("giftcard.validation.time_range_invalid"));const Ht=wN(wt),oo=wN(wr);if(Ht===null||oo===null||oo<=Ht)return L(e("giftcard.validation.time_range_invalid"));if(js.start_time=Ht,js.end_time=oo,ep){const Xi=Number(ep);if(!Number.isFinite(Xi)||Xi<=0)return L(e("giftcard.validation.number_invalid"));js.festival_bonus=Xi}else js.festival_bonus=1}const mt=Object.keys(js).length?js:null,Ll={id:W.id,name:W.name.trim(),description:W.description.trim()||null,type:Number(W.type),status:W.status,sort:Math.trunc(Number(W.sort||"0")),theme_color:W.theme_color.trim()||null,icon:W.icon.trim()||null,background_image:W.background_image.trim()||null,rewards:ye,conditions:ti,limits:ka,special_config:mt};V(!0),s(null);try{const Ht=W.id?await Fi.updateTemplate(Ll):await Fi.createTemplate(Ll);if(Ht.data.status!=="success")throw new Error(Ht.data.message||"request failed");s({tone:"success",text:e("giftcard.saved")}),R(!1),await yn(),await Vs()}catch(Ht){L(Ca(Ht,e("common.save_failed"))),console.error(Ht)}finally{V(!1)}},Er=async S=>{if(await t({title:e("common.delete"),description:e("giftcard.confirm_delete_template"),confirmText:e("common.delete"),confirmVariant:"destructive"})){s(null);try{const ue=await Fi.deleteTemplate(S.id);if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");pt.success(e("giftcard.deleted")),await yn(),await Vs()}catch(ue){s({tone:"error",text:Ca(ue,e("common.save_failed"))}),console.error(ue)}}},Un=()=>{me(""),Ce(S=>{var I;return{...S,template_id:(I=c[0])!=null&&I.id?String(c[0].id):""}}),re(!0)},qe=async()=>{var ge,ye;if(Ne)return;if(me(""),!H.template_id)return me(e("giftcard.validation.template_required"));const S=Math.trunc(Number(H.count));if(!Number.isFinite(S)||S<1)return me(e("giftcard.validation.count_invalid"));const I=Math.trunc(Number(H.max_usage||"1"));if(!Number.isFinite(I)||I<1)return me(e("giftcard.validation.max_usage_invalid"));const ue={template_id:Number(H.template_id),count:S,prefix:H.prefix.trim().toUpperCase()||"GC",max_usage:I};H.expires_hours.trim()&&(ue.expires_hours=Math.trunc(Number(H.expires_hours))),H.download_csv&&(ue.download_csv=1),Oe(!0),s(null);try{if(H.download_csv){const Ie=await Fi.generateCodesCsv(ue),Je=HF((ge=Ie.headers)==null?void 0:ge["content-disposition"])||`gift_codes_${Date.now()}.csv`,Ze=Ie.data instanceof Blob?Ie.data:new Blob([Ie.data],{type:"text/csv;charset=utf-8"});jN(Ze,Je),s({tone:"success",text:e("giftcard.generated_csv")})}else{const Ie=await Fi.generateCodes(ue);if(Ie.data.status!=="success")throw new Error(Ie.data.message||"request failed");s({tone:"success",text:e("giftcard.generated",{batch_id:((ye=Ie.data.data)==null?void 0:ye.batch_id)||"-"})})}re(!1),await ce()}catch(Ie){me(Ca(Ie,e("common.save_failed"))),console.error(Ie)}finally{Oe(!1)}},fn=async S=>{var I;s(null);try{const ue=await Fi.exportCodes(S),ge=HF((I=ue.headers)==null?void 0:I["content-disposition"])||`gift_cards_${S}.txt`,ye=ue.data instanceof Blob?ue.data:new Blob([ue.data],{type:"text/plain;charset=utf-8"});jN(ye,ge)}catch(ue){s({tone:"error",text:Ca(ue,e("common.save_failed"))}),console.error(ue)}},Jr=async S=>{if(!Y){ee(S.id),s(null);try{const I=S.status===3?"enable":"disable",ue=await Fi.toggleCode({id:S.id,action:I});if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");await ce()}catch(I){s({tone:"error",text:Ca(I,e("common.save_failed"))}),console.error(I)}finally{ee(null)}}},ei=S=>{U(""),We({id:S.id,expires_at:_N(S.expires_at),max_usage:String(S.max_usage??1),status:String(S.status??0)}),ne(!0)},Qi=async()=>{if(je||!be.id)return;U("");const S=Math.trunc(Number(be.max_usage||"1"));if(!Number.isFinite(S)||S<1)return U(e("giftcard.validation.max_usage_invalid"));const I=wN(be.expires_at),ue=Math.trunc(Number(be.status));if(!Number.isFinite(ue))return U(e("giftcard.validation.status_invalid"));Ke(!0),s(null);try{const ge=await Fi.updateCode({id:be.id,expires_at:I,max_usage:S,status:ue});if(ge.data.status!=="success")throw new Error(ge.data.message||"request failed");s({tone:"success",text:e("giftcard.saved")}),ne(!1),await ce()}catch(ge){U(Ca(ge,e("common.save_failed"))),console.error(ge)}finally{Ke(!1)}},so=async S=>{if(await t({title:e("common.delete"),description:e("giftcard.confirm_delete_code"),confirmText:e("common.delete"),confirmVariant:"destructive"})&&!Y){ee(S.id),s(null);try{const ue=await Fi.deleteCode(S.id);if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");pt.success(e("giftcard.deleted")),await ce()}catch(ue){s({tone:"error",text:Ca(ue,e("common.save_failed"))}),console.error(ue)}finally{ee(null)}}},Al=S=>{const I=Number(S.max_usage??0);if(!Number.isFinite(I)||I<=0)return 0;const ue=Number(S.usage_count??0);return!Number.isFinite(ue)||ue<0?I:Math.max(0,I-ue)},Bc=S=>{var ue;const I=S;return String(I.template_name??((ue=I.template)==null?void 0:ue.name)??"")},ao=S=>{const I=Number(S.expires_at??0);return!Number.isFinite(I)||I<=0?!1:I<Math.floor(Date.now()/1e3)},qc=S=>{const I=Number(S.status);if(I===2||I===3||ao(S))return"expired";const ue=Number(S.usage_count??0);return I===1||Number.isFinite(ue)&&ue>0?"used":"unused"},Oh=f.useMemo(()=>[{key:"id",label:e("giftcard.codes.table.id")},{key:"code",label:e("giftcard.codes.table.code")},{key:"batch_id",label:e("giftcard.codes.table.batch")},{key:"template_name",label:e("giftcard.codes.table.template")},{key:"status_name",label:e("giftcard.codes.table.status")},{key:"expires_at",label:e("giftcard.codes.table.expires_at")},{key:"usage_count",label:e("giftcard.codes.table.used_count")},{key:"available_count",label:e("giftcard.codes.table.available_count")},{key:"created_at",label:e("giftcard.codes.table.created_at")}],[e]),Wc="xboard_admin.giftcard.codes.columns.v1",ja=f.useMemo(()=>({id:!0,code:!0,batch_id:!1,template_name:!0,status_name:!0,expires_at:!0,usage_count:!0,available_count:!0,created_at:!0}),[]),[$n,Ph]=f.useState(()=>{if(typeof window>"u")return ja;try{const S=window.localStorage.getItem(Wc);if(!S)return ja;const I=JSON.parse(S);if(!I||typeof I!="object")return ja;const ue={...ja};return Object.keys(ja).forEach(ge=>{typeof I[ge]=="boolean"&&(ue[ge]=I[ge])}),ue}catch{return ja}});f.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Wc,JSON.stringify($n))}catch{}},[$n]);const[Ai,zl]=f.useState({key:"created_at",dir:"desc"}),Dl=f.useMemo(()=>{const S=Ai.dir==="asc"?1:-1,I=[...X],ue=ge=>{switch(Ai.key){case"id":return Number(ge.id??0);case"code":return String(ge.code??"");case"batch_id":return String(ge.batch_id??"");case"template_name":return Bc(ge);case"status_name":{const ye=qc(ge);return ye==="unused"?2:ye==="used"?1:0}case"expires_at":return ge.expires_at?Number(ge.expires_at):Number.POSITIVE_INFINITY;case"usage_count":return Number(ge.usage_count??0);case"available_count":return Al(ge);case"created_at":return Number(ge.created_at??0);default:return""}};return I.sort((ge,ye)=>{const Ie=ue(ge),Je=ue(ye);return typeof Ie=="number"&&typeof Je=="number"?(Ie-Je)*S:String(Ie).localeCompare(String(Je))*S}),I},[X,Ai]),Hs=S=>{zl(I=>I.key===S?{key:S,dir:I.dir==="asc"?"desc":"asc"}:{key:S,dir:"asc"})},Eh=()=>{const S=Dl;if(S.length===0)return;const I=Oh.filter(Ze=>$n[Ze.key]),ue=Ze=>{const Ge=Ze==null?"":String(Ze);return/[\",\\n\\r]/.test(Ge)?`"${Ge.replace(/\"/g,'""')}"`:Ge},ge=(Ze,Ge)=>{switch(Ge){case"id":return Ze.id;case"code":return Ze.code;case"batch_id":return Ze.batch_id;case"template_name":return Bc(Ze);case"status_name":{const Qe=qc(Ze);return e(Qe==="unused"?"giftcard.code_status.unused":Qe==="used"?"giftcard.code_status.used":"giftcard.code_status.expired")}case"expires_at":return Ze.expires_at?Yh(Ze.expires_at):e("giftcard.unlimited");case"usage_count":return Ze.usage_count??0;case"available_count":return Al(Ze);case"created_at":return Yh(Ze.created_at);default:return""}},ye=I.map(Ze=>ue(Ze.label)).join(","),Ie=S.map(Ze=>I.map(Ge=>ue(ge(Ze,Ge.key))).join(",")).join(`
`),Je=`${ye}
${Ie}`;jN(new Blob([Je],{type:"text/csv;charset=utf-8"}),`gift_codes_${Date.now()}.csv`)};return o.jsxs("div",{className:"p-6 space-y-6",children:[i&&o.jsx("div",{className:te("text-sm",i.tone==="success"?"text-green-600":"text-red-600"),children:i.text}),o.jsxs(Qm,{value:n,onValueChange:S=>{r(S)},children:[o.jsxs(Nh,{children:[o.jsx(gr,{value:"templates",children:e("giftcard.tabs.templates")}),o.jsx(gr,{value:"codes",children:e("giftcard.tabs.codes")}),o.jsx(gr,{value:"usages",children:e("giftcard.tabs.usages")}),o.jsx(gr,{value:"statistics",children:e("giftcard.tabs.statistics")})]}),o.jsxs(ai,{value:"templates",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:k,onChange:S=>{C(S.target.value),v(1)},placeholder:e("giftcard.templates.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(st,{value:g.type,onValueChange:S=>{y(I=>({...I,type:S})),v(1)},children:[o.jsx(nt,{className:"h-9 w-[140px]",children:o.jsx(at,{placeholder:e("giftcard.filters.type")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("giftcard.all")}),Object.entries(a).map(([S,I])=>o.jsx(de,{value:String(S),children:I},S))]})]}),o.jsxs(st,{value:g.status,onValueChange:S=>{y(I=>({...I,status:S})),v(1)},children:[o.jsx(nt,{className:"h-9 w-[140px]",children:o.jsx(at,{placeholder:e("giftcard.filters.status")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("giftcard.all")}),o.jsx(de,{value:"1",children:e("giftcard.status.on")}),o.jsx(de,{value:"0",children:e("giftcard.status.off")})]})]}),o.jsxs(B,{size:"sm",className:"h-9",onClick:Wt,disabled:m,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("giftcard.create_template")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Vs,disabled:m,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",m&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:gi===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_templates")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("giftcard.templates.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("giftcard.templates.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.templates.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("giftcard.templates.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("giftcard.templates.table.rewards")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[100px]",children:e("giftcard.templates.table.sort")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("giftcard.templates.table.created_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("giftcard.templates.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Us.map(S=>{const I=j===S.id,ue=a[String(S.type)]||S.type_name||String(S.type),ge=Lr(S.rewards);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:ye=>P.openMenu(ye,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!S.status,onCheckedChange:()=>Zr(S),disabled:I})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium",title:S.name,children:S.name}),S.description?o.jsx("div",{className:"truncate text-xs text-muted-foreground",title:S.description,children:S.description}):null]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ue,children:ue})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ge,children:ge||""})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.sort??0}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Yh(S.created_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Vt(S),disabled:I,children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>Er(S),disabled:I,children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},S.id)})})]})})})}),o.jsx(us,{page:x,total:gi,pageSize:w,onPageChange:S=>v(S),onPageSizeChange:S=>{b(S),v(1)},loading:m})]}),o.jsxs(ai,{value:"codes",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:he,onChange:S=>{Pe(S.target.value),Re(1)},placeholder:e("giftcard.codes.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(st,{value:pe.status,onValueChange:S=>{se({status:S}),Re(1)},children:[o.jsx(nt,{className:"h-9 w-[160px]",children:o.jsx(at,{placeholder:e("giftcard.filters.status")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("giftcard.all")}),o.jsx(de,{value:"0",children:e("giftcard.code_status.unused")}),o.jsx(de,{value:"1",children:e("giftcard.code_status.used")}),o.jsx(de,{value:"2",children:e("giftcard.code_status.expired")})]})]}),o.jsxs(B,{size:"sm",className:"h-9",onClick:Un,disabled:c.length===0,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("giftcard.generate")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Eh,disabled:Dl.length===0,children:[o.jsx(G_,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.export")]}),o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",children:[e("giftcard.codes.columns"),o.jsx(Tc,{className:"ml-2 h-4 w-4 opacity-60"})]})}),o.jsxs(fa,{align:"end",className:"w-56",children:[o.jsx(Gg,{children:e("giftcard.codes.columns")}),o.jsx(ns,{}),Oh.map(S=>o.jsx(IE,{checked:$n[S.key],onCheckedChange:I=>Ph(ue=>({...ue,[S.key]:!!I})),children:S.label},S.key))]})]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:ce,disabled:T,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",T&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:Dl.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_codes")}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full min-w-[980px] text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[$n.id?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="id"&&"text-foreground"),onClick:()=>Hs("id"),children:[e("giftcard.codes.table.id"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.code?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[240px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="code"&&"text-foreground"),onClick:()=>Hs("code"),children:[e("giftcard.codes.table.code"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.batch_id?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="batch_id"&&"text-foreground"),onClick:()=>Hs("batch_id"),children:[e("giftcard.codes.table.batch"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.template_name?o.jsx("th",{className:"text-left font-medium px-4 py-3",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="template_name"&&"text-foreground"),onClick:()=>Hs("template_name"),children:[e("giftcard.codes.table.template"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.status_name?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="status_name"&&"text-foreground"),onClick:()=>Hs("status_name"),children:[e("giftcard.codes.table.status"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.expires_at?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="expires_at"&&"text-foreground"),onClick:()=>Hs("expires_at"),children:[e("giftcard.codes.table.expires_at"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.usage_count?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="usage_count"&&"text-foreground"),onClick:()=>Hs("usage_count"),children:[e("giftcard.codes.table.used_count"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.available_count?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="available_count"&&"text-foreground"),onClick:()=>Hs("available_count"),children:[e("giftcard.codes.table.available_count"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,$n.created_at?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:o.jsxs("button",{type:"button",className:te("inline-flex items-center gap-1 hover:text-foreground",Ai.key==="created_at"&&"text-foreground"),onClick:()=>Hs("created_at"),children:[e("giftcard.codes.table.created_at"),o.jsx(Ns,{className:"h-4 w-4 opacity-60"})]})}):null,o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[140px]",children:e("giftcard.codes.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Dl.map(S=>{const I=Y===S.id,ue=Bc(S),ge=S.expires_at?Yh(S.expires_at):e("giftcard.unlimited"),ye=Number(S.usage_count??0),Ie=Al(S),Je=qc(S),Ge=!ao(S)&&(Number.isFinite(ye)?ye<=0:!0)&&(S.status===0||S.status===3),Qe=e(Je==="unused"?"giftcard.code_status.unused":Je==="used"?"giftcard.code_status.used":"giftcard.code_status.expired"),it=Je==="unused"?"text-green-600":Je==="used"?"text-blue-600":"text-muted-foreground";return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:pn=>Q.openMenu(pn,S),children:[$n.id?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}):null,$n.code?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{type:"button",className:"min-w-0 truncate text-left font-mono tabular-nums hover:underline",title:S.code,onClick:()=>Bt(S.code),disabled:!S.code,children:S.code}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 shrink-0",onClick:()=>Bt(S.code),disabled:I||!S.code,title:e("giftcard.codes.copy_code"),children:o.jsx(ci,{className:"h-4 w-4"})})]})}):null,$n.batch_id?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate tabular-nums",title:S.batch_id,children:S.batch_id})}):null,$n.template_name?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ue,children:ue||""})}):null,$n.status_name?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[Ge?o.jsx(Dt,{checked:S.status!==3,onCheckedChange:()=>Jr(S),disabled:I}):null,o.jsx("span",{className:te("text-sm",it),children:Qe})]})}):null,$n.expires_at?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:o.jsx("div",{className:"truncate",title:ge,children:ge})}):null,$n.usage_count?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number.isFinite(ye)?ye:0}):null,$n.available_count?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Ie}):null,$n.created_at?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Yh(S.created_at)}):null,o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>ei(S),disabled:I,title:e("common.edit"),children:o.jsx(Ur,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>so(S),disabled:I,title:e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})]})})]},S.id)})})]})})})}),o.jsx(us,{page:J,total:Te,pageSize:ie,onPageChange:S=>Re(S),onPageSizeChange:S=>{Ee(S),Re(1)},loading:T})]}),o.jsxs(ai,{value:"usages",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:ht,onChange:S=>{qt(S.target.value),vt(1)},placeholder:e("giftcard.usages.search_placeholder"),className:"h-9 pl-9"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Be,disabled:et,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",et&&"animate-spin")}),e("common.refresh")]})})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:jt.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_usages")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("giftcard.usages.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.usages.table.code")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.usages.table.user")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("giftcard.usages.table.template")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("giftcard.usages.table.used_at")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:jt.map(S=>o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:I=>Yt.openMenu(I,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate tabular-nums",title:S.code,children:S.code})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:S.user_email,children:S.user_email})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:S.template_name,children:S.template_name})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Yh(S.created_at)})]},S.id))})]})})})}),o.jsx(us,{page:Nt,total:vn,pageSize:Mt,onPageChange:S=>vt(S),onPageSizeChange:S=>{sn(S),vt(1)},loading:et})]}),o.jsxs(ai,{value:"statistics",className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:ft,disabled:ae,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",ae&&"animate-spin")}),e("common.refresh")]})}),ae?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.loading")})}):Ye?o.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.templates_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((ed=Ye.total_stats)==null?void 0:ed.templates_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.active_templates_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((td=Ye.total_stats)==null?void 0:td.active_templates_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.codes_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((Rl=Ye.total_stats)==null?void 0:Rl.codes_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.used_codes_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((nd=Ye.total_stats)==null?void 0:nd.used_codes_count)??0})]})})]}):o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_stats")})})]})]}),o.jsx(un,{open:A,onOpenChange:R,children:o.jsxs(on,{className:"max-w-4xl h-[90vh] max-h-[95vh] overflow-hidden p-0 flex flex-col gap-0",children:[o.jsx(dn,{className:"shrink-0 border-b px-6 py-4 pr-12",children:o.jsx(hn,{children:W.id?e("giftcard.edit_template"):e("giftcard.create_template")})}),o.jsx(ds,{className:"flex-1 min-h-0",children:o.jsx("div",{className:"px-6 py-4 pr-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.template_info")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.name")}),o.jsx(G,{value:W.name,onChange:S=>z(I=>({...I,name:S.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.type")}),o.jsxs(st,{value:W.type,onValueChange:S=>z(I=>{const ue=S==="3";return{...I,type:S,rewards:{...I.rewards,random_rewards:ue?I.rewards.random_rewards.length?I.rewards.random_rewards:[wb()]:[]}}}),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:Object.entries(a).map(([S,I])=>o.jsx(de,{value:String(S),children:I},S))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.description")}),o.jsx(xr,{value:W.description,onChange:S=>z(I=>({...I,description:S.target.value})),placeholder:e("giftcard.editor.placeholders.description"),className:"min-h-[96px]"})]})]})]}),o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.status")})}),o.jsx(Lt,{children:o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Z,{className:"text-base",children:e("giftcard.fields.status")}),o.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:e("giftcard.editor.hints.status")})]}),o.jsx(Dt,{checked:W.status,onCheckedChange:S=>z(I=>({...I,status:S}))})]})})]}),o.jsxs(It,{children:[o.jsxs(Jn,{children:[o.jsx(er,{children:e("giftcard.editor.sections.rewards")}),o.jsx(ha,{children:e("giftcard.editor.hints.rewards")})]}),o.jsx(Lt,{className:"space-y-4",children:W.type==="3"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.random_reward_pool")}),o.jsxs("div",{className:"space-y-2",children:[W.rewards.random_rewards.map(S=>{const I=W.type==="3"&&W.rewards.random_rewards.length<=1;return o.jsxs("div",{className:"grid gap-2 rounded-md border p-3 md:grid-cols-12",children:[o.jsx(G,{type:"number",min:"1",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_weight"),value:S.weight,onChange:ue=>z(ge=>({...ge,rewards:{...ge.rewards,random_rewards:ge.rewards.random_rewards.map(ye=>ye.id===S.id?{...ye,weight:ue.target.value}:ye)}}))}),o.jsx(G,{type:"number",min:"0",step:"0.01",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_balance"),value:S.balance_yuan,onChange:ue=>z(ge=>({...ge,rewards:{...ge.rewards,random_rewards:ge.rewards.random_rewards.map(ye=>ye.id===S.id?{...ye,balance_yuan:ue.target.value}:ye)}}))}),o.jsx(G,{type:"number",min:"0",step:"0.01",className:"h-9 w-full md:col-span-3",placeholder:e("giftcard.editor.placeholders.reward_traffic"),value:S.traffic_gb,onChange:ue=>z(ge=>({...ge,rewards:{...ge.rewards,random_rewards:ge.rewards.random_rewards.map(ye=>ye.id===S.id?{...ye,traffic_gb:ue.target.value}:ye)}}))}),o.jsx(G,{type:"number",min:"0",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_expire_days"),value:S.expire_days,onChange:ue=>z(ge=>({...ge,rewards:{...ge.rewards,random_rewards:ge.rewards.random_rewards.map(ye=>ye.id===S.id?{...ye,expire_days:ue.target.value}:ye)}}))}),o.jsx(G,{type:"number",min:"0",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_device_limit"),value:S.device_limit,onChange:ue=>z(ge=>({...ge,rewards:{...ge.rewards,random_rewards:ge.rewards.random_rewards.map(ye=>ye.id===S.id?{...ye,device_limit:ue.target.value}:ye)}}))}),o.jsx("div",{className:"flex justify-end md:col-span-1",children:o.jsx(B,{type:"button",size:"icon",variant:"ghost",className:"h-9 w-9",disabled:I,onClick:()=>z(ue=>({...ue,rewards:{...ue.rewards,random_rewards:ue.rewards.random_rewards.filter(ge=>ge.id!==S.id)}})),title:e("common.delete"),children:o.jsx(Tn,{className:"h-4 w-4"})})})]},S.id)}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>z(S=>({...S,rewards:{...S.rewards,random_rewards:[...S.rewards.random_rewards,wb()]}})),children:e("giftcard.editor.actions.add_random_reward")})]})]}):o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.reward_balance")}),o.jsx(G,{type:"number",min:"0",step:"0.01",value:W.rewards.balance_yuan,onChange:S=>z(I=>({...I,rewards:{...I.rewards,balance_yuan:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_balance")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.reward_traffic")}),o.jsx(G,{type:"number",min:"0",step:"0.01",value:W.rewards.traffic_gb,onChange:S=>z(I=>({...I,rewards:{...I.rewards,traffic_gb:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_traffic")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.reward_expire_days")}),o.jsx(G,{type:"number",min:"0",value:W.rewards.expire_days,onChange:S=>z(I=>({...I,rewards:{...I.rewards,expire_days:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_expire_days")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.reward_device_limit")}),o.jsx(G,{type:"number",min:"0",value:W.rewards.device_limit,onChange:S=>z(I=>({...I,rewards:{...I.rewards,device_limit:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_device_limit")})]})]})})]}),o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.conditions")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.new_user_max_days")}),o.jsx(G,{type:"number",min:"0",value:W.conditions.new_user_max_days,onChange:S=>z(I=>({...I,conditions:{...I.conditions,new_user_max_days:S.target.value}})),placeholder:e("giftcard.editor.placeholders.new_user_max_days"),disabled:!W.conditions.new_user_only})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(Z,{children:e("giftcard.editor.labels.new_user_only")}),o.jsx(Dt,{checked:W.conditions.new_user_only,onCheckedChange:S=>z(I=>({...I,conditions:{...I.conditions,new_user_only:S,new_user_max_days:S?I.conditions.new_user_max_days:""}}))})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(Z,{children:e("giftcard.editor.labels.paid_user_only")}),o.jsx(Dt,{checked:W.conditions.paid_user_only,onCheckedChange:S=>z(I=>({...I,conditions:{...I.conditions,paid_user_only:S}}))})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(Z,{children:e("giftcard.editor.labels.require_invite")}),o.jsx(Dt,{checked:W.conditions.require_invite,onCheckedChange:S=>z(I=>({...I,conditions:{...I.conditions,require_invite:S}}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.allowed_plans")}),o.jsx(XF,{value:W.conditions.allowed_plans,onChange:S=>z(I=>({...I,conditions:{...I.conditions,allowed_plans:S}})),options:d,placeholder:e("giftcard.editor.placeholders.allowed_plans")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.banned_plans")}),o.jsx(XF,{value:W.conditions.banned_plans,onChange:S=>z(I=>({...I,conditions:{...I.conditions,banned_plans:S}})),options:d,placeholder:e("giftcard.editor.placeholders.banned_plans")})]})]})]}),o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.limits")})}),o.jsxs(Lt,{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.max_use_per_user")}),o.jsx(G,{type:"number",min:"0",value:W.limits.max_use_per_user,onChange:S=>z(I=>({...I,limits:{...I.limits,max_use_per_user:S.target.value}})),placeholder:e("giftcard.editor.placeholders.max_use_per_user")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.cooldown_hours")}),o.jsx(G,{type:"number",min:"0",value:W.limits.cooldown_hours,onChange:S=>z(I=>({...I,limits:{...I.limits,cooldown_hours:S.target.value}})),placeholder:e("giftcard.editor.placeholders.cooldown_hours")})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.invite_reward_rate")}),o.jsx(G,{type:"number",min:"0",max:"1",step:"0.01",value:W.limits.invite_reward_rate,onChange:S=>z(I=>({...I,limits:{...I.limits,invite_reward_rate:S.target.value}})),placeholder:e("giftcard.editor.placeholders.invite_reward_rate")}),o.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:e("giftcard.editor.hints.invite_reward_rate")})]})]})]}),o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.special")})}),o.jsxs(Lt,{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.start_time")}),o.jsx(G,{type:"datetime-local",value:W.special.start_time,onChange:S=>z(I=>({...I,special:{...I.special,start_time:S.target.value}}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.end_time")}),o.jsx(G,{type:"datetime-local",value:W.special.end_time,onChange:S=>z(I=>({...I,special:{...I.special,end_time:S.target.value}}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.editor.labels.festival_bonus")}),o.jsx(G,{type:"number",min:"0",step:"0.1",value:W.special.festival_bonus,onChange:S=>z(I=>({...I,special:{...I.special,festival_bonus:S.target.value}})),placeholder:e("giftcard.editor.placeholders.festival_bonus")})]})]})]}),o.jsxs(It,{children:[o.jsx(Jn,{children:o.jsx(er,{children:e("giftcard.editor.sections.display")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.icon")}),o.jsx(G,{value:W.icon,onChange:S=>z(I=>({...I,icon:S.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.background_image")}),o.jsx(G,{value:W.background_image,onChange:S=>z(I=>({...I,background_image:S.target.value})),placeholder:"https://..."})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.theme_color")}),o.jsx(G,{value:W.theme_color,onChange:S=>z(I=>({...I,theme_color:S.target.value})),placeholder:"#1890ff"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:e("giftcard.fields.sort")}),o.jsx(G,{type:"number",value:W.sort,onChange:S=>z(I=>({...I,sort:S.target.value}))})]})]})]})]})]})})}),o.jsxs("div",{className:"shrink-0 border-t bg-background px-6 py-4",children:[K&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:K}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>R(!1),disabled:F,children:e("common.cancel")}),o.jsx(B,{onClick:sr,disabled:F,children:e(F?"common.saving":"common.save")})]})]})]})}),o.jsx(un,{open:Se,onOpenChange:re,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("giftcard.generate_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.template")}),o.jsxs(st,{value:H.template_id,onValueChange:S=>Ce(I=>({...I,template_id:S})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsx(rt,{children:c.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.count")}),o.jsx(G,{type:"number",value:H.count,onChange:S=>Ce(I=>({...I,count:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.prefix")}),o.jsx(G,{value:H.prefix,onChange:S=>Ce(I=>({...I,prefix:S.target.value})),placeholder:"GC"})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.expires_hours")}),o.jsx(G,{type:"number",value:H.expires_hours,onChange:S=>Ce(I=>({...I,expires_hours:S.target.value})),placeholder:e("giftcard.unlimited")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.max_usage")}),o.jsx(G,{type:"number",value:H.max_usage,onChange:S=>Ce(I=>({...I,max_usage:S.target.value}))})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:H.download_csv,onCheckedChange:S=>Ce(I=>({...I,download_csv:!!S}))}),o.jsx("span",{children:e("giftcard.fields.download_csv")})]})]}),xe&&o.jsx("div",{className:"text-sm text-red-600",children:xe}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>re(!1),disabled:Ne,children:e("common.cancel")}),o.jsx(B,{onClick:qe,disabled:Ne,children:e(Ne?"common.saving":"common.save")})]})]})}),o.jsx(un,{open:$e,onOpenChange:ne,children:o.jsxs(on,{className:"max-w-2xl",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("giftcard.edit_code")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.expires_at")}),o.jsx(G,{type:"datetime-local",value:be.expires_at,onChange:S=>We(I=>({...I,expires_at:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.max_usage")}),o.jsx(G,{type:"number",value:be.max_usage,onChange:S=>We(I=>({...I,max_usage:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("giftcard.fields.status")}),o.jsxs(st,{value:be.status,onValueChange:S=>We(I=>({...I,status:S})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("giftcard.code_status.unused")}),o.jsx(de,{value:"1",children:e("giftcard.code_status.used")}),o.jsx(de,{value:"2",children:e("giftcard.code_status.expired")}),o.jsx(de,{value:"3",children:e("giftcard.code_status.disabled")})]})]})]})]})]}),oe&&o.jsx("div",{className:"text-sm text-red-600",children:oe}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>ne(!1),disabled:je,children:e("common.cancel")}),o.jsx(B,{onClick:Qi,disabled:je,children:e(je?"common.saving":"common.save")})]})]})}),o.jsx(os,{open:P.open,onOpenChange:P.setOpen,position:P.position,items:[{type:"checkbox",label:e("giftcard.status.on"),checked:!!((rd=P.data)!=null&&rd.status),disabled:!P.data||j===P.data.id,onSelect:()=>{P.data&&(P.setOpen(!1),Zr(P.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!P.data||j===P.data.id,onSelect:()=>{P.data&&(P.setOpen(!1),Vt(P.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!P.data||j===P.data.id,onSelect:()=>{P.data&&(P.setOpen(!1),Er(P.data))}}]}),o.jsx(os,{open:Q.open,onOpenChange:Q.setOpen,position:Q.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.copy_code")]}),disabled:!((id=Q.data)!=null&&id.code)||Y===Q.data.id,onSelect:()=>{var S;(S=Q.data)!=null&&S.code&&(Q.setOpen(!1),Bt(Q.data.code))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.copy_batch")]}),disabled:!Q.data||Y===Q.data.id,onSelect:()=>{Q.data&&(Q.setOpen(!1),Bt(Q.data.batch_id))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(G_,{className:"h-4 w-4 mr-2"}),e("giftcard.export_batch")]}),disabled:!Q.data||Y===Q.data.id,onSelect:()=>{Q.data&&(Q.setOpen(!1),fn(Q.data.batch_id))}},{type:"item",label:((Uc=Q.data)==null?void 0:Uc.status)===3?o.jsxs(o.Fragment,{children:[o.jsx(gn,{className:"h-4 w-4 mr-2"}),e("common.enable")]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.disable")]}),destructive:((Mh=Q.data)==null?void 0:Mh.status)!==3,disabled:!Q.data||Y===Q.data.id,onSelect:()=>{Q.data&&(Q.setOpen(!1),Jr(Q.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!Q.data||Y===Q.data.id,onSelect:()=>{Q.data&&(Q.setOpen(!1),ei(Q.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!Q.data||Y===Q.data.id,onSelect:()=>{Q.data&&(Q.setOpen(!1),so(Q.data))}}]}),o.jsx(os,{open:Yt.open,onOpenChange:Yt.setOpen,position:Yt.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("giftcard.usages.table.code")]}),disabled:!((Vc=Yt.data)!=null&&Vc.code),onSelect:()=>{var S;(S=Yt.data)!=null&&S.code&&(Yt.setOpen(!1),Bt(Yt.data.code))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("giftcard.usages.table.user")]}),disabled:!((Il=Yt.data)!=null&&Il.user_email),onSelect:()=>{var S;(S=Yt.data)!=null&&S.user_email&&(Yt.setOpen(!1),Bt(Yt.data.user_email))}}]})]})}const ii={fetch:e=>De.post("/user/fetch",e),update:e=>De.post("/user/update",e),generate:e=>De.post("/user/generate",e),dumpCSV:e=>De.post("/user/dumpCSV",e,{responseType:"blob"}),resetSecret:e=>De.post("/user/resetSecret",{id:e}),sendMail:e=>De.post("/user/sendMail",e),destroy:e=>De.post("/user/destroy",{id:e})},Sm={userHistory:(e,t)=>De.get(`/traffic-reset/user/${e}/history`,{params:t}),resetUser:e=>De.post("/traffic-reset/reset-user",e)};function DA({open:e,onOpenChange:t,user:n,loading:r,onConfirm:i}){const{t:s}=Ut(),[a,l]=f.useState("");return f.useEffect(()=>{e&&l("")},[e,n==null?void 0:n.id]),o.jsx(un,{open:e,onOpenChange:t,children:o.jsxs(on,{children:[o.jsxs(dn,{children:[o.jsx(hn,{children:s("user.reset_traffic_dialog.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:n?`ID: ${n.id}${n.email?`  ${n.email}`:""}`:""})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:s("user.reset_traffic_dialog.reason")}),o.jsx(xr,{value:a,onChange:c=>l(c.target.value),placeholder:s("user.reset_traffic_dialog.reason_placeholder"),maxLength:255}),o.jsxs("div",{className:"text-xs text-muted-foreground tabular-nums",children:[a.length,"/255"]})]}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:r,children:s("common.cancel")}),o.jsx(B,{variant:"destructive",onClick:()=>i(a),disabled:r||!n,children:s(r?"common.saving":"user.actions.reset_traffic")})]})]})})}const GJ={getStatUser:e=>De.post("/stat/getStatUser",e)},kN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},jb=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},SN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},b6e=e=>{const t=(e==null?void 0:e.reason)??(e==null?void 0:e.reset_reason)??(e==null?void 0:e.resetReason);if(typeof t=="string"&&t.trim())return t.trim();const n=e==null?void 0:e.metadata;if(n==null)return"-";const r=i=>{const s=(i==null?void 0:i.reason)??(i==null?void 0:i.reset_reason)??(i==null?void 0:i.resetReason)??(i==null?void 0:i.message)??(i==null?void 0:i.note)??(i==null?void 0:i.comment)??(i==null?void 0:i.remark)??(i==null?void 0:i.description);return typeof s=="string"&&s.trim()?s.trim():null};if(typeof n=="string"){const i=n.trim();if(!i)return"-";try{const s=JSON.parse(i),a=r(s);if(a)return a}catch{}return i}return typeof n=="object"&&r(n)||"-"};function QJ({open:e,onOpenChange:t,user:n,onAfterReset:r}){const{t:i}=Ut(),[s,a]=f.useState(null),[l,c]=f.useState("usage"),[u,d]=f.useState(!1),[h,m]=f.useState([]),[p,g]=f.useState(0),[y,x]=f.useState(1),[v,w]=f.useState(10),b=f.useMemo(()=>Math.max(1,Math.ceil(p/v)),[p,v]),[j,_]=f.useState(!1),[k,C]=f.useState(null),[O,M]=f.useState([]),[P,A]=f.useState(1),[R,F]=f.useState(10),V=O.length,K=f.useMemo(()=>Math.max(1,Math.ceil(V/R)),[V,R]),L=f.useMemo(()=>{const J=Math.max(0,(P-1)*R);return O.slice(J,J+R)},[O,P,R]),[W,z]=f.useState(!1),[T,q]=f.useState(!1);f.useEffect(()=>{e&&(a(null),c("usage"),x(1),w(10),A(1),F(10))},[e,n==null?void 0:n.id]),f.useEffect(()=>{x(J=>Math.min(Math.max(1,J),b))},[b]),f.useEffect(()=>{A(J=>Math.min(Math.max(1,J),K))},[K]);const Y=f.useCallback(J=>J?J==="d"?i("user.traffic_panel.record_type.daily"):J==="h"?i("user.traffic_panel.record_type.hourly"):J==="m"?i("user.traffic_panel.record_type.monthly"):J:"-",[i]),ee=f.useCallback(async()=>{if(n){d(!0);try{const J=await GJ.getStatUser({user_id:n.id,page:y,pageSize:v});m(J.data.data||[]),g(J.data.total||0)}catch(J){m([]),g(0),a({tone:"error",text:kN(J,i("common.load_failed"))}),console.error(J)}finally{d(!1)}}},[i,n,y,v]),pe=f.useCallback(async()=>{if(n){_(!0);try{const J=await Sm.userHistory(n.id,{limit:50});C(J.data.data.user||null),M(J.data.data.history||[])}catch(J){C(null),M([]),a({tone:"error",text:kN(J,i("common.load_failed"))}),console.error(J)}finally{_(!1)}}},[i,n]);f.useEffect(()=>{!e||!n||ee()},[e,n==null?void 0:n.id,y,v,ee]),f.useEffect(()=>{!e||!n||pe()},[e,n==null?void 0:n.id,pe]);const se=async()=>{await Promise.all([ee(),pe()])},he=async J=>{if(!(!n||T)){q(!0),a(null);try{const Re=await Sm.resetUser({user_id:n.id,reason:J.trim()||void 0});a({tone:"success",text:Re.data.message||i("user.traffic_reset")}),z(!1),await se(),r==null||r()}catch(Re){a({tone:"error",text:kN(Re,i("common.save_failed"))}),console.error(Re)}finally{q(!1)}}},Pe=u||j;return o.jsxs(o.Fragment,{children:[o.jsx(un,{open:e,onOpenChange:t,children:o.jsxs(on,{className:"max-w-6xl",children:[o.jsx(dn,{children:o.jsxs("div",{className:"min-w-0",children:[o.jsx(hn,{children:i("user.traffic_panel.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:n?`ID: ${n.id}${n.email?`  ${n.email}`:""}`:""})]})}),s&&o.jsx("div",{className:te("text-sm",s.tone==="success"?"text-green-600":"text-red-600"),children:s.text}),o.jsxs(Qm,{value:l,onValueChange:J=>c(J),className:"w-full",children:[o.jsxs(Nh,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"usage",children:i("user.traffic_panel.tabs.usage")}),o.jsx(gr,{value:"resets",children:i("user.traffic_panel.tabs.resets")})]}),o.jsxs(ai,{value:"usage",className:"mt-4 space-y-4",children:[o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"max-h-[56vh] overflow-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:i("user.traffic_panel.usage.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:i("user.traffic_panel.usage.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:i("user.traffic_panel.usage.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.upload")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.download")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.total")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:u?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("common.loading")})}):h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("user.traffic_panel.usage.empty")})}):h.map(J=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:SN(J.record_at)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:Y(J.record_type)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number(J.server_rate??0).toFixed(2)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb(J.u)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb(J.d)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb((J.u||0)+(J.d||0))})]},J.id))})]})})})}),o.jsx(us,{page:y,total:p,pageSize:v,onPageChange:J=>x(J),onPageSizeChange:J=>{w(J),x(1)},loading:u})]}),o.jsxs(ai,{value:"resets",className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.count")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:(k==null?void 0:k.reset_count)??"-"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.last")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:SN((k==null?void 0:k.last_reset_at)??null)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.next")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:SN((k==null?void 0:k.next_reset_at)??null)})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"max-h-[56vh] overflow-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:i("user.traffic_panel.reset.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.reset.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:i("user.traffic_panel.reset.trigger")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:i("user.traffic_panel.reset.old")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:i("user.traffic_panel.reset.reason")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:j?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("common.loading")})}):O.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("user.traffic_panel.reset.empty")})}):L.map(J=>{var Re,ie;return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:J.reset_time||"-"}),o.jsx("td",{className:"px-4 py-3 align-middle",children:J.reset_type_name||J.reset_type}),o.jsx("td",{className:"px-4 py-3 align-middle",children:J.trigger_source_name||J.trigger_source}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:((Re=J.old_traffic)==null?void 0:Re.formatted)||jb((ie=J.old_traffic)==null?void 0:ie.total)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:b6e(J)})]},J.id)})})]})})})}),o.jsx(us,{page:P,total:V,pageSize:R,onPageChange:J=>A(J),onPageSizeChange:J=>{F(J),A(1)},loading:j})]})]}),o.jsxs(yr,{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:se,disabled:!n||Pe,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",Pe&&"animate-spin")}),i("common.refresh")]}),o.jsxs(B,{variant:"destructive",size:"sm",className:"h-9",onClick:()=>z(!0),disabled:!n||T,children:[o.jsx(hg,{className:"h-4 w-4 mr-2"}),i("user.actions.reset_traffic")]})]}),o.jsx(B,{variant:"outline",onClick:()=>t(!1),children:i("common.close")})]})]})}),o.jsx(DA,{open:W,onOpenChange:z,user:n?{id:n.id,email:n.email}:null,loading:T,onConfirm:he})]})}const Ul=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},_6e=["like","notlike","eq","gt","gte","lt","lte","in","null","notnull"],w6e={id:{type:"number",ops:["eq","gt","gte","lt","lte","in"],defaultOp:"eq"},email:{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},remarks:{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},token:{type:"text",ops:["eq"],defaultOp:"eq"},uuid:{type:"text",ops:["eq"],defaultOp:"eq"},"invite_user.email":{type:"text",ops:["eq"],defaultOp:"eq"},"plan.name":{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},"group.name":{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},plan_id:{type:"number",ops:["eq"],defaultOp:"eq"},group_id:{type:"number",ops:["eq"],defaultOp:"eq"},banned:{type:"boolean",ops:["eq"],defaultOp:"eq"},expired_at:{type:"timestamp",ops:["gte","lte","null","notnull"],defaultOp:"gte"},created_at:{type:"timestamp",ops:["gte","lte"],defaultOp:"gte"},last_login_at:{type:"timestamp",ops:["gte","lte","null","notnull"],defaultOp:"gte"},balance:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},commission_balance:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},commission_rate:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},discount:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},transfer_enable:{type:"number",ops:["gte","lte"],defaultOp:"gte"},total_used:{type:"number",ops:["gte","lte"],defaultOp:"gte"},speed_limit:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},device_limit:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"}},ud=e=>w6e[e]??{type:"text",ops:_6e,defaultOp:"like"},j6e=new Set(["expired_at","created_at","last_login_at"]),XJ=e=>e.split(/[,\\n]/g).map(t=>t.trim()).filter(Boolean),ZF=e=>{const t=XJ(e).map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.trunc(n));return Array.from(new Set(t)).sort((n,r)=>n-r)};function k6e({value:e,onChange:t,options:n,placeholder:r,disabled:i}){const{t:s}=Ut(),[a,l]=f.useState(""),c=f.useMemo(()=>new Set(e),[e]),u=f.useMemo(()=>e.length?n.filter(p=>c.has(p.id)).map(p=>p.name).join(", "):"",[n,c,e.length]),d=f.useMemo(()=>{const m=a.trim().toLowerCase();return m?n.filter(p=>`${p.id} ${p.name}`.toLowerCase().includes(m)):n},[n,a]),h=m=>{const p=new Set(e);p.has(m)?p.delete(m):p.add(m),t(Array.from(p).sort((g,y)=>g-y))};return o.jsxs(wl,{children:[o.jsx(jl,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"h-9 w-full justify-between",disabled:i,children:[o.jsx("span",{className:te("truncate text-left",!e.length&&"text-muted-foreground"),title:u,children:e.length?u:r}),o.jsx(Tc,{className:"h-4 w-4 opacity-50"})]})}),o.jsx(Mo,{align:"start",className:"w-[320px] p-3",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(G,{value:a,onChange:m=>l(m.target.value),placeholder:s("common.search"),className:"h-9"}),o.jsx("div",{className:"rounded-lg border border-border/70",children:o.jsx(ds,{className:"h-60",children:o.jsx("div",{className:"grid gap-1 p-2",children:d.length===0?o.jsx("div",{className:"px-2 py-6 text-center text-sm text-muted-foreground",children:s("common.command_empty")}):d.map(m=>o.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-2 py-1.5 text-left hover:bg-muted/30",onClick:()=>h(m.id),children:[o.jsx(Hn,{checked:c.has(m.id),onClick:p=>{p.stopPropagation(),h(m.id)}}),o.jsx("span",{className:"min-w-0 flex-1 truncate text-sm",children:m.name}),o.jsxs("span",{className:"text-xs text-muted-foreground tabular-nums",children:["#",m.id]})]},m.id))})})})]})})]})}const Sf=e=>String(e).padStart(2,"0"),S6e=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${Sf(t.getMonth()+1)}-${Sf(t.getDate())}T${Sf(t.getHours())}:${Sf(t.getMinutes())}`},kb=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},JF=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},eB=e=>{const t=Number(e??0);return Number.isFinite(t)?(t/1073741824).toFixed(2):"0.00"},tB=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},N6e=e=>{if(!e)return null;const t=/filename\\*?=(?:UTF-8''|\"?)([^\";]+)\"?/i.exec(e);if(!t)return null;try{return decodeURIComponent(t[1])}catch{return t[1]}};function C6e(){var Vc,Il;const{t:e}=Ut(),t=wa(),n=Ja(),r=xh(),i=f.useMemo(()=>{const S=new URLSearchParams(n.search);return{query:S.get("q")||S.get("email")||S.get("id")||"",inviteUserId:S.get("invite_user_id")||""}},[n.search]),s=e("common.currency_symbol"),[a,l]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(1),[m,p]=f.useState(10),[g,y]=f.useState(0),x=f.useMemo(()=>Math.max(1,Math.ceil(g/m)),[g,m]),[v,w]=f.useState(i.query),[b,j]=f.useState(i.inviteUserId),[_,k]=f.useState({plan_id:"all",group_id:"all",banned:"all"}),[C,O]=f.useState([]),M=f.useMemo(()=>new Set(C),[C]),P=f.useCallback(()=>O([]),[]),A=()=>{const S="email",I=ud(S);return{id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,field:S,op:I.defaultOp,value:""}},[R,F]=f.useState(!1),[V,K]=f.useState([]),[L,W]=f.useState([]),[z,T]=f.useState([]),[q,Y]=f.useState([]),[ee,pe]=f.useState([]),se=ls(),[he,Pe]=f.useState(!1),[J,Re]=f.useState(!1),[ie,Ee]=f.useState(""),[Te,fe]=f.useState({email:"",password:"",plan_id:"null",expired_at:""}),[X,ke]=f.useState(!1),[Q,Se]=f.useState(!1),[re,Ne]=f.useState(""),[Oe,xe]=f.useState({email:"",password:"",plan_id:"null",expired_at:"",banned:!1,is_admin:!1,is_staff:!1,remarks:"",used_upload_gb:"0.00",used_download_gb:"0.00",speed_limit:"",device_limit:"",transfer_enable_gb:"",balance:"",commission_balance:"",commission_type:"0",commission_rate:"",discount:"",invite_user_email:""}),[me,H]=f.useState(!1),[Ce,$e]=f.useState(null),[ne,je]=f.useState(!1),[Ke,oe]=f.useState(!1),[U,be]=f.useState(null),[We,et]=f.useState(!1),[tt,Nt]=f.useState("filtered"),[vt,Mt]=f.useState("delete"),[sn,vn]=f.useState(!1),[Qn,Fe]=f.useState(null),[Ft,ht]=f.useState(""),[qt,Yt]=f.useState(""),[ae,Me]=f.useState(""),[Ye,Tt]=f.useState(""),[_t,Gt]=f.useState(""),[Bt,kn]=f.useState(""),[Ln,hr]=f.useState(""),[Lr,Pr]=f.useState(""),[gi,yi]=f.useState(""),ws=f.useCallback(async()=>{try{const S=await il.fetch();S.data.status==="success"&&Y(S.data.data||[])}catch(S){Y([]),console.error(S)}},[]),Us=f.useCallback(async()=>{try{const S=await Lf.fetch();S.data.status==="success"&&pe(S.data.data||[])}catch(S){pe([]),console.error(S)}},[]),Vs=f.useMemo(()=>[{value:"email",label:e("user.fields.email")},{value:"remarks",label:e("user.fields.remarks")},{value:"token",label:"Token"},{value:"uuid",label:"UUID"},{value:"invite_user.email",label:e("user.fields.invite_user_email")},{value:"plan_id",label:e("user.fields.plan")},{value:"group_id",label:e("user.table.group")},{value:"banned",label:e("user.fields.banned")},{value:"expired_at",label:e("user.fields.expired_at")},{value:"created_at",label:e("user.table.created_at")},{value:"last_login_at",label:e("user.advanced_filter.last_login_at")},{value:"balance",label:e("user.fields.balance")},{value:"commission_balance",label:e("user.fields.commission_balance")},{value:"commission_rate",label:e("user.fields.commission_rate")},{value:"discount",label:e("user.fields.discount")},{value:"transfer_enable",label:e("user.table.total")},{value:"total_used",label:e("user.table.used")},{value:"speed_limit",label:e("user.fields.speed_limit")},{value:"device_limit",label:e("user.fields.device_limit")}],[e]),yn=f.useMemo(()=>[{value:"like",label:e("user.advanced_filter.ops.like")},{value:"notlike",label:e("user.advanced_filter.ops.notlike")},{value:"eq",label:e("user.advanced_filter.ops.eq")},{value:"gt",label:e("user.advanced_filter.ops.gt")},{value:"gte",label:e("user.advanced_filter.ops.gte")},{value:"lt",label:e("user.advanced_filter.ops.lt")},{value:"lte",label:e("user.advanced_filter.ops.lte")},{value:"in",label:e("user.advanced_filter.ops.in")},{value:"null",label:e("user.advanced_filter.ops.null")},{value:"notnull",label:e("user.advanced_filter.ops.notnull")}],[e]),ce=f.useCallback(S=>{const I=ud(S);return yn.filter(ue=>I.ops.includes(ue.value))},[yn]),Be=f.useCallback(S=>{const ue=S.field.trim()||"email",ge=ud(ue),ye=ge.ops.includes(S.op),Ie=ye?S.op:ge.defaultOp;let Je=Ie==="null"||Ie==="notnull"?"":ye?S.value:"";if(ge.type==="boolean"&&Je!=="0"&&Je!=="1"&&(Je=""),ue==="plan_id"||ue==="group_id"){if(Ie==="eq"){const Ze=Je.trim();Je=/^\\d+$/.test(Ze)?Ze:""}else if(Ie==="in"){const Ze=ZF(Je);Je=Ze.length?Ze.join("\\n"):""}}return{...S,field:ue,op:Ie,value:Je}},[]),jt=f.useCallback(()=>{const S=[],I=v.trim();I&&S.push({id:"keyword",value:I}),_.plan_id!=="all"&&S.push({id:"plan_id",value:_.plan_id==="null"?"null:":`eq:${_.plan_id}`}),_.group_id!=="all"&&S.push({id:"group_id",value:_.group_id==="null"?"null:":`eq:${_.group_id}`}),_.banned!=="all"&&S.push({id:"banned",value:`eq:${_.banned}`}),b.trim()&&S.push({id:"invite_user_id",value:`eq:${b.trim()}`});const ue=ge=>j6e.has(ge);for(const ge of L){const ye=ge.field.trim(),Ie=ge.op.trim();if(!ye||!Ie)continue;if(Ie==="null"||Ie==="notnull"){S.push({id:ye,value:`${Ie}:`});continue}if(Ie==="in"){const Ze=ud(ye),Ge=XJ(ge.value);if(!Ge.length)continue;if(Ze.type==="number"){const Qe=Ge.map(it=>Number(it)).filter(it=>Number.isFinite(it)).map(it=>Math.trunc(it));Qe.length&&S.push({id:ye,value:Array.from(new Set(Qe))})}else S.push({id:ye,value:Ge});continue}const Je=ge.value.trim();if(Je){if(ue(ye)&&!/^\d+$/.test(Je)){const Ze=kb(Je);if(Ze===null)continue;S.push({id:ye,value:`${Ie}:${Ze}`});continue}S.push({id:ye,value:`${Ie}:${Je}`})}}return S},[v,_,b,L]),ft=f.useCallback(async()=>{l(!0),u(null);try{const S=jt(),I={current:d,pageSize:m};S.length&&(I.filter=S);const ue=await ii.fetch(I);T(ue.data.data||[]),y(ue.data.total||0)}catch(S){T([]),y(0),u({tone:"error",text:Ul(S,e("common.load_failed"))}),console.error(S)}finally{l(!1)}},[e,d,m,jt]),Wt=f.useMemo(()=>z.map(S=>S.id),[z]),Vt=f.useMemo(()=>Wt.filter(S=>M.has(S)).length,[Wt,M]),Zr=f.useMemo(()=>!Wt.length||Vt===0?!1:Vt===Wt.length?!0:"indeterminate",[Wt.length,Vt]),sr=f.useCallback((S,I)=>{O(ue=>{const ge=new Set(ue);return I??!ge.has(S)?ge.add(S):ge.delete(S),Array.from(ge)})},[]),Er=f.useCallback(S=>{O(I=>{const ue=new Set(I);for(const ge of Wt)S?ue.add(ge):ue.delete(ge);return Array.from(ue)})},[Wt]),Un=f.useCallback(S=>{Mt(S),Nt(C.length?"selected":"filtered"),ht(""),Fe(null),vn(!1),S==="send_mail"&&(Yt(""),Me("")),S==="set_plan"&&Tt(""),S==="set_expired_at"&&Gt(""),S==="reset_traffic"&&kn(""),S==="update_balance"&&hr(""),S==="update_transfer_enable"&&Pr(""),S==="update_device_limit"&&yi(""),et(!0)},[C.length]),qe=f.useCallback(async S=>{const I=[];let ue=1;const ge=200;let ye=0;for(;;){const Ie=await ii.fetch({current:ue,pageSize:ge,filter:S}),Je=Ie.data.data||[];if(ye=Number(Ie.data.total??ye??0),I.push(...Je.map(Ze=>Ze.id)),Fe({label:e("user.bulk.collecting"),done:I.length,total:ye||I.length}),!Je.length||ye&&I.length>=ye||Je.length<ge)break;ue+=1}return Array.from(new Set(I))},[e]),fn=f.useCallback(async S=>{const I=[];let ue=1;const ge=200;let ye=0;for(;;){const Ie=await ii.fetch({current:ue,pageSize:ge,filter:S}),Je=Ie.data.data||[];if(ye=Number(Ie.data.total??ye??0),I.push(...Je),Fe({label:e("user.bulk.collecting"),done:I.length,total:ye||I.length}),!Je.length||ye&&I.length>=ye||Je.length<ge)break;ue+=1}return I},[e]),Jr=f.useCallback(async S=>{const I=Array.from(new Set(S)),ue=[],ge=500;for(let ye=0;ye<I.length;ye+=ge){const Ie=I.slice(ye,ye+ge),Je=await ii.fetch({current:1,pageSize:Ie.length,filter:[{id:"id",value:Ie}]});ue.push(...Je.data.data||[]),Fe({label:e("user.bulk.collecting"),done:ue.length,total:I.length})}return ue},[e]),ei=f.useCallback(async(S,I,ue,ge=3)=>{if(S.length===0)return{failures:[]};const ye=Array.from(new Set(S)),Ie=[];let Je=0;Fe({label:I,done:0,total:ye.length});let Ze=0;const Ge=async()=>{for(;;){const Qe=Ze;if(Ze+=1,Qe>=ye.length)return;const it=ye[Qe];try{await ue(it)}catch(pn){Ie.push({id:it,error:Ul(pn,e("common.save_failed"))})}finally{Je+=1,(Je===ye.length||Je%5===0)&&Fe({label:I,done:Je,total:ye.length})}}};return await Promise.all(Array.from({length:Math.min(ge,ye.length)},Ge)),Fe({label:I,done:ye.length,total:ye.length}),{failures:Ie}},[e]),Qi=S=>S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&apos;");f.useEffect(()=>{ws()},[ws]),f.useEffect(()=>{Us()},[Us]),f.useEffect(()=>{ft()},[ft]),f.useEffect(()=>{P()},[P,v,b,_.plan_id,_.group_id,_.banned,L]),f.useEffect(()=>{tt==="selected"&&C.length===0&&Nt("filtered")},[tt,C.length]),f.useEffect(()=>{i.query&&(j(""),w(i.query),h(1))},[i.query]),f.useEffect(()=>{j(i.inviteUserId),i.inviteUserId&&(w(""),h(1))},[i.inviteUserId]),f.useEffect(()=>{h(S=>Math.min(Math.max(1,S),x))},[x]);const so=()=>{const S=L.map(I=>Be({...I}));K(S.length?S:[A()]),F(!0)},Al=()=>{const S=V.map(I=>Be({...I,field:I.field.trim(),op:I.op.trim(),value:I.value})).filter(I=>I.field&&I.op&&(I.op==="null"||I.op==="notnull"||I.value.trim()!==""));W(S),F(!1),h(1)},Bc=()=>{K([])},ao=()=>{Ee(""),fe({email:"",password:"",plan_id:"null",expired_at:""}),Pe(!0)},qc=async()=>{if(J)return;Ee("");const S=Te.email.trim();if(!S)return Ee(e("user.validation.email_required"));const I=S.split("@");if(I.length!==2||!I[0]||!I[1])return Ee(e("user.validation.email_invalid"));const ue=kb(Te.expired_at),ge={email_prefix:I[0],email_suffix:I[1],password:Te.password.trim()||null,plan_id:Te.plan_id==="null"?null:Number(Te.plan_id),expired_at:ue};Re(!0),u(null);try{const ye=await ii.generate(ge);if(ye.data.status!=="success")throw new Error(ye.data.message||"request failed");u({tone:"success",text:e("user.created")}),Pe(!1),h(1),await ft()}catch(ye){Ee(Ul(ye,e("common.save_failed"))),console.error(ye)}finally{Re(!1)}},Oh=f.useCallback(S=>{const I=S.last_login_at;if(!I)return!1;const ue=Math.floor(Date.now()/1e3)-I;return ue>=0&&ue<=600},[]),Wc=f.useCallback(S=>{if(!S)return"-";try{return new Date(S*1e3).toLocaleString()}catch{return String(S)}},[]),ja=f.useCallback(S=>{if(!S)return e("user.never");try{const I=new Date(S*1e3);return`${I.getFullYear()}-${Sf(I.getMonth()+1)}-${Sf(I.getDate())}`}catch{return String(S)}},[e]),$n=f.useCallback(S=>{if(!S)return{label:e("user.never"),className:"border-border/70 bg-muted/30 text-muted-foreground"};const I=ja(S),ue=S*1e3-Date.now();return ue<=0?{label:I,className:"border-red-200 bg-red-50 text-red-600"}:ue<=7*24*60*60*1e3?{label:I,className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:I,className:"border-border/70 bg-muted/30 text-muted-foreground"}},[ja,e]),Ph=S=>{var I;Ne(""),xe({id:S.id,email:S.email||"",password:"",plan_id:S.plan_id===null||S.plan_id===void 0?"null":String(S.plan_id),expired_at:S6e(S.expired_at),banned:!!S.banned,is_admin:!!S.is_admin,is_staff:!!S.is_staff,remarks:S.remarks||"",used_upload_gb:eB(S.u),used_download_gb:eB(S.d),speed_limit:S.speed_limit===null||S.speed_limit===void 0?"":String(S.speed_limit),device_limit:S.device_limit===null||S.device_limit===void 0?"":String(S.device_limit),transfer_enable_gb:S.transfer_enable?String((S.transfer_enable/1073741824).toFixed(2)):"",balance:S.balance===null||S.balance===void 0?"":String(S.balance),commission_balance:S.commission_balance===null||S.commission_balance===void 0?"":String(S.commission_balance),commission_type:S.commission_type===null||S.commission_type===void 0?"0":String(S.commission_type),commission_rate:S.commission_rate===null||S.commission_rate===void 0?"":String(S.commission_rate),discount:S.discount===null||S.discount===void 0?"":String(S.discount),invite_user_email:((I=S.invite_user)==null?void 0:I.email)||""}),ke(!0)},Ai=async()=>{if(Q||!Oe.id)return;if(Ne(""),!Oe.email.trim())return Ne(e("user.validation.email_required"));const S=Ie=>{const Je=Ie.trim();if(!Je)return 0;const Ze=Number(Je);return!Number.isFinite(Ze)||Ze<0?null:Math.round(Ze*1073741824)},I=S(Oe.used_upload_gb);if(I===null)return Ne(e("user.validation.number_invalid"));const ue=S(Oe.used_download_gb);if(ue===null)return Ne(e("user.validation.number_invalid"));const ge=kb(Oe.expired_at),ye={id:Oe.id,email:Oe.email.trim(),banned:Oe.banned,is_admin:Oe.is_admin,is_staff:Oe.is_staff,remarks:Oe.remarks.trim()||null,expired_at:ge,plan_id:Oe.plan_id==="null"?null:Number(Oe.plan_id),invite_user_email:Oe.invite_user_email.trim()||null,u:I,d:ue};Oe.password.trim()&&(ye.password=Oe.password.trim()),Oe.speed_limit.trim()!==""&&(ye.speed_limit=Number(Oe.speed_limit)),Oe.device_limit.trim()!==""&&(ye.device_limit=Number(Oe.device_limit)),Oe.transfer_enable_gb.trim()!==""&&(ye.transfer_enable=Math.round(Number(Oe.transfer_enable_gb)*1073741824)),Oe.balance.trim()!==""&&(ye.balance=Number(Oe.balance)),Oe.commission_balance.trim()!==""&&(ye.commission_balance=Number(Oe.commission_balance)),Oe.commission_type.trim()!==""&&(ye.commission_type=Math.trunc(Number(Oe.commission_type))),Oe.commission_rate.trim()!==""&&(ye.commission_rate=Math.trunc(Number(Oe.commission_rate))),Oe.discount.trim()!==""&&(ye.discount=Math.trunc(Number(Oe.discount))),Se(!0),u(null);try{const Ie=await ii.update(ye);if(Ie.data.status!=="success")throw new Error(Ie.data.message||"request failed");u({tone:"success",text:e("user.saved")}),ke(!1),await ft()}catch(Ie){Ne(Ul(Ie,e("common.save_failed"))),console.error(Ie)}finally{Se(!1)}},zl=async S=>{if(await t({title:e("user.reset_secret"),description:e("user.confirm_reset_secret"),confirmText:e("user.reset_secret"),confirmVariant:"destructive"})){u(null);try{const ue=await ii.resetSecret(S.id);if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");pt.success(e("user.secret_reset")),await ft()}catch(ue){pt.error(Ul(ue,e("common.save_failed"))),console.error(ue)}}},Dl=S=>{$e(S),H(!0)},Hs=async S=>{if(!(!Ce||ne)){je(!0),u(null);try{const I=await Sm.resetUser({user_id:Ce.id,reason:S.trim()||void 0});u({tone:"success",text:I.data.message||e("user.traffic_reset")}),H(!1),await ft()}catch(I){u({tone:"error",text:Ul(I,e("common.save_failed"))}),console.error(I)}finally{je(!1)}}},Eh=S=>{S.email&&r(`/dashboard/subscription/order?assign_email=${encodeURIComponent(S.email)}`)},ed=S=>{r(`/dashboard/subscription/order?user_id=${encodeURIComponent(String(S.id))}`)},td=S=>{r(`/dashboard/user/list?invite_user_id=${encodeURIComponent(String(S.id))}`)},Rl=S=>{be(S),oe(!0)},nd=async S=>{if(await t({title:e("common.delete"),description:e("user.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"})){u(null);try{const ue=await ii.destroy(S.id);if(ue.data.status!=="success")throw new Error(ue.data.message||"request failed");pt.success(e("user.deleted")),await ft()}catch(ue){u({tone:"error",text:Ul(ue,e("common.save_failed"))}),console.error(ue)}}},rd=async S=>{await pl(S)?pt.success(e("common.copied")):pt.error(e("common.copy_failed"))},id=async()=>{var S;u(null);try{const I=jt(),ue={};I.length&&(ue.filter=I);const ge=await ii.dumpCSV(ue),ye=N6e((S=ge.headers)==null?void 0:S["content-disposition"])||`users_${Date.now()}.csv`,Ie=ge.data instanceof Blob?ge.data:new Blob([ge.data],{type:"text/csv;charset=utf-8"});tB(Ie,ye)}catch(I){u({tone:"error",text:Ul(I,e("common.save_failed"))}),console.error(I)}},Uc=f.useMemo(()=>{switch(vt){case"delete":return e("user.bulk.delete");case"send_mail":return e("user.bulk.send_mail");case"export_svg":return e("user.bulk.export_svg");case"set_plan":return e("user.bulk.set_plan");case"set_expired_at":return e("user.bulk.set_expired_at");case"reset_traffic":return e("user.bulk.reset_traffic");case"update_balance":return e("user.bulk.update_balance");case"update_transfer_enable":return e("user.bulk.update_traffic");case"update_device_limit":return e("user.bulk.update_device_limit");default:return e("user.bulk_actions")}},[vt,e]),Mh=async()=>{if(sn)return;ht(""),Fe(null);const S=tt==="selected"&&C.length?"selected":"filtered",I=jt(),ue=async()=>S==="selected"?Array.from(new Set(C)):(Fe({label:e("user.bulk.collecting"),done:0,total:Math.max(0,Number(g??0))}),await qe(I));try{if(vn(!0),vt==="send_mail"){const ge=qt.trim(),ye=ae.trim();if(!ge){ht(e("user.bulk.mail_subject_required"));return}if(!ye){ht(e("user.bulk.mail_content_required"));return}const Ie=S==="selected"?[{id:"id",value:C}]:I;if(!await t({title:e("user.bulk.send_mail"),description:e("user.bulk.confirm_send_mail"),confirmText:e("common.confirm")}))return;Fe({label:e("user.bulk.sending_mail"),done:0,total:1});const Ze=await ii.sendMail({subject:ge,content:ye,filter:Ie});if(Ze.data.status!=="success")throw new Error(Ze.data.message||"request failed");Fe({label:e("user.bulk.sending_mail"),done:1,total:1}),pt.success(e("user.bulk.mail_sent")),et(!1);return}if(vt==="export_svg"){const ge=S==="selected"?await Jr(C):await fn(I);if(!ge.length){pt.error(e("user.bulk.no_target"));return}const ye=1240,Ie=32,Je=56,Ze=28,Ge=Ie*2+Je+Ze*ge.length+24,Qe=new Date().toLocaleString(),it=[];it.push('<?xml version="1.0" encoding="UTF-8"?>'),it.push(`<svg xmlns="http://www.w3.org/2000/svg" width="${ye}" height="${Ge}" viewBox="0 0 ${ye} ${Ge}">`),it.push(`<style>
  text{font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";font-size:12px;fill:#0f172a}
  .muted{fill:#64748b}
  .head{font-size:16px;font-weight:600}
  .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:11px}
        </style>`),it.push(`<rect x="0" y="0" width="${ye}" height="${Ge}" fill="#ffffff"/>`),it.push(`<text x="${Ie}" y="${Ie+18}" class="head">${Qi(e("user.bulk.export_svg_title"))}</text>`),it.push(`<text x="${Ie}" y="${Ie+38}" class="muted">${Qi(Qe)}  ${Qi(String(ge.length))}</text>`);const pn=Ie,ti=Ie+Je,Xn=pn,_r=pn+80,Ks=pn+360;it.push(`<text x="${Xn}" y="${ti-18}" class="muted">ID</text>`),it.push(`<text x="${_r}" y="${ti-18}" class="muted">${Qi(e("user.table.email"))}</text>`),it.push(`<text x="${Ks}" y="${ti-18}" class="muted">Subscribe URL</text>`),ge.forEach((js,wt)=>{const wr=ti+wt*Ze;wt%2===0&&it.push(`<rect x="${pn-8}" y="${wr-16}" width="${ye-Ie*2+16}" height="${Ze}" fill="#f8fafc"/>`),it.push(`<text x="${Xn}" y="${wr}">${Qi(String(js.id))}</text>`),it.push(`<text x="${_r}" y="${wr}">${Qi(js.email||"-")}</text>`),it.push(`<text x="${Ks}" y="${wr}" class="mono">${Qi(js.subscribe_url||"-")}</text>`)}),it.push("</svg>");const ka=it.join(`
`);tB(new Blob([ka],{type:"image/svg+xml;charset=utf-8"}),`users_${Date.now()}.svg`),pt.success(e("user.bulk.export_done")),et(!1);return}if(vt==="set_plan"){if(!Ye){ht(e("user.bulk.plan_required"));return}const ge=Ye==="null"?null:Number(Ye);if(Ye!=="null"&&!Number.isFinite(ge)){ht(e("user.validation.number_invalid"));return}const ye=await ue();if(!ye.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.set_plan"),description:e("user.bulk.confirm_apply",{count:ye.length}),confirmText:e("common.confirm")}))return;const{failures:Je}=await ei(ye,e("user.bulk.processing"),async Ze=>{const Ge=await ii.update({id:Ze,plan_id:ge});if(Ge.data.status!=="success")throw new Error(Ge.data.message||"request failed")},3);Je.length?pt.error(e("user.bulk.partial_failed",{failed:Je.length,total:ye.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="set_expired_at"){const ge=_t.trim();let ye=null;if(ge){const Ge=kb(ge);if(Ge===null){ht(e("user.bulk.datetime_invalid"));return}ye=Ge}const Ie=await ue();if(!Ie.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.set_expired_at"),description:e("user.bulk.confirm_apply",{count:Ie.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await ei(Ie,e("user.bulk.processing"),async Ge=>{const Qe=await ii.update({id:Ge,expired_at:ye});if(Qe.data.status!=="success")throw new Error(Qe.data.message||"request failed")},3);Ze.length?pt.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ie.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="reset_traffic"){const ge=await ue();if(!ge.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.reset_traffic"),description:e("user.bulk.confirm_apply",{count:ge.length}),confirmText:e("common.confirm"),confirmVariant:"destructive"}))return;const Ie=Bt.trim(),{failures:Je}=await ei(ge,e("user.bulk.processing"),async Ze=>{await Sm.resetUser({user_id:Ze,reason:Ie||void 0})},2);Je.length?pt.error(e("user.bulk.partial_failed",{failed:Je.length,total:ge.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="update_balance"){const ge=Ln.trim(),ye=Number(ge);if(!ge||!Number.isFinite(ye)){ht(e("user.validation.number_invalid"));return}const Ie=await ue();if(!Ie.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_balance"),description:e("user.bulk.confirm_apply",{count:Ie.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await ei(Ie,e("user.bulk.processing"),async Ge=>{const Qe=await ii.update({id:Ge,balance:ye});if(Qe.data.status!=="success")throw new Error(Qe.data.message||"request failed")},3);Ze.length?pt.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ie.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="update_transfer_enable"){const ge=Lr.trim(),ye=Number(ge);if(!ge||!Number.isFinite(ye)||ye<0){ht(e("user.validation.number_invalid"));return}const Ie=Math.round(ye*1073741824),Je=await ue();if(!Je.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_traffic"),description:e("user.bulk.confirm_apply",{count:Je.length}),confirmText:e("common.confirm")}))return;const{failures:Ge}=await ei(Je,e("user.bulk.processing"),async Qe=>{const it=await ii.update({id:Qe,transfer_enable:Ie});if(it.data.status!=="success")throw new Error(it.data.message||"request failed")},3);Ge.length?pt.error(e("user.bulk.partial_failed",{failed:Ge.length,total:Je.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="update_device_limit"){const ge=gi.trim();let ye=null;if(ge){const Ge=Number(ge);if(!Number.isFinite(Ge)||!Number.isInteger(Ge)||Ge<0){ht(e("user.validation.number_invalid"));return}ye=Ge}const Ie=await ue();if(!Ie.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_device_limit"),description:e("user.bulk.confirm_apply",{count:Ie.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await ei(Ie,e("user.bulk.processing"),async Ge=>{const Qe=await ii.update({id:Ge,device_limit:ye});if(Qe.data.status!=="success")throw new Error(Qe.data.message||"request failed")},3);Ze.length?pt.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ie.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}if(vt==="delete"){const ge=await ue();if(!ge.length){pt.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.delete"),description:e("user.bulk.confirm_delete",{count:ge.length}),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;const{failures:Ie}=await ei(ge,e("user.bulk.processing"),async Je=>{const Ze=await ii.destroy(Je);if(Ze.data.status!=="success")throw new Error(Ze.data.message||"request failed")},2);Ie.length?pt.error(e("user.bulk.partial_failed",{failed:Ie.length,total:ge.length})):pt.success(e("user.bulk.done")),P(),await ft(),et(!1);return}}catch(ge){ht(Ul(ge,e("common.save_failed"))),console.error(ge)}finally{vn(!1)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:v,onChange:S=>{w(S.target.value),h(1)},placeholder:e("user.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(st,{value:_.plan_id,onValueChange:S=>{k(I=>({...I,plan_id:S})),h(1)},children:[o.jsx(nt,{className:"h-9 w-[180px]",children:o.jsx(at,{placeholder:e("user.filter_plan")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("user.all")}),o.jsx(de,{value:"null",children:e("user.no_plan")}),q.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))]})]}),o.jsxs(st,{value:_.group_id,onValueChange:S=>{k(I=>({...I,group_id:S})),h(1)},children:[o.jsx(nt,{className:"h-9 w-[160px]",children:o.jsx(at,{placeholder:e("user.filter_group")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("user.all")}),o.jsx(de,{value:"null",children:e("user.no_group")}),ee.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))]})]}),o.jsxs(st,{value:_.banned,onValueChange:S=>{k(I=>({...I,banned:S})),h(1)},children:[o.jsx(nt,{className:"h-9 w-[120px]",children:o.jsx(at,{placeholder:e("user.filter_banned")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("user.all")}),o.jsx(de,{value:"0",children:e("user.banned.no")}),o.jsx(de,{value:"1",children:e("user.banned.yes")})]})]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:so,children:[o.jsx(n8,{className:"h-4 w-4 mr-2"}),e("user.advanced_filter.title"),L.length?` (${L.length})`:""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{size:"sm",className:"h-9",onClick:ao,disabled:a,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("user.add")]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:id,disabled:a,children:[o.jsx(G_,{className:"h-4 w-4 mr-2"}),e("user.export_csv")]}),o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",children:[o.jsx(rce,{className:"h-4 w-4 mr-2"}),e("user.bulk_actions"),C.length?` (${C.length})`:""]})}),o.jsxs(fa,{align:"end",className:"w-[240px]",children:[o.jsxs(an,{onClick:()=>Un("delete"),children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("user.bulk.delete")]}),o.jsxs(an,{onClick:()=>Un("send_mail"),children:[o.jsx(Z6,{className:"h-4 w-4 mr-2"}),e("user.bulk.send_mail")]}),o.jsxs(an,{onClick:()=>Un("export_svg"),children:[o.jsx(G_,{className:"h-4 w-4 mr-2"}),e("user.bulk.export_svg")]}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>Un("set_plan"),children:[o.jsx(Wk,{className:"h-4 w-4 mr-2"}),e("user.bulk.set_plan")]}),o.jsxs(an,{onClick:()=>Un("set_expired_at"),children:[o.jsx(ile,{className:"h-4 w-4 mr-2"}),e("user.bulk.set_expired_at")]}),o.jsxs(an,{onClick:()=>Un("reset_traffic"),children:[o.jsx(hg,{className:"h-4 w-4 mr-2"}),e("user.bulk.reset_traffic")]}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>Un("update_balance"),children:[o.jsx(ij,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_balance")]}),o.jsxs(an,{onClick:()=>Un("update_transfer_enable"),children:[o.jsx($le,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_traffic")]}),o.jsxs(an,{onClick:()=>Un("update_device_limit"),children:[o.jsx(r8,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_device_limit")]})]})]}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:ft,disabled:a,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",a&&"animate-spin")}),e("common.refresh")]})]})]}),c&&o.jsx("div",{className:te("text-sm",c.tone==="success"?"text-green-600":"text-red-600"),children:c.text}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:z.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("user.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[44px]",children:o.jsx(Hn,{checked:Zr,onCheckedChange:S=>Er(S===!0),"aria-label":e("common.select_all")})}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("user.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("user.table.email")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.online")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("user.table.plan")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.group")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.used")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.total")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.expired_at")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.balance")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.commission")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("user.table.created_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[220px]",children:e("user.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:z.map(S=>{var it,pn,ti,Xn;const I=S.total_used??(S.u||0)+(S.d||0),ue=Number(S.transfer_enable??0),ge=ue>0?Math.min(100,I/ue*100):0,ye=$n(S.expired_at),Ie=Oh(S),Je=Number(S.online_ip_count??0),Ze=Number(S.device_limit??0),Ge=Ze>0?String(Ze):"",Qe=Ze>0&&Je>Ze;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:_r=>se.openMenu(_r,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Hn,{checked:M.has(S.id),onCheckedChange:_r=>sr(S.id,_r===!0)})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Ie?o.jsxs("span",{className:"relative flex h-2.5 w-2.5 shrink-0",title:S.last_login_at?Wc(S.last_login_at):"-",children:[o.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60 animate-ping"}),o.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full bg-emerald-500"})]}):o.jsx("span",{className:"inline-flex h-2.5 w-2.5 shrink-0 rounded-full bg-muted",title:S.last_login_at?Wc(S.last_login_at):"-"}),o.jsx("div",{className:"truncate",title:S.email,children:S.email})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("span",{className:te("tabular-nums",Qe&&"text-red-600"),title:e("user.table.online"),children:[Je,"/",Ge]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",S.banned?"border-red-200 bg-red-50 text-red-600":"border-emerald-200 bg-emerald-50 text-emerald-700"),children:S.banned?e("user.status.disabled"):e("user.status.active")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((it=S.plan)==null?void 0:it.name)||"",children:((pn=S.plan)==null?void 0:pn.name)||e("user.no_plan")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((ti=S.group)==null?void 0:ti.name)||"",children:((Xn=S.group)==null?void 0:Xn.name)||e("user.no_group")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"tabular-nums",children:JF(I)}),o.jsx("span",{className:"tabular-nums",children:ue>0?`${ge.toFixed(1)}%`:"-"})]}),o.jsx("div",{className:"h-1.5 rounded-full bg-muted/70",children:o.jsx("div",{className:"h-1.5 rounded-full bg-foreground/80",style:{width:`${ge}%`}})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:JF(S.transfer_enable)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs tabular-nums",ye.className),children:ye.label})}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:[s,Number(S.balance??0).toFixed(2)]}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:[s,Number(S.commission_balance??0).toFixed(2)]}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Wc(S.created_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs(Va,{children:[o.jsx(Ha,{asChild:!0,children:o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8","aria-label":e("user.more"),children:o.jsx(H6,{className:"h-4 w-4"})})}),o.jsxs(fa,{align:"end",className:"w-[220px]",children:[o.jsxs(an,{onClick:()=>Ph(S),children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),o.jsxs(an,{onClick:()=>Eh(S),disabled:!S.email,children:[o.jsx(Wk,{className:"h-4 w-4 mr-2"}),e("user.actions.assign_order")]}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>rd(S.subscribe_url||""),disabled:!S.subscribe_url,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("user.copy_subscribe")]}),o.jsxs(an,{onClick:()=>zl(S),children:[o.jsx(VD,{className:"h-4 w-4 mr-2"}),e("user.reset_secret")]}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>ed(S),children:[o.jsx(KD,{className:"h-4 w-4 mr-2"}),e("user.actions.user_orders")]}),o.jsxs(an,{onClick:()=>td(S),children:[o.jsx(DC,{className:"h-4 w-4 mr-2"}),e("user.actions.user_invites")]}),o.jsxs(an,{onClick:()=>Rl(S),children:[o.jsx(Y_,{className:"h-4 w-4 mr-2"}),e("user.actions.user_traffic")]}),o.jsx(ns,{}),o.jsxs(an,{onClick:()=>Dl(S),children:[o.jsx(hg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]}),o.jsx(ns,{}),o.jsxs(an,{className:"text-red-600 focus:text-red-600",onClick:()=>nd(S),children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]})]})]})})]},S.id)})})]})})})}),o.jsx(us,{page:d,total:g,pageSize:m,onPageChange:S=>h(S),onPageSizeChange:S=>{p(S),h(1)},loading:a}),o.jsx(un,{open:he,onOpenChange:Pe,children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:e("user.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.email")}),o.jsx(G,{value:Te.email,onChange:S=>fe(I=>({...I,email:S.target.value})),placeholder:"user@example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.password")}),o.jsx(G,{type:"password",value:Te.password,onChange:S=>fe(I=>({...I,password:S.target.value})),placeholder:e("user.fields.password_create_hint")})]}),o.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 items-start",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.plan")}),o.jsxs(st,{value:Te.plan_id,onValueChange:S=>fe(I=>({...I,plan_id:S})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:e("user.no_plan")}),q.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.expired_at")}),o.jsx(G,{type:"datetime-local",value:Te.expired_at,onChange:S=>fe(I=>({...I,expired_at:S.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[ie&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:ie}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>Pe(!1),disabled:J,children:e("common.cancel")}),o.jsx(B,{onClick:qc,disabled:J,children:e(J?"common.saving":"common.save")})]})]})]})}),o.jsx(DA,{open:me,onOpenChange:S=>{H(S),S||$e(null)},user:Ce?{id:Ce.id,email:Ce.email}:null,loading:ne,onConfirm:Hs}),o.jsx(QJ,{open:Ke,onOpenChange:S=>{oe(S),S||be(null)},user:U?{id:U.id,email:U.email}:null,onAfterReset:ft}),o.jsx(un,{open:R,onOpenChange:F,children:o.jsxs(on,{className:"sm:max-w-[920px]",children:[o.jsx(dn,{children:o.jsx(hn,{children:e("user.advanced_filter.title")})}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs text-muted-foreground",children:[o.jsx("div",{className:"col-span-5",children:e("user.advanced_filter.field")}),o.jsx("div",{className:"col-span-3",children:e("user.advanced_filter.op")}),o.jsx("div",{className:"col-span-3",children:e("user.advanced_filter.value")}),o.jsx("div",{className:"col-span-1"})]}),V.length===0?o.jsx("div",{className:"rounded-lg border border-dashed border-border/70 bg-muted/10 p-4 text-sm text-muted-foreground",children:e("user.advanced_filter.empty")}):o.jsx("div",{className:"grid gap-2",children:V.map(S=>{const I=ud(S.field),ue=S.op==="null"||S.op==="notnull",ge=S.op==="in",ye=I.type==="timestamp",Ie=S.field==="plan_id",Je=S.field==="group_id",Ze=Ie||Je;return o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[o.jsx("div",{className:"col-span-5",children:o.jsxs(st,{value:S.field,onValueChange:Ge=>K(Qe=>Qe.map(it=>{if(it.id!==S.id)return it;const pn=Ge,ti=ud(it.field),Xn=ud(pn),_r=Xn.ops.includes(it.op)?it.op:Xn.defaultOp,ka=_r!==it.op||it.field==="plan_id"||it.field==="group_id"||pn==="plan_id"||pn==="group_id"||ti.type==="timestamp"&&Xn.type!=="timestamp"||ti.type!=="timestamp"&&Xn.type==="timestamp"||Xn.type==="boolean",js=_r==="null"||_r==="notnull"||ka?"":it.value;return{...it,field:pn,op:_r,value:js}})),children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{})}),o.jsx(rt,{children:Vs.map(Ge=>o.jsx(de,{value:Ge.value,children:Ge.label},Ge.value))})]})}),o.jsx("div",{className:"col-span-3",children:o.jsxs(st,{value:S.op,onValueChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,op:Ge,value:Ge==="null"||Ge==="notnull"?"":it.value}:it)),children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{})}),o.jsx(rt,{children:ce(S.field).map(Ge=>o.jsx(de,{value:Ge.value,children:Ge.label},Ge.value))})]})}),o.jsx("div",{className:"col-span-3",children:ue?o.jsx(G,{disabled:!0,placeholder:"-",className:"h-9"}):Ze&&S.op==="eq"?o.jsxs(st,{value:S.value||void 0,onValueChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,value:Ge}:it)),children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{placeholder:e("common.please_select")})}),o.jsx(rt,{children:(Ie?q:ee).map(Ge=>o.jsx(de,{value:String(Ge.id),children:Ge.name},Ge.id))})]}):Ze&&S.op==="in"?o.jsx(k6e,{value:ZF(S.value),onChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,value:Ge.length?Ge.join("\\n"):""}:it)),options:(Ie?q:ee).map(Ge=>({id:Number(Ge.id),name:Ge.name})),placeholder:e("common.please_select")}):I.type==="boolean"?o.jsxs(st,{value:S.value||void 0,onValueChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,value:Ge}:it)),children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{placeholder:e("common.please_select")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("user.banned.no")}),o.jsx(de,{value:"1",children:e("user.banned.yes")})]})]}):ge?o.jsxs("div",{className:"grid gap-1",children:[o.jsx(xr,{value:S.value,onChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,value:Ge.target.value}:it)),placeholder:e("user.advanced_filter.in_placeholder"),className:"min-h-[72px]"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.advanced_filter.in_hint")})]}):o.jsx(G,{type:ye?"datetime-local":"text",value:S.value,onChange:Ge=>K(Qe=>Qe.map(it=>it.id===S.id?{...it,value:Ge.target.value}:it)),className:"h-9"})}),o.jsx("div",{className:"col-span-1 flex justify-end",children:o.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>K(Ge=>Ge.filter(Qe=>Qe.id!==S.id)),children:o.jsx(Tn,{className:"h-4 w-4"})})})]},S.id)})})]}),o.jsxs(yr,{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs(B,{type:"button",variant:"outline",onClick:()=>K(S=>[...S,A()]),children:[o.jsx(qs,{className:"h-4 w-4 mr-2"}),e("user.advanced_filter.add")]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{type:"button",variant:"outline",onClick:Bc,disabled:V.length===0,children:e("user.advanced_filter.clear")}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>F(!1),children:e("common.cancel")}),o.jsx(B,{type:"button",onClick:Al,children:e("user.advanced_filter.apply")})]})]})]})}),o.jsx(un,{open:X,onOpenChange:S=>{ke(S)},children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:e("user.edit_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.user_info")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.email")}),o.jsx(G,{value:Oe.email,onChange:S=>xe(I=>({...I,email:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.invite_user_email")}),o.jsx(G,{value:Oe.invite_user_email,onChange:S=>xe(I=>({...I,invite_user_email:S.target.value})),placeholder:e("user.fields.invite_user_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.password")}),o.jsx(G,{type:"password",value:Oe.password,onChange:S=>xe(I=>({...I,password:S.target.value})),placeholder:e("user.fields.password_hint")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.traffic")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.used_upload_gb")}),o.jsx(G,{type:"number",min:0,step:"0.01",value:Oe.used_upload_gb,onChange:S=>xe(I=>({...I,used_upload_gb:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.used_download_gb")}),o.jsx(G,{type:"number",min:0,step:"0.01",value:Oe.used_download_gb,onChange:S=>xe(I=>({...I,used_download_gb:S.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.transfer_enable_gb")}),o.jsx(G,{type:"number",value:Oe.transfer_enable_gb,onChange:S=>xe(I=>({...I,transfer_enable_gb:S.target.value})),placeholder:"100"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.transfer_enable_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.expired_at")}),o.jsx(G,{type:"datetime-local",value:Oe.expired_at,onChange:S=>xe(I=>({...I,expired_at:S.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.plan")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.plan")}),o.jsxs(st,{value:Oe.plan_id,onValueChange:S=>xe(I=>({...I,plan_id:S})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:e("user.no_plan")}),q.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.account_status")}),o.jsxs(st,{value:Oe.banned?"banned":"active",onValueChange:S=>xe(I=>({...I,banned:S==="banned"})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"active",children:e("user.status.active")}),o.jsx(de,{value:"banned",children:e("user.status.disabled")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.speed_limit")}),o.jsx(G,{type:"number",value:Oe.speed_limit,onChange:S=>xe(I=>({...I,speed_limit:S.target.value})),placeholder:"Mbps"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.device_limit")}),o.jsx(G,{type:"number",value:Oe.device_limit,onChange:S=>xe(I=>({...I,device_limit:S.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.balance")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.balance")}),o.jsx(G,{type:"number",value:Oe.balance,onChange:S=>xe(I=>({...I,balance:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.commission_balance")}),o.jsx(G,{type:"number",value:Oe.commission_balance,onChange:S=>xe(I=>({...I,commission_balance:S.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.config")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.commission_type")}),o.jsxs(st,{value:Oe.commission_type,onValueChange:S=>xe(I=>({...I,commission_type:S})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:e("user.fields.commission_type")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:e("user.commission_type.system")}),o.jsx(de,{value:"1",children:e("user.commission_type.period")}),o.jsx(de,{value:"2",children:e("user.commission_type.onetime")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.commission_rate")}),o.jsx(G,{type:"number",value:Oe.commission_rate,onChange:S=>xe(I=>({...I,commission_rate:S.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.discount")}),o.jsx(G,{type:"number",value:Oe.discount,onChange:S=>xe(I=>({...I,discount:S.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.roles")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:Oe.is_admin,onCheckedChange:S=>xe(I=>({...I,is_admin:!!S}))}),o.jsx("span",{children:e("user.fields.is_admin")})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:Oe.is_staff,onCheckedChange:S=>xe(I=>({...I,is_staff:!!S}))}),o.jsx("span",{children:e("user.fields.is_staff")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.remarks")}),o.jsx(xr,{value:Oe.remarks,onChange:S=>xe(I=>({...I,remarks:S.target.value})),placeholder:e("user.fields.remarks"),maxLength:500})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[re&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:re}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>ke(!1),disabled:Q,children:e("common.cancel")}),o.jsx(B,{onClick:Ai,disabled:Q,children:e(Q?"common.saving":"common.save")})]})]})]})}),o.jsx(un,{open:We,onOpenChange:S=>{sn||(et(S),S||(ht(""),Fe(null)))},children:o.jsxs(on,{className:"sm:max-w-[720px]",children:[o.jsx(dn,{children:o.jsx(hn,{children:Uc})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.bulk.scope")}),o.jsxs(st,{value:tt,onValueChange:S=>Nt(S),disabled:sn,children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"filtered",children:e("user.bulk.scope_filtered",{count:g})}),o.jsx(de,{value:"selected",disabled:C.length===0,children:e("user.bulk.scope_selected",{count:C.length})})]})]})]}),vt==="send_mail"?o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.bulk.mail_subject")}),o.jsx(G,{value:qt,onChange:S=>Yt(S.target.value),disabled:sn,className:"h-9"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.bulk.mail_content")}),o.jsx(xr,{value:ae,onChange:S=>Me(S.target.value),disabled:sn,className:"min-h-[140px]"})]})]}):null,vt==="set_plan"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.plan")}),o.jsxs(st,{value:Ye,onValueChange:Tt,disabled:sn,children:[o.jsx(nt,{className:"h-9",children:o.jsx(at,{placeholder:e("common.please_select")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:e("user.no_plan")}),q.map(S=>o.jsx(de,{value:String(S.id),children:S.name},S.id))]})]})]}):null,vt==="set_expired_at"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.expired_at")}),o.jsx(G,{type:"datetime-local",value:_t,onChange:S=>Gt(S.target.value),disabled:sn,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]}):null,vt==="reset_traffic"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.reset_traffic_dialog.reason")}),o.jsx(G,{value:Bt,onChange:S=>kn(S.target.value),disabled:sn,className:"h-9",placeholder:e("user.reset_traffic_dialog.reason_placeholder")})]}):null,vt==="update_balance"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.balance")}),o.jsx(G,{type:"number",value:Ln,onChange:S=>hr(S.target.value),disabled:sn,className:"h-9"})]}):null,vt==="update_transfer_enable"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.transfer_enable_gb")}),o.jsx(G,{type:"number",value:Lr,onChange:S=>Pr(S.target.value),disabled:sn,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.bulk.traffic_hint")})]}):null,vt==="update_device_limit"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("user.fields.device_limit")}),o.jsx(G,{type:"number",value:gi,onChange:S=>yi(S.target.value),disabled:sn,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.bulk.device_limit_hint")})]}):null,vt==="export_svg"?o.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-3 text-sm text-muted-foreground",children:e("user.bulk.export_svg_hint")}):null,vt==="delete"?o.jsx("div",{className:"rounded-lg border border-border/70 bg-red-50 p-3 text-sm text-red-700",children:e("user.bulk.delete_hint")}):null,Qn?o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Qn.label," ",Qn.done,"/",Qn.total]}):null,Ft?o.jsx("div",{className:"text-sm text-red-600",children:Ft}):null]}),o.jsxs(yr,{children:[o.jsx(B,{variant:"outline",onClick:()=>et(!1),disabled:sn,children:e("common.cancel")}),o.jsx(B,{onClick:Mh,disabled:sn,children:e(sn?"common.loading":"common.confirm")})]})]})}),o.jsx(os,{open:se.open,onOpenChange:se.setOpen,position:se.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),Ph(se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Wk,{className:"h-4 w-4 mr-2"}),e("user.actions.assign_order")]}),disabled:!((Vc=se.data)!=null&&Vc.email),onSelect:()=>{var S;(S=se.data)!=null&&S.email&&(se.setOpen(!1),Eh(se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(ci,{className:"h-4 w-4 mr-2"}),e("user.copy_subscribe")]}),disabled:!((Il=se.data)!=null&&Il.subscribe_url),onSelect:()=>{var S;(S=se.data)!=null&&S.subscribe_url&&(se.setOpen(!1),rd(se.data.subscribe_url))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(VD,{className:"h-4 w-4 mr-2"}),e("user.reset_secret")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),zl(se.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(KD,{className:"h-4 w-4 mr-2"}),e("user.actions.user_orders")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),ed(se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(DC,{className:"h-4 w-4 mr-2"}),e("user.actions.user_invites")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),td(se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Y_,{className:"h-4 w-4 mr-2"}),e("user.actions.user_traffic")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),Rl(se.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(hg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]}),disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),Dl(se.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!se.data,onSelect:()=>{se.data&&(se.setOpen(!1),nd(se.data))}}]})]})}const NN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Sb=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},CN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},O6e=e=>{const t=(e==null?void 0:e.reason)??(e==null?void 0:e.reset_reason)??(e==null?void 0:e.resetReason);if(typeof t=="string"&&t.trim())return t.trim();const n=e==null?void 0:e.metadata;if(n==null)return"-";const r=i=>{const s=(i==null?void 0:i.reason)??(i==null?void 0:i.reset_reason)??(i==null?void 0:i.resetReason)??(i==null?void 0:i.message)??(i==null?void 0:i.note)??(i==null?void 0:i.comment)??(i==null?void 0:i.remark)??(i==null?void 0:i.description);return typeof s=="string"&&s.trim()?s.trim():null};if(typeof n=="string"){const i=n.trim();if(!i)return"-";try{const s=JSON.parse(i),a=r(s);if(a)return a}catch{}return i}return typeof n=="object"&&r(n)||"-"};function P6e(){const{t:e}=Ut(),t=Ja(),n=xh(),r=f.useMemo(()=>{const he=new URLSearchParams(t.search),Pe=he.get("user_id")||he.get("id")||"",J=Number(Pe);return Number.isFinite(J)&&J>0?Math.trunc(J):null},[t.search]),[i,s]=f.useState(null),[a,l]=f.useState("usage"),[c,u]=f.useState(!1),[d,h]=f.useState([]),[m,p]=f.useState(0),[g,y]=f.useState(1),[x,v]=f.useState(10),w=f.useMemo(()=>Math.max(1,Math.ceil(m/x)),[m,x]),[b,j]=f.useState(!1),[_,k]=f.useState(null),[C,O]=f.useState([]),[M,P]=f.useState(1),[A,R]=f.useState(10),F=C.length,V=f.useMemo(()=>Math.max(1,Math.ceil(F/A)),[F,A]),K=f.useMemo(()=>{const he=Math.max(0,(M-1)*A);return C.slice(he,he+A)},[C,M,A]),[L,W]=f.useState(!1),[z,T]=f.useState(!1);f.useEffect(()=>{y(he=>Math.min(Math.max(1,he),w))},[w]),f.useEffect(()=>{P(he=>Math.min(Math.max(1,he),V))},[V]),f.useEffect(()=>{P(1),R(10)},[r]);const q=f.useCallback(he=>he?he==="d"?e("user.traffic_panel.record_type.daily"):he==="h"?e("user.traffic_panel.record_type.hourly"):he==="m"?e("user.traffic_panel.record_type.monthly"):he:"-",[e]),Y=f.useCallback(async()=>{if(r){u(!0);try{const he=await GJ.getStatUser({user_id:r,page:g,pageSize:x});h(he.data.data||[]),p(he.data.total||0)}catch(he){h([]),p(0),s({tone:"error",text:NN(he,e("common.load_failed"))}),console.error(he)}finally{u(!1)}}},[e,r,g,x]),ee=f.useCallback(async()=>{if(r){j(!0);try{const he=await Sm.userHistory(r,{limit:50});k(he.data.data.user||null),O(he.data.data.history||[])}catch(he){k(null),O([]),s({tone:"error",text:NN(he,e("common.load_failed"))}),console.error(he)}finally{j(!1)}}},[e,r]);f.useEffect(()=>{r&&Y()},[r,g,x,Y]),f.useEffect(()=>{r&&ee()},[r,ee]);const pe=async he=>{if(r){T(!0),s(null);try{const Pe=await Sm.resetUser({user_id:r,reason:he.trim()||void 0});s({tone:"success",text:Pe.data.message||e("user.traffic_reset")}),W(!1),await ee()}catch(Pe){s({tone:"error",text:NN(Pe,e("common.save_failed"))}),console.error(Pe)}finally{T(!1)}}},se=async()=>{await Promise.all([Y(),ee()])};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 md:flex-1",children:[o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:()=>n(-1),children:[o.jsx(Koe,{className:"h-4 w-4 mr-2"}),e("common.back")]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold leading-none tracking-tight",children:e("user.traffic_panel.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:_?`ID: ${_.id}  ${_.email}`:r?`ID: ${r}`:""})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:se,disabled:!r,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",(c||b)&&"animate-spin")}),e("common.refresh")]}),o.jsxs(B,{variant:"destructive",size:"sm",className:"h-9",onClick:()=>W(!0),disabled:!r,children:[o.jsx(hg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]})]})]}),i&&o.jsx("div",{className:te("text-sm",i.tone==="success"?"text-green-600":"text-red-600"),children:i.text}),r?o.jsxs(Qm,{value:a,onValueChange:he=>l(he),className:"w-full",children:[o.jsxs(Nh,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"usage",children:e("user.traffic_panel.tabs.usage")}),o.jsx(gr,{value:"resets",children:e("user.traffic_panel.tabs.resets")})]}),o.jsxs(ai,{value:"usage",className:"mt-4 space-y-4",children:[o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("user.traffic_panel.usage.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("user.traffic_panel.usage.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("user.traffic_panel.usage.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.upload")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.download")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.total")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("common.loading")})}):d.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("user.traffic_panel.usage.empty")})}):d.map(he=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:CN(he.record_at)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:q(he.record_type)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number(he.server_rate??0).toFixed(2)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Sb(he.u)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Sb(he.d)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Sb((he.u||0)+(he.d||0))})]},he.id))})]})})})}),o.jsx(us,{page:g,total:m,pageSize:x,onPageChange:he=>y(he),onPageSizeChange:he=>{v(he),y(1)},loading:c})]}),o.jsxs(ai,{value:"resets",className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.count")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:(_==null?void 0:_.reset_count)??"-"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.last")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:CN((_==null?void 0:_.last_reset_at)??null)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.next")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:CN((_==null?void 0:_.next_reset_at)??null)})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("user.traffic_panel.reset.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.reset.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("user.traffic_panel.reset.trigger")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("user.traffic_panel.reset.old")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("user.traffic_panel.reset.reason")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:b?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("common.loading")})}):C.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("user.traffic_panel.reset.empty")})}):K.map(he=>{var Pe,J;return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:he.reset_time||"-"}),o.jsx("td",{className:"px-4 py-3 align-middle",children:he.reset_type_name||he.reset_type}),o.jsx("td",{className:"px-4 py-3 align-middle",children:he.trigger_source_name||he.trigger_source}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:((Pe=he.old_traffic)==null?void 0:Pe.formatted)||Sb((J=he.old_traffic)==null?void 0:J.total)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:O6e(he)})]},he.id)})})]})})})}),o.jsx(us,{page:M,total:F,pageSize:A,onPageChange:he=>P(he),onPageSizeChange:he=>{R(he),P(1)},loading:b})]})]}):o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("common.load_failed")})}),o.jsx(DA,{open:L,onOpenChange:W,user:r?{id:r,email:_==null?void 0:_.email}:null,loading:z,onConfirm:pe})]})}const Gh={fetch:e=>De.post("/ticket/fetch",e),reply:(e,t)=>De.post("/ticket/reply",{id:e,message:t}),close:e=>De.post("/ticket/close",{id:e})},nB=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Nb=e=>String(e).padStart(2,"0"),E6e=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${Nb(t.getMonth()+1)}-${Nb(t.getDate())}T${Nb(t.getHours())}:${Nb(t.getMinutes())}`},M6e=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},rB=e=>{const t=Number(e??0);return Number.isFinite(t)?(t/1073741824).toFixed(2):"0.00"},iB=()=>({email:"",password:"",plan_id:"null",expired_at:"",banned:!1,is_admin:!1,is_staff:!1,remarks:"",used_upload_gb:"0.00",used_download_gb:"0.00",speed_limit:"",device_limit:"",transfer_enable_gb:"",balance:"",commission_balance:"",commission_type:"0",commission_rate:"",discount:"",invite_user_email:""});function T6e({open:e,onOpenChange:t,userId:n,onSaved:r}){const{t:i}=Ut(),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState([]),[p,g]=f.useState(()=>iB()),y=f.useCallback(async()=>{try{const b=await il.fetch();b.data.status==="success"&&m(b.data.data||[])}catch(b){m([]),console.error(b)}},[]),x=f.useCallback(b=>{var j;g({id:b.id,email:b.email||"",password:"",plan_id:b.plan_id===null||b.plan_id===void 0?"null":String(b.plan_id),expired_at:E6e(b.expired_at),banned:!!b.banned,is_admin:!!b.is_admin,is_staff:!!b.is_staff,remarks:b.remarks||"",used_upload_gb:rB(b.u),used_download_gb:rB(b.d),speed_limit:b.speed_limit===null||b.speed_limit===void 0?"":String(b.speed_limit),device_limit:b.device_limit===null||b.device_limit===void 0?"":String(b.device_limit),transfer_enable_gb:b.transfer_enable?String((b.transfer_enable/1073741824).toFixed(2)):"",balance:b.balance===null||b.balance===void 0?"":String(b.balance),commission_balance:b.commission_balance===null||b.commission_balance===void 0?"":String(b.commission_balance),commission_type:b.commission_type===null||b.commission_type===void 0?"0":String(b.commission_type),commission_rate:b.commission_rate===null||b.commission_rate===void 0?"":String(b.commission_rate),discount:b.discount===null||b.discount===void 0?"":String(b.discount),invite_user_email:((j=b.invite_user)==null?void 0:j.email)||""})},[]),v=f.useCallback(async b=>{var j;a(!0),d("");try{const k=(j=(await ii.fetch({current:1,pageSize:1,filter:[{id:"id",value:`eq:${b}`}]})).data.data)==null?void 0:j[0];if(!k)throw new Error("user_not_found");x(k)}catch(_){d(nB(_,i("common.load_failed"))),console.error(_)}finally{a(!1)}},[x,i]);f.useEffect(()=>{e&&(d(""),y())},[e,y]),f.useEffect(()=>{e&&n&&v(n)},[e,n,v]),f.useEffect(()=>{e||(a(!1),c(!1),d(""),g(iB()))},[e]);const w=async()=>{if(l||!p.id)return;if(d(""),!p.email.trim())return d(i("user.validation.email_required"));const b=O=>{const M=O.trim();if(!M)return 0;const P=Number(M);return!Number.isFinite(P)||P<0?null:Math.round(P*1073741824)},j=b(p.used_upload_gb);if(j===null)return d(i("user.validation.number_invalid"));const _=b(p.used_download_gb);if(_===null)return d(i("user.validation.number_invalid"));const k=M6e(p.expired_at),C={id:p.id,email:p.email.trim(),banned:p.banned,is_admin:p.is_admin,is_staff:p.is_staff,remarks:p.remarks.trim()||null,expired_at:k,plan_id:p.plan_id==="null"?null:Number(p.plan_id),invite_user_email:p.invite_user_email.trim()||null,u:j,d:_};p.password.trim()&&(C.password=p.password.trim()),p.speed_limit.trim()!==""&&(C.speed_limit=Number(p.speed_limit)),p.device_limit.trim()!==""&&(C.device_limit=Number(p.device_limit)),p.transfer_enable_gb.trim()!==""&&(C.transfer_enable=Math.round(Number(p.transfer_enable_gb)*1073741824)),p.balance.trim()!==""&&(C.balance=Number(p.balance)),p.commission_balance.trim()!==""&&(C.commission_balance=Number(p.commission_balance)),p.commission_type.trim()!==""&&(C.commission_type=Math.trunc(Number(p.commission_type))),p.commission_rate.trim()!==""&&(C.commission_rate=Math.trunc(Number(p.commission_rate))),p.discount.trim()!==""&&(C.discount=Math.trunc(Number(p.discount))),c(!0);try{const O=await ii.update(C);if(O.data.status!=="success")throw new Error(O.data.message||"request failed");t(!1),r==null||r()}catch(O){d(nB(O,i("common.save_failed"))),console.error(O)}finally{c(!1)}};return o.jsx(un,{open:e,onOpenChange:t,children:o.jsxs(on,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(dn,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(hn,{children:i("user.edit_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:s?o.jsx("div",{className:"py-6 text-sm text-muted-foreground",children:i("common.loading")}):o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.user_info")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.email")}),o.jsx(G,{value:p.email,onChange:b=>g(j=>({...j,email:b.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.invite_user_email")}),o.jsx(G,{value:p.invite_user_email,onChange:b=>g(j=>({...j,invite_user_email:b.target.value})),placeholder:i("user.fields.invite_user_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.password")}),o.jsx(G,{type:"password",value:p.password,onChange:b=>g(j=>({...j,password:b.target.value})),placeholder:i("user.fields.password_hint")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.traffic")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.used_upload_gb")}),o.jsx(G,{type:"number",min:0,step:"0.01",value:p.used_upload_gb,onChange:b=>g(j=>({...j,used_upload_gb:b.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.used_download_gb")}),o.jsx(G,{type:"number",min:0,step:"0.01",value:p.used_download_gb,onChange:b=>g(j=>({...j,used_download_gb:b.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.transfer_enable_gb")}),o.jsx(G,{type:"number",value:p.transfer_enable_gb,onChange:b=>g(j=>({...j,transfer_enable_gb:b.target.value})),placeholder:"100"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.fields.transfer_enable_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.expired_at")}),o.jsx(G,{type:"datetime-local",value:p.expired_at,onChange:b=>g(j=>({...j,expired_at:b.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.fields.expired_at_hint")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.plan")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.plan")}),o.jsxs(st,{value:p.plan_id,onValueChange:b=>g(j=>({...j,plan_id:b})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"null",children:i("user.no_plan")}),h.map(b=>o.jsx(de,{value:String(b.id),children:b.name},b.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.account_status")}),o.jsxs(st,{value:p.banned?"banned":"active",onValueChange:b=>g(j=>({...j,banned:b==="banned"})),children:[o.jsx(nt,{children:o.jsx(at,{})}),o.jsxs(rt,{children:[o.jsx(de,{value:"active",children:i("user.status.active")}),o.jsx(de,{value:"banned",children:i("user.status.disabled")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.speed_limit")}),o.jsx(G,{type:"number",value:p.speed_limit,onChange:b=>g(j=>({...j,speed_limit:b.target.value})),placeholder:"Mbps"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.device_limit")}),o.jsx(G,{type:"number",value:p.device_limit,onChange:b=>g(j=>({...j,device_limit:b.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.balance")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.balance")}),o.jsx(G,{type:"number",value:p.balance,onChange:b=>g(j=>({...j,balance:b.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.commission_balance")}),o.jsx(G,{type:"number",value:p.commission_balance,onChange:b=>g(j=>({...j,commission_balance:b.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.config")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.commission_type")}),o.jsxs(st,{value:p.commission_type,onValueChange:b=>g(j=>({...j,commission_type:b})),children:[o.jsx(nt,{children:o.jsx(at,{placeholder:i("user.fields.commission_type")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"0",children:i("user.commission_type.system")}),o.jsx(de,{value:"1",children:i("user.commission_type.period")}),o.jsx(de,{value:"2",children:i("user.commission_type.onetime")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.commission_rate")}),o.jsx(G,{type:"number",value:p.commission_rate,onChange:b=>g(j=>({...j,commission_rate:b.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:i("user.fields.discount")}),o.jsx(G,{type:"number",value:p.discount,onChange:b=>g(j=>({...j,discount:b.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.roles")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:p.is_admin,onCheckedChange:b=>g(j=>({...j,is_admin:!!b}))}),o.jsx("span",{children:i("user.fields.is_admin")})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Hn,{checked:p.is_staff,onCheckedChange:b=>g(j=>({...j,is_staff:!!b}))}),o.jsx("span",{children:i("user.fields.is_staff")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.remarks")}),o.jsx(xr,{value:p.remarks,onChange:b=>g(j=>({...j,remarks:b.target.value})),placeholder:i("user.fields.remarks"),maxLength:500})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[u&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:u}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:l,children:i("common.cancel")}),o.jsx(B,{onClick:w,disabled:l||s||!p.id,children:i(l?"common.saving":"common.save")})]})]})]})})}const Qh=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Cb=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},Lp=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},Xh=e=>e&&typeof e=="object"&&typeof e.status=="string"&&"data"in e;function A6e(){var xe,me;const{t:e}=Ut(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),a=ls(),[l,c]=f.useState(1),[u]=f.useState(20),[d,h]=f.useState(0),[m,p]=f.useState({query:"",level:"all",reply_status:"all",status:"0"}),[g,y]=f.useState([]),[x,v]=f.useState(!1),[w,b]=f.useState(!1),[j,_]=f.useState(""),[k,C]=f.useState(null),[O,M]=f.useState(""),[P,A]=f.useState(!1),R=f.useRef(null),[F,V]=f.useState(!1),[K,L]=f.useState(""),[W,z]=f.useState([]),[T,q]=f.useState(!1),[Y,ee]=f.useState(null),[pe,se]=f.useState(!1),[he,Pe]=f.useState(null),J=f.useCallback(async()=>{V(!0),L("");try{const H=await Gh.fetch({current:1,pageSize:50,status:0,reply_status:[1]});if(Xh(H.data))throw new Error("unexpected detail response");z(H.data.data||[])}catch(H){z([]),L(Qh(H,e("common.load_failed"))),console.error(H)}finally{V(!1)}},[e]),Re=f.useCallback(async()=>{r(!0),s(null);try{const H={current:l,pageSize:u};m.status!=="all"&&(H.status=Number(m.status)),m.reply_status!=="all"&&(H.reply_status=[Number(m.reply_status)]);const Ce=[];if(m.query.trim()&&Ce.push({id:"keyword",value:m.query.trim()}),m.level!=="all"){const ne=Number(m.level);Number.isFinite(ne)&&Ce.push({id:"level",value:[Math.trunc(ne)]})}Ce.length&&(H.filter=Ce);const $e=await Gh.fetch(H);if(Xh($e.data))throw new Error("unexpected detail response");y($e.data.data||[]),h($e.data.total||0)}catch(H){y([]),h(0),s({tone:"error",text:Qh(H,e("common.load_failed"))}),console.error(H)}finally{r(!1)}},[e,l,u,m]);f.useEffect(()=>{Re()},[Re]),f.useEffect(()=>{x&&J()},[x,J]);const ie=f.useCallback((H="auto")=>{const Ce=R.current;if(!Ce)return;const $e=Ce.querySelector("[data-radix-scroll-area-viewport]");$e&&$e.scrollTo({top:$e.scrollHeight,behavior:H})},[]);f.useLayoutEffect(()=>{x&&k&&ie("auto")},[x,k==null?void 0:k.id,(xe=k==null?void 0:k.messages)==null?void 0:xe.length,ie]);const Ee=async H=>{v(!0),b(!0),_(""),C(null),M("");try{const Ce=await Gh.fetch({id:H});if(!Xh(Ce.data)||Ce.data.status!=="success"){const $e=Xh(Ce.data)?Ce.data.message:"request failed";throw new Error($e)}C(Ce.data.data)}catch(Ce){_(Qh(Ce,e("common.load_failed"))),console.error(Ce)}finally{b(!1)}},Te=async H=>{if(x&&k&&k.id===H){b(!0);try{const Ce=await Gh.fetch({id:H});if(!Xh(Ce.data)||Ce.data.status!=="success"){const $e=Xh(Ce.data)?Ce.data.message:"request failed";throw new Error($e)}C(Ce.data.data)}catch(Ce){pt.error(Qh(Ce,e("common.load_failed"))),console.error(Ce)}finally{b(!1)}}},fe=async H=>{if(await t({title:e("ticket.close"),description:e("ticket.confirm_close"),confirmText:e("ticket.close"),confirmVariant:"destructive"})){s(null);try{const $e=await Gh.close(H);if($e.data.status!=="success")throw new Error($e.data.message||"request failed");s({tone:"success",text:e("ticket.closed")}),(k==null?void 0:k.id)===H&&await Te(H),await J(),await Re()}catch($e){s({tone:"error",text:Qh($e,e("common.save_failed"))}),console.error($e)}}},X=async()=>{if(P||!k)return;const H=O.trim();if(!H)return;A(!0),s(null);const Ce=-Date.now(),$e=Math.floor(Date.now()/1e3),ne={id:Ce,ticket_id:k.id,user_id:k.user_id,message:H,created_at:$e,updated_at:$e,is_from_admin:!0,is_from_user:!1};M(""),C(je=>{if(!je||je.id!==k.id)return je;const Ke=Array.isArray(je.messages)?je.messages:[];return{...je,updated_at:$e,messages:[...Ke,ne]}});try{const je=await Gh.reply(k.id,H);if(je.data.status!=="success")throw new Error(je.data.message||"request failed");await Te(k.id),await J(),await Re()}catch(je){C(Ke=>{if(!Ke||Ke.id!==k.id)return Ke;const oe=Array.isArray(Ke.messages)?Ke.messages:[];return{...Ke,messages:oe.filter(U=>U.id!==Ce)}}),M(H),s({tone:"error",text:Qh(je,e("common.save_failed"))}),console.error(je)}finally{A(!1)}},ke=H=>e(H===1?"ticket.status.closed":"ticket.status.open"),Q=f.useCallback(H=>{const Ce=Number(H);return Number.isFinite(Ce)?Ce===2?{label:e("ticket.level.high"),className:"border-red-200 bg-red-50 text-red-600"}:Ce===1?{label:e("ticket.level.medium"),className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:e("ticket.level.low"),className:"border-emerald-200 bg-emerald-50 text-emerald-700"}:{label:"",className:"border-border/70 bg-muted/30 text-muted-foreground"}},[e]),Se=f.useCallback(H=>H===1?{label:e("ticket.reply.waiting_admin"),className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:e("ticket.reply.waiting_user"),className:"border-emerald-200 bg-emerald-50 text-emerald-700"},[e]),re=f.useCallback(H=>{const Ce=Number(H==null?void 0:H.id);!Number.isFinite(Ce)||Ce<=0||(ee({id:Math.trunc(Ce),email:typeof(H==null?void 0:H.email)=="string"?H.email:null}),q(!0))},[]),Ne=f.useCallback(H=>{const Ce=Number((H==null?void 0:H.id)??(H==null?void 0:H.user_id)??(H==null?void 0:H.userId)??H);!Number.isFinite(Ce)||Ce<=0||(Pe(Math.trunc(Ce)),se(!0))},[]),Oe=({m:H})=>{const Ce=!!H.is_from_admin;return o.jsx("div",{className:te("flex",Ce?"justify-end":"justify-start"),children:o.jsxs("div",{className:te("max-w-[80%] rounded-lg border px-3 py-2 text-sm",Ce?"bg-primary text-primary-foreground":"bg-background"),children:[o.jsx("div",{className:"whitespace-pre-wrap break-words",children:H.message}),o.jsx("div",{className:te("mt-1 text-xs opacity-80",Ce?"text-primary-foreground":"text-muted-foreground"),children:Cb(H.created_at)})]})})};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(G,{value:m.query,onChange:H=>{p(Ce=>({...Ce,query:H.target.value})),c(1)},placeholder:e("ticket.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(st,{value:m.status,onValueChange:H=>{p(Ce=>({...Ce,status:H})),c(1)},children:[o.jsx(nt,{className:"h-9 w-[140px]",children:o.jsx(at,{placeholder:e("ticket.filter_status")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("ticket.all")}),o.jsx(de,{value:"0",children:e("ticket.status.open")}),o.jsx(de,{value:"1",children:e("ticket.status.closed")})]})]}),o.jsxs(st,{value:m.level,onValueChange:H=>{p(Ce=>({...Ce,level:H})),c(1)},children:[o.jsx(nt,{className:"h-9 w-[140px]",children:o.jsx(at,{placeholder:e("ticket.filter_level")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("ticket.all")}),o.jsx(de,{value:"0",children:e("ticket.level.low")}),o.jsx(de,{value:"1",children:e("ticket.level.medium")}),o.jsx(de,{value:"2",children:e("ticket.level.high")})]})]}),o.jsxs(st,{value:m.reply_status,onValueChange:H=>{p(Ce=>({...Ce,reply_status:H})),c(1)},children:[o.jsx(nt,{className:"h-9 w-[160px]",children:o.jsx(at,{placeholder:e("ticket.filter_reply")})}),o.jsxs(rt,{children:[o.jsx(de,{value:"all",children:e("ticket.all")}),o.jsx(de,{value:"1",children:e("ticket.reply.waiting_admin")}),o.jsx(de,{value:"0",children:e("ticket.reply.waiting_user")})]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:o.jsxs(B,{variant:"outline",size:"sm",className:"h-9",onClick:Re,disabled:n,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})})]}),i&&o.jsx("div",{className:te("text-sm",i.tone==="success"?"text-green-600":"text-red-600"),children:i.text}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:d})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:g.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("ticket.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[80px]",children:"ID"}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("ticket.subject")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("ticket.user")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("ticket.status_label")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("ticket.filter_level")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("ticket.reply_label")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("ticket.updated_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[120px]",children:e("ticket.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:g.map(H=>{var ne,je;const Ce=Q(H.level),$e=Se(H.reply_status??null);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Ke=>a.openMenu(Ke,H),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:H.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate font-medium",title:H.subject,children:H.subject})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("button",{type:"button",className:"block w-full truncate text-left font-medium text-primary underline-offset-2 hover:underline",title:(ne=H.user)==null?void 0:ne.email,onClick:()=>Ne(H.user_id),children:((je=H.user)==null?void 0:je.email)||""})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:ke(H.status)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",Ce.className),children:Ce.label})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",$e.className),children:$e.label})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Cb(H.updated_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Ee(H.id),children:o.jsx(HD,{className:"h-4 w-4"})}),o.jsx(B,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>fe(H.id),disabled:H.status===1,children:o.jsx(Fd,{className:"h-4 w-4"})})]})})]},H.id)})})]})})})}),o.jsx(us,{page:l,total:d,pageSize:u,onPageChange:H=>c(H),onPageSizeChange:()=>{},loading:n}),o.jsx(un,{open:x,onOpenChange:v,children:o.jsxs(on,{className:"max-w-6xl h-[90vh] max-h-[95vh] overflow-hidden p-0 flex flex-col gap-0",children:[o.jsxs(dn,{className:"shrink-0 border-b px-6 py-4 pr-12",children:[o.jsx(hn,{children:e("ticket.detail_title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:k?`ID: ${k.id}${(me=k.user)!=null&&me.email?`  ${k.user.email}`:""}`:""})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-6 py-4",children:o.jsxs("div",{className:"grid min-h-0 h-full grid-cols-1 gap-4 md:grid-cols-12",children:[o.jsx("div",{className:"flex min-h-0 h-full flex-col overflow-hidden md:col-span-4",children:o.jsx(It,{className:"h-full overflow-hidden",children:o.jsxs(Lt,{className:"flex h-full flex-col p-0",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("ticket.reply.waiting_admin")}),o.jsxs(B,{variant:"outline",size:"sm",className:"h-8",onClick:J,disabled:F,children:[o.jsx(gn,{className:te("h-4 w-4 mr-2",F&&"animate-spin")}),e("common.refresh")]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:F?o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e("common.loading")}):K?o.jsx("div",{className:"px-4 py-6 text-sm text-red-600",children:K}):W.length===0?o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e("ticket.empty")}):W.map(H=>{var ne,je;const Ce=(k==null?void 0:k.id)===H.id,$e=Q(H.level);return o.jsx("div",{role:"button",tabIndex:0,className:te("w-full cursor-pointer border-b px-4 py-3 text-left hover:bg-muted/30",Ce&&"bg-muted/30"),onClick:()=>Ee(H.id),onKeyDown:Ke=>{(Ke.key==="Enter"||Ke.key===" ")&&(Ke.preventDefault(),Ee(H.id))},children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("button",{type:"button",className:"block w-full truncate text-left font-medium text-primary underline-offset-2 hover:underline",title:(ne=H.user)==null?void 0:ne.email,onClick:Ke=>{Ke.stopPropagation(),Ne(H.user_id)},children:((je=H.user)==null?void 0:je.email)||`ID: ${H.user_id}`}),o.jsx("div",{className:"mt-1 truncate text-xs text-muted-foreground",children:H.subject})]}),o.jsxs("div",{className:"flex shrink-0 flex-col items-end gap-2",children:[o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",$e.className),children:$e.label}),o.jsx("div",{className:"text-xs text-muted-foreground tabular-nums",children:Cb(H.updated_at)})]})]})},H.id)})})]})})}),o.jsx("div",{className:"flex min-h-0 h-full flex-col overflow-hidden md:col-span-8",children:j?o.jsx("div",{className:"px-4 py-6 text-sm text-red-600",children:j}):k?o.jsxs("div",{className:te("relative flex h-full flex-col gap-4",w&&"opacity-80"),children:[w?o.jsx("div",{className:"pointer-events-none absolute right-0 top-0",children:o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-md border border-border/70 bg-background/90 px-2 py-1 text-xs text-muted-foreground shadow-sm",children:[o.jsx(gn,{className:"h-3.5 w-3.5 animate-spin"}),e("ticket.loading")]})}):null,(()=>{var $e;const H=Q(k.level),Ce=Se(k.reply_status??null);return o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.subject"),":"]}),o.jsx("span",{className:"font-medium",children:k.subject}),o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.status_label"),":"]}),o.jsx("span",{children:ke(k.status)}),o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",H.className),children:H.label}),o.jsx("span",{className:te("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",Ce.className),children:Ce.label})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.user"),":"]}),o.jsx("button",{type:"button",className:"font-medium text-primary underline-offset-2 hover:underline",onClick:()=>Ne(k.user_id),children:(($e=k.user)==null?void 0:$e.email)||"-"}),o.jsx(B,{variant:"outline",size:"sm",className:"h-8",onClick:()=>re(k.user),children:e("user.actions.user_traffic")})]})]})})(),k.user&&o.jsx("div",{className:"grid gap-3 md:grid-cols-4",children:(()=>{const H=k.user,Ce=Number((H==null?void 0:H.u)??0),$e=Number((H==null?void 0:H.d)??0),ne=(Number.isFinite(Ce)?Ce:0)+(Number.isFinite($e)?$e:0),je=Number((H==null?void 0:H.transfer_enable)??0),Ke=Number.isFinite(je)?Math.max(0,je-ne):0;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("user.traffic_panel.usage.upload")," / ",e("user.traffic_panel.usage.download")]}),o.jsxs("div",{className:"mt-1 text-sm font-medium tabular-nums",children:[Lp(Ce)," / ",Lp($e)]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("user.used")," / ",e("user.total")]}),o.jsxs("div",{className:"mt-1 text-sm font-medium tabular-nums",children:[Lp(ne)," / ",Lp(je)]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.remaining")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:Lp(Ke)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.expired_at")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:Cb((H==null?void 0:H.expired_at)??null)})]})]})})()}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden rounded-lg border border-border/70 bg-muted/10",children:o.jsx(ds,{className:"h-full",ref:R,children:o.jsx("div",{className:"space-y-3 p-4",children:(k.messages||[]).map(H=>o.jsx(Oe,{m:H},H.id))})})}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Z,{children:e("ticket.reply_action")}),o.jsx(xr,{value:O,onChange:H=>M(H.target.value),className:"min-h-[100px]"})]})]}):o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e(w?"ticket.loading":"ticket.empty_detail")})})]})}),o.jsx("div",{className:"shrink-0 border-t bg-background px-6 py-4",children:o.jsxs("div",{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx(B,{variant:"outline",onClick:()=>v(!1),children:e("common.close")}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:k&&o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"outline",onClick:()=>fe(k.id),disabled:k.status===1,children:[o.jsx(Fd,{className:"h-4 w-4 mr-2"}),e("ticket.close")]}),o.jsxs(B,{onClick:X,disabled:P||!O.trim(),children:[o.jsx(gE,{className:"h-4 w-4 mr-2"}),e("ticket.send")]})]})})]})})]})}),o.jsx(QJ,{open:T,onOpenChange:H=>{q(H),H||ee(null)},user:Y,onAfterReset:Re}),o.jsx(T6e,{open:pe,onOpenChange:H=>{se(H),H||Pe(null)},userId:he,onSaved:()=>{J(),Re()}}),o.jsx(os,{open:a.open,onOpenChange:a.setOpen,position:a.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(HD,{className:"h-4 w-4 mr-2"}),e("ticket.detail")]}),disabled:!a.data,onSelect:()=>{a.data&&(a.setOpen(!1),Ee(a.data.id))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Fd,{className:"h-4 w-4 mr-2"}),e("ticket.close")]}),destructive:!0,disabled:!a.data||a.data.status===1,onSelect:()=>{a.data&&(a.setOpen(!1),fe(a.data.id))}}]})]})}const sB=e=>e?String(e).trim().replace(/^\/+|\/+$/g,""):"",aB="xadmin",z6e=()=>{const e=sB(void 0);if(e)return`/${e}`;const t=window.location.pathname.split("/").filter(Boolean),n=t[0]||"",r=t[1]||"";if(/^[a-zA-Z0-9_-]{3,64}$/.test(n)&&!(n==="login"||n==="dashboard"))return sB(localStorage.getItem("adminPath"))||localStorage.setItem("adminPath",n),r===aB?`/${n}/${aB}`:`/${n}`},D6e=({children:e})=>hE()?e:o.jsx(wC,{to:"/login",replace:!0});function R6e(){const e=z6e(),t=hE();return o.jsx(wDe,{children:o.jsx(xDe,{children:o.jsx(Jre,{basename:e,children:o.jsxs(Ere,{children:[o.jsx(fr,{path:"/",element:t?o.jsx(wC,{to:"/dashboard",replace:!0}):o.jsx(_R,{})}),o.jsx(fr,{path:"/login",element:o.jsx(_R,{})}),o.jsxs(fr,{path:"/dashboard",element:o.jsx(D6e,{children:o.jsx(kge,{})}),children:[o.jsx(fr,{index:!0,element:o.jsx(yDe,{})}),o.jsx(fr,{path:"system/config",element:o.jsx(mqe,{})}),o.jsx(fr,{path:"system/plugin",element:o.jsx(pqe,{})}),o.jsx(fr,{path:"system/theme",element:o.jsx(gqe,{})}),o.jsx(fr,{path:"system/notice",element:o.jsx(yqe,{})}),o.jsx(fr,{path:"system/payment",element:o.jsx(kqe,{})}),o.jsx(fr,{path:"system/knowledge",element:o.jsx(zqe,{})}),o.jsx(fr,{path:"server/list",element:o.jsx(i6e,{})}),o.jsx(fr,{path:"server/group",element:o.jsx(s6e,{})}),o.jsx(fr,{path:"server/route",element:o.jsx(l6e,{})}),o.jsx(fr,{path:"subscription/plan",element:o.jsx(d6e,{})}),o.jsx(fr,{path:"subscription/order",element:o.jsx(m6e,{})}),o.jsx(fr,{path:"subscription/coupon",element:o.jsx(y6e,{})}),o.jsx(fr,{path:"subscription/giftcard",element:o.jsx(v6e,{})}),o.jsx(fr,{path:"user/list",element:o.jsx(C6e,{})}),o.jsx(fr,{path:"user/traffic",element:o.jsx(P6e,{})}),o.jsx(fr,{path:"user/ticket",element:o.jsx(A6e,{})})]}),o.jsx(fr,{path:"*",element:o.jsx(wC,{to:"/",replace:!0})})]})})})})}const{slice:I6e,forEach:L6e}=[];function $6e(e){return L6e.call(I6e.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function F6e(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const oB=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,B6e=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let s=`${e}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!oB.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!oB.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},lB={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=B6e(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var q6e={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return lB.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=t;n&&typeof document<"u"&&lB.create(n,e,r,i,s)}},W6e={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===t&&(n=a[l].substring(c+1))}}return n}},U6e={name:"hash",lookup(e){var i;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(t){const l=a.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(r=l[c].substring(u+1))}}if(r)return r;if(!r&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(i=l[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Zh=null;const cB=()=>{if(Zh!==null)return Zh;try{if(Zh=typeof window<"u"&&window.localStorage!==null,!Zh)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Zh=!1}return Zh};var V6e={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&cB())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&cB()&&window.localStorage.setItem(n,e)}};let Jh=null;const uB=()=>{if(Jh!==null)return Jh;try{if(Jh=typeof window<"u"&&window.sessionStorage!==null,!Jh)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Jh=!1}return Jh};var H6e={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&uB())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&uB()&&window.sessionStorage.setItem(n,e)}},K6e={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},Y6e={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},G6e={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Q6e={name:"subdomain",lookup(e){var i,s;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let ZJ=!1;try{document.cookie,ZJ=!0}catch{}const JJ=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ZJ||JJ.splice(1,1);const X6e=()=>({order:JJ,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class eee{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=$6e(n,this.options||{},X6e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(q6e),this.addDetector(W6e),this.addDetector(V6e),this.addDetector(H6e),this.addDetector(K6e),this.addDetector(Y6e),this.addDetector(G6e),this.addDetector(Q6e),this.addDetector(U6e)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!F6e(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}eee.type="languageDetector";const Z6e={login:"Login",logout:"Logout",dashboard:"Dashboard",email:"Email",password:"Password",admin_login:"Admin Login",enter_credentials:"Enter your credentials to access the admin panel",admin_path:"Admin Path",advanced_settings:"Advanced settings",admin_path_hint:"Enter the backend admin path (secure_path), i.e. the segment you use to access the admin panel. Example: in `https://domain/abc123`, use `abc123` (no `/`).",logging_in:"Logging in...",login_failed:"Login failed",access_denied:"Access denied",language:"Language",save:"Save",saved:"Saved",saved_but_not_applied:"Saved but not applied (backend did not persist it). Please check backend validation/allowlist.",save_failed:"Save failed",load_failed:"Load failed",refresh:"Refresh",enable:"Enable",disable:"Disable",delete:"Delete",remove:"Remove",uninstall:"Uninstall",install:"Install",config:"Config",confirm:"Confirm",cancel:"Cancel",insert:"Insert",link_url:"Link URL",image_url:"Image URL",saving:"Saving...",autosave:"Auto-save",unsaved:"Unsaved",create:"Create",edit:"Edit",copy:"Copy",copied:"Copied",copy_failed:"Copy failed",from:"From",to:"To",close:"Close",search:"Search",search_placeholder:"Search menu and features...",please_select:"Please select",select_all:"Select all",command_group:"Menu Navigation",command_empty:"No matches found",settings:"Settings",admin:"Administrator",notice:"Notifications",light:"Switch to light",dark:"Switch to dark",currency_symbol:"$",coming_soon:"Coming soon",loading:"Loading...",back:"Back",collapse_sidebar:"Collapse sidebar",expand_sidebar:"Expand sidebar"},J6e={title:"Order Management",description:"Search orders, view details, and handle manual operations.",add:"Add Order",add_title:"Add Order",search_placeholder:"Search orders...",basic_info:"Basic Info",amount_info:"Amount Info",time_info:"Time Info",user_email:"User email",period_label:"Order period",callback_no:"Callback No",balance_payment:"Balance payment",discount_amount:"Discount amount",refund_amount:"Refund amount",offset_amount:"Offset amount",updated_at:"Updated at",table:{trade_no:"Trade No",type:"Type",plan:"Plan",period:"Period",amount:"Paid amount",status:"Order status",commission_amount:"Commission amount",commission_status:"Commission status",balance_amount:"Balance amount",pay_status:"Payment status",created_at:"Created at",actions:"Actions"},type:{new_purchase:"New purchase",renewal:"Renewal",upgrade:"Upgrade",reset_traffic:"Reset traffic"},pay_status:{paid:"Paid",unpaid:"Unpaid",cancelled:"Cancelled",unknown:"Unknown"},search_trade_no:"Trade No",search_trade_no_placeholder:"Search by trade_no",filter_status:"Status",filter_commission_status:"Commission status",filter_commission_only:"Commission orders only",yes:"Yes",no:"No",empty:"No orders",loading:"Loading...",detail:"Detail",detail_title:"Order Detail",empty_detail:"No detail",trade_no:"Trade No",amount:"Amount",status_label:"Status",period:"Period",plan:"Plan",created_at:"Created at",paid_at:"Paid at",commission_status:"Commission status",commission_hint:'Set to "All" to clear commission status.',update_commission:"Update commission",mark_paid:"Mark as paid",cancel:"Cancel order",assign:"Assign",assign_title:"Manual Assign",assign_email:"User email",assign_plan:"Plan",assign_period:"Period",assign_amount:"Amount (Yuan)",assign_amount_hint:"Sent to backend as cents.",paid:"Order marked as paid",cancelled:"Order cancelled",updated:"Order updated",assigned:"Assigned, trade_no: {{trade_no}}",confirm_cancel:"Cancel this order? Only pending orders can be cancelled.",validation:{email_required:"Email is required",plan_required:"Plan is required",amount_invalid:"Invalid amount"},status:{all:"All",pending:"Pending",processing:"Processing",cancelled:"Cancelled",completed:"Completed",discounted:"Discounted"},commission:{all:"All",pending:"Pending Confirmation",checking:"Paying",valid:"Valid",invalid:"Invalid"}},e8e={title:"Coupon Management",description:"Create, edit, enable/disable, and delete coupons.",add:"Add Coupon",search_placeholder:"Search coupons...",search_field:{name:"Name",code:"Code"},none:"None",unlimited_times:"Unlimited",expired_days:"Expired {{days}} days",limits:{plans:"Plans",periods:"Periods",per_user:"User"},table:{id:"ID",enabled:"Enabled",name:"Name",type:"Type",code:"Code",remaining:"Remaining",limits:"Limits",validity:"Validity",actions:"Actions"},empty:"No coupons",create_title:"Create Coupon",edit_title:"Edit Coupon",created:"Coupon created",saved:"Coupon saved",deleted:"Coupon deleted",generated_csv:"CSV generated",confirm_delete:"Delete this coupon? This action cannot be undone.",search_code:"Coupon code",search_code_placeholder:"Search by code",search_name:"Name",search_name_placeholder:"Search by name",filter_type:"Type",filter_show:"Visible",validity:"Valid",limit_use:"Remaining uses",limit_user:"Uses per user",unlimited:"Unlimited",type:{all:"All",amount:"Amount",percent:"Percent"},show:{all:"All",on:"On",off:"Off"},fields:{generate_count:"Generate count",generate_hint:"When > 1, backend returns a CSV for batch-generated codes.",code:"Code",code_placeholder:"Leave empty to auto-generate",code_hint:"Only works for single create; batch create always generates random codes.",name:"Name",type:"Type",amount_yuan:"Amount (Yuan)",percent:"Percent (0-100)",limit_use:"Max uses",limit_user:"Max uses per user",unlimited_placeholder:"Empty = unlimited",started_at:"Start time",ended_at:"End time",limit_plan_ids:"Allowed plans",limit_plan_ids_hint:"Empty = no limit",limit_period:"Allowed periods",limit_period_hint:"Empty = no limit"},validation:{name_required:"Name is required",time_required:"Start/end time is required",time_order:"End time must be after start time",value_required:"Value is required",generate_count_invalid:"Invalid generate count",generate_count_max:"Generate count max is 500"}},t8e={title:"Gift Card Management",description:"Manage templates, codes, usage records, and statistics.",template_manage:"Template Management",code_manage:"Code Management",tabs:{templates:"Templates",codes:"Codes",usages:"Usages",statistics:"Statistics"},templates:{search_placeholder:"Search templates...",table:{id:"ID",status:"Status",name:"Name",type:"Type",rewards:"Rewards",sort:"Sort",created_at:"Created at",actions:"Actions"}},codes:{search_placeholder:"Search code/batch/template...",search_field:{batch:"Batch",code:"Code"},available:"Available",unavailable:"Unavailable",copy_code:"Copy code",copy_batch:"Copy batch",disable:"Disable",export:"Export",columns:"Columns",table:{id:"ID",code:"Code",batch:"Batch",template:"Template",status:"Status",expires_at:"Expires at",used_count:"Used",available_count:"Available",created_at:"Created at",actions:"Actions"}},usages:{search_placeholder:"Search code/email/template...",user_id_placeholder:"User ID",table:{id:"ID",code:"Code",user:"User email",template:"Template",used_at:"Used at"}},rewards:{balance:"Balance",traffic:"Traffic",devices:"Devices",expire_days:"Validity",reset_package:"Reset traffic",plan:"Plan"},all:"All",type:"Type",template:"Template",batch:"Batch",user:"User",invite_user:"Invite user",status_label:"Status",expires_at:"Expires at",created_at:"Created at",usage:"Usage",generate:"Generate",export_batch:"Export batch",saved:"Saved",deleted:"Deleted",generated_csv:"CSV generated",generated:"Generated, batch: {{batch_id}}",loading:"Loading...",empty_templates:"No templates",empty_codes:"No codes",empty_usages:"No usages",empty_stats:"No statistics",confirm_delete_template:"Delete this template? It must have no codes.",confirm_delete_code:"Delete this code? Used codes cannot be deleted.",create_template:"Create Template",edit_template:"Edit Template",generate_title:"Generate Codes",edit_code:"Edit Code",unlimited:"Unlimited",status:{on:"Enabled",off:"Disabled"},code_status:{unused:"Unused",used:"Used",expired:"Expired",disabled:"Disabled"},filters:{type:"Type",status:"Status",template:"Template",batch:"Batch ID",user_id:"User ID"},fields:{name:"Name",description:"Description",type:"Type",status:"Enabled",sort:"Sort",theme_color:"Theme color",icon:"Icon",background_image:"Background image URL",rewards:"Rewards (JSON)",conditions:"Conditions (JSON)",limits:"Limits (JSON)",special_config:"Special config (JSON)",template:"Template",count:"Count",prefix:"Prefix",expires_hours:"Expires in (hours)",expires_at:"Expires at",max_usage:"Max usage",download_csv:"Download as CSV"},editor:{sections:{template_info:"Template Info",status:"Status",rewards:"Rewards",conditions:"Conditions",limits:"Limits",special:"Special",display:"Display"},labels:{random_reward_pool:"Random reward pool",reward_balance:"Balance reward",reward_traffic:"Traffic reward",reward_expire_days:"Extend validity",reward_device_limit:"Add device limit",new_user_max_days:"New user max days",new_user_only:"New users only",paid_user_only:"Paid users only",require_invite:"Require invite relationship",allowed_plans:"Allowed plans",banned_plans:"Banned plans",max_use_per_user:"Max uses per user",cooldown_hours:"Cooldown (hours)",invite_reward_rate:"Invite reward rate",start_time:"Start time",end_time:"End time",festival_bonus:"Festival bonus multiplier"},placeholders:{description:"Enter gift card description",reward_weight:"Weight",reward_balance:"Balance reward (CNY)",reward_traffic:"Traffic reward (GB)",reward_expire_days:"Extend validity (days)",reward_device_limit:"Increase device limit",new_user_max_days:"e.g. 7 (only users registered within 7 days)",allowed_plans:"Select allowed plans (empty = no limit)",banned_plans:"Select banned plans (empty = no limit)",max_use_per_user:"Empty = unlimited",cooldown_hours:"Empty = unlimited",invite_reward_rate:"e.g. 0.2 (20%)",festival_bonus:"e.g. 1.5 (1.5)"},hints:{status:"When disabled, this template cannot generate or redeem gift cards.",rewards:"Configure rewards granted when a user redeems the gift card.",invite_reward_rate:"If the redeemer has an inviter, inviter reward = balance reward  this rate."},actions:{add_random_reward:"Add random reward item"}},validation:{name_required:"Name is required",template_required:"Template is required",count_invalid:"Invalid count",max_usage_invalid:"Invalid max usage",status_invalid:"Invalid status",rewards_required:"Rewards is required",rewards_invalid:"Rewards JSON is invalid",json_invalid:"JSON is invalid",invite_reward_rate_invalid:"Invalid invite reward rate (0-1)",number_invalid:"Invalid number",random_reward_weight_invalid:"Invalid random reward weight",random_reward_empty:"Random reward item cannot be empty",random_rewards_required:"Mystery gift card requires at least one random reward item",time_range_invalid:"Invalid time range"},stats:{start:"Start date",end:"End date",templates_count:"Templates",active_templates_count:"Active templates",codes_count:"Codes",used_codes_count:"Used codes",usages_count:"Usages"}},n8e={title:"User Management",description:"Create users, search/filter, and manage user accounts.",empty:"No users",all:"All",no_plan:"No plan",no_group:"No group",admin:"Admin",staff:"Staff",plan:"Plan",group:"Group",traffic:"Traffic",used:"Used",total:"Total",remaining:"Remaining",expired_at:"Expired at",never:"Never",balance:"Balance",refund_na:"",add:"Create User",create_title:"Create User",export_csv:"Export CSV",bulk_actions:"Bulk actions",copy_subscribe:"Copy subscribe URL",reset_secret:"Reset UUID & subscribe URL",more:"More",edit_title:"Edit User",saved:"User saved",created:"User created",deleted:"User deleted",secret_reset:"UUID & subscribe URL reset",traffic_reset:"Traffic reset",confirm_delete:"Delete this user? This action cannot be undone.",confirm_reset_secret:"Reset this user's UUID & subscribe URL? This will invalidate current subscriptions.",confirm_reset_traffic:"Reset this user's traffic?",bulk:{delete:"Bulk delete",send_mail:"Bulk send mail",export_svg:"Export SVG",set_plan:"Set plan",set_expired_at:"Set expiry",reset_traffic:"Reset traffic",update_balance:"Update balance",update_traffic:"Update traffic",update_device_limit:"Update device limit",scope:"Scope",scope_filtered:"Current filtered results ({{count}})",scope_selected:"Selected users ({{count}})",collecting:"Collecting users",processing:"Processing",no_target:"No users to operate on",confirm_apply:"Apply this action to {{count}} users?",confirm_delete:"Delete {{count}} users? This cannot be undone.",delete_hint:"Bulk deletion cannot be undone. Proceed with caution.",export_svg_title:"User subscription export (SVG)",export_svg_hint:"Exports subscribe URL list in scope as a single SVG file.",export_done:"Exported",traffic_hint:"Unit: GB (submitted as bytes)",device_limit_hint:"Leave empty for unlimited (submits null)",mail_subject:"Subject",mail_content:"Content",mail_subject_required:"Subject is required",mail_content_required:"Content is required",confirm_send_mail:"Send mail to the selected scope?",sending_mail:"Sending",mail_sent:"Mail task submitted",plan_required:"Please select a plan",datetime_invalid:"Invalid date/time",partial_failed:"Partial failure: {{failed}}/{{total}}",done:"Done"},reset_traffic_dialog:{title:"Reset traffic",reason:"Reason",reason_placeholder:"Optional (max 255 chars)"},search_placeholder:"Search email / ID / token / UUID / remarks / plan / group",advanced_filter:{title:"Advanced filter",field:"Field",op:"Operator",value:"Value",add:"Add condition",clear:"Clear",apply:"Apply",empty:"No conditions",in_placeholder:"Enter values...",in_hint:"Separate with commas or new lines",last_login_at:"Last login",ops:{like:"Contains",notlike:"Does not contain",eq:"Equals",gt:"Greater than",gte:"Greater than or equal",lt:"Less than",lte:"Less than or equal",in:"In",null:"Is empty",notnull:"Is not empty"}},search_email:"Email",search_email_placeholder:"Search by email",search_id:"User ID",filter_plan:"Plan",filter_group:"Group",filter_banned:"Banned",actions:{assign_order:"Assign order",user_orders:"Orders",user_invites:"Invites",user_traffic:"Traffic logs",reset_traffic:"Reset traffic"},traffic_panel:{title:"Traffic logs",tabs:{usage:"Traffic logs",resets:"Reset history"},usage:{time:"Time",type:"Type",rate:"Rate",upload:"Upload",download:"Download",total:"Total",empty:"No traffic logs"},record_type:{daily:"Daily",hourly:"Hourly",monthly:"Monthly"},reset:{count:"Reset count",last:"Last reset",next:"Next reset",time:"Time",type:"Type",trigger:"Source",old:"Old traffic",reason:"Reason",empty:"No reset history"}},table:{id:"ID",email:"Email",online:"Online devices",status:"Status",plan:"Plan",group:"Group",used:"Used traffic",total:"Total traffic",expired_at:"Expired at",balance:"Balance",commission:"Commission",refund:"Refund",created_at:"Created at",actions:"Actions"},online:{yes:"Online",no:"Offline"},status:{active:"Active",disabled:"Disabled"},banned:{yes:"Banned",no:"Active"},sections:{user_info:"User info",traffic:"Traffic & usage",plan:"Subscription plan",balance:"Balance & fees",config:"Config & settings",roles:"Permissions & roles",remarks:"Remarks"},commission_type:{system:"Follow system settings",period:"Recurring commission",onetime:"First purchase only"},fields:{email:"Email",password:"Password",password_create_hint:"Leave empty to auto-generate",password_hint:"Leave empty to keep unchanged",plan:"Plan",expired_at:"Expired at",expired_at_hint:"Empty = never",banned:"Banned",account_status:"Account status",is_admin:"Admin",is_staff:"Staff",remarks:"Remarks",used_upload_gb:"Used upload (GB)",used_download_gb:"Used download (GB)",speed_limit:"Speed limit (Mbps)",device_limit:"Device limit",transfer_enable_gb:"Traffic quota (GB)",transfer_enable_hint:"Sent to backend as bytes.",balance:"Balance",commission_balance:"Commission balance",commission_type:"Commission type",commission_rate:"Commission rate (%)",discount:"Special rebate rate (%)",invite_user_email:"Inviter email",invite_user_hint:"Empty to clear"},validation:{email_required:"Email is required",email_invalid:"Invalid email format",number_invalid:"Invalid number"}},r8e={title:"Ticket Management",description:"View tickets and reply to users.",all:"All",empty:"No tickets",detail:"Detail",close:"Close",send:"Send",reply_action:"Reply",subject:"Subject",user:"User",updated_at:"Updated at",status_label:"Status",reply_label:"Reply status",actions:"Actions",detail_title:"Ticket Detail",loading:"Loading...",empty_detail:"No detail",search_email:"User email",search_email_placeholder:"Search by email",search_subject:"Subject",search_subject_placeholder:"Search by subject",search_placeholder:"Search by email/subject/ID",filter_level:"Priority",filter_status:"Status",filter_reply:"Reply status",confirm_close:"Close this ticket?",closed:"Ticket closed",level:{low:"Low",medium:"Medium",high:"High"},status:{open:"Open",closed:"Closed"},reply:{waiting_admin:"Waiting admin",waiting_user:"Waiting user"}},i8e={title:"Plugin Management",description:"Enable, disable, and delete plugins.",search_placeholder:"Search plugin name or code...",confirm_delete:"Delete this plugin? This action cannot be undone.",confirm_uninstall:"Uninstall this plugin? Please disable it first.",upload_title:"Upload Plugin",upload:"Upload Plugin",upload_desc:"Upload a plugin package (.zip). The system will detect and install it automatically.",upload_drop:"Drag the plugin package here, or",upload_click:"click to choose",upload_hint:"Supports .zip plugin packages",upload_success:"Plugin uploaded successfully",upload_failed:"Plugin upload failed",upgrade:"Upgrade",meta:"v{{version}}  {{author}}",config_title:"{{name}}  Config",config_title_empty:"Plugin Config",config_loading:"Loading...",config_empty:"This plugin has no configurable items",status_filter:{all:"All Status",installed:"Installed",available:"Available"},status:{enabled:"Enabled",disabled:"Disabled",not_installed:"Available"},type:{feature:"Feature",payment:"Payment"},tabs:{feature:"Feature Plugins",payment:"Payment Methods",all:"All Plugins"},filters:{all:"All",category:{type:"Type",function:"Function",payment_method:"Payment Method"},function:{subscription:"Subscription",notification:"Notification",security:"Security",user:"User"},payment_method:{alipay:"Alipay",wechat:"WeChat Pay",stripe:"Stripe",paypal:"PayPal"}},empty:"No matching plugins",empty_dev:"No matching plugins (sample data shown in development)"},s8e={title:"Theme Config",description:"Manage theme colors, typography, and more. If you deploy v2board with a separated frontend, theme settings wont take effect.",active_theme:"Active Theme",active:"Active",version_label:"Version: {{version}}",apply:"Activate",apply_hint:"Activating a theme updates the frontend theme in use.",apply_success:"Theme switched",select_theme:"Select a theme",select_placeholder:"Select",upload_title:"Upload Theme",upload:"Upload Theme",upload_desc:"Upload a valid theme package (.zip). The package should include the full frontend file structure.",upload_drop:"Drag the theme package here, or",upload_click:"click to choose",upload_hint:"Supports .zip theme packages",upload_success:"Theme uploaded",upload_failed:"Theme upload failed",system_theme:"System",custom_theme:"Custom",settings:"Theme Settings",current_theme:"Current Theme",empty:"No themes found",confirm_delete:'Delete theme "{{name}}"? This action cannot be undone.',delete_success:"Theme deleted",config_title:"{{name}}  Config",config_title_empty:"Theme Config",config_loading:"Loading...",config_empty:"This theme has no configurable items",config_saved:"Theme config saved"},a8e={title:"Notice Management",description:"Add, edit, enable/disable, and delete notices here.",empty:"No notices",add:"Add Notice",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',insert:"Insert",create_title:"Create Notice",edit_title:"Edit Notice",saved:"Notice saved",deleted:"Notice deleted",confirm_delete:"Delete this notice? This action cannot be undone.",status:{shown:"Published",hidden:"Hidden"},fields:{title:"Title",title_placeholder:"Enter notice title",content:"Content",content_placeholder:"Enter notice content",img_url:"Image URL",background_url:"Background URL",show_status:"Visible",remark:"Tags",remark_placeholder:"Press Enter to add a tag (comma-separated supported)",link_url:"Link URL",show:"Publish",popup:"Popup"},editor_hint:"Supports HTML/Markdown: edit source on the left, preview on the right. Supports basic rich text: bold, italic, links, images, lists.",submit:"Submit",table:{show:"Visible",title:"Title",actions:"Actions"},validation:{title_required:"Title is required",content_required:"Content is required"}},o8e={title:"Payment Config",description:"Configure payment methods (Alipay, WeChat, etc.), manage status, and notify URLs.",empty:"No payment methods",add:"Add Payment Method",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',create_title:"Create Payment Method",edit_title:"Edit Payment Method",saved:"Payment method saved",deleted:"Payment method deleted",copied:"Copied",confirm_delete:"Delete this payment method? This action cannot be undone.",notify_url:"Notify URL",fee:"Fees: fixed {{fixed}} + {{percent}}%",status:{enabled:"Enabled",disabled:"Disabled"},table:{id:"ID",enable:"Enabled",name:"Name",method:"Gateway",notify_url:"Notify URL",actions:"Actions"},select_placeholder:"Select",form_loading:"Loading configuration form...",form_empty:"This payment method has no extra config fields",form_load_failed:"Failed to load payment configuration",fields:{method:"Gateway",method_placeholder:"Select a gateway",method_hint:"Gateways are provided by enabled payment plugins.",name:"Display name",name_placeholder:"e.g. Alipay / WeChat Pay",icon:"Icon URL",notify_domain:"Custom notify domain",fee_fixed:"Fixed fee",fee_percent:"Percent fee (0-100)",enable:"Enabled"},validation:{name_required:"Display name is required",method_required:"Please select a gateway",json_invalid:"Invalid JSON for {{key}}"}},l8e={title:"Knowledge Base",description:"Add, delete, and edit knowledge entries here.",all:"All",empty:"No data",add:"Add Knowledge",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',search:"Search",search_placeholder:"Search knowledge",category:"Category",category_manage:"Categories",selected_hint:"Selected {{selected}} items, total {{total}} items",edit_title:"Edit Article",create_title:"Create Article",editor_hint:"Supports HTML/Markdown: edit source on the left, preview on the right (rendered in an iframe).",editor_mode_html:"HTML",editor_source:"Source / Editor",editor_preview:"Preview",language:{zh:"Simplified Chinese",en:"English"},table:{status:"Status",title:"Title",category:"Category",actions:"Actions"},category_list:"Category List",category_count:"Count",category_manage_hint:"Categories come from the entry category field; renaming/deleting will bulk update existing entries.",category_add:"Add Category",category_add_placeholder:"Enter category name",category_rename:"Edit Category (Rename)",category_from:"From category",category_to:"To category",category_rename_action:"Rename",category_rename_confirm:'Rename category "{{from}}" to "{{to}}"? This will bulk update entries.',category_delete:"Delete Category (Move entries)",category_delete_action:"Delete",category_delete_confirm:'Delete category "{{from}}"? Entries will be moved to "{{to}}".',category_progress:"Processing: {{done}} / {{total}}",status:{shown:"Published",hidden:"Hidden"},updated_at:"Updated: {{time}}",loading:"Loading...",saved:"Article saved",deleted:"Article deleted",confirm_delete:"Delete this article? This action cannot be undone.",fields:{title:"Title",title_placeholder:"Enter title",category:"Category",category_placeholder:"e.g. Getting Started",language:"Language",body:"Body",body_placeholder:"Enter article content",show:"Visible"},validation:{title_required:"Title is required",category_required:"Category is required",language_required:"Language is required",body_required:"Body is required"}},c8e={title:"Permission Groups",description:"Manage permission groups with search and pagination.",empty:"No groups",add:"Add Group",search_placeholder:"Search groups",table:{id:"ID",name:"Name",users:"Users",servers:"Servers",actions:"Actions"},create_title:"Create Group",edit_title:"Edit Group",saved:"Group saved",deleted:"Group deleted",confirm_delete:"Delete this group?",counts:"Users: {{users}}  Servers: {{servers}}",fields:{name:"Name"},validation:{name_required:"Name is required"}},u8e={title:"Route Rules",description:"Manage server route rules (block / DNS / outbound routing).",empty:"No routes",search:"Search",search_placeholder:"Search routes...",add:"Add Route",action:"Action",action_value:"Action value",match_count:"Matches: {{count}}",table:{id:"Rule ID",group_id:"Group ID",group_name:"Group name",remarks:"Remarks",action:"Action",action_value:"Action value",actions:"Actions"},create_title:"Create Route",edit_title:"Edit Route",saved:"Route saved",deleted:"Route deleted",confirm_delete:"Delete this route?",action_block:"Block (Domain)",action_block_ip:"Block (IP)",action_block_port:"Block (Port)",action_protocol:"Block (Protocol)",action_dns:"DNS",action_route:"Route (Domain)",action_route_ip:"Route (IP)",action_default_out:"Default Outbound",action_block_value:"Blocked",action_value_configured:"Configured",match_hint:"One per line, or comma-separated.",fields:{remarks:"Remarks",action:"Action",action_value:"Action value",action_value_placeholder_dns:"e.g. 8.8.8.8",action_value_placeholder_outbound:`{
  "tag": "ss_out",
  "protocol": "shadowsocks",
  "settings": {
    "address": "8.8.8.8",
    "port": 5555,
    "method": "chacha20-ietf-poly1305",
    "password": "abcdefghijklmnopqrstuvwxyz"
  }
}`,match:"Match list",match_placeholder_domain:`example.com (keyword)
domain:example.com (subdomain)
geosite:netflix (preset list)`,match_placeholder_ip:`127.0.0.1 (single)
10.0.0.0/8 (CIDR)
geoip:cn (preset list)`,match_placeholder_port:`53
443
1000-2000`,match_placeholder_protocol:`http
tls
quic
bittorrent`,action_value_placeholder:"e.g. 8.8.8.8",match_placeholder:`e.g. example.com
1.1.1.1`},validation:{remarks_required:"Remarks is required",match_required:"Match list is required",action_value_required:"Action value is required"}},d8e={title:"Node Management",description:"Manage and configure nodes with search, filters, and enable/disable.",empty:"No nodes",search:"Search",search_placeholder:"Search by name/host/type/ID",add:"Add Node",more:"More",type_filter:"Filter",type_all:"Node Type",sort:"Sort Nodes",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',table:{id:"ID",enable:"Enabled",name:"Name",address:"Address",online:"Online",rate:"Rate",group:"Group",actions:"Actions"},status:{shown:"Enabled",hidden:"Disabled"},endpoint:"{{host}}:{{port}}  backend {{server_port}}",backend_port:"Backend port {{port}}",meta:"Rate {{rate}}  Groups {{groups}}  Routes {{routes}}",available_status:"Status: {{status}}",create_title:"Create Node",edit_title:"Edit Node",saved:"Node saved",deleted:"Node deleted",copied:"Node copied",copy:"Duplicate Node",copy_install_command:"Copy Install Command",install_command_copied:"Install command copied",install_command_copied_fallback:"Copy attempted (if it didn't work, copy manually in the dialog).",install_command_preview_title:"Install Command",install_command_preview_desc:"If one-click copy doesn't work, select the text and press Ctrl/Cmd+C.",confirm_delete:"Delete this node? This action cannot be undone.",bulk:{open:"Bulk Settings",title:"Bulk Settings",apply:"Apply",selected:"Selected {{count}} nodes",rate_time:"Dynamic rate",clear:"Clear",clear_selection:"Clear selection",progress:"Processing {{done}}/{{total}}",no_target:"Please select nodes first",no_fields:"Select at least one field to update",updated:"Updated {{success}}/{{total}} nodes",partial_failed:"Partial failure: {{failed}}/{{total}}",failed_one:"Node #{{id}} failed: {{message}}",node_not_found:"Node not found"},fields:{type:"Type",type_hint:"Type cannot be changed when editing.",name:"Name",host:"Host",port:"Port",server_port:"Backend port",rate:"Rate",parent_id:"Parent node",parent_id_placeholder:"Select parent node (optional)",parent_id_none:"None",node_id:"Custom node ID",node_id_placeholder:"Empty uses default ID",show:"Enabled",group_ids:"Groups",group_ids_placeholder:"Select groups",group_ids_hint:"Select at least one group for users to access this node.",route_ids:"Routes",route_ids_placeholder:"Select routes",route_ids_hint:"Optional. Selected rules will be delivered to nodes.",tags:"Tags",protocol_settings:"Protocol settings (protocol_settings)",protocol_settings_hint:"Enter JSON including required fields for the protocol (e.g. vmess/vless needs tls/network).",rate_time_enable:"Enable dynamic rate",rate_time_ranges_hint:"Set rate multipliers by time range."},hy:{title:"Hysteria Settings",version:"Protocol Version",version_placeholder:"Select version",obfs_title:"Obfuscation",obfs_desc:"Enable traffic obfuscation.",obfs_type:"Obfs Type",obfs_password:"Obfs Password",obfs_password_placeholder:"Enter or generate a password",obfs_password_generate:"Generate",sni:"SNI (Server Name Indication)",sni_placeholder:"e.g. example.com",up_mbps:"Up Bandwidth (Mbps)",up_mbps_placeholder:"Empty uses BBR",up_mbps_hint:"Empty uses BBR.",down_mbps:"Down Bandwidth (Mbps)",down_mbps_placeholder:"Empty uses BBR",down_mbps_hint:"Empty uses BBR.",hop_interval:"Hop Interval (seconds)",hop_interval_hint:"Default is 30 seconds."},shadowsocks:{title:"Shadowsocks Settings",cipher:"Cipher (cipher)",cipher_placeholder:"Select or enter cipher",cipher_custom:"Custom",plugin:"Plugin (plugin)",plugin_placeholder:"Select plugin",plugin_none:"None",plugin_obfs:"Simple Obfs (obfs)",plugin_v2ray:"V2Ray Plugin (v2ray-plugin)",plugin_opts:"Plugin options (plugin_opts)",plugin_opts_placeholder:"Enter as key=value;key2=value2",obfs_title:"Simple Obfs Settings",obfs_mode:"Mode (obfs)",obfs_host:"Host (obfs-host)",obfs_path:"Path (path)",obfs_hint:"e.g. obfs=http;obfs-host=www.bing.com;path=/",v2ray_title:"V2Ray Plugin Settings",v2ray_mode:"Mode (mode)",v2ray_mode_websocket:"WebSocket",v2ray_mode_quic:"QUIC",v2ray_host:"Host (host)",v2ray_path:"Path (path)",v2ray_tls:"TLS (tls=true)",v2ray_hint:"WebSocket: mode=websocket;host=mydomain.me;path=/;tls=true; QUIC: mode=quic;host=mydomain.me",v2node_network_title:"Network settings (network_settings)",v2node_accept_proxy_protocol:"Accept PROXY Protocol (acceptProxyProtocol)",v2node_accept_proxy_protocol_hint:"Enable to read the real client IP from PROXY Protocol.",v2node_http_host:"HTTP Host (Host)",v2node_http_path:"HTTP Path (path)"},vmess:{title:"VMess Settings",security:"Security",security_none:"None",security_tls:"TLS",transport:"Transport",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",allow_insecure:"Skip certificate verification (allow_insecure)"},trojan:{title:"Trojan Settings",transport:"Transport",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave blank to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation."},tuic:{title:"TUIC Settings",version:"Version (version)",version_v4:"V4",version_v5:"V5",congestion_control:"Congestion control (congestion_control)",congestion_control_bbr:"BBR",congestion_control_cubic:"CUBIC",congestion_control_new_reno:"NEW_RENO",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation.",alpn:"ALPN",alpn_http1:"HTTP/1.1",alpn_http2:"HTTP/2",alpn_http3:"HTTP/3",udp_relay_mode:"UDP relay mode (udp_relay_mode)",udp_relay_mode_native:"Native",udp_relay_mode_quic:"QUIC",zero_rtt_handshake:"0-RTT handshake (zero_rtt_handshake)",zero_rtt_handshake_hint:"Enable to allow 0-RTT early data."},anytls:{title:"AnyTLS Settings",transport:"Transport",transport_hint:"Configure AnyTLS transport and network_settings.",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation.",padding_title:"Padding scheme (padding_scheme)",padding_desc:"Use the default scheme or switch to custom.",padding_default:"Default",padding_custom:"Custom",padding_placeholder:"One rule per line, e.g. stop=8",padding_hint:"One entry per line."},vless:{title:"VLESS Settings",security:"Security",security_none:"None",security_tls:"TLS",security_reality:"Reality",transport:"Transport",flow:"Flow (flow)",flow_placeholder:"Select flow",flow_none:"none",encryption_title:"VLESS Encryption",encryption:"Encryption",encryption_none:"None",encryption_mlkem768x25519plus:"mlkem768x25519plus",encryption_hint:"Fill settings below when enabled (ignored by unsupported backends).",encryption_mode:"Mode (mode)",encryption_ticket:"Ticket (ticket)",encryption_server_padding:"Server padding (server_padding)",encryption_private_key:"Private key (private_key)",client_fingerprint:"Client fingerprint (client_fingerprint)",client_fingerprint_hint:"Used for Reality / uTLS fingerprint; default is firefox.",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",allow_insecure:"Skip certificate verification (allow_insecure)",reality_title:"Reality Settings",reality_server_name:"Server name (server_name)",reality_server_name_placeholder:"e.g. example.com",reality_server_port:"Port (server_port)",reality_dest:"Dest (dest)",reality_xver:"Xver (xver)",reality_mldsa65Seed:"MLDSA65 Seed (mldsa65Seed)",reality_public_key:"Public key (public_key)",reality_private_key:"Private key (private_key)",reality_short_id:"Short ID (short_id)",key_pair_generate:"Generate key pair",key_pair_error:"Failed to generate key pair",short_id_generate:"Generate Short ID",short_id_placeholder:"Optional, even length, max 16 chars",short_id_hint:"Use hex characters 0-f (e.g. a1b2c3d4e5f6a7b8)."},reporting:{title:"Reporting & Online Stats"},v2node:{title:"V2Node Config Delivery",desc:"Only affects v2node requests to /api/v2/server/config (does not affect other backends).",node_report_min_traffic:"Report threshold (node_report_min_traffic, KB)",node_report_min_traffic_hint:"Traffic below this value will not be reported back (0 = no limit).",device_online_min_traffic:"Online threshold (device_online_min_traffic, KB)",device_online_min_traffic_hint:"Users below this value will not count as online devices (0 = no limit).",tls_cert_title:"TLS Certificate Settings (tls_settings)",cert_mode:"Certificate mode (cert_mode)",cert_mode_file:"File (file)",cert_mode_dns:"DNS (dns)",cert_mode_http:"HTTP (http)",cert_mode_self:"Self-signed (self)",cert_file:"Certificate path (cert_file)",key_file:"Private key path (key_file)",provider:"DNS provider (provider)",dns_env:"DNS environment variables (dns_env)",reject_unknown_sni:"Reject unknown SNI (reject_unknown_sni)",reject_unknown_sni_hint:"When enabled, only SNIs matching the certificate are allowed."},network_settings:{edit_protocol:"Edit protocol",edit_protocol_config:"Edit protocol settings",use_template:"Use {{template}} template",json_config_placeholder:"Enter JSON config",json_config_placeholder_with_template:"Enter JSON config or choose a template above",validation:{must_be_object:"Config must be a JSON object",invalid_json:"Invalid JSON"}},rate_time_title:"Enable dynamic rate",rate_time_desc:"Set different rate multipliers for different time ranges",rate_time_rules:"Time rules",rate_time_add:"Add rule",rate_time_rule:"Rule {{index}}",rate_time_start:"Start time",rate_time_end:"End time",rate_time_rate:"Rate multiplier",rate_time_rate_placeholder:"e.g. 1",preview:{selection:"Selected",groups:"Groups: {{value}}",routes:"Routes: {{value}}"},validation:{name_required:"Name is required",host_required:"Host is required",port_required:"Port is required",server_port_required:"Backend port is required",rate_required:"Rate must be a number > 0",protocol_settings_invalid:"Invalid protocol_settings JSON",rate_time_ranges_invalid:"Invalid time range settings",hy_version_invalid:"Invalid protocol version",hy_obfs_password_required:"Obfuscation password is required",hy_up_mbps_invalid:"Invalid up bandwidth",hy_down_mbps_invalid:"Invalid down bandwidth",hy_hop_interval_invalid:"Invalid hop interval",parent_id_invalid:"Invalid parent node",node_id_invalid:"Invalid custom node ID"}},h8e={title:"Subscription Plans",description:"Manage subscription plans, pricing, and display/purchase/renew toggles.",add:"Add Plan",sort:"Sort",sort_column:"Sort",sort_save:"Save order",sort_cancel:"Cancel",sort_saved:"Order saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save order".',search_placeholder:"Search plans...",table:{id:"ID",show:"Display",purchase:"Purchase",renew:"Renew",name:"Name",stats:"Stats",group:"Group",price:"Price",actions:"Actions"},empty:"No plans",create_title:"Create Plan",edit_title:"Edit Plan",saved:"Plan saved",deleted:"Plan deleted",confirm_delete:"Delete this plan? This action cannot be undone.",users:"Users {{total}} / Active {{active}}",group:"Group",traffic:"Traffic",speed:"Speed",device:"Devices",no_group:"None",no_prices:"No pricing",price_hint:"Leave empty or 0 to disable the period.",flags:{show:"Show",renew:"Renew",sell:"Sell"},fields:{name:"Name",content:"Description",group:"Group",group_placeholder:"Select a group",transfer:"Traffic quota (integer)",speed:"Speed limit (Mbps)",device:"Device limit",capacity:"Capacity limit",reset:"Reset method",reset_placeholder:"Select",tags:"Tags",prices:"Pricing",force_update:"Force update existing users"},validation:{name_required:"Name is required",transfer_required:"Traffic quota must be an integer > 0"},reset:{follow_system:"Follow system",first_day_month:"1st day of month",monthly:"Monthly",never:"Never",first_day_year:"Jan 1st",yearly:"Yearly"},period:{monthly:"Monthly",quarterly:"Quarterly",half_yearly:"Half-yearly",yearly:"Yearly",two_yearly:"Two-yearly",three_yearly:"Three-yearly",onetime:"One-time",reset_traffic:"Reset traffic"}},f8e={subtitle:"Core metrics and runtime status at a glance",income_overview:"Income Overview",today_income:"Today's Income",month_income:"This Month's Income",vs_yesterday:"vs yesterday",vs_last_month:"vs last month",pending_tickets:"Pending Tickets",new_users:"New Users",total_users:"Total Users",online_users:"Online {{count}}",month_upload:"Month Upload",month_download:"Month Download",pending_commissions:"Pending Commissions",month_traffic:"Month Traffic",upload:"Upload",download:"Download",total_income:"Total Income",order_count:"Order Count",order_count_total:"Total {{count}} orders",avg_amount:"Avg Order Amount",transaction_count:"Transactions",commission_count_total:"Total {{count}} orders",range_display:"{{start}} - {{end}}",time_range:"Time Range",last_30_days:"Last 30 Days",this_month:"This Month",last_7_days:"Last 7 Days",last_90_days:"Last 90 Days",last_180_days:"Last 180 Days",last_half_year:"Last Half Year",last_year:"Last Year",custom_range:"Custom Range",amount:"Amount",quantity:"Quantity",transaction_unit:"{{count}} orders",order_quantity:"Order Count",order_amount:"Order Amount",commission_amount:"Commission Amount",total_balance:"Total Balance",refund_rate:"Refund rate",income_trend:"Income trend",node_traffic_rank:"Node Traffic Rank",user_traffic_rank:"User Traffic Rank",current_traffic:"Current traffic",previous_traffic:"Previous traffic",change_rate:"Change rate",copy_name:"Copy name",copy_id:"Copy ID",queue_status:"Queue Status",total_commission:"Total Commission",commission_count:"Commission Count",commission_rate:"Commission Rate",running_state:"Running",normal:"OK",stopped:"Down",wait_time:"Wait Time",seconds:"s",last_updated:"Last Updated",pending_tasks:"Pending Tasks",processed_per_min:"Processed / Min",job_details:"Job Details",report_7d:"Failed jobs (7d)",retention_time:"Retention",minutes:"min",approx:"Approx",max_runtime_queue:"Max Runtime Queue",na:"N/A",today:"Today",prev:"Prev",range:"Range",active_processes:"Active Processes",system_log:"System Logs",info:"Info",warning:"Warning",error:"Error",view_all:"View All",detail:"Detail",all:"All",system_log_search_placeholder:"Search log content...",system_log_empty:"No data",system_log_reset_filter:"Reset filters",system_log_detail_title:"Log details",system_log_table:{level:"Level",time:"Time",title:"Title",method:"Method",action:"Action"},clear_logs_title:"Clear Logs",clear_logs_days:"Days",clear_logs_days_hint:"0 to 365 days (clears logs older than N days; 0 clears all logs)",clear_logs_level:"Level",clear_logs_limit:"Batch limit",clear_logs_limit_hint:"100 to 10000 (default 1000)",clear_logs_preview:"Preview",clear_logs_get_stats:"Get stats",clear_logs_confirm:"Confirm clear",clear_logs_to_clear:"To clear",clear_logs_total_logs:"Total logs",clear_logs_cutoff:"Cutoff date",clear_logs_will_clear:"Will clear: {{count}} logs",clear_logs_irreversible:"This action is irreversible. Please proceed with caution!",clear_logs_rule_hint:"Range: logs before the cutoff date",clear_logs_zero_error:"Matched logs is 0",clear_logs_done:"Clear completed",clear_logs_deleted:"Deleted",clear_logs_total_count:"Matched",clear_logs_remaining:"Not deleted",failed_jobs_title:"Failed job details",failed_jobs_empty:"No failed jobs",failed_job_detail_title:"Job detail",task_id:"Task ID",timestamp_ms:"Timestamp (ms)",connection:"Connection",exception:"Exception",payload:"Payload",failed_at:"Failed at",clear_logs:"Clear Logs",confirm_clear_logs:"Clear logs? This cannot be undone.",total:"Total",selected_count:"Selected {{selected}}, total {{total}}",loading:"Loading",per_page:"Per page",page_info:"Page {{current}} / {{total}}",first_page:"First",prev_page:"Prev",next_page:"Next",last_page:"Last",failed_table:{time:"Time",queue:"Queue",job:"Job",exception:"Exception",action:"Action"}},m8e={title:"System Settings",description:"Manage site, subscription, security, and notification settings.",site_settings:"Site Settings",site_settings_desc:"Configure basic site information.",security_settings:"Security Settings",security_settings_desc:"Configure signup, captcha and admin security.",subscription_settings:"Subscription Settings",subscription_settings_desc:"Configure subscription behavior and reminders.",app_settings:"App Settings",app_settings_desc:"Manage mobile application settings such as APIs, versioning, and push notifications.",invite_settings:"Invite & Commission",invite_settings_desc:"Configure invites, commission distribution, and withdrawals.",invite_section_title:"Invite",commission_section_title:"Commission & Withdrawals",invite_force:"Require Invite Code",invite_force_hint:"When enabled, users must enter an invite code to register.",invite_commission:"Invite Commission (%)",invite_commission_hint:"Commission percentage for orders from invited users (0-100).",invite_gen_limit:"Invite Code Limit",invite_gen_limit_hint:"Maximum number of invite codes a user can generate.",invite_never_expire:"Invite Codes Never Expire",invite_never_expire_hint:"When enabled, invite codes do not expire.",commission_first_time_enable:"First Purchase Only",commission_first_time_enable_hint:"When enabled, commission is only generated on the invited user's first purchase.",commission_auto_check_enable:"Auto Review",commission_auto_check_enable_hint:"When enabled, commission/withdrawals are auto-reviewed without manual approval.",withdraw_close_enable:"Disable Withdrawals",withdraw_close_enable_hint:"When enabled, the withdrawal entry will be disabled on the client.",commission_withdraw_limit:"Minimum Withdrawal Amount",commission_withdraw_limit_hint:"Users can withdraw only after reaching this amount.",commission_withdraw_method:"Withdrawal Method Whitelist",commission_withdraw_method_hint:"Limit the available withdrawal methods.",commission_distribution_enable:"Enable Multi-level Distribution",commission_distribution_enable_hint:"When enabled, distribute commissions for L1/L2/L3.",commission_distribution_l1:"L1 Distribution (%)",commission_distribution_l1_hint:"Leave empty to disable this level.",commission_distribution_l2:"L2 Distribution (%)",commission_distribution_l2_hint:"Leave empty to disable this level.",commission_distribution_l3:"L3 Distribution (%)",commission_distribution_l3_hint:"Leave empty to disable this level.",telegram_settings:"Telegram Settings",telegram_settings_desc:"Configure Telegram bot notifications.",api_settings:"Node Settings",api_settings_desc:"Configure node communication parameters.",v2node_docker_command:"V2Node Deploy Command",v2node_docker_command_desc:"Copy and run this on the node server (auto-fills API host, token, and node ID).",v2node_docker_node:"Node",v2node_docker_node_hint:"Prefer custom node ID if set.",v2node_docker_container_name:"Container Name",v2node_docker_container_name_hint:"Defaults to v2node_<PROTOCOL>_<NODE_ID>_<APP_NAME> (Chinese converted to pinyin).",v2node_docker_api_host:"API Host (V2NODE_API_HOST)",v2node_docker_api_host_hint:"Defaults to the current panel URL; override if the node server cannot reach it.",v2node_docker_tls_cert_url:"TLS cert URL (optional)",v2node_docker_tls_key_url:"TLS key URL (optional)",v2node_docker_tls_url_hint:"Leave empty to skip; if set, both cert and key are required.",v2node_docker_tls_url_invalid:"Both TLS cert URL and TLS key URL are required.",v2node_other_command:"Other Command (optional)",v2node_other_command_hint:"Used to bootstrap the node server (e.g. install Docker/dependencies). Copy only; it will not run automatically.",v2node_other_command_placeholder:"e.g. curl -fsSL https://get.docker.com | sh",v2node_hy_port_forward_command:"Hysteria Port Forwarding Command",v2node_hy_port_forward_command_hint:"For Hysteria port hopping: --dport uses the node port, --to-ports uses the server port; interface will be auto-detected.",v2node_hy_port_forward_command_placeholder:"Generated only when the node port is a range/multiport, or when it differs from the server port.",v2node_docker_command_label:"Docker Command",v2node_docker_command_hint:"Copy and run to install.",v2node_docker_missing_token:"Please set the server token (server_token) first.",smtp_settings:"Mail Settings",smtp_settings_desc:"Configure SMTP and send a test email.",app_windows_version:"Windows version",app_windows_version_hint:"Current Windows client version.",app_windows_download_url:"Windows download URL",app_windows_download_url_hint:"Download link for Windows client.",app_macos_version:"macOS version",app_macos_version_hint:"Current macOS client version.",app_macos_download_url:"macOS download URL",app_macos_download_url_hint:"Download link for macOS client.",app_android_version:"Android version",app_android_version_hint:"Current Android client version.",app_android_download_url:"Android download URL",app_android_download_url_hint:"Download link for Android client.",server_settings:"Server Settings",system_log:"System Log",site_name:"Site Name",site_name_hint:"Shown in the site title and branding.",site_description:"Site Description",site_description_hint:"Used for the site description and SEO (optional).",site_url:"Site URL",site_url_hint:"Public site URL, e.g. https://example.com.",site_ssl:"Site SSL Configuration",site_ssl_hint:"Force HTTPS when enabled.",site_logo:"Logo",site_logo_hint:"Logo image URL.",subscribe_url:"Subscribe URL",subscribe_url_hint:"Subscription entry URL.",tos_url:"User Agreement URL",tos_url_hint:"Terms of service / user agreement URL.",stop_register:"Stop Registration",stop_register_hint:"Disable new user registrations when enabled.",currency:"Currency",currency_hint:"Currency code, e.g. CNY, USD.",currency_symbol:"Currency Symbol",currency_symbol_hint:"Display symbol, e.g. , $.",registered_users:"Registered Users",registered_users_hint:"Total registered users (read-only).",email_verify:"Enable Email Verification",email_verify_hint:"Require email verification for signup / binding.",enable_captcha:"Enable Captcha",enable_captcha_hint:"Enable bot protection for sensitive actions.",safe_mode_enable:"Safe Mode",safe_mode_enable_hint:"Enable stricter admin security policies.",secure_path:"Admin Path",secure_path_hint:"After changing admin path, open the new path and update adminPath on the frontend.",captcha_type:"Captcha Type",captcha_type_hint:"Select a captcha provider and fill in its keys.",recaptcha_key:"reCAPTCHA Secret",recaptcha_site_key:"reCAPTCHA Site Key",recaptcha_v3_secret_key:"reCAPTCHA v3 Secret",recaptcha_v3_site_key:"reCAPTCHA v3 Site Key",recaptcha_v3_score_threshold:"reCAPTCHA v3 Threshold",turnstile_secret_key:"Turnstile Secret",turnstile_site_key:"Turnstile Site Key",email_whitelist_enable:"Email Whitelist",email_whitelist_enable_hint:"Only allow signups from specified email suffixes.",email_whitelist_suffix:"Email Suffix Whitelist",email_whitelist_hint:"Separate suffixes by comma, e.g. qq.com,gmail.com",email_gmail_limit_enable:"Gmail Limit",email_gmail_limit_enable_hint:"Restrict Gmail-related signup/login behavior.",register_limit_by_ip:"Limit Signup by IP",register_limit_by_ip_hint:"Limit the number of signups per IP within a time window.",register_limit_count:"Signup Count",register_limit_count_hint:"Max signups allowed within the window.",register_limit_expire:"Window (min)",register_limit_expire_hint:"Time window size in minutes.",password_limit_enable:"Password Limit",password_limit_enable_hint:"Lock an account after too many failed attempts.",password_limit_count:"Max Attempts",password_limit_count_hint:"Failed attempts before lock.",password_limit_expire:"Lock (min)",password_limit_expire_hint:"Lock duration in minutes.",limit_admin_ip:"Admin IP Restriction",strong_password:"Strong Password Requirement",brute_force_protection:"Brute Force Protection",ip_lock:"IP Lock Mechanism",subscribe_path:"Subscribe Path",subscribe_path_hint:"Path prefix in subscribe URL, e.g. /s/{token}.",plan_change_enable:"Allow Plan Change",plan_change_enable_hint:"Allow users to change their subscription plan.",surplus_enable:"Enable Surplus",surplus_enable_hint:"Carry over remaining traffic to the next cycle.",reset_traffic_method:"Reset Traffic Method",reset_traffic_method_hint:"Choose when user traffic resets.",reset_traffic_0:"Never",reset_traffic_1:"Monthly",reset_traffic_2:"By Period",reset_traffic_3:"Calendar Month",reset_traffic_4:"Order Cycle",show_info_to_server_enable:"Show User Info to Server",show_info_to_server_enable_hint:"Expose part of user info to nodes.",show_protocol_to_server_enable:"Show Protocol to Server",show_protocol_to_server_enable_hint:"Expose protocol type to nodes.",default_remind_expire:"Default Expire Reminder",default_remind_expire_hint:"Enable expiry reminders by default for new users.",default_remind_traffic:"Default Traffic Reminder",default_remind_traffic_hint:"Enable traffic reminders by default for new users.",sub_template:"Subscription Template",sub_template_desc:"Configure subscription template content for clients.",sub_template_type:"Template type",sub_template_type_hint:"Select a client template to edit.",sub_template_content:"Template content",sub_template_content_hint:"Saved content is used to generate subscription configs.",sub_link:"Subscription Link",update_freq:"Update Frequency",sub_qrcode:"Subscription QR Code",generate:"Generate",singbox_config:"Sing-box Config File",clash_config:"Clash Config File",enable_telegram:"Enable Telegram Notify",enable_telegram_hint:"Enable Telegram bot notifications.",tg_webhook:"Telegram Webhook",tg_webhook_hint:"Webhook is generated from site URL",tg_webhook_auto:"Auto Generated",tg_group_link:"Telegram Group Link",tg_group_link_hint:"Optional: Telegram group/channel link for users.",tg_api_token:"Telegram API Token",tg_api_token_hint:"Bot token from BotFather. Used to set webhook and send notifications.",set_webhook:"Set Webhook",telegram_webhook_set:"Webhook set",api_endpoint:"API Endpoint",api_key:"API Key",api_permission:"API Access Permissions",api_rate_limit:"API Rate Limit",server_token:"Server Token",server_token_hint:"At least 16 characters; sync to nodes after changing.",server_pull_interval:"Pull Interval (s)",server_pull_interval_hint:"How often nodes pull configs/user info (seconds).",server_push_interval:"Push Interval (s)",server_push_interval_hint:"How often nodes report status/traffic (seconds).",device_limit_mode:"Device Limit Mode",device_limit_mode_hint:"When enabled, limits concurrent devices per user (per backend logic).",device_limit_mode_0:"Off",device_limit_mode_1:"On",smtp_host:"SMTP Host",smtp_host_hint:"SMTP server host, e.g. smtp.gmail.com.",smtp_port:"SMTP Port",smtp_port_hint:"SMTP port, e.g. 465 (SSL) / 587 (TLS).",smtp_username:"SMTP Username",smtp_username_hint:"SMTP login username (often an email address).",smtp_password:"SMTP Password",smtp_password_hint:"SMTP password or app password.",encryption:"Encryption Method",encryption_hint:"Select SSL/TLS or none based on your provider.",sender_address:"Sender Address",sender_address_hint:"From address, e.g. noreply@example.com.",test_email:"Test Email",test_email_hint:"Send a test email after saving to verify the setup.",test_email_sent:"Test email sent",test_email_failed:"Test email failed",remind_mail_enable:"Expire Reminder Mail",remind_mail_enable_hint:"Send expiry reminder emails to users.",email_template:"Email Template",email_template_hint:"Select email template folder/theme.",log_level:"Log Level",view_log:"View Log",system_log_desc:"View system operational logs.",log_keyword:"Keyword",log_keyword_placeholder:"Title/URI/content",refresh:"Refresh",prev_page:"Prev",next_page:"Next",no_logs:"No logs",active:"Active"},p8e={dashboard:"Dashboard",system_management:"System Management",system_config:"System Config",plugin_management:"Plugin Management",theme_config:"Theme Config",notice_management:"Notice Management",payment_config:"Payment Config",knowledge_base:"Knowledge Base",node_management:"Node Management",node_list:"Node List",permission_groups:"Permission Groups",route_management:"Route Management",subscription:"Subscription",plan_management:"Plan Management",order_management:"Order Management",coupon_management:"Coupon Management",gift_card_management:"Gift Card Management",user_management:"User Management",user_list:"User List",ticket_management:"Ticket Management"},g8e={common:Z6e,order:J6e,coupon:e8e,giftcard:t8e,user:n8e,ticket:r8e,plugin:i8e,theme:s8e,notice:a8e,payment:o8e,knowledge:l8e,group:c8e,route:u8e,server:d8e,plan:h8e,dashboard:f8e,system:m8e,menu:p8e},y8e={login:"",logout:"",dashboard:"",email:"",password:"",admin_login:"",enter_credentials:"",admin_path:"",advanced_settings:"",admin_path_hint:"secure_path `https:///abc123`  `abc123` `/`",logging_in:"...",login_failed:"",access_denied:"",language:"",save:"",saved:"",saved_but_not_applied:"",save_failed:"",load_failed:"",refresh:"",enable:"",disable:"",delete:"",remove:"",uninstall:"",install:"",config:"",confirm:"",cancel:"",insert:"",link_url:"",image_url:"URL",saving:"...",autosave:"",unsaved:"",create:"",edit:"",copy:"",copied:"",copy_failed:"",from:"",to:"",close:"",search:"",search_placeholder:"...",please_select:"",select_all:"",command_group:"",command_empty:"",settings:"",admin:"",notice:"",light:"",dark:"",currency_symbol:"",coming_soon:"",loading:"...",back:"",collapse_sidebar:"",expand_sidebar:""},x8e={title:"",description:"",add:"",add_title:"",search_placeholder:"",basic_info:"",amount_info:"",time_info:"",user_email:"",period_label:"",callback_no:"",balance_payment:"",discount_amount:"",refund_amount:"",offset_amount:"",updated_at:"",table:{trade_no:"",type:"",plan:"",period:"",amount:"",status:"",commission_amount:"",commission_status:"",balance_amount:"",pay_status:"",created_at:"",actions:""},type:{new_purchase:"",renewal:"",upgrade:"",reset_traffic:""},pay_status:{paid:"",unpaid:"",cancelled:"",unknown:""},search_trade_no:"",search_trade_no_placeholder:" trade_no ",filter_status:"",filter_commission_status:"",filter_commission_only:"",yes:"",no:"",empty:"",loading:"...",detail:"",detail_title:"",empty_detail:"",trade_no:"",amount:"",status_label:"",period:"",plan:"",created_at:"",paid_at:"",commission_status:"",commission_hint:"",update_commission:"",mark_paid:"",cancel:"",assign:"",assign_title:"",assign_email:"",assign_plan:"",assign_period:"",assign_amount:"()",assign_amount_hint:"(cent)",paid:"",cancelled:"",updated:"",assigned:"{{trade_no}}",confirm_cancel:"",validation:{email_required:"",plan_required:"",amount_invalid:""},status:{all:"",pending:"",processing:"",cancelled:"",completed:"",discounted:""},commission:{all:"",pending:"",checking:"",valid:"",invalid:""}},v8e={title:"",description:"/",add:"",search_placeholder:"",search_field:{name:"",code:""},none:"",unlimited_times:"",expired_days:" {{days}} ",limits:{plans:"",periods:"",per_user:""},table:{id:"ID",enabled:"",name:"",type:"",code:"",remaining:"",limits:"//",validity:"",actions:""},empty:"",create_title:"",edit_title:"",created:"",saved:"",deleted:"",generated_csv:"CSV ",confirm_delete:"",search_code:"",search_code_placeholder:"",search_name:"",search_name_placeholder:"",filter_type:"",filter_show:"",validity:"",limit_use:"",limit_user:"",unlimited:"",type:{all:"",amount:"",percent:""},show:{all:"",on:"",off:""},fields:{generate_count:"",generate_hint:" 1  CSV",code:"",code_placeholder:"",code_hint:"",name:"",type:"",amount_yuan:"()",percent:"(0-100)",limit_use:"",limit_user:"",unlimited_placeholder:"",started_at:"",ended_at:"",limit_plan_ids:"",limit_plan_ids_hint:"",limit_period:"",limit_period_hint:""},validation:{name_required:"",time_required:"/",time_order:"",value_required:"",generate_count_invalid:"",generate_count_max:" 500"}},b8e={title:"",description:"",template_manage:"",code_manage:"",tabs:{templates:"",codes:"",usages:"",statistics:""},templates:{search_placeholder:"",table:{id:"ID",status:"",name:"",type:"",rewards:"",sort:"",created_at:"",actions:""}},codes:{search_placeholder:"//",search_field:{batch:"",code:""},available:"",unavailable:"",copy_code:"",copy_batch:"",disable:"",export:"",columns:"",table:{id:"ID",code:"",batch:"",template:"",status:"",expires_at:"",used_count:"",available_count:"",created_at:"",actions:""}},usages:{search_placeholder:"//",user_id_placeholder:"ID",table:{id:"ID",code:"",user:"",template:"",used_at:""}},rewards:{balance:"",traffic:"",devices:"",expire_days:"",reset_package:"",plan:""},all:"",type:"",template:"",batch:"",user:"",invite_user:"",status_label:"",expires_at:"",created_at:"",usage:"",generate:"",export_batch:"",saved:"",deleted:"",generated_csv:"CSV ",generated:"{{batch_id}}",loading:"...",empty_templates:"",empty_codes:"",empty_usages:"",empty_stats:"",confirm_delete_template:"",confirm_delete_code:"",create_template:"",edit_template:"",generate_title:"",edit_code:"",unlimited:"",status:{on:"",off:""},code_status:{unused:"",used:"",expired:"",disabled:""},filters:{type:"",status:"",template:"",batch:"",user_id:"ID"},fields:{name:"",description:"",type:"",status:"",sort:"",theme_color:"",icon:"",background_image:"URL",rewards:"(JSON)",conditions:"(JSON)",limits:"(JSON)",special_config:"(JSON)",template:"",count:"",prefix:"",expires_hours:"()",expires_at:"",max_usage:"",download_csv:" CSV"},editor:{sections:{template_info:"",status:"",rewards:"",conditions:"",limits:"",special:"",display:""},labels:{random_reward_pool:"",reward_balance:"",reward_traffic:"",reward_expire_days:"",reward_device_limit:"",new_user_max_days:"",new_user_only:"",paid_user_only:"",require_invite:"",allowed_plans:"",banned_plans:"",max_use_per_user:"",cooldown_hours:"()",invite_reward_rate:"",start_time:"",end_time:"",festival_bonus:""},placeholders:{description:"",reward_weight:"",reward_balance:" ()",reward_traffic:" (GB)",reward_expire_days:" ()",reward_device_limit:"",new_user_max_days:": 7 (7)",allowed_plans:" ()",banned_plans:" ()",max_use_per_user:"",cooldown_hours:"",invite_reward_rate:": 0.2 (20%)",festival_bonus:": 1.5 (1.5)"},hints:{status:"",rewards:"",invite_reward_rate:" =  * "},actions:{add_random_reward:""}},validation:{name_required:"",template_required:"",count_invalid:"",max_usage_invalid:"",status_invalid:"",rewards_required:"",rewards_invalid:" JSON ",json_invalid:"JSON ",invite_reward_rate_invalid:" 0-1",number_invalid:"",random_reward_weight_invalid:"",random_reward_empty:"",random_rewards_required:"",time_range_invalid:""},stats:{start:"",end:"",templates_count:"",active_templates_count:"",codes_count:"",used_codes_count:"",usages_count:""}},_8e={title:"",description:"",empty:"",all:"",no_plan:"",no_group:"",admin:"",staff:"",plan:"",group:"",traffic:"",used:"",total:"",remaining:"",expired_at:"",never:"",balance:"",refund_na:"",add:"",create_title:"",export_csv:" CSV",bulk_actions:"",copy_subscribe:" URL",reset_secret:" UUID  URL",more:"",edit_title:"",saved:"",created:"",deleted:"",secret_reset:"UUID  URL ",traffic_reset:"",confirm_delete:"",confirm_reset_secret:" UUID  URL ",confirm_reset_traffic:"",bulk:{delete:"",send_mail:"",export_svg:" SVG",set_plan:"",set_expired_at:"",reset_traffic:"",update_balance:"",update_traffic:"",update_device_limit:"",scope:"",scope_filtered:" {{count}} ",scope_selected:"{{count}} ",collecting:"",processing:"",no_target:"",confirm_apply:" {{count}} ",confirm_delete:" {{count}} ",delete_hint:"",export_svg_title:"SVG",export_svg_hint:" URL  SVG ",export_done:"",traffic_hint:"GB",device_limit_hint:" null",mail_subject:"",mail_content:"",mail_subject_required:"",mail_content_required:"",confirm_send_mail:"",sending_mail:"",mail_sent:"",plan_required:"",datetime_invalid:"",partial_failed:"{{failed}}/{{total}}",done:""},reset_traffic_dialog:{title:"",reason:"",reason_placeholder:"255"},search_placeholder:"/ID/Token/UUID///",advanced_filter:{title:"",field:"",op:"",value:"",add:"",clear:"",apply:"",empty:"",in_placeholder:"...",in_hint:"",last_login_at:"",ops:{like:"",notlike:"",eq:"",gt:"",gte:"",lt:"",lte:"",in:"",null:"",notnull:""}},search_email:"",search_email_placeholder:"",search_id:"ID",filter_plan:"",filter_group:"",filter_banned:"",actions:{assign_order:"",user_orders:"TA ",user_invites:"TA ",user_traffic:"TA ",reset_traffic:""},traffic_panel:{title:"TA ",tabs:{usage:"",resets:""},usage:{time:"",type:"",rate:"",upload:"",download:"",total:"",empty:""},record_type:{daily:"",hourly:"",monthly:""},reset:{count:"",last:"",next:"",time:"",type:"",trigger:"",old:"",reason:"",empty:""}},table:{id:"ID",email:"",online:"",status:"",plan:"",group:"",used:"",total:"",expired_at:"",balance:"",commission:"",created_at:"",actions:""},online:{yes:"",no:""},status:{active:"",disabled:""},banned:{yes:"",no:""},sections:{user_info:"",traffic:"",plan:"",balance:"",config:"",roles:"",remarks:""},commission_type:{system:"",period:"",onetime:""},fields:{email:"",password:"",password_create_hint:"",password_hint:"",plan:"",expired_at:"",expired_at_hint:"",banned:"",account_status:"",is_admin:"",is_staff:"",remarks:"",used_upload_gb:"(GB)",used_download_gb:"(GB)",speed_limit:"(Mbps)",device_limit:"",transfer_enable_gb:"(GB)",transfer_enable_hint:"",balance:"",commission_balance:"",commission_type:"",commission_rate:"(%)",discount:"(%)",invite_user_email:"",invite_user_hint:""},validation:{email_required:"",email_invalid:"",number_invalid:""}},w8e={title:"",description:"",all:"",empty:"",detail:"",close:"",send:"",reply_action:"",subject:"",user:"",updated_at:"",status_label:"",reply_label:"",actions:"",detail_title:"",loading:"...",empty_detail:"",search_email:"",search_email_placeholder:"",search_subject:"",search_subject_placeholder:"",search_placeholder:"//ID ",filter_level:"",filter_status:"",filter_reply:"",confirm_close:"",closed:"",level:{low:"",medium:"",high:""},status:{open:"",closed:""},reply:{waiting_admin:"",waiting_user:""}},j8e={title:"",description:"",search_placeholder:"...",confirm_delete:"",confirm_uninstall:"",upload_title:"",upload:"",upload_desc:"zip ",upload_drop:"",upload_click:"",upload_hint:" .zip ",upload_success:"",upload_failed:"",upgrade:"",meta:"v{{version}}  {{author}}",config_title:"{{name}}  ",config_title_empty:"",config_loading:"...",config_empty:"",status_filter:{all:"",installed:"",available:""},status:{enabled:"",disabled:"",not_installed:""},type:{feature:"",payment:""},tabs:{feature:"",payment:"",all:""},filters:{all:"",category:{type:"",function:"",payment_method:""},function:{subscription:"",notification:"",security:"",user:""},payment_method:{alipay:"",wechat:"",stripe:"Stripe",paypal:"PayPal"}},empty:"",empty_dev:""},k8e={title:"",description:" v2board",active_theme:"",active:"",version_label:"{{version}}",apply:"",apply_hint:"",apply_success:"",select_theme:"",select_placeholder:"",upload_title:"",upload:"",upload_desc:"zip ",upload_drop:"",upload_click:"",upload_hint:" .zip ",upload_success:"",upload_failed:"",system_theme:"",custom_theme:"",settings:"",current_theme:"",empty:"",confirm_delete:"{{name}}",delete_success:"",config_title:"{{name}}  ",config_title_empty:"",config_loading:"...",config_empty:"",config_saved:""},S8e={title:"",description:"/",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",insert:"",create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",status:{shown:"",hidden:""},fields:{title:"",title_placeholder:"",content:"",content_placeholder:"",img_url:"URL",background_url:"URL",show_status:"",remark:"",remark_placeholder:"",link_url:"",show:"",popup:""},editor_hint:" HTML / Markdown",submit:"",table:{show:"",title:"",actions:""},validation:{title_required:"",content_required:""}},N8e={title:"",description:"",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",create_title:"",edit_title:"",saved:"",deleted:"",copied:"",confirm_delete:"",notify_url:"",fee:" {{fixed}} + {{percent}}%",status:{enabled:"",disabled:""},table:{id:"ID",enable:"",name:"",method:"",notify_url:"",actions:""},select_placeholder:"",form_loading:"...",form_empty:"",form_load_failed:"",fields:{method:"",method_placeholder:"",method_hint:"",name:"",name_placeholder:" / ",icon:"URL",notify_domain:"",fee_fixed:"",fee_percent:"(0-100)",enable:""},validation:{name_required:"",method_required:"",json_invalid:"{{key}}  JSON "}},C8e={title:"",description:"",all:"",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",search:"",search_placeholder:"",category:"",category_manage:"",selected_hint:" {{selected}}  {{total}} ",edit_title:"",create_title:"",editor_hint:" HTML / Markdowniframe ",editor_mode_html:"HTML",editor_source:" / ",editor_preview:"",language:{zh:"",en:"English"},table:{status:"",title:"",category:"",actions:""},category_list:"",category_count:"",category_manage_hint:"/",category_add:"",category_add_placeholder:"",category_rename:"",category_from:"",category_to:"",category_rename_action:"",category_rename_confirm:"{{from}}{{to}}",category_delete:"",category_delete_action:"",category_delete_confirm:"{{from}}{{to}}",category_progress:"{{done}} / {{total}}",status:{shown:"",hidden:""},updated_at:"{{time}}",loading:"...",saved:"",deleted:"",confirm_delete:"",fields:{title:"",title_placeholder:"",category:"",category_placeholder:"",language:"",body:"",body_placeholder:"",show:""},validation:{title_required:"",category_required:"",language_required:"",body_required:""}},O8e={title:"",description:"",empty:"",add:"",search_placeholder:"",table:{id:"ID",name:"",users:"",servers:"",actions:""},create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",counts:"{{users}}  {{servers}}",fields:{name:""},validation:{name_required:""}},P8e={title:"",description:" / DNS /  / ",empty:"",search:"",search_placeholder:"",add:"",action:"",action_value:"",match_count:"{{count}}",table:{id:"ID",group_id:"ID",group_name:"",remarks:"",action:"",action_value:"",actions:""},create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",action_block:"()",action_block_ip:"(IP)",action_block_port:"()",action_protocol:"()",action_dns:"DNS",action_route:"()",action_route_ip:"(IP)",action_default_out:"",action_block_value:"",action_value_configured:"",match_hint:"",fields:{remarks:"",action:"",action_value:"",action_value_placeholder_dns:"8.8.8.8",action_value_placeholder_outbound:`{
  "tag": "ss_out",
  "protocol": "shadowsocks",
  "settings": {
    "address": "8.8.8.8",
    "port": 5555,
    "method": "chacha20-ietf-poly1305",
    "password": "abcdefghijklmnopqrstuvwxyz"
  }
}`,match:"",match_placeholder_domain:`example.com()
domain:example.com()
geosite:netflix()`,match_placeholder_ip:`127.0.0.1()
10.0.0.0/8()
geoip:cn()`,match_placeholder_port:`53
443
1000-2000`,match_placeholder_protocol:`http
tls
quic
bittorrent`,action_value_placeholder:"8.8.8.8",match_placeholder:`example.com
1.1.1.1`},validation:{remarks_required:"",match_required:"",action_value_required:""}},E8e={title:"",description:"/",empty:"",search:"",search_placeholder:"///ID",add:"",more:"",type_filter:"",type_all:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",table:{id:"ID",enable:"",name:"",address:"",online:"",rate:"",group:"",actions:""},status:{shown:"",hidden:""},endpoint:"{{host}}:{{port}}   {{server_port}}",backend_port:" {{port}}",meta:" {{rate}}   {{groups}}   {{routes}}",available_status:"{{status}}",create_title:"",edit_title:"",saved:"",deleted:"",copied:"",copy:"",copy_install_command:"",install_command_copied:"",install_command_copied_fallback:"",install_command_preview_title:"",install_command_preview_desc:" Ctrl/Cmd+C ",confirm_delete:"",bulk:{open:"",title:"",apply:"",selected:" {{count}} ",rate_time:"",clear:"",clear_selection:"",progress:" {{done}}/{{total}}",no_target:"",no_fields:"",updated:" {{success}}/{{total}} ",partial_failed:"{{failed}}/{{total}}",failed_one:" #{{id}} {{message}}",node_not_found:""},fields:{type:"",type_hint:"",name:"",host:"",port:"",server_port:"",rate:"",parent_id:"",parent_id_placeholder:"",parent_id_none:"",node_id:"ID",node_id_placeholder:"ID",show:"",group_ids:"",group_ids_placeholder:"",group_ids_hint:"",route_ids:"",route_ids_placeholder:"",route_ids_hint:"",tags:"",protocol_settings:" (protocol_settings)",protocol_settings_hint:" JSON vmess/vless  tls/network",rate_time_enable:"",rate_time_ranges_hint:""},hy:{title:"Hysteria ",version:"",version_placeholder:"",obfs_title:"",obfs_desc:"",obfs_type:"",obfs_password:"",obfs_password_placeholder:"",obfs_password_generate:"",sni:"SNI",sni_placeholder:"example.com",up_mbps:" (Mbps)",up_mbps_placeholder:" BBR",up_mbps_hint:" BBR",down_mbps:" (Mbps)",down_mbps_placeholder:" BBR",down_mbps_hint:" BBR",hop_interval:"Hop ",hop_interval_hint:" 30 "},shadowsocks:{title:"Shadowsocks ",cipher:" (cipher)",cipher_placeholder:"",cipher_custom:"",plugin:" (plugin)",plugin_placeholder:"",plugin_none:"",plugin_obfs:"Simple Obfs (obfs)",plugin_v2ray:"V2Ray Plugin (v2ray-plugin)",plugin_opts:" (plugin_opts)",plugin_opts_placeholder:" key=value;key2=value2 ",obfs_title:"Simple Obfs ",obfs_mode:" (obfs)",obfs_host:" Host (obfs-host)",obfs_path:" (path)",obfs_hint:"obfs=http;obfs-host=www.bing.com;path=/",v2ray_title:"V2Ray Plugin ",v2ray_mode:" (mode)",v2ray_mode_websocket:"WebSocket",v2ray_mode_quic:"QUIC",v2ray_host:"Host (host)",v2ray_path:" (path)",v2ray_tls:"TLS (tls=true)",v2ray_hint:"WebSocketmode=websocket;host=mydomain.me;path=/;tls=trueQUICmode=quic;host=mydomain.me",v2node_network_title:" (network_settings)",v2node_accept_proxy_protocol:" PROXY Protocol (acceptProxyProtocol)",v2node_accept_proxy_protocol_hint:" PROXY Protocol  IP",v2node_http_host:"HTTP Host (Host)",v2node_http_path:"HTTP Path (path)"},vmess:{title:"VMess ",security:"",security_none:"",security_tls:"TLS",transport:"",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",allow_insecure:" (allow_insecure)"},trojan:{title:"Trojan ",transport:"",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS "},tuic:{title:"TUIC ",version:" (version)",version_v4:"V4",version_v5:"V5",congestion_control:" (congestion_control)",congestion_control_bbr:"BBR",congestion_control_cubic:"CUBIC",congestion_control_new_reno:"NEW_RENO",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS ",zero_rtt_handshake:"0-RTT  (zero_rtt_handshake)",zero_rtt_handshake_hint:"",alpn:"ALPN",alpn_http1:"HTTP/1.1",alpn_http2:"HTTP/2",alpn_http3:"HTTP/3",udp_relay_mode:"UDP  (udp_relay_mode)",udp_relay_mode_native:"Native",udp_relay_mode_quic:"QUIC"},anytls:{title:"AnyTLS ",transport:"",transport_hint:" AnyTLS  network_settings",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS ",padding_title:"AnyTLS  (padding_scheme)",padding_desc:"",padding_default:"",padding_custom:"",padding_placeholder:"stop=8",padding_hint:""},vless:{title:"VLESS ",security:"",security_none:"",security_tls:"TLS",security_reality:"Reality",transport:"",flow:" (flow)",flow_placeholder:"",flow_none:"none",encryption_title:"VLESS ",encryption:" (encryption)",encryption_none:"",encryption_mlkem768x25519plus:"mlkem768x25519plus",encryption_hint:"",encryption_mode:" (mode)",encryption_ticket:" (ticket)",encryption_server_padding:" (server_padding)",encryption_private_key:" (private_key)",client_fingerprint:" (client_fingerprint)",client_fingerprint_hint:" Reality / uTLS  firefox",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",allow_insecure:" (allow_insecure)",reality_title:"Reality ",reality_server_name:" (server_name)",reality_server_name_placeholder:"example.com",reality_server_port:" (server_port)",reality_dest:"Dest (dest)",reality_xver:"Xver (xver)",reality_mldsa65Seed:"MLDSA65 Seed (mldsa65Seed)",reality_public_key:" (public_key)",reality_private_key:" (private_key)",reality_short_id:"Short ID (short_id)",key_pair_generate:"",key_pair_error:"",short_id_generate:" Short ID",short_id_placeholder:" 2  16 ",short_id_hint:" 0-f a1b2c3d4e5f6a7b8"},reporting:{title:""},v2node:{title:"V2Node ",desc:" v2node  /api/v2/server/config",node_report_min_traffic:" (node_report_min_traffic, KB)",node_report_min_traffic_hint:"0 ",device_online_min_traffic:" (device_online_min_traffic, KB)",device_online_min_traffic_hint:"0 ",tls_cert_title:"TLS  (tls_settings)",cert_mode:" (cert_mode)",cert_mode_file:" (file)",cert_mode_dns:"DNS  (dns)",cert_mode_http:"HTTP  (http)",cert_mode_self:" (self)",cert_file:" (cert_file)",key_file:" (key_file)",provider:"DNS Provider (provider)",dns_env:"DNS  (dns_env)",reject_unknown_sni:" SNI (reject_unknown_sni)",reject_unknown_sni_hint:" SNI"},network_settings:{edit_protocol:"",edit_protocol_config:"",use_template:"{{template}}",json_config_placeholder:" JSON ",json_config_placeholder_with_template:" JSON ",validation:{must_be_object:" JSON ",invalid_json:" JSON "}},rate_time_title:"",rate_time_desc:"",rate_time_rules:"",rate_time_add:"",rate_time_rule:" {{index}}",rate_time_start:"",rate_time_end:"",rate_time_rate:"",rate_time_rate_placeholder:"1",preview:{selection:"",groups:"{{value}}",routes:"{{value}}"},validation:{name_required:"",host_required:"",port_required:"",server_port_required:"",rate_required:"0",protocol_settings_invalid:" JSON ",rate_time_ranges_invalid:"",hy_version_invalid:"",hy_obfs_password_required:"",hy_up_mbps_invalid:"",hy_down_mbps_invalid:"",hy_hop_interval_invalid:"Hop ",parent_id_invalid:"",node_id_invalid:"ID"}},M8e={title:"",description:"//",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",search_placeholder:"",table:{id:"ID",show:"",purchase:"",renew:"",name:"",stats:"",group:"",price:"",actions:""},empty:"",create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",users:" {{total}} /  {{active}}",group:"",traffic:"",speed:"",device:"",no_group:"",no_prices:"",price_hint:" 0 ",flags:{show:"",renew:"",sell:""},fields:{name:"",content:"",group:"",group_placeholder:"",transfer:"()",speed:"(Mbps)",device:"",capacity:"",reset:"",reset_placeholder:"",tags:"",prices:"",force_update:""},validation:{name_required:"",transfer_required:" 0 "},reset:{follow_system:"",first_day_month:"1",monthly:"",never:"",first_day_year:"11",yearly:""},period:{monthly:"",quarterly:"",half_yearly:"",yearly:"",two_yearly:"",three_yearly:"",onetime:"",reset_traffic:""}},T8e={subtitle:"",income_overview:"",today_income:"",month_income:"",vs_yesterday:"",vs_last_month:"",pending_tickets:"",new_users:"",total_users:"",online_users:" {{count}}",month_upload:"",month_download:"",pending_commissions:"",month_traffic:"",upload:"",download:"",total_income:"",order_count:"",order_count_total:" {{count}} ",avg_amount:"",transaction_count:"",commission_count_total:" {{count}} ",range_display:"{{start}}  {{end}}",time_range:"",last_30_days:"30",this_month:"",last_7_days:"7",last_90_days:"90",last_180_days:"180",last_half_year:"",last_year:"",custom_range:"",amount:"",quantity:"",transaction_unit:"{{count}} ",order_quantity:"",order_amount:"",commission_amount:"",total_balance:"",refund_rate:"",income_trend:"",total_commission:"",commission_count:"",commission_rate:"",node_traffic_rank:"",user_traffic_rank:"",current_traffic:"",previous_traffic:"",change_rate:"",copy_name:"",copy_id:"ID",queue_status:"",running_state:"",normal:"",stopped:"",wait_time:"",seconds:"",last_updated:"",pending_tasks:"",processed_per_min:"",job_details:"",report_7d:"7",retention_time:"",minutes:"",approx:"",max_runtime_queue:"",na:"N/A",today:"",prev:"",range:"",active_processes:"",system_log:"",info:"",warning:"",error:"",view_all:"",detail:"",all:"",system_log_search_placeholder:"...",system_log_empty:"",system_log_reset_filter:"",system_log_detail_title:"",system_log_table:{level:"",time:"",title:"",method:"",action:""},clear_logs_title:"",clear_logs_days:"",clear_logs_days_hint:"0  365  N 0 ",clear_logs_level:"",clear_logs_limit:"",clear_logs_limit_hint:"100  10000  1000",clear_logs_preview:"",clear_logs_get_stats:"",clear_logs_confirm:"",clear_logs_to_clear:"",clear_logs_total_logs:"",clear_logs_cutoff:"",clear_logs_will_clear:"{{count}} ",clear_logs_irreversible:"",clear_logs_rule_hint:"",clear_logs_zero_error:" 0 ",clear_logs_done:"",clear_logs_deleted:"",clear_logs_total_count:"",clear_logs_remaining:"",failed_jobs_title:"",failed_jobs_empty:"",failed_job_detail_title:"",task_id:"ID",timestamp_ms:"()",connection:"",exception:"",payload:"",failed_at:"",clear_logs:"",confirm_clear_logs:"",total:"",selected_count:" {{selected}}  {{total}} ",loading:"",per_page:"",page_info:" {{current}}  {{total}} ",first_page:"",prev_page:"",next_page:"",last_page:"",failed_table:{time:"",queue:"",job:"",exception:"",action:""}},A8e={title:"",description:"",site_settings:"",site_settings_desc:"",security_settings:"",security_settings_desc:"",subscription_settings:"",subscription_settings_desc:"",app_settings:"APP",app_settings_desc:"API",invite_settings:"&",invite_settings_desc:"",invite_section_title:"",commission_section_title:"",invite_force:"",invite_force_hint:"",invite_commission:"(%)",invite_commission_hint:"0-100",invite_gen_limit:"",invite_gen_limit_hint:"",invite_never_expire:"",invite_never_expire_hint:"",commission_first_time_enable:"",commission_first_time_enable_hint:"",commission_auto_check_enable:"",commission_auto_check_enable_hint:"/",withdraw_close_enable:"",withdraw_close_enable_hint:"",commission_withdraw_limit:"",commission_withdraw_limit_hint:"",commission_withdraw_method:"",commission_withdraw_method_hint:"",commission_distribution_enable:"",commission_distribution_enable_hint:"//",commission_distribution_l1:"(%)",commission_distribution_l1_hint:"",commission_distribution_l2:"(%)",commission_distribution_l2_hint:"",commission_distribution_l3:"(%)",commission_distribution_l3_hint:"",telegram_settings:"Telegram",telegram_settings_desc:" Telegram ",api_settings:"",api_settings_desc:"",v2node_docker_command:"V2Node ",v2node_docker_command_desc:" API ID",v2node_docker_node:"",v2node_docker_node_hint:"ID",v2node_docker_container_name:"",v2node_docker_container_name_hint:" v2node_<>_<ID>_<>",v2node_docker_api_host:"API (V2NODE_API_HOST)",v2node_docker_api_host_hint:"/IP",v2node_docker_tls_cert_url:"URL",v2node_docker_tls_key_url:"URL",v2node_docker_tls_url_hint:"",v2node_docker_tls_url_invalid:"/URL",v2node_other_command:"",v2node_other_command_hint:" Docker/",v2node_other_command_placeholder:"curl -fsSL https://get.docker.com | sh",v2node_hy_port_forward_command:"Hysteria ",v2node_hy_port_forward_command_hint:" Hysteria --dport --to-ports ",v2node_hy_port_forward_command_placeholder:"/",v2node_docker_command_label:"Docker ",v2node_docker_command_hint:"",v2node_docker_missing_token:"(server_token)",smtp_settings:"",smtp_settings_desc:"SMTP",app_windows_version:"Windows",app_windows_version_hint:"Windows",app_windows_download_url:"Windows",app_windows_download_url_hint:"Windows",app_macos_version:"macOS",app_macos_version_hint:"macOS",app_macos_download_url:"macOS",app_macos_download_url_hint:"macOS",app_android_version:"Android",app_android_version_hint:"Android",app_android_download_url:"Android",app_android_download_url_hint:"Android",server_settings:"",system_log:"",site_name:"",site_name_hint:"",site_description:"",site_description_hint:" SEO ",site_url:"URL",site_url_hint:" https://example.com",site_ssl:"SSL",site_ssl_hint:" HTTPS ",site_logo:"Logo",site_logo_hint:"Logo URL",subscribe_url:"URL",subscribe_url_hint:"URL",tos_url:"URL",tos_url_hint:"/URL",stop_register:"",stop_register_hint:"",currency:"",currency_hint:" CNYUSD",currency_symbol:"",currency_symbol_hint:" $",registered_users:"",registered_users_hint:"",email_verify:"",email_verify_hint:"/",enable_captcha:"",enable_captcha_hint:"",safe_mode_enable:"",safe_mode_enable_hint:"",secure_path:"",secure_path_hint:" adminPath",captcha_type:"",captcha_type_hint:"",recaptcha_key:"reCAPTCHA Secret",recaptcha_site_key:"reCAPTCHA Site Key",recaptcha_v3_secret_key:"reCAPTCHA v3 Secret",recaptcha_v3_site_key:"reCAPTCHA v3 Site Key",recaptcha_v3_score_threshold:"reCAPTCHA v3 ",turnstile_secret_key:"Turnstile Secret",turnstile_site_key:"Turnstile Site Key",email_whitelist_enable:"",email_whitelist_enable_hint:"",email_whitelist_suffix:"",email_whitelist_hint:"qq.com,gmail.com",email_gmail_limit_enable:"Gmail ",email_gmail_limit_enable_hint:" Gmail /",register_limit_by_ip:" IP ",register_limit_by_ip_hint:" IP ",register_limit_count:"",register_limit_count_hint:"",register_limit_expire:"()",register_limit_expire_hint:"",password_limit_enable:"",password_limit_enable_hint:"",password_limit_count:"",password_limit_count_hint:"",password_limit_expire:"()",password_limit_expire_hint:"",limit_admin_ip:"IP",strong_password:"",brute_force_protection:"",ip_lock:"IP",subscribe_path:"",subscribe_path_hint:" /s/{token}",plan_change_enable:"",plan_change_enable_hint:"",surplus_enable:"",surplus_enable_hint:"",reset_traffic_method:"",reset_traffic_method_hint:"",reset_traffic_0:"",reset_traffic_1:"",reset_traffic_2:"",reset_traffic_3:"",reset_traffic_4:"",show_info_to_server_enable:"",show_info_to_server_enable_hint:"",show_protocol_to_server_enable:"",show_protocol_to_server_enable_hint:"",default_remind_expire:"",default_remind_expire_hint:"",default_remind_traffic:"",default_remind_traffic_hint:"",sub_template:"",sub_template_desc:"",sub_template_type:"",sub_template_type_hint:"",sub_template_content:"",sub_template_content_hint:"",sub_link:"",update_freq:"",sub_qrcode:"",generate:"",singbox_config:"Sing-box",clash_config:"Clash",enable_telegram:"Telegram",enable_telegram_hint:" Telegram ",tg_webhook:"Telegram Webhook",tg_webhook_hint:"Webhook  URL ",tg_webhook_auto:"",tg_group_link:"Telegram",tg_group_link_hint:" Telegram /",tg_api_token:"Telegram API Token",tg_api_token_hint:"Telegram Bot Token BotFather  Webhook ",set_webhook:"Webhook",telegram_webhook_set:"Webhook ",api_endpoint:"API",api_key:"API",api_permission:"API",api_rate_limit:"API",server_token:"",server_token_hint:" 16 ",server_pull_interval:"()",server_pull_interval_hint:"/",server_push_interval:"()",server_push_interval_hint:"/",device_limit_mode:"",device_limit_mode_hint:"",device_limit_mode_0:"",device_limit_mode_1:"",smtp_host:"SMTP",smtp_host_hint:"SMTP  smtp.gmail.com",smtp_port:"SMTP",smtp_port_hint:"SMTP  465(SSL) / 587(TLS)",smtp_username:"SMTP",smtp_username_hint:"SMTP ",smtp_password:"SMTP",smtp_password_hint:"SMTP ",encryption:"",encryption_hint:" SSL/TLS ",sender_address:"",sender_address_hint:" From  noreply@example.com",test_email:"",test_email_hint:"",test_email_sent:"",test_email_failed:"",remind_mail_enable:"",remind_mail_enable_hint:"",email_template:"",email_template_hint:"/",log_level:"",view_log:"",system_log_desc:"",log_keyword:"",log_keyword_placeholder:"/URI/",refresh:"",prev_page:"",next_page:"",no_logs:"",active:""},z8e={dashboard:"",system_management:"",system_config:"",plugin_management:"",theme_config:"",notice_management:"",payment_config:"",knowledge_base:"",node_management:"",node_list:"",permission_groups:"",route_management:"",subscription:"",plan_management:"",order_management:"",coupon_management:"",gift_card_management:"",user_management:"",user_list:"",ticket_management:""},D8e={common:y8e,order:x8e,coupon:v8e,giftcard:b8e,user:_8e,ticket:w8e,plugin:j8e,theme:k8e,notice:S8e,payment:N8e,knowledge:C8e,group:O8e,route:P8e,server:E8e,plan:M8e,dashboard:T8e,system:A8e,menu:z8e};xs.use(eee).use(koe).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:g8e},zh:{translation:D8e}}});ON.createRoot(document.getElementById("root")).render(o.jsx(lt.StrictMode,{children:o.jsx(R6e,{})}));
